(self.webpackChunkmc = self.webpackChunkmc || []).push([
  [179],
  {
    44582: (Y, W, w) => {
      "use strict";
      w.d(W, { u: () => u });
      var M = w(5e3),
        d = w(85378);
      let u = (() => {
        class ie {
          constructor() {}
        }
        return (
          (ie.ɵfac = function (G) {
            return new (G || ie)();
          }),
          (ie.ɵcmp = M.Xpm({
            type: ie,
            selectors: [["error-template"]],
            inputs: { text: "text", args: "args" },
            decls: 6,
            vars: 4,
            consts: [
              [1, "errors"],
              [1, "halflings", "halflings-exclamation-sign"],
            ],
            template: function (G, z) {
              1 & G &&
                (M.TgZ(0, "div", 0)(1, "ul")(2, "li"),
                M._UZ(3, "span", 1),
                M._uU(4),
                M.ALo(5, "translate"),
                M.qZA()()()),
                2 & G &&
                  (M.xp6(4), M.hij(" ", M.xi3(5, 1, z.text, z.args), " "));
            },
            dependencies: [d.X$],
            encapsulation: 2,
          })),
          ie
        );
      })();
    },
    85394: (Y, W, w) => {
      "use strict";
      w.d(W, { t: () => u });
      var M = w(38509),
        d = w(5e3);
      let u = (() => {
        class ie {}
        return (
          (ie.ɵfac = function (G) {
            return new (G || ie)();
          }),
          (ie.ɵmod = d.oAB({ type: ie })),
          (ie.ɵinj = d.cJS({ imports: [M.m] })),
          ie
        );
      })();
    },
    67851: (Y, W, w) => {
      "use strict";
      w.d(W, { K: () => ie });
      var M = w(5e3),
        d = w(85378);
      const u = ["*"];
      let ie = (() => {
        class $ {
          constructor() {}
        }
        return (
          ($.ɵfac = function (z) {
            return new (z || $)();
          }),
          ($.ɵcmp = M.Xpm({
            type: $,
            selectors: [["mc-panel"]],
            inputs: { header: "header" },
            ngContentSelectors: u,
            decls: 7,
            vars: 3,
            consts: [
              [1, "panel", "panel-default"],
              [1, "panel-heading"],
              [1, "panel-body"],
            ],
            template: function (z, ee) {
              1 & z &&
                (M.F$t(),
                M.TgZ(0, "div", 0)(1, "div", 1)(2, "span"),
                M._uU(3),
                M.ALo(4, "translate"),
                M.qZA()(),
                M.TgZ(5, "div", 2),
                M.Hsn(6),
                M.qZA()()),
                2 & z && (M.xp6(3), M.Oqu(M.lcZ(4, 1, ee.header)));
            },
            dependencies: [d.X$],
            encapsulation: 2,
          })),
          $
        );
      })();
    },
    60066: (Y, W, w) => {
      "use strict";
      w.d(W, { R: () => u });
      var M = w(38509),
        d = w(5e3);
      let u = (() => {
        class ie {}
        return (
          (ie.ɵfac = function (G) {
            return new (G || ie)();
          }),
          (ie.ɵmod = d.oAB({ type: ie })),
          (ie.ɵinj = d.cJS({ imports: [M.m] })),
          ie
        );
      })();
    },
    61531: (Y, W, w) => {
      "use strict";
      w.d(W, { W: () => ge });
      var M = w(94900),
        d = w(75321),
        u = w(5e3),
        ie = w(81134),
        $ = w(69808),
        G = w(85378);
      const z = ["okButton"];
      function ee(le, V) {
        if (1 & le) {
          const J = u.EpF();
          u.TgZ(0, "button", 9, 10),
            u.NdJ("click", function () {
              u.CHM(J);
              const ae = u.oxw();
              return u.KtG(ae.hide(ae.ModalResult.Ok));
            }),
            u._uU(2),
            u.ALo(3, "translate"),
            u.qZA();
        }
        2 & le && (u.xp6(2), u.Oqu(u.lcZ(3, 1, "REPOS.BUTTONS.OK_BTN")));
      }
      function he(le, V) {
        if (1 & le) {
          const J = u.EpF();
          u.TgZ(0, "button", 11),
            u.NdJ("click", function () {
              u.CHM(J);
              const ae = u.oxw();
              return u.KtG(ae.hide(ae.ModalResult.Cancel));
            }),
            u._uU(1),
            u.ALo(2, "translate"),
            u.qZA();
        }
        2 & le && (u.xp6(1), u.Oqu(u.lcZ(2, 1, "REPOS.BUTTONS.CANCEL_BTN")));
      }
      let ge = (() => {
        class le {
          constructor(J) {
            (this.bsModalRef = J),
              (this.ModalButtons = M.Z),
              (this.ModalResult = d.q),
              (this.header = ""),
              (this.text = ""),
              (this.size = ""),
              (this.autoShow = !1),
              (this.buttons = M.Z.Ok),
              (this.result = d.q.Cancel);
          }
          hide(J) {
            (this.result = J), this.bsModalRef.hide();
          }
          isButtonVisible(J) {
            return 0 != (this.buttons & J);
          }
          ngAfterViewInit() {
            var J, de;
            null ===
              (de =
                null === (J = this.defaultButton) || void 0 === J
                  ? void 0
                  : J.nativeElement) ||
              void 0 === de ||
              de.focus();
          }
        }
        return (
          (le.ɵfac = function (J) {
            return new (J || le)(u.Y36(ie.UZ));
          }),
          (le.ɵcmp = u.Xpm({
            type: le,
            selectors: [["message-box"]],
            viewQuery: function (J, de) {
              if ((1 & J && u.Gf(z, 5), 2 & J)) {
                let ae;
                u.iGM((ae = u.CRH())) && (de.defaultButton = ae.first);
              }
            },
            inputs: {
              header: "header",
              text: "text",
              parameters: "parameters",
              size: "size",
              autoShow: "autoShow",
              buttons: "buttons",
            },
            decls: 12,
            vars: 9,
            consts: [
              [1, "modal-header"],
              [1, "modal-title", "float-left"],
              [
                "type",
                "button",
                "aria-label",
                "Close",
                1,
                "close",
                "float-right",
                3,
                "click",
              ],
              ["app-times-light-icon", "", 1, "customSVGIcons", "svg-sm"],
              [1, "modal-body"],
              [1, "tx-wrap", 3, "innerHTML"],
              [1, "modal-footer"],
              [
                "id",
                "btnOk",
                "type",
                "button",
                "class",
                "btn btn-primary",
                "wcAutofocus",
                "",
                3,
                "click",
                4,
                "ngIf",
              ],
              [
                "id",
                "btnCancel",
                "type",
                "button",
                "class",
                "btn btn-default",
                3,
                "click",
                4,
                "ngIf",
              ],
              [
                "id",
                "btnOk",
                "type",
                "button",
                "wcAutofocus",
                "",
                1,
                "btn",
                "btn-primary",
                3,
                "click",
              ],
              ["okButton", ""],
              [
                "id",
                "btnCancel",
                "type",
                "button",
                1,
                "btn",
                "btn-default",
                3,
                "click",
              ],
            ],
            template: function (J, de) {
              1 & J &&
                (u.TgZ(0, "div", 0)(1, "h4", 1),
                u._uU(2),
                u.ALo(3, "translate"),
                u.qZA(),
                u.TgZ(4, "button", 2),
                u.NdJ("click", function () {
                  return de.hide(de.ModalResult.Cancel);
                }),
                u._UZ(5, "span", 3),
                u.qZA()(),
                u.TgZ(6, "div", 4),
                u._UZ(7, "div", 5),
                u.ALo(8, "translate"),
                u.qZA(),
                u.TgZ(9, "div", 6),
                u.YNc(10, ee, 4, 3, "button", 7),
                u.YNc(11, he, 3, 3, "button", 8),
                u.qZA()),
                2 & J &&
                  (u.xp6(2),
                  u.Oqu(u.lcZ(3, 4, de.header)),
                  u.xp6(5),
                  u.Q6J(
                    "innerHTML",
                    u.xi3(8, 6, de.text, de.parameters),
                    u.oJD
                  ),
                  u.xp6(3),
                  u.Q6J("ngIf", de.isButtonVisible(de.ModalButtons.Ok)),
                  u.xp6(1),
                  u.Q6J("ngIf", de.isButtonVisible(de.ModalButtons.Cancel)));
            },
            dependencies: [$.O5, G.X$],
            encapsulation: 2,
          })),
          le
        );
      })();
    },
    87622: (Y, W, w) => {
      "use strict";
      w.d(W, { S: () => ee });
      var M = w(61531),
        d = w(94900),
        u = w(60515),
        ie = w(54004),
        $ = w(28073),
        G = w(5e3),
        z = w(81134);
      let ee = (() => {
        class he {
          constructor(le) {
            this.bsModalService = le;
          }
          messageBox(le, V, J, de) {
            var ae, Ne;
            const P = this.bsModalService.show(M.W, {
                initialState: {
                  header: V,
                  text: le,
                  buttons: J,
                  parameters: de,
                  autoShow: !0,
                },
              }),
              Se = P.content;
            return null !==
              (Ne =
                null === (ae = P.onHide) || void 0 === ae
                  ? void 0
                  : ae.pipe((0, ie.U)(() => Se.result))) && void 0 !== Ne
              ? Ne
              : u.E;
          }
          information(le, V, J) {
            return this.messageBox(
              le,
              V || "REPOS.TEXT.INFORMATION",
              J || d.Z.Ok
            );
          }
          confirmation(le, V, J) {
            return this.messageBox(
              le,
              V || "REPOS.CONFIRMATION.HEADER",
              J || d.Z.OkCancel
            );
          }
          confirmationDelete(le, V, J) {
            return this.confirmation(le || "REPOS.CONFIRMATION.TEXT", V, J);
          }
          confirmationDeleteMany(le, V, J) {
            return this.confirmation(
              le || "REPOS.CONFIRMATION.TEXT_MANY",
              V,
              J
            );
          }
          error(le, V, J, de) {
            return this.messageBox(
              (0, $.Y)(le),
              V || "WARNINGS.SERVER_ERROR",
              J || d.Z.Ok,
              de
            );
          }
          warning(le, V, J) {
            return this.messageBox(le, V || "WARNINGS.WARNING", J || d.Z.Ok);
          }
        }
        return (
          (he.ɵfac = function (le) {
            return new (le || he)(G.LFG(z.tT));
          }),
          (he.ɵprov = G.Yz7({
            token: he,
            factory: he.ɵfac,
            providedIn: "root",
          })),
          he
        );
      })();
    },
    94900: (Y, W, w) => {
      "use strict";
      w.d(W, { Z: () => M });
      var M = (() => {
        return (
          ((d = M || (M = {}))[(d.Ok = 1)] = "Ok"),
          (d[(d.Cancel = 2)] = "Cancel"),
          (d[(d.OkCancel = 3)] = "OkCancel"),
          M
        );
        var d;
      })();
    },
    75321: (Y, W, w) => {
      "use strict";
      w.d(W, { q: () => M });
      var M = (() => {
        return (
          ((d = M || (M = {}))[(d.Ok = 1)] = "Ok"),
          (d[(d.Cancel = 0)] = "Cancel"),
          M
        );
        var d;
      })();
    },
    96348: (Y, W, w) => {
      "use strict";
      w.d(W, { Y: () => le });
      var M = w(93075),
        d = w(53724),
        u = w.n(d),
        ie = w(60515),
        $ = w(5e3),
        G = w(87622),
        z = w(85378),
        ee = w(42364);
      const he = {
        "WARNINGS.TOO_MANY_BACKUPS": "XapiTooManyBackups",
        "WARNINGS.XAPI.CONTACTS_SPECIFY_NAME_SURNAME_COMPANY":
          "XapiContactShouldHaveNameOrCompany",
        "WARNINGS.XAPI.CONTACTS_SPECIFY_PHONE_NUMBER":
          "XapiContactShouldHavePhoneNumber",
        "WARNINGS.XAPI.LENGTH_NOT_MORE_50_CHARS": "XapiStringTooLong50",
        "WARNINGS.XAPI.LENGTH_NOT_MORE_255_CHARS": "XapiStringTooLong255",
        "WARNINGS.XAPI.NO_MORE_NUMBERS_AVAILABLE": "XapiNoMoreNumbersAvailable",
        "WARNINGS.XAPI.INVALID": "XapiInvalid",
        "WARNINGS.XAPI.INVALID_MAX_BACKUP_NUMBER": "XapiInvalidBackupsInHosted",
        "WARNINGS.XAPI.INVALID_PASSWORD": "XapiInvalidPassword",
        "WARNINGS.XAPI.NOT_FOUND": "XapiNotFound",
        "WARNINGS.XAPI.REQUIRED": "XapiRequired",
        "WARNINGS.XAPI.DUPLICATE": "XapiDuplicate",
        "WARNINGS.XAPI.ALREADY_IN_USE": "XapiInUse",
        "WARNINGS.XAPI.NUMBER_IGNORED": "XapiNumberIgnored",
        "WARNINGS.XAPI.INVALID_PATH": "XapiInvalidPath",
        "WARNINGS.XAPI.PATH_SHOULD_NOT_CONTAIN_SPACES":
          "XapiPathShouldNotContainSpaces",
        "WARNINGS.XAPI.INVALID_CREDENTIALS": "XapiInvalidCredentials",
        "WARNINGS.XAPI.CANNOT_CONNECT_FTP": "XapiCannotConnectFtp",
        "WARNINGS.XAPI.CANNOT_CONNECT_SMB": "XapiCannotConnectSmb",
        "WARNINGS.XAPI.CANNOT_CONNECT_SFTP": "XapiCannotConnectSftp",
        "WARNINGS.XAPI.CANNOT_CONNECT_GOOGLE_BUCKET": "XapiCannotConnectGb",
        "WARNINGS.XAPI.OUT_OF_THE_RANGE": "XapiOutOfTheRange",
      };
      function ge(V, J, de) {
        var ae;
        if (0 === J.length) return null;
        const Ne = de ? u()(J[0]) : J[0],
          P = Ne.match(/(.+)\[(.+)]/);
        if (P && 3 === P.length) {
          const Se = V.get(P[1]);
          if (Se instanceof M.Oe) return Se.controls[+P[2]];
        } else {
          const Se = V.get(Ne);
          if (Se instanceof M.NI) return Se;
          if (Se instanceof M.cw)
            return null !== (ae = ge(Se, J.slice(1), de)) && void 0 !== ae
              ? ae
              : Se;
        }
        return null;
      }
      let le = (() => {
        class V {
          constructor(de, ae, Ne) {
            (this.modalService = de), (this.translate = ae), (this.$state = Ne);
          }
          handleRoutingError(de) {
            return (
              400 === de.status || de.status >= 500 || 0 === de.status
                ? this.modalService.error(de)
                : this.$state.go("app.default"),
              ie.E
            );
          }
          error(de, ae, Ne = !0) {
            if (400 === de.status && "object" == typeof de.error) {
              const P = Object.entries(he),
                Se = P.map((re) => re[0]),
                se = P.map((re) => re[1]);
              this.translate.get(se.map((re) => re)).subscribe((re) => {
                var ue;
                let Ae = "";
                null === (ue = de.error.error.details) ||
                  void 0 === ue ||
                  ue.forEach((Ce) => {
                    const we = Se.indexOf(Ce.message);
                    if (Ce.target) {
                      const je = ge(ae, Ce.target.split("."), Ne);
                      if (je)
                        return (
                          je.setErrors({ [`${se[we]}`]: !0 }),
                          void je.markAsTouched()
                        );
                    }
                    Ae += `${Ce.target}: ${we >= 0 ? re[se[we]] : Ce.message}`;
                  }),
                  Ae && this.modalService.error(Ae);
              });
            } else this.modalService.error(de);
          }
        }
        return (
          (V.ɵfac = function (de) {
            return new (de || V)(
              $.LFG(G.S),
              $.LFG(z.sK),
              $.LFG(ee.StateService)
            );
          }),
          (V.ɵprov = $.Yz7({ token: V, factory: V.ɵfac, providedIn: "root" })),
          V
        );
      })();
    },
    38509: (Y, W, w) => {
      "use strict";
      w.d(W, { m: () => ve });
      var M = w(69808),
        d = w(85378),
        u = w(93075),
        ie = w(5e3);
      let $ = (() => {
        class Ue {}
        return (
          (Ue.ɵfac = function (ce) {
            return new (ce || Ue)();
          }),
          (Ue.ɵmod = ie.oAB({ type: Ue })),
          (Ue.ɵinj = ie.cJS({})),
          Ue
        );
      })();
      var G = w(71764),
        z = w.n(G),
        ee = w(63171),
        he = w.n(ee),
        ge = w(83071),
        le = w.n(ge),
        V = w(61061),
        J = w.n(V),
        de = w(8829),
        ae = w.n(de),
        Ne = w(50563),
        P = w.n(Ne),
        Se = w(25268),
        se = w.n(Se),
        re = w(29353),
        ue = w.n(re),
        ne = w(29991),
        Ae = w.n(ne),
        Ce = w(38177),
        we = w.n(Ce),
        je = w(44830),
        ye = w.n(je);
      z().extend(he()),
        z().extend(J()),
        z().extend(ae()),
        z().extend(P()),
        z().extend(le()),
        z().extend(se()),
        z().extend(ue()),
        z().extend(Ae()),
        z().extend(we()),
        z().extend(ye());
      var Pe = w(53464),
        xe = w(61435);
      let ve = (() => {
        class Ue {}
        return (
          (Ue.ɵfac = function (ce) {
            return new (ce || Ue)();
          }),
          (Ue.ɵmod = ie.oAB({ type: Ue })),
          (Ue.ɵinj = ie.cJS({
            imports: [
              xe.bQ,
              u.UX,
              Pe.Db,
              M.ez,
              u.u5,
              d.aw,
              $,
              M.ez,
              u.u5,
              d.aw,
            ],
          })),
          Ue
        );
      })();
    },
    28073: (Y, W, w) => {
      "use strict";
      w.d(W, { Y: () => d });
      var M = w(40520);
      function d(u) {
        var ie, $, G, z, ee, he, ge, le;
        let V;
        return (
          (V =
            403 === u.status
              ? "WARNINGS.IP_BLACKLISTED"
              : u instanceof M.UA
              ? 0 === u.status
                ? "General network error"
                : 527 === u.status
                ? u.error
                : 400 === u.status &&
                  (null ===
                    ($ =
                      null === (ie = u.error) || void 0 === ie
                        ? void 0
                        : ie.error) || void 0 === $
                    ? void 0
                    : $.message)
                ? null ===
                    (z =
                      null === (G = u.error) || void 0 === G
                        ? void 0
                        : G.error) || void 0 === z
                  ? void 0
                  : z.message
                : 400 === u.status &&
                  (null === (ee = u.error) || void 0 === ee ? void 0 : ee.value)
                ? null === (he = u.error) || void 0 === he
                  ? void 0
                  : he.value
                : 500 === u.status &&
                  (null === (ge = u.error) || void 0 === ge
                    ? void 0
                    : ge.detail)
                ? null === (le = u.error) || void 0 === le
                  ? void 0
                  : le.detail
                : `${u.status} - ${u.statusText || ""}`
              : "string" == typeof u
              ? u
              : u.message && "string" == typeof u.message
              ? u.message
              : "Unspecified error"),
          V
        );
      }
    },
    26056: (Y, W, w) => {
      "use strict";
      w.d(W, { Z: () => M });
      class M {
        constructor(u) {
          (this.cd = u),
            (this.disabled = !1),
            (this.touched = !1),
            (this.onChange = (ie) => {}),
            (this.onTouched = () => {});
        }
        registerOnChange(u) {
          this.onChange = u;
        }
        registerOnTouched(u) {
          this.onTouched = u;
        }
        markAsTouched() {
          this.touched || (this.onTouched(), (this.touched = !0));
        }
        setDisabledState(u) {
          (this.disabled = u), this.cd.markForCheck();
        }
      }
    },
    30395: (Y, W, w) => {
      "use strict";
      w.d(W, {
        au: () => Gn,
        wn: () => z,
        VK: () => G,
        Ai: () => ae,
        Xi: () => ke,
        gu: () => dt,
        e2: () => nn,
        mG: () => Di,
        He: () => jn,
        Y9: () => gn,
        xS: () => Un,
        bw: () => $n,
        Fs: () => Ae,
        jq: () => Pe,
        jG: () => Ee,
        wv: () => pe,
      });
      var M = w(40520);
      class d {
        encodeKey(fe) {
          return encodeURIComponent(fe);
        }
        encodeValue(fe) {
          return encodeURIComponent(fe);
        }
        decodeKey(fe) {
          return decodeURIComponent(fe);
        }
        decodeValue(fe) {
          return decodeURIComponent(fe);
        }
      }
      var u = w(5e3);
      const ie = new u.OlP("basePath");
      class G {
        constructor(fe = {}) {
          (this.apiKeys = fe.apiKeys),
            (this.username = fe.username),
            (this.password = fe.password),
            (this.accessToken = fe.accessToken),
            (this.basePath = fe.basePath),
            (this.withCredentials = fe.withCredentials),
            (this.encoder = fe.encoder),
            (this.encodeParam = fe.encodeParam
              ? fe.encodeParam
              : (h) => this.defaultEncodeParam(h)),
            (this.credentials = fe.credentials ? fe.credentials : {}),
            this.credentials.Application ||
              (this.credentials.Application = () =>
                "function" == typeof this.accessToken
                  ? this.accessToken()
                  : this.accessToken);
        }
        selectHeaderContentType(fe) {
          if (0 === fe.length) return;
          const h = fe.find((b) => this.isJsonMime(b));
          return void 0 === h ? fe[0] : h;
        }
        selectHeaderAccept(fe) {
          if (0 === fe.length) return;
          const h = fe.find((b) => this.isJsonMime(b));
          return void 0 === h ? fe[0] : h;
        }
        isJsonMime(fe) {
          const h = new RegExp(
            "^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$",
            "i"
          );
          return (
            null !== fe &&
            (h.test(fe) || "application/json-patch+json" === fe.toLowerCase())
          );
        }
        lookupCredential(fe) {
          const h = this.credentials[fe];
          return "function" == typeof h ? h() : h;
        }
        defaultEncodeParam(fe) {
          const h =
            "date-time" === fe.dataFormat ? fe.value.toISOString() : fe.value;
          return encodeURIComponent(String(h));
        }
      }
      let z = (() => {
          class U {
            constructor(h, b, v) {
              (this.httpClient = h),
                (this.basePath = "http://localhost:5004/xapi/v1"),
                (this.defaultHeaders = new M.WM()),
                (this.configuration = new G()),
                v && (this.configuration = v),
                "string" != typeof this.configuration.basePath &&
                  (Array.isArray(b) && b.length > 0 && (b = b[0]),
                  "string" != typeof b && (b = this.basePath),
                  (this.configuration.basePath = b)),
                (this.encoder = this.configuration.encoder || new d());
            }
            addToHttpParams(h, b, v) {
              return "object" != typeof b || b instanceof Date
                ? this.addToHttpParamsRecursive(h, b, v)
                : this.addToHttpParamsRecursive(h, b);
            }
            addToHttpParamsRecursive(h, b, v) {
              if (null == b) return h;
              if ("object" == typeof b)
                if (Array.isArray(b))
                  b.forEach(
                    (T) => (h = this.addToHttpParamsRecursive(h, T, v))
                  );
                else if (b instanceof Date) {
                  if (null == v)
                    throw Error("key may not be null if value is Date");
                  h = h.append(v, b.toISOString().substr(0, 10));
                } else
                  Object.keys(b).forEach(
                    (T) =>
                      (h = this.addToHttpParamsRecursive(
                        h,
                        b[T],
                        null != v ? `${v}.${T}` : T
                      ))
                  );
              else {
                if (null == v)
                  throw Error(
                    "key may not be null if value is not object or array"
                  );
                h = h.append(v, b);
              }
              return h;
            }
            backup(h, b = "body", v = !1, T) {
              const y = h.backupsBackupRequestBody;
              if (null == y)
                throw new Error(
                  "Required parameter backupsBackupRequestBody was null or undefined when calling backup."
                );
              let _,
                C = this.defaultHeaders;
              (_ = this.configuration.lookupCredential("Application")),
                _ && (C = C.set("Authorization", "Bearer " + _));
              let E = T && T.httpHeaderAccept;
              void 0 === E &&
                (E = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== E && (C = C.set("Accept", E));
              let I = T && T.context;
              void 0 === I && (I = new M.qT());
              const R = this.configuration.selectHeaderContentType([
                "application/json",
              ]);
              void 0 !== R && (C = C.set("Content-Type", R));
              let L = "json";
              return (
                E &&
                  (L = E.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(E)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/Backups/Pbx.Backup`,
                  {
                    context: I,
                    body: y,
                    responseType: L,
                    withCredentials: this.configuration.withCredentials,
                    headers: C,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
            deleteBackup(h, b = "body", v = !1, T) {
              const y = h.fileName;
              if (null == y)
                throw new Error(
                  "Required parameter fileName was null or undefined when calling deleteBackup."
                );
              const C = h.ifMatch;
              let E,
                _ = this.defaultHeaders;
              null != C && (_ = _.set("If-Match", String(C))),
                (E = this.configuration.lookupCredential("Application")),
                E && (_ = _.set("Authorization", "Bearer " + E));
              let I = T && T.httpHeaderAccept;
              void 0 === I &&
                (I = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== I && (_ = _.set("Accept", I));
              let x = T && T.context;
              void 0 === x && (x = new M.qT());
              let R = "json";
              I &&
                (R = I.startsWith("text")
                  ? "text"
                  : this.configuration.isJsonMime(I)
                  ? "json"
                  : "blob");
              let L = `/Backups(${this.configuration.encodeParam({
                name: "fileName",
                value: y,
                in: "path",
                style: "simple",
                explode: !1,
                dataType: "string",
                dataFormat: void 0,
              })})`;
              return this.httpClient.request(
                "delete",
                `${this.configuration.basePath}${L}`,
                {
                  context: x,
                  responseType: R,
                  withCredentials: this.configuration.withCredentials,
                  headers: _,
                  observe: b,
                  reportProgress: v,
                }
              );
            }
            getBackupExtras(h, b = "body", v = !1, T) {
              const y = h.fileName;
              if (null == y)
                throw new Error(
                  "Required parameter fileName was null or undefined when calling getBackupExtras."
                );
              let _,
                C = this.defaultHeaders;
              (_ = this.configuration.lookupCredential("Application")),
                _ && (C = C.set("Authorization", "Bearer " + _));
              let E = T && T.httpHeaderAccept;
              void 0 === E &&
                (E = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== E && (C = C.set("Accept", E));
              let I = T && T.context;
              void 0 === I && (I = new M.qT());
              let x = "json";
              E &&
                (x = E.startsWith("text")
                  ? "text"
                  : this.configuration.isJsonMime(E)
                  ? "json"
                  : "blob");
              let R = `/Backups(${this.configuration.encodeParam({
                name: "fileName",
                value: y,
                in: "path",
                style: "simple",
                explode: !1,
                dataType: "string",
                dataFormat: void 0,
              })})/Pbx.GetBackupExtras()`;
              return this.httpClient.request(
                "get",
                `${this.configuration.basePath}${R}`,
                {
                  context: I,
                  responseType: x,
                  withCredentials: this.configuration.withCredentials,
                  headers: C,
                  observe: b,
                  reportProgress: v,
                }
              );
            }
            getBackupRepositorySettings(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/Backups/Pbx.GetBackupRepositorySettings()`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            getBackupSettings(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/Backups/Pbx.GetBackupSettings()`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            getCanCreateBackup(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/Backups/Pbx.GetCanCreateBackup()`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            getRestoreSettings(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/Backups/Pbx.GetRestoreSettings()`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            listBackup(h, b = "body", v = !1, T) {
              const y = h.$top,
                C = h.$skip,
                _ = h.$search,
                E = h.$filter,
                I = h.$count,
                x = h.$orderby,
                R = h.$select,
                L = h.$expand;
              let A = new M.LE({ encoder: this.encoder });
              null != y && (A = this.addToHttpParams(A, y, "$top")),
                null != C && (A = this.addToHttpParams(A, C, "$skip")),
                null != _ && (A = this.addToHttpParams(A, _, "$search")),
                null != E && (A = this.addToHttpParams(A, E, "$filter")),
                null != I && (A = this.addToHttpParams(A, I, "$count")),
                x &&
                  (A = this.addToHttpParams(A, [...x].join(","), "$orderby")),
                R && (A = this.addToHttpParams(A, [...R].join(","), "$select")),
                null != L && (A = this.addToHttpParams(A, L, "$expand"));
              let k,
                D = this.defaultHeaders;
              (k = this.configuration.lookupCredential("Application")),
                k && (D = D.set("Authorization", "Bearer " + k));
              let H = T && T.httpHeaderAccept;
              void 0 === H &&
                (H = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== H && (D = D.set("Accept", H));
              let B = T && T.context;
              void 0 === B && (B = new M.qT());
              let F = "json";
              return (
                H &&
                  (F = H.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(H)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/Backups`,
                  {
                    context: B,
                    params: A,
                    responseType: F,
                    withCredentials: this.configuration.withCredentials,
                    headers: D,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
            restore(h, b = "body", v = !1, T) {
              const y = h.fileName;
              if (null == y)
                throw new Error(
                  "Required parameter fileName was null or undefined when calling restore."
                );
              const C = h.backupsBackupRestoreRequestBody;
              if (null == C)
                throw new Error(
                  "Required parameter backupsBackupRestoreRequestBody was null or undefined when calling restore."
                );
              let E,
                _ = this.defaultHeaders;
              (E = this.configuration.lookupCredential("Application")),
                E && (_ = _.set("Authorization", "Bearer " + E));
              let I = T && T.httpHeaderAccept;
              void 0 === I &&
                (I = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== I && (_ = _.set("Accept", I));
              let x = T && T.context;
              void 0 === x && (x = new M.qT());
              const L = this.configuration.selectHeaderContentType([
                "application/json",
              ]);
              void 0 !== L && (_ = _.set("Content-Type", L));
              let A = "json";
              I &&
                (A = I.startsWith("text")
                  ? "text"
                  : this.configuration.isJsonMime(I)
                  ? "json"
                  : "blob");
              let D = `/Backups(${this.configuration.encodeParam({
                name: "fileName",
                value: y,
                in: "path",
                style: "simple",
                explode: !1,
                dataType: "string",
                dataFormat: void 0,
              })})/Pbx.Restore`;
              return this.httpClient.request(
                "post",
                `${this.configuration.basePath}${D}`,
                {
                  context: x,
                  body: C,
                  responseType: A,
                  withCredentials: this.configuration.withCredentials,
                  headers: _,
                  observe: b,
                  reportProgress: v,
                }
              );
            }
            setBackupRepositorySettings(h, b = "body", v = !1, T) {
              const y = h.backupsSetBackupRepositorySettingsRequestBody;
              if (null == y)
                throw new Error(
                  "Required parameter backupsSetBackupRepositorySettingsRequestBody was null or undefined when calling setBackupRepositorySettings."
                );
              let _,
                C = this.defaultHeaders;
              (_ = this.configuration.lookupCredential("Application")),
                _ && (C = C.set("Authorization", "Bearer " + _));
              let E = T && T.httpHeaderAccept;
              void 0 === E &&
                (E = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== E && (C = C.set("Accept", E));
              let I = T && T.context;
              void 0 === I && (I = new M.qT());
              const R = this.configuration.selectHeaderContentType([
                "application/json",
              ]);
              void 0 !== R && (C = C.set("Content-Type", R));
              let L = "json";
              return (
                E &&
                  (L = E.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(E)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/Backups/Pbx.SetBackupRepositorySettings`,
                  {
                    context: I,
                    body: y,
                    responseType: L,
                    withCredentials: this.configuration.withCredentials,
                    headers: C,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
            setBackupSettings(h, b = "body", v = !1, T) {
              const y = h.backupsSetBackupSettingsRequestBody;
              if (null == y)
                throw new Error(
                  "Required parameter backupsSetBackupSettingsRequestBody was null or undefined when calling setBackupSettings."
                );
              let _,
                C = this.defaultHeaders;
              (_ = this.configuration.lookupCredential("Application")),
                _ && (C = C.set("Authorization", "Bearer " + _));
              let E = T && T.httpHeaderAccept;
              void 0 === E &&
                (E = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== E && (C = C.set("Accept", E));
              let I = T && T.context;
              void 0 === I && (I = new M.qT());
              const R = this.configuration.selectHeaderContentType([
                "application/json",
              ]);
              void 0 !== R && (C = C.set("Content-Type", R));
              let L = "json";
              return (
                E &&
                  (L = E.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(E)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/Backups/Pbx.SetBackupSettings`,
                  {
                    context: I,
                    body: y,
                    responseType: L,
                    withCredentials: this.configuration.withCredentials,
                    headers: C,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
            setRestoreSettings(h, b = "body", v = !1, T) {
              const y = h.backupsSetRestoreSettingsRequestBody;
              if (null == y)
                throw new Error(
                  "Required parameter backupsSetRestoreSettingsRequestBody was null or undefined when calling setRestoreSettings."
                );
              let _,
                C = this.defaultHeaders;
              (_ = this.configuration.lookupCredential("Application")),
                _ && (C = C.set("Authorization", "Bearer " + _));
              let E = T && T.httpHeaderAccept;
              void 0 === E &&
                (E = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== E && (C = C.set("Accept", E));
              let I = T && T.context;
              void 0 === I && (I = new M.qT());
              const R = this.configuration.selectHeaderContentType([
                "application/json",
              ]);
              void 0 !== R && (C = C.set("Content-Type", R));
              let L = "json";
              return (
                E &&
                  (L = E.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(E)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/Backups/Pbx.SetRestoreSettings`,
                  {
                    context: I,
                    body: y,
                    responseType: L,
                    withCredentials: this.configuration.withCredentials,
                    headers: C,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
          }
          return (
            (U.ɵfac = function (h) {
              return new (h || U)(u.LFG(M.eN), u.LFG(ie, 8), u.LFG(G, 8));
            }),
            (U.ɵprov = u.Yz7({
              token: U,
              factory: U.ɵfac,
              providedIn: "root",
            })),
            U
          );
        })(),
        ae = (() => {
          class U {
            constructor(h, b, v) {
              (this.httpClient = h),
                (this.basePath = "http://localhost:5004/xapi/v1"),
                (this.defaultHeaders = new M.WM()),
                (this.configuration = new G()),
                v && (this.configuration = v),
                "string" != typeof this.configuration.basePath &&
                  (Array.isArray(b) && b.length > 0 && (b = b[0]),
                  "string" != typeof b && (b = this.basePath),
                  (this.configuration.basePath = b)),
                (this.encoder = this.configuration.encoder || new d());
            }
            addToHttpParams(h, b, v) {
              return "object" != typeof b || b instanceof Date
                ? this.addToHttpParamsRecursive(h, b, v)
                : this.addToHttpParamsRecursive(h, b);
            }
            addToHttpParamsRecursive(h, b, v) {
              if (null == b) return h;
              if ("object" == typeof b)
                if (Array.isArray(b))
                  b.forEach(
                    (T) => (h = this.addToHttpParamsRecursive(h, T, v))
                  );
                else if (b instanceof Date) {
                  if (null == v)
                    throw Error("key may not be null if value is Date");
                  h = h.append(v, b.toISOString().substr(0, 10));
                } else
                  Object.keys(b).forEach(
                    (T) =>
                      (h = this.addToHttpParamsRecursive(
                        h,
                        b[T],
                        null != v ? `${v}.${T}` : T
                      ))
                  );
              else {
                if (null == v)
                  throw Error(
                    "key may not be null if value is not object or array"
                  );
                h = h.append(v, b);
              }
              return h;
            }
            getDefs(h, b = "body", v = !1, T) {
              const y = h.$select,
                C = h.$expand;
              let _ = new M.LE({ encoder: this.encoder });
              y && (_ = this.addToHttpParams(_, [...y].join(","), "$select")),
                null != C && (_ = this.addToHttpParams(_, C, "$expand"));
              let I,
                E = this.defaultHeaders;
              (I = this.configuration.lookupCredential("Application")),
                I && (E = E.set("Authorization", "Bearer " + I));
              let x = T && T.httpHeaderAccept;
              void 0 === x &&
                (x = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== x && (E = E.set("Accept", x));
              let R = T && T.context;
              void 0 === R && (R = new M.qT());
              let L = "json";
              return (
                x &&
                  (L = x.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(x)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/Defs`,
                  {
                    context: R,
                    params: _,
                    responseType: L,
                    withCredentials: this.configuration.withCredentials,
                    headers: E,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
            getRoutes(h, b = "body", v = !1, T) {
              const y = h.defsGetRoutesRequestBody;
              if (null == y)
                throw new Error(
                  "Required parameter defsGetRoutesRequestBody was null or undefined when calling getRoutes."
                );
              let _,
                C = this.defaultHeaders;
              (_ = this.configuration.lookupCredential("Application")),
                _ && (C = C.set("Authorization", "Bearer " + _));
              let E = T && T.httpHeaderAccept;
              void 0 === E &&
                (E = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== E && (C = C.set("Accept", E));
              let I = T && T.context;
              void 0 === I && (I = new M.qT());
              const R = this.configuration.selectHeaderContentType([
                "application/json",
              ]);
              void 0 !== R && (C = C.set("Content-Type", R));
              let L = "json";
              return (
                E &&
                  (L = E.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(E)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/Defs/Pbx.GetRoutes`,
                  {
                    context: I,
                    body: y,
                    responseType: L,
                    withCredentials: this.configuration.withCredentials,
                    headers: C,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
            getSystemParameters(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/Defs/Pbx.GetSystemParameters()`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            listCodecs(h, b = "body", v = !1, T) {
              const y = h.$top,
                C = h.$skip,
                _ = h.$search,
                E = h.$filter,
                I = h.$count,
                x = h.$orderby,
                R = h.$select,
                L = h.$expand;
              let A = new M.LE({ encoder: this.encoder });
              null != y && (A = this.addToHttpParams(A, y, "$top")),
                null != C && (A = this.addToHttpParams(A, C, "$skip")),
                null != _ && (A = this.addToHttpParams(A, _, "$search")),
                null != E && (A = this.addToHttpParams(A, E, "$filter")),
                null != I && (A = this.addToHttpParams(A, I, "$count")),
                x &&
                  (A = this.addToHttpParams(A, [...x].join(","), "$orderby")),
                R && (A = this.addToHttpParams(A, [...R].join(","), "$select")),
                null != L && (A = this.addToHttpParams(A, L, "$expand"));
              let k,
                D = this.defaultHeaders;
              (k = this.configuration.lookupCredential("Application")),
                k && (D = D.set("Authorization", "Bearer " + k));
              let H = T && T.httpHeaderAccept;
              void 0 === H &&
                (H = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== H && (D = D.set("Accept", H));
              let B = T && T.context;
              void 0 === B && (B = new M.qT());
              let F = "json";
              return (
                H &&
                  (F = H.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(H)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/Defs/Codecs`,
                  {
                    context: B,
                    params: A,
                    responseType: F,
                    withCredentials: this.configuration.withCredentials,
                    headers: D,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
            listGatewayParameterValues(h, b = "body", v = !1, T) {
              const y = h.$top,
                C = h.$skip,
                _ = h.$search,
                E = h.$filter,
                I = h.$count,
                x = h.$orderby,
                R = h.$select,
                L = h.$expand;
              let A = new M.LE({ encoder: this.encoder });
              null != y && (A = this.addToHttpParams(A, y, "$top")),
                null != C && (A = this.addToHttpParams(A, C, "$skip")),
                null != _ && (A = this.addToHttpParams(A, _, "$search")),
                null != E && (A = this.addToHttpParams(A, E, "$filter")),
                null != I && (A = this.addToHttpParams(A, I, "$count")),
                x &&
                  (A = this.addToHttpParams(A, [...x].join(","), "$orderby")),
                R && (A = this.addToHttpParams(A, [...R].join(","), "$select")),
                null != L && (A = this.addToHttpParams(A, L, "$expand"));
              let k,
                D = this.defaultHeaders;
              (k = this.configuration.lookupCredential("Application")),
                k && (D = D.set("Authorization", "Bearer " + k));
              let H = T && T.httpHeaderAccept;
              void 0 === H &&
                (H = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== H && (D = D.set("Accept", H));
              let B = T && T.context;
              void 0 === B && (B = new M.qT());
              let F = "json";
              return (
                H &&
                  (F = H.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(H)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/Defs/GatewayParameterValues`,
                  {
                    context: B,
                    params: A,
                    responseType: F,
                    withCredentials: this.configuration.withCredentials,
                    headers: D,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
            listGatewayParameters(h, b = "body", v = !1, T) {
              const y = h.$top,
                C = h.$skip,
                _ = h.$search,
                E = h.$filter,
                I = h.$count,
                x = h.$orderby,
                R = h.$select,
                L = h.$expand;
              let A = new M.LE({ encoder: this.encoder });
              null != y && (A = this.addToHttpParams(A, y, "$top")),
                null != C && (A = this.addToHttpParams(A, C, "$skip")),
                null != _ && (A = this.addToHttpParams(A, _, "$search")),
                null != E && (A = this.addToHttpParams(A, E, "$filter")),
                null != I && (A = this.addToHttpParams(A, I, "$count")),
                x &&
                  (A = this.addToHttpParams(A, [...x].join(","), "$orderby")),
                R && (A = this.addToHttpParams(A, [...R].join(","), "$select")),
                null != L && (A = this.addToHttpParams(A, L, "$expand"));
              let k,
                D = this.defaultHeaders;
              (k = this.configuration.lookupCredential("Application")),
                k && (D = D.set("Authorization", "Bearer " + k));
              let H = T && T.httpHeaderAccept;
              void 0 === H &&
                (H = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== H && (D = D.set("Accept", H));
              let B = T && T.context;
              void 0 === B && (B = new M.qT());
              let F = "json";
              return (
                H &&
                  (F = H.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(H)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/Defs/GatewayParameters`,
                  {
                    context: B,
                    params: A,
                    responseType: F,
                    withCredentials: this.configuration.withCredentials,
                    headers: D,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
            listTimeZones(h, b = "body", v = !1, T) {
              const y = h.$top,
                C = h.$skip,
                _ = h.$search,
                E = h.$filter,
                I = h.$count,
                x = h.$orderby,
                R = h.$select,
                L = h.$expand;
              let A = new M.LE({ encoder: this.encoder });
              null != y && (A = this.addToHttpParams(A, y, "$top")),
                null != C && (A = this.addToHttpParams(A, C, "$skip")),
                null != _ && (A = this.addToHttpParams(A, _, "$search")),
                null != E && (A = this.addToHttpParams(A, E, "$filter")),
                null != I && (A = this.addToHttpParams(A, I, "$count")),
                x &&
                  (A = this.addToHttpParams(A, [...x].join(","), "$orderby")),
                R && (A = this.addToHttpParams(A, [...R].join(","), "$select")),
                null != L && (A = this.addToHttpParams(A, L, "$expand"));
              let k,
                D = this.defaultHeaders;
              (k = this.configuration.lookupCredential("Application")),
                k && (D = D.set("Authorization", "Bearer " + k));
              let H = T && T.httpHeaderAccept;
              void 0 === H &&
                (H = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== H && (D = D.set("Accept", H));
              let B = T && T.context;
              void 0 === B && (B = new M.qT());
              let F = "json";
              return (
                H &&
                  (F = H.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(H)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/Defs/TimeZones`,
                  {
                    context: B,
                    params: A,
                    responseType: F,
                    withCredentials: this.configuration.withCredentials,
                    headers: D,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
          }
          return (
            (U.ɵfac = function (h) {
              return new (h || U)(u.LFG(M.eN), u.LFG(ie, 8), u.LFG(G, 8));
            }),
            (U.ɵprov = u.Yz7({
              token: U,
              factory: U.ɵfac,
              providedIn: "root",
            })),
            U
          );
        })(),
        Ae = (() => {
          class U {
            constructor(h, b, v) {
              (this.httpClient = h),
                (this.basePath = "http://localhost:5004/xapi/v1"),
                (this.defaultHeaders = new M.WM()),
                (this.configuration = new G()),
                v && (this.configuration = v),
                "string" != typeof this.configuration.basePath &&
                  (Array.isArray(b) && b.length > 0 && (b = b[0]),
                  "string" != typeof b && (b = this.basePath),
                  (this.configuration.basePath = b)),
                (this.encoder = this.configuration.encoder || new d());
            }
            addToHttpParams(h, b, v) {
              return "object" != typeof b || b instanceof Date
                ? this.addToHttpParamsRecursive(h, b, v)
                : this.addToHttpParamsRecursive(h, b);
            }
            addToHttpParamsRecursive(h, b, v) {
              if (null == b) return h;
              if ("object" == typeof b)
                if (Array.isArray(b))
                  b.forEach(
                    (T) => (h = this.addToHttpParamsRecursive(h, T, v))
                  );
                else if (b instanceof Date) {
                  if (null == v)
                    throw Error("key may not be null if value is Date");
                  h = h.append(v, b.toISOString().substr(0, 10));
                } else
                  Object.keys(b).forEach(
                    (T) =>
                      (h = this.addToHttpParamsRecursive(
                        h,
                        b[T],
                        null != v ? `${v}.${T}` : T
                      ))
                  );
              else {
                if (null == v)
                  throw Error(
                    "key may not be null if value is not object or array"
                  );
                h = h.append(v, b);
              }
              return h;
            }
            getPeerByNumber(h, b = "body", v = !1, T) {
              const y = h.number;
              if (null == y)
                throw new Error(
                  "Required parameter number was null or undefined when calling getPeerByNumber."
                );
              let _,
                C = this.defaultHeaders;
              (_ = this.configuration.lookupCredential("Application")),
                _ && (C = C.set("Authorization", "Bearer " + _));
              let E = T && T.httpHeaderAccept;
              void 0 === E &&
                (E = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== E && (C = C.set("Accept", E));
              let I = T && T.context;
              void 0 === I && (I = new M.qT());
              let x = "json";
              E &&
                (x = E.startsWith("text")
                  ? "text"
                  : this.configuration.isJsonMime(E)
                  ? "json"
                  : "blob");
              let R = `/Peers/Pbx.GetPeerByNumber(number=${this.configuration.encodeParam(
                {
                  name: "number",
                  value: y,
                  in: "path",
                  style: "simple",
                  explode: !1,
                  dataType: "string",
                  dataFormat: void 0,
                }
              )})`;
              return this.httpClient.request(
                "get",
                `${this.configuration.basePath}${R}`,
                {
                  context: I,
                  responseType: x,
                  withCredentials: this.configuration.withCredentials,
                  headers: C,
                  observe: b,
                  reportProgress: v,
                }
              );
            }
            listPeer(h, b = "body", v = !1, T) {
              const y = h.$top,
                C = h.$skip,
                _ = h.$search,
                E = h.$filter,
                I = h.$count,
                x = h.$orderby,
                R = h.$select,
                L = h.$expand;
              let A = new M.LE({ encoder: this.encoder });
              null != y && (A = this.addToHttpParams(A, y, "$top")),
                null != C && (A = this.addToHttpParams(A, C, "$skip")),
                null != _ && (A = this.addToHttpParams(A, _, "$search")),
                null != E && (A = this.addToHttpParams(A, E, "$filter")),
                null != I && (A = this.addToHttpParams(A, I, "$count")),
                x &&
                  (A = this.addToHttpParams(A, [...x].join(","), "$orderby")),
                R && (A = this.addToHttpParams(A, [...R].join(","), "$select")),
                null != L && (A = this.addToHttpParams(A, L, "$expand"));
              let k,
                D = this.defaultHeaders;
              (k = this.configuration.lookupCredential("Application")),
                k && (D = D.set("Authorization", "Bearer " + k));
              let H = T && T.httpHeaderAccept;
              void 0 === H &&
                (H = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== H && (D = D.set("Accept", H));
              let B = T && T.context;
              void 0 === B && (B = new M.qT());
              let F = "json";
              return (
                H &&
                  (F = H.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(H)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/Peers`,
                  {
                    context: B,
                    params: A,
                    responseType: F,
                    withCredentials: this.configuration.withCredentials,
                    headers: D,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
          }
          return (
            (U.ɵfac = function (h) {
              return new (h || U)(u.LFG(M.eN), u.LFG(ie, 8), u.LFG(G, 8));
            }),
            (U.ɵprov = u.Yz7({
              token: U,
              factory: U.ɵfac,
              providedIn: "root",
            })),
            U
          );
        })(),
        Pe = (() => {
          class U {
            constructor(h, b, v) {
              (this.httpClient = h),
                (this.basePath = "http://localhost:5004/xapi/v1"),
                (this.defaultHeaders = new M.WM()),
                (this.configuration = new G()),
                v && (this.configuration = v),
                "string" != typeof this.configuration.basePath &&
                  (Array.isArray(b) && b.length > 0 && (b = b[0]),
                  "string" != typeof b && (b = this.basePath),
                  (this.configuration.basePath = b)),
                (this.encoder = this.configuration.encoder || new d());
            }
            addToHttpParams(h, b, v) {
              return "object" != typeof b || b instanceof Date
                ? this.addToHttpParamsRecursive(h, b, v)
                : this.addToHttpParamsRecursive(h, b);
            }
            addToHttpParamsRecursive(h, b, v) {
              if (null == b) return h;
              if ("object" == typeof b)
                if (Array.isArray(b))
                  b.forEach(
                    (T) => (h = this.addToHttpParamsRecursive(h, T, v))
                  );
                else if (b instanceof Date) {
                  if (null == v)
                    throw Error("key may not be null if value is Date");
                  h = h.append(v, b.toISOString().substr(0, 10));
                } else
                  Object.keys(b).forEach(
                    (T) =>
                      (h = this.addToHttpParamsRecursive(
                        h,
                        b[T],
                        null != v ? `${v}.${T}` : T
                      ))
                  );
              else {
                if (null == v)
                  throw Error(
                    "key may not be null if value is not object or array"
                  );
                h = h.append(v, b);
              }
              return h;
            }
            archive(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/Recordings/Pbx.Archive`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            getRecordingRepositorySettings(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/Recordings/Pbx.GetRecordingRepositorySettings()`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            getRecordingSettings(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/Recordings/Pbx.GetRecordingSettings()`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            purgeArchive(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/Recordings/Pbx.PurgeArchive`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            purgeLocal(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/Recordings/Pbx.PurgeLocal`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            setRecordingRepositorySettings(h, b = "body", v = !1, T) {
              const y = h.recordingsSetRecordingRepositorySettingsRequestBody;
              if (null == y)
                throw new Error(
                  "Required parameter recordingsSetRecordingRepositorySettingsRequestBody was null or undefined when calling setRecordingRepositorySettings."
                );
              let _,
                C = this.defaultHeaders;
              (_ = this.configuration.lookupCredential("Application")),
                _ && (C = C.set("Authorization", "Bearer " + _));
              let E = T && T.httpHeaderAccept;
              void 0 === E &&
                (E = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== E && (C = C.set("Accept", E));
              let I = T && T.context;
              void 0 === I && (I = new M.qT());
              const R = this.configuration.selectHeaderContentType([
                "application/json",
              ]);
              void 0 !== R && (C = C.set("Content-Type", R));
              let L = "json";
              return (
                E &&
                  (L = E.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(E)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/Recordings/Pbx.SetRecordingRepositorySettings`,
                  {
                    context: I,
                    body: y,
                    responseType: L,
                    withCredentials: this.configuration.withCredentials,
                    headers: C,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
            setRecordingSettings(h, b = "body", v = !1, T) {
              const y = h.recordingsSetRecordingSettingsRequestBody;
              if (null == y)
                throw new Error(
                  "Required parameter recordingsSetRecordingSettingsRequestBody was null or undefined when calling setRecordingSettings."
                );
              let _,
                C = this.defaultHeaders;
              (_ = this.configuration.lookupCredential("Application")),
                _ && (C = C.set("Authorization", "Bearer " + _));
              let E = T && T.httpHeaderAccept;
              void 0 === E &&
                (E = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== E && (C = C.set("Accept", E));
              let I = T && T.context;
              void 0 === I && (I = new M.qT());
              const R = this.configuration.selectHeaderContentType([
                "application/json",
              ]);
              void 0 !== R && (C = C.set("Content-Type", R));
              let L = "json";
              return (
                E &&
                  (L = E.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(E)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/Recordings/Pbx.SetRecordingSettings`,
                  {
                    context: I,
                    body: y,
                    responseType: L,
                    withCredentials: this.configuration.withCredentials,
                    headers: C,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
          }
          return (
            (U.ɵfac = function (h) {
              return new (h || U)(u.LFG(M.eN), u.LFG(ie, 8), u.LFG(G, 8));
            }),
            (U.ɵprov = u.Yz7({
              token: U,
              factory: U.ɵfac,
              providedIn: "root",
            })),
            U
          );
        })(),
        Ee = (() => {
          class U {
            constructor(h, b, v) {
              (this.httpClient = h),
                (this.basePath = "http://localhost:5004/xapi/v1"),
                (this.defaultHeaders = new M.WM()),
                (this.configuration = new G()),
                v && (this.configuration = v),
                "string" != typeof this.configuration.basePath &&
                  (Array.isArray(b) && b.length > 0 && (b = b[0]),
                  "string" != typeof b && (b = this.basePath),
                  (this.configuration.basePath = b)),
                (this.encoder = this.configuration.encoder || new d());
            }
            addToHttpParams(h, b, v) {
              return "object" != typeof b || b instanceof Date
                ? this.addToHttpParamsRecursive(h, b, v)
                : this.addToHttpParamsRecursive(h, b);
            }
            addToHttpParamsRecursive(h, b, v) {
              if (null == b) return h;
              if ("object" == typeof b)
                if (Array.isArray(b))
                  b.forEach(
                    (T) => (h = this.addToHttpParamsRecursive(h, T, v))
                  );
                else if (b instanceof Date) {
                  if (null == v)
                    throw Error("key may not be null if value is Date");
                  h = h.append(v, b.toISOString().substr(0, 10));
                } else
                  Object.keys(b).forEach(
                    (T) =>
                      (h = this.addToHttpParamsRecursive(
                        h,
                        b[T],
                        null != v ? `${v}.${T}` : T
                      ))
                  );
              else {
                if (null == v)
                  throw Error(
                    "key may not be null if value is not object or array"
                  );
                h = h.append(v, b);
              }
              return h;
            }
            getClientCrmUpdates(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/GetClientCrmUpdates()`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            getPromptSetUpdates(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/GetPromptSetUpdates()`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            getServerCrmUpdates(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/GetServerCrmUpdates()`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            getUpdateSettings(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/GetUpdateSettings()`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            getUpdates(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/GetUpdates()`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            getUpdatesStats(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/GetUpdatesStats()`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            hasDebianUpgrade(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/HasDebianUpgrade()`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
            installUpdates(h, b = "body", v = !1, T) {
              const y = h.actionImportInstallUpdatesRequestBody;
              if (null == y)
                throw new Error(
                  "Required parameter actionImportInstallUpdatesRequestBody was null or undefined when calling installUpdates."
                );
              let _,
                C = this.defaultHeaders;
              (_ = this.configuration.lookupCredential("Application")),
                _ && (C = C.set("Authorization", "Bearer " + _));
              let E = T && T.httpHeaderAccept;
              void 0 === E &&
                (E = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== E && (C = C.set("Accept", E));
              let I = T && T.context;
              void 0 === I && (I = new M.qT());
              const R = this.configuration.selectHeaderContentType([
                "application/json",
              ]);
              void 0 !== R && (C = C.set("Content-Type", R));
              let L = "json";
              return (
                E &&
                  (L = E.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(E)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/InstallUpdates`,
                  {
                    context: I,
                    body: y,
                    responseType: L,
                    withCredentials: this.configuration.withCredentials,
                    headers: C,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
            setUpdateSettings(h, b = "body", v = !1, T) {
              const y = h.actionImportSetUpdateSettingsRequestBody;
              if (null == y)
                throw new Error(
                  "Required parameter actionImportSetUpdateSettingsRequestBody was null or undefined when calling setUpdateSettings."
                );
              let _,
                C = this.defaultHeaders;
              (_ = this.configuration.lookupCredential("Application")),
                _ && (C = C.set("Authorization", "Bearer " + _));
              let E = T && T.httpHeaderAccept;
              void 0 === E &&
                (E = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== E && (C = C.set("Accept", E));
              let I = T && T.context;
              void 0 === I && (I = new M.qT());
              const R = this.configuration.selectHeaderContentType([
                "application/json",
              ]);
              void 0 !== R && (C = C.set("Content-Type", R));
              let L = "json";
              return (
                E &&
                  (L = E.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(E)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/SetUpdateSettings`,
                  {
                    context: I,
                    body: y,
                    responseType: L,
                    withCredentials: this.configuration.withCredentials,
                    headers: C,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
            upgradeDebian(h = "body", b = !1, v) {
              let y,
                T = this.defaultHeaders;
              (y = this.configuration.lookupCredential("Application")),
                y && (T = T.set("Authorization", "Bearer " + y));
              let C = v && v.httpHeaderAccept;
              void 0 === C &&
                (C = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== C && (T = T.set("Accept", C));
              let _ = v && v.context;
              void 0 === _ && (_ = new M.qT());
              let E = "json";
              return (
                C &&
                  (E = C.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(C)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/UpgradeDebian`,
                  {
                    context: _,
                    responseType: E,
                    withCredentials: this.configuration.withCredentials,
                    headers: T,
                    observe: h,
                    reportProgress: b,
                  }
                )
              );
            }
          }
          return (
            (U.ɵfac = function (h) {
              return new (h || U)(u.LFG(M.eN), u.LFG(ie, 8), u.LFG(G, 8));
            }),
            (U.ɵprov = u.Yz7({
              token: U,
              factory: U.ɵfac,
              providedIn: "root",
            })),
            U
          );
        })(),
        pe = (() => {
          class U {
            constructor(h, b, v) {
              (this.httpClient = h),
                (this.basePath = "http://localhost:5004/xapi/v1"),
                (this.defaultHeaders = new M.WM()),
                (this.configuration = new G()),
                v && (this.configuration = v),
                "string" != typeof this.configuration.basePath &&
                  (Array.isArray(b) && b.length > 0 && (b = b[0]),
                  "string" != typeof b && (b = this.basePath),
                  (this.configuration.basePath = b)),
                (this.encoder = this.configuration.encoder || new d());
            }
            addToHttpParams(h, b, v) {
              return "object" != typeof b || b instanceof Date
                ? this.addToHttpParamsRecursive(h, b, v)
                : this.addToHttpParamsRecursive(h, b);
            }
            addToHttpParamsRecursive(h, b, v) {
              if (null == b) return h;
              if ("object" == typeof b)
                if (Array.isArray(b))
                  b.forEach(
                    (T) => (h = this.addToHttpParamsRecursive(h, T, v))
                  );
                else if (b instanceof Date) {
                  if (null == v)
                    throw Error("key may not be null if value is Date");
                  h = h.append(v, b.toISOString().substr(0, 10));
                } else
                  Object.keys(b).forEach(
                    (T) =>
                      (h = this.addToHttpParamsRecursive(
                        h,
                        b[T],
                        null != v ? `${v}.${T}` : T
                      ))
                  );
              else {
                if (null == v)
                  throw Error(
                    "key may not be null if value is not object or array"
                  );
                h = h.append(v, b);
              }
              return h;
            }
            bulkLinksDelete(h, b = "body", v = !1, T) {
              const y = h.websiteLinksBulkLinksDeleteRequestBody;
              if (null == y)
                throw new Error(
                  "Required parameter websiteLinksBulkLinksDeleteRequestBody was null or undefined when calling bulkLinksDelete."
                );
              let _,
                C = this.defaultHeaders;
              (_ = this.configuration.lookupCredential("Application")),
                _ && (C = C.set("Authorization", "Bearer " + _));
              let E = T && T.httpHeaderAccept;
              void 0 === E &&
                (E = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== E && (C = C.set("Accept", E));
              let I = T && T.context;
              void 0 === I && (I = new M.qT());
              const R = this.configuration.selectHeaderContentType([
                "application/json",
              ]);
              void 0 !== R && (C = C.set("Content-Type", R));
              let L = "json";
              return (
                E &&
                  (L = E.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(E)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/WebsiteLinks/Pbx.BulkLinksDelete`,
                  {
                    context: I,
                    body: y,
                    responseType: L,
                    withCredentials: this.configuration.withCredentials,
                    headers: C,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
            createWeblink(h, b = "body", v = !1, T) {
              const y = h.pbxWeblink;
              if (null == y)
                throw new Error(
                  "Required parameter pbxWeblink was null or undefined when calling createWeblink."
                );
              let _,
                C = this.defaultHeaders;
              (_ = this.configuration.lookupCredential("Application")),
                _ && (C = C.set("Authorization", "Bearer " + _));
              let E = T && T.httpHeaderAccept;
              void 0 === E &&
                (E = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== E && (C = C.set("Accept", E));
              let I = T && T.context;
              void 0 === I && (I = new M.qT());
              const R = this.configuration.selectHeaderContentType([
                "application/json",
              ]);
              void 0 !== R && (C = C.set("Content-Type", R));
              let L = "json";
              return (
                E &&
                  (L = E.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(E)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/WebsiteLinks`,
                  {
                    context: I,
                    body: y,
                    responseType: L,
                    withCredentials: this.configuration.withCredentials,
                    headers: C,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
            deleteWeblink(h, b = "body", v = !1, T) {
              const y = h.link;
              if (null == y)
                throw new Error(
                  "Required parameter link was null or undefined when calling deleteWeblink."
                );
              const C = h.ifMatch;
              let E,
                _ = this.defaultHeaders;
              null != C && (_ = _.set("If-Match", String(C))),
                (E = this.configuration.lookupCredential("Application")),
                E && (_ = _.set("Authorization", "Bearer " + E));
              let I = T && T.httpHeaderAccept;
              void 0 === I &&
                (I = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== I && (_ = _.set("Accept", I));
              let x = T && T.context;
              void 0 === x && (x = new M.qT());
              let R = "json";
              I &&
                (R = I.startsWith("text")
                  ? "text"
                  : this.configuration.isJsonMime(I)
                  ? "json"
                  : "blob");
              let L = `/WebsiteLinks(${this.configuration.encodeParam({
                name: "link",
                value: y,
                in: "path",
                style: "simple",
                explode: !1,
                dataType: "string",
                dataFormat: void 0,
              })})`;
              return this.httpClient.request(
                "delete",
                `${this.configuration.basePath}${L}`,
                {
                  context: x,
                  responseType: R,
                  withCredentials: this.configuration.withCredentials,
                  headers: _,
                  observe: b,
                  reportProgress: v,
                }
              );
            }
            getWeblink(h, b = "body", v = !1, T) {
              const y = h.link;
              if (null == y)
                throw new Error(
                  "Required parameter link was null or undefined when calling getWeblink."
                );
              const C = h.$select,
                _ = h.$expand;
              let E = new M.LE({ encoder: this.encoder });
              C && (E = this.addToHttpParams(E, [...C].join(","), "$select")),
                null != _ && (E = this.addToHttpParams(E, _, "$expand"));
              let x,
                I = this.defaultHeaders;
              (x = this.configuration.lookupCredential("Application")),
                x && (I = I.set("Authorization", "Bearer " + x));
              let R = T && T.httpHeaderAccept;
              void 0 === R &&
                (R = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== R && (I = I.set("Accept", R));
              let L = T && T.context;
              void 0 === L && (L = new M.qT());
              let A = "json";
              R &&
                (A = R.startsWith("text")
                  ? "text"
                  : this.configuration.isJsonMime(R)
                  ? "json"
                  : "blob");
              let D = `/WebsiteLinks(${this.configuration.encodeParam({
                name: "link",
                value: y,
                in: "path",
                style: "simple",
                explode: !1,
                dataType: "string",
                dataFormat: void 0,
              })})`;
              return this.httpClient.request(
                "get",
                `${this.configuration.basePath}${D}`,
                {
                  context: L,
                  params: E,
                  responseType: A,
                  withCredentials: this.configuration.withCredentials,
                  headers: I,
                  observe: b,
                  reportProgress: v,
                }
              );
            }
            listWeblink(h, b = "body", v = !1, T) {
              const y = h.$top,
                C = h.$skip,
                _ = h.$search,
                E = h.$filter,
                I = h.$count,
                x = h.$orderby,
                R = h.$select,
                L = h.$expand;
              let A = new M.LE({ encoder: this.encoder });
              null != y && (A = this.addToHttpParams(A, y, "$top")),
                null != C && (A = this.addToHttpParams(A, C, "$skip")),
                null != _ && (A = this.addToHttpParams(A, _, "$search")),
                null != E && (A = this.addToHttpParams(A, E, "$filter")),
                null != I && (A = this.addToHttpParams(A, I, "$count")),
                x &&
                  (A = this.addToHttpParams(A, [...x].join(","), "$orderby")),
                R && (A = this.addToHttpParams(A, [...R].join(","), "$select")),
                null != L && (A = this.addToHttpParams(A, L, "$expand"));
              let k,
                D = this.defaultHeaders;
              (k = this.configuration.lookupCredential("Application")),
                k && (D = D.set("Authorization", "Bearer " + k));
              let H = T && T.httpHeaderAccept;
              void 0 === H &&
                (H = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== H && (D = D.set("Accept", H));
              let B = T && T.context;
              void 0 === B && (B = new M.qT());
              let F = "json";
              return (
                H &&
                  (F = H.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(H)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/WebsiteLinks`,
                  {
                    context: B,
                    params: A,
                    responseType: F,
                    withCredentials: this.configuration.withCredentials,
                    headers: D,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
            updateWeblink(h, b = "body", v = !1, T) {
              const y = h.link;
              if (null == y)
                throw new Error(
                  "Required parameter link was null or undefined when calling updateWeblink."
                );
              const C = h.pbxWeblink;
              if (null == C)
                throw new Error(
                  "Required parameter pbxWeblink was null or undefined when calling updateWeblink."
                );
              let E,
                _ = this.defaultHeaders;
              (E = this.configuration.lookupCredential("Application")),
                E && (_ = _.set("Authorization", "Bearer " + E));
              let I = T && T.httpHeaderAccept;
              void 0 === I &&
                (I = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== I && (_ = _.set("Accept", I));
              let x = T && T.context;
              void 0 === x && (x = new M.qT());
              const L = this.configuration.selectHeaderContentType([
                "application/json",
              ]);
              void 0 !== L && (_ = _.set("Content-Type", L));
              let A = "json";
              I &&
                (A = I.startsWith("text")
                  ? "text"
                  : this.configuration.isJsonMime(I)
                  ? "json"
                  : "blob");
              let D = `/WebsiteLinks(${this.configuration.encodeParam({
                name: "link",
                value: y,
                in: "path",
                style: "simple",
                explode: !1,
                dataType: "string",
                dataFormat: void 0,
              })})`;
              return this.httpClient.request(
                "patch",
                `${this.configuration.basePath}${D}`,
                {
                  context: x,
                  body: C,
                  responseType: A,
                  withCredentials: this.configuration.withCredentials,
                  headers: _,
                  observe: b,
                  reportProgress: v,
                }
              );
            }
            validateLink(h, b = "body", v = !1, T) {
              const y = h.websiteLinksValidateLinkRequestBody;
              if (null == y)
                throw new Error(
                  "Required parameter websiteLinksValidateLinkRequestBody was null or undefined when calling validateLink."
                );
              let _,
                C = this.defaultHeaders;
              (_ = this.configuration.lookupCredential("Application")),
                _ && (C = C.set("Authorization", "Bearer " + _));
              let E = T && T.httpHeaderAccept;
              void 0 === E &&
                (E = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== E && (C = C.set("Accept", E));
              let I = T && T.context;
              void 0 === I && (I = new M.qT());
              const R = this.configuration.selectHeaderContentType([
                "application/json",
              ]);
              void 0 !== R && (C = C.set("Content-Type", R));
              let L = "json";
              return (
                E &&
                  (L = E.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(E)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/WebsiteLinks/Pbx.ValidateLink`,
                  {
                    context: I,
                    body: y,
                    responseType: L,
                    withCredentials: this.configuration.withCredentials,
                    headers: C,
                    observe: b,
                    reportProgress: v,
                  }
                )
              );
            }
          }
          return (
            (U.ɵfac = function (h) {
              return new (h || U)(u.LFG(M.eN), u.LFG(ie, 8), u.LFG(G, 8));
            }),
            (U.ɵprov = u.Yz7({
              token: U,
              factory: U.ɵfac,
              providedIn: "root",
            })),
            U
          );
        })();
      const ke = { Both: "Both", Name: "Name", Email: "Email", None: "None" },
        dt = {
          Url: "Url",
          Default: "Default",
          Bubble: "Bubble",
          DoubleBubble: "DoubleBubble",
        },
        nn = {
          Sunday: "Sunday",
          Monday: "Monday",
          Tuesday: "Tuesday",
          Wednesday: "Wednesday",
          Thursday: "Thursday",
          Friday: "Friday",
          Saturday: "Saturday",
        },
        Di = { Daily: "Daily", Weekly: "Weekly", Monthly: "Monthly" },
        jn = {
          Local: "Local",
          Ftp: "Ftp",
          GoogleDrive: "GoogleDrive",
          NetworkShare: "NetworkShare",
          Logs: "Logs",
          Sftp: "Sftp",
          GoogleBucket: "GoogleBucket",
        },
        gn = {
          ChatOnly: "ChatOnly",
          PhoneAndChat: "PhoneAndChat",
          PhoneOnly: "PhoneOnly",
          VideoPhoneAndChat: "VideoPhoneAndChat",
        },
        Un = {
          None: "None",
          Extension: "Extension",
          Queue: "Queue",
          RingGroup: "RingGroup",
          Ivr: "IVR",
          Fax: "Fax",
          Conference: "Conference",
          Parking: "Parking",
          ExternalLine: "ExternalLine",
          SpecialMenu: "SpecialMenu",
          Group: "Group",
        },
        $n = {
          Release: "Release",
          Beta: "Beta",
          MajorRelease: "MajorRelease",
          Alpha: "Alpha",
        };
      let Gn = (() => {
        class U {
          constructor(h, b) {
            if (h)
              throw new Error(
                "ApiModule is already loaded. Import in your base AppModule only."
              );
            if (!b)
              throw new Error(
                "You need to import the HttpClientModule in your AppModule! \nSee also https://github.com/angular/angular/issues/20575"
              );
          }
          static forRoot(h) {
            return { ngModule: U, providers: [{ provide: G, useFactory: h }] };
          }
        }
        return (
          (U.ɵfac = function (h) {
            return new (h || U)(u.LFG(U, 12), u.LFG(M.eN, 8));
          }),
          (U.ɵmod = u.oAB({ type: U })),
          (U.ɵinj = u.cJS({})),
          U
        );
      })();
    },
    87760: (Y, W, w) => {
      "use strict";
      var M = w(22313),
        d = w(5e3),
        u = w(80412),
        ie = w.n(u),
        $ = w(26090),
        G = w(58259),
        z = w.n(G),
        de =
          (w(95254),
          w(80258),
          w(43261),
          w(81738),
          w(61382),
          w(20579),
          w(15439)),
        ae = w.n(de);
      w(39439),
        w(91050),
        w(7474),
        w(17868),
        w(48077),
        w(13394),
        w(29570),
        w(3919),
        w(34224),
        w(76196),
        w(62486),
        w(86305),
        w(54741),
        w(42364),
        w(64786),
        w(93197),
        w(55879),
        w(48040),
        w(31339),
        w(31206),
        w(27611),
        w(97759),
        w(33791),
        w(82552),
        w(43311),
        w(30848),
        w(71357),
        w(78126),
        w(94426),
        w(33276),
        w(2564),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/app.html",
                '<div class="app" id="app" style="display:flex;overflow:hidden" ng-class="{\r\n            \'app-header-fixed\':app.settings.headerFixed,\r\n            \'app-aside-fixed\':app.settings.asideFixed,\r\n            \'app-aside-folded\':app.settings.asideFolded,\r\n            \'app-aside-dock\':app.settings.asideDock,\r\n            \'container\':app.settings.container\r\n            }"> <div class="app-content-container"> <div ng-include="\'tpl/blocks/header.html\'" class="app-header navbar bg-black"> </div> <system-owner-warning mc-operator-extension-alert></system-owner-warning> <notification-header mc-hosting-mode-admin></notification-header> <div class="app-content-scrollable" id="app-container"> <div ng-include="\'tpl/blocks/aside.html\'" class="app-aside hidden-xs {{app.settings.asideColor}}"> </div> <div class="app-content"> <div ui-butterbar></div> <a href class="off-screen-toggle hide" ui-toggle-class="off-screen" data-target=".app-aside"></a> <div class="app-content-body" ui-view></div> </div> </div> </div> </div> <notifications-component mc-admin></notifications-component> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/blocks/aside.html",
                '<div class="aside-wrap"> <div class="navi-wrap"> <nav ui-nav class="navi clearfix" ng-include="\'tpl/blocks/nav.html\'"></nav> </div> </div>'
              ),
          ]);
      var wi = w(86777),
        nt = w.n(wi);
      const gn =
        "/webclient/assets/img/logo.png";
      var kn = nt()(gn),
        Pi =
          ' <div class="navbar-header {{app.settings.navbarHeaderColor}}"> <button class="pull-right visible-xs dk" ui-toggle-class="show" data-target=".navbar-collapse" type="button"> <i class="halflings halflings-cog"></i> </button> <button class="pull-right visible-xs" ui-toggle-class="off-screen" data-target=".app-aside" ui-scroll-to="app" type="button"> <i class="halflings halflings-align-justify"></i> </button> <a href="{{\'LINKS.ADMIN_MANUAL_URL\' | translate}}" target="_blank" class="visible-xs-inline-block navbar-brand text-lt"> <img width="50px" src="' +
          kn +
          // '" alt="3cx official logo"> </a> </div> <div class="collapse pos-rlt navbar-collapse box-shadow {{app.settings.navbarCollapseColor}}" style="padding-left:0"> <ul class="nav navbar-nav"> <li class="hidden-xs"> <a class="btn" role="button" href="" ng-click="app.settings.asideFolded = !app.settings.asideFolded"> <i class="fa fa-bars fa-fw"></i> </a> </li> </ul> <a href="{{\'LINKS.ADMIN_MANUAL_URL\' | translate}}" target="_blank" class="navbar-brand text-lt hidden-xs" style="display:inline-block"> <img width="50px" src="' +
          '" alt="3cx official logo"> </a> </div> <div class="collapse pos-rlt navbar-collapse box-shadow {{app.settings.navbarCollapseColor}}" style="padding-left:0"> <ul class="nav navbar-nav"> <li class="hidden-xs"> <a class="btn" role="button" href="" ng-click="app.settings.asideFolded = !app.settings.asideFolded"> <i class="fa fa-bars fa-fw"></i> </a> </li> </ul> <a href="https://www.newwave.tw/" target="_blank" class="navbar-brand text-lt hidden-xs" style="display:inline-block"> <img width="50px" src="' +
          kn +
          '" alt="3cx official logo"> </a> <ul class="nav navbar-nav navbar-right"> <li ng-include="\'tpl/blocks/header_shortcut_menus.html\'" mc-admin=""></li> <li mc-admin=""> <updates-menu></updates-menu> </li> <li class="dropdown" is-open="lang.isopen" uib-dropdown=""> <a href="" uib-dropdown-toggle=""> <img ng-src="{{selectedLanguage.flag}}" style="width:24px!important"> <b class="caret"></b> </a> <ul class="dropdown-menu" ui-toggle-class="language-size-off-screen bg-light"> <li ng-repeat="(language, languageSettings) in languages"> <a ng-click="setLanguage(language)" href="" style="padding-top:10px"> <img ng-src="{{languageSettings.flag}}" style="width:24px"> <span style="vertical-align:middle;padding-left:5px">{{languageSettings.label}}</span> </a> </li> </ul> </li> <li> <a ui-fullscreen=""></a> </li> <li class="dropdown" is-open="user.isopen" uib-dropdown=""> <a href="" uib-dropdown-toggle="" data-id="accountMenu"> {{$root.User.initials}} <b class="caret"></b> </a> <ul class="dropdown-menu"> <li> <a target="_blank" href="https://portal.3cx.com/"><span translate="HEADER.ACCOUNT" rel="noopener">Account</span></a> </li> <li ng-controller="LogoutCtrl"> <a ng-click="logout()"><span translate="HEADER.LOGOUT">Logout</span></a> </li> </ul> </li> </ul> </div> ';
      u
        .module("ng")
        .run(["$templateCache", (t) => t.put("tpl/blocks/header.html", Pi)]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/blocks/header_shortcut_menus.html",
                '<ul class="nav navbar-nav"> <li uib-dropdown style="padding:0 10px 0 10px"> <a href uib-dropdown-toggle> <i class="fa fa-fw fa-plus visible-xs-inline-block"></i> <span translate="HEADER.SUPPORT.SUPPORT">Support</span><span class="caret"></span> </a> <ul class="dropdown-menu" role="menu"> <li> <a href="{{\'LINKS.ADMIN_MANUAL_URL\' | translate}}" translate="REPOS.TEXT.ADMIN_MANUAL" target="_blank"></a> </li> <li ng-controller="GenerateSupportInfoCtrl" ng-click="generateSupportInfo($event)"> <a href="#" translate="HEADER.SUPPORT.GENERATE_SUPPORT_INFO">Generate Support Info</a> </li> <li> <a href="{{\'LINKS.SUPPORT_URL\' | translate}}" translate="REPOS.TEXT.SUPPORT" target="_blank"></a> </li> <li class="divider"></li> <li> <a href="{{\'LINKS.BLOG_URL\' | translate}}" translate="REPOS.TEXT.BLOG" target="_blank"></a> </li> <li> <a href="{{\'LINKS.FORUMS_URL\' | translate}}" translate="REPOS.TEXT.FORUMS" target="_blank"></a> </li> <li class="divider"></li> <li> <a href="{{\'LINKS.GATEWAYS_CONFIGURATION_GUIDES_URL\' | translate}}" translate="REPOS.TEXT.GATEWAYS_CONFIGURATION_GUIDES" target="_blank"></a> </li> <li> <a href="{{\'LINKS.IP_PHONE_CONFIGURATION_GUIDES_URL\' | translate}}" translate="REPOS.TEXT.IP_PHONE_CONFIGURATION_GUIDES" target="_blank"></a> </li> <li class="divider"></li> <li> <a href="{{\'LINKS.BUY_SUPPORT_URL\' | translate}}" translate="REPOS.TEXT.BUY_SUPPORT" target="_blank"></a> </li> <li class="divider"></li> <li> <a href="{{\'LINKS.FIND_RESELLER_URL\' | translate}}" translate="REPOS.TEXT.FIND_RESELLER" target="_blank"></a> </li> <li> <a href="{{\'LINKS.CONTACT_US_URL\' | translate}}" translate="REPOS.TEXT.CONTACT_US" target="_blank"></a> </li> </ul> </li> </ul> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/blocks/nav.html",
                '<ul class="nav"> <app-nav-item mc-admin mc-title="LEFT_MENU.SYSTEM_STATUS" mc-ui-sref="app.system_status.all"> <i class="halflings halflings-stats"></i> </app-nav-item> <app-nav-item mc-not-hosting-admin mc-title="LEFT_MENU.EXTENSIONS" mc-ui-sref="app.extensions"> <i class="halflings halflings-user"></i> </app-nav-item> <app-nav-item mc-phones mc-title="LEFT_MENU.PHONES" mc-ui-sref="app.phones"> <i class="halflings halflings-phone-alt"></i> </app-nav-item> <app-nav-item mc-trunks mc-title="LEFT_MENU.TRUNKS_GATEWAYS" mc-ui-sref="app.siptrunks"> <i class="fa fa-globe"></i> </app-nav-item> <app-nav-item mc-inbound-rules mc-title="LEFT_MENU.INBOUND_RULES" mc-ui-sref="app.inbound_rules" class="nav-shifted"> <i class="halflings halflings-arrow-down"></i> </app-nav-item> <app-nav-item mc-outbound-rules mc-title="LEFT_MENU.OUTBOUND_RULES" mc-ui-sref="app.outbound_rules" class="nav-shifted"> <i class="halflings halflings-arrow-up"></i> </app-nav-item> <app-nav-item mc-ivr mc-title="LEFT_MENU.DIGITAL_RECEPTIONIST" mc-ui-sref="app.ivrs"> <i class="glyphicons glyphicons-headset"></i> </app-nav-item> <app-nav-item mc-ring-groups mc-title="LEFT_MENU.RING_GROUPS" mc-ui-sref="app.ring_groups"> <i class="fa fa-users"></i> </app-nav-item> <app-nav-item mc-queues mc-title="LEFT_MENU.CALL_QUEUES" mc-ui-sref="app.queues"> <i class="glyphicons glyphicons-group"></i> </app-nav-item> <app-nav-item mc-backup-and-restore mc-title="LEFT_MENU.BACKUP_AND_RESTORE" mc-ui-sref="app.backup_and_restore"> <i class="fa fa-database"></i> </app-nav-item> <app-nav-sub-list mc-title="LEFT_MENU.REPORTING" mc-is-expanded="app.settings.openSubMenu" mc-tag="reporting" mc-reporting mc-icon-class="fa fa-list"> <app-nav-reporting mc-menu-style="true"></app-nav-reporting> </app-nav-sub-list> <app-nav-sub-list mc-title="SETTINGS.LIST_BUTTONS.SECURITY_BTN" mc-is-expanded="app.settings.openSubMenu" mc-admin mc-tag="security" mc-icon-class="fa fa-shield"> <app-nav-security mc-menu-style="true"></app-nav-security> </app-nav-sub-list> <app-nav-sub-list mc-title="LEFT_MENU.ADVANCED" mc-is-expanded="app.settings.openSubMenu" mc-advanced mc-tag="advanced" mc-icon-class="fa fa-cog"> <app-nav-advanced mc-menu-style="true"></app-nav-advanced> </app-nav-sub-list> <app-nav-item mc-title="LEFT_MENU.SETTINGS" mc-ui-sref="app.settings.general" mc-settings> <i class="halflings halflings-wrench"></i> </app-nav-item> <div mc-hosting-admin class="app-nav-item"> <a href="https://login.3cx.com?account={{$root.User.registrationEmail}}" target="_blank" rel="noopener" uib-tooltip="Portal" tooltip-placement="right" tooltip-enable="app.settings.asideFolded"> <i> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 21" width="25"> <path id="path24" d="m 5.6363912,20.473958 c -1.1775857,-0.11652 -2.0189369,-0.42997 -2.9596385,-1.10275 -1.5141756,-1.08286 -2.45671588,-2.99902 -2.46608018,-5.0135 l -0.00277,-0.6739 H 1.7939831 3.3800627 l 0.1500088,0.84366 c 0.1952901,1.0982 0.802169,2.09844 1.5502796,2.55514 0.4674464,0.28537 0.7495592,0.3507 1.486544,0.34416 1.0749194,-0.01 1.7853168,-0.37391 2.4123978,-1.2373 0.353089,-0.48566 0.400566,-0.66498 0.441715,-1.65721 0.0396,-0.93641 0.002,-1.19881 -0.231223,-1.65686 -0.488324,-0.96215 -1.5446021,-1.46155 -3.0899648,-1.46155 H 5.4649873 V 10.084289 8.7547289 l 1.0025422,-0.0642 c 1.3065212,-0.0837 2.0167954,-0.48937 2.4354424,-1.39098 0.353671,-0.76168 0.301417,-1.75662 -0.132045,-2.53334 -0.562617,-1.00679 -2.2564628,-1.45097 -3.3801208,-0.8863 -0.7700412,0.38697 -1.4644746,1.50666 -1.4644746,2.36131 0,0.75672 -0.040218,0.77459 -1.7447439,0.77459 -1.83287558,0 -1.74263598,0.10037 -1.39160738,-1.54739 0.56153538,-2.6359 2.35891688,-4.4568199 4.81427338,-4.87733992 2.5847873,-0.44266 5.4080834,0.99184992 6.4178954,3.26101992 0.416119,0.93539 0.434069,2.91776 0.03614,3.87468 -0.333317,0.79818 -0.925396,1.46402 -1.591938,1.78935 -0.5217961,0.25469 -0.6692341,0.47899 -0.315303,0.47899 0.408317,0 1.457092,0.7199891 1.948478,1.3378091 0.70698,0.88862 0.978891,1.90615 0.908188,3.39841 -0.122376,2.57364 -1.631435,4.58118 -4.1129751,5.47081 -0.700841,0.25131 -2.1994174,0.37636 -3.2563972,0.27182 z m 15.9935268,-0.12573 c -2.000188,-0.46513 -3.601474,-1.41259 -5.02284,-2.97193 -1.199227,-1.31538 -1.825692,-2.40977 -2.317692,-4.04717 -0.250426,-0.83421 -0.296931,-1.27688 -0.291525,-2.76651 0.005,-1.5387091 0.05119,-1.9160491 0.345079,-2.8511391 0.883673,-2.81219 2.850009,-5.14313 5.290157,-6.2706299 1.061108,-0.49035 1.642474,-0.64714002 2.935325,-0.79218002 2.109732,-0.23659 4.218612,0.24996002 5.879899,1.35663992 l 0.737544,0.4911 v 1.55813 1.55811 l -0.737544,-0.66773 c -1.36491,-1.23608 -3.339722,-2.03512 -5.044325,-2.04098 -0.921207,-0.003 -2.517425,0.44956 -3.356939,0.95209 -1.500911,0.89853 -2.944851,2.81341 -3.429058,4.54774 -0.367129,1.31606 -0.34598,3.2027791 0.0501,4.4447991 0.7589,2.37834 2.499395,4.19941 4.760028,4.98042 2.205395,0.76189 5.028503,0.11405 6.859888,-1.57436 0.947554,-0.87325 0.897802,-0.91865 0.897802,0.81881 v 1.56203 l -0.801753,0.49451 c -1.480563,0.91364 -2.641503,1.24814 -4.519849,1.30219 -0.916614,0.0264 -1.92195,-0.0113 -2.234346,-0.0839 z m 8.196957,-0.0615 c 0,-0.0359 1.557573,-2.17248 3.461751,-4.74818 1.904227,-2.57568 3.462325,-4.74861 3.462325,-4.82876 0,-0.0801 -1.558098,-2.2496791 -3.462325,-4.8211891 -1.904178,-2.57158 -3.461751,-4.7106399 -3.461751,-4.7535199 0,-0.0429 0.806227,-0.078 1.791742,-0.078 h 1.792256 l 2.599673,3.5401599 c 1.429326,1.9471 2.631405,3.54318 2.670494,3.54682 0.0401,0.004 1.246306,-1.58942 2.682979,-3.54016 L 43.976711,1.057079 h 1.851979 c 1.467198,0 1.824683,0.0369 1.719832,0.17734 -2.425198,3.2489099 -6.951077,9.418809 -6.951077,9.475999 0,0.0428 1.248544,1.76671 2.774266,3.83099 1.525703,2.06425 3.116098,4.21607 3.534395,4.78178 l 0.760138,1.02859 H 45.82772 43.989176 l -2.617226,-3.54681 c -1.439663,-1.95077 -2.649989,-3.54383 -2.689732,-3.54012 -0.04089,0.004 -1.244495,1.59973 -2.677375,3.54681 l -2.60489,3.54012 h -1.786554 c -0.982416,0 -1.786524,-0.0293 -1.786524,-0.0651 z m 18.772062,-0.25414 -0.244356,-0.31921 0.321039,0.28223 c 0.176168,0.15524 0.344109,0.29887 0.373564,0.31922 0.03148,0.0205 -0.005,0.037 -0.07624,0.037 -0.07129,0 -0.239673,-0.14365 -0.37406,-0.31921 z m 1.198425,0.0387 c 0.283683,-0.2929 0.379941,-0.91134 0.190337,-1.22128 -0.05168,-0.0847 -0.209683,-0.22639 -0.350574,-0.31489 -0.140961,-0.0885 -0.184396,-0.16286 -0.09614,-0.1652 0.08782,-0.003 0.275604,0.12336 0.416535,0.2794 0.418693,0.46313 0.290098,1.40757 -0.220733,1.62361 -0.173653,0.0734 -0.159099,0.0252 0.0604,-0.20164 z m -0.848247,-0.67713 c -0.01436,-0.54996 0.0089,-0.60297 0.295465,-0.60297 0.384713,0 0.53103,0.22676 0.323614,0.50276 -0.09426,0.12556 -0.11101,0.27882 -0.04386,0.39065 0.06188,0.10121 0.01436,0.0693 -0.100901,-0.0709 -0.276149,-0.3309 -0.334703,-0.32155 -0.401624,0.0643 -0.03267,0.17554 -0.06356,0.0478 -0.07317,-0.28378 z m 0.623822,-0.31921 c 0,-0.0781 -0.115347,-0.14189 -0.256337,-0.14189 -0.14097,0 -0.256792,0.0638 -0.256792,0.14189 0,0.0781 0.115861,0.14188 0.256792,0.14188 0.14095,0 0.256337,-0.0638 0.256337,-0.14188 z m -1.261812,0.28376 c 0,-0.19508 0.02614,-0.2749 0.06465,-0.17735 0.03713,0.0975 0.03713,0.25713 0,0.35466 -0.03703,0.0976 -0.06465,0.0179 -0.06465,-0.17731 z m 0.328406,-0.71653 c 0.157069,-0.18248 0.309782,-0.3034 0.340059,-0.26872 0.03238,0.0347 -0.09762,0.18398 -0.28495,0.33179 l -0.340059,0.2687 z m -19.325775,-7.98029 c 0,-2.0053791 0.0197,-3.6461391 0.04881,-3.6461391 0.07455,0 2.70192,3.2557401 2.749652,3.4068301 0.03347,0.100349 -1.627524,2.412159 -2.691088,3.750659 -0.05901,0.0741 -0.107425,-1.50597 -0.107425,-3.51135 z" style="fill:#707070;stroke-width:.13487473"/> </svg> </i> <span>Portal</span> </a> </div> </ul> <style>.tooltip-inner{min-width:140px;z-index:10000}</style> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/calls_serviced_after.html",
                '<div class="form-group m-b"> <div class="control-label"></div> <div class="form-inline"> <label translate="REPORTS.filter_ccestat_waitanswlbl"></label> <input type="number" class="form-control" ng-model="parameters.ServicedAfter.value" ng-required="true" focus-state error-show="submitted" name="ServicedAfter" min="0" max="86400" style="width:6em"> <label translate="REPORTS.filter_ccestat_seconds">seconds</label> </div> <div class="errors control-errors" ng-show="reportData.ServicedAfter.$errorShowAllowed"> <ul> <li ng-show="reportData.ServicedAfter.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> <li ng-show="reportData.ServicedAfter.$error.min"> <span class="halflings halflings-exclamation-sign"></span> <span translate="REPORTS_UI.VALUE_SHOULD_BE_POSITIVE"></span> </li> <li ng-show="reportData.ServicedAfter.$error.max"> <span class="halflings halflings-exclamation-sign"></span> <span translate="REPORTS_UI.VALUE_SHOULD_BE_LESS_THEN" translate-values="{max: 86400}"></span> </li> </ul> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/call_area_filter.html",
                '<div class="form-group"> <label class="control-label" translate="CALL_REPORTS.STATISTICS.CALL_TYPE">Call Type</label> <select class="form-control" ng-model="parameters.CallArea.value" name="CallAreaType"> <option value="All" translate="CALL_REPORTS.STATISTICS.ALL_CALLS">All calls</option> <option value="Internal" translate="CALL_REPORTS.STATISTICS.INTERNAL_CALLS">Internal calls</option> <option value="External" translate="CALL_REPORTS.STATISTICS.EXTERNAL_CALLS">External calls</option> </select> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/call_reports.html",
                '<div inherited-scope> <list-control api_url="Reports"> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="REPORTS_UI.TITLE">Contacts</label> </div> <div class="wrapper-md" ng-controller="CallReportsCtrl"> <div class="panel panel-default"> <div class="panel-heading" translate="REPORTS_UI.TITLE">Contacts</div> <div class="panel-body" sticky-to-top> <button type="button" ng-disabled="!$root.User.callReportsEnabled" ng-click="onNewClick()" class="btn btn-sm btn-success btn-responsive" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"> <i class="halflings halflings-plus"></i> New </button> <button type="button" ng-disabled="!isOneSelected" class="btn btn-sm btn-default btn-responsive" ng-click="onEditClick()" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"> <i class="halflings halflings-pencil"></i> Edit </button> <button type="button" ng-disabled="!isAnySelected" class="btn btn-sm btn-default btn-responsive" ng-click="onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i> Delete </button> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="callHistoryPurge()" translate="SYSTEM_STATUS.EVENT_LOG.EVENT_LOG_WINDOW.PURGE_BTN"> <i class="fa fa-recycle"></i> Purge </button> <button type="button" ng-click="onSettingsClick()" class="btn btn-sm btn-success btn-responsive" translate="REPORTS.Settings" id="btnSettings"> <i class="halflings halflings-cog"></i> Settings </button> <button type="button" ng-click="onCallTypesClick()" class="btn btn-sm btn-success btn-responsive" translate="REPORTS.tree_callreporter" id="btnCallTypes"> <i class="halflings halflings-cog"></i> Call Types </button> <button type="button" ng-click="onCallCostsClick()" class="btn btn-sm btn-success btn-responsive" translate="REPORTS.bill.title" id="btnCallCosts"> <i class="halflings halflings-cog"></i>Call Costs</button> </div> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped table-fixed" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="Name" translate="REPORTS_UI.NAME">Name</th> <th st-sort="Type" translate="REPORTS_UI.TYPE">Name</th> <th class="col-responsive" st-sort="Frequency" translate="REPORTS_UI.FREQUENCY">Name</th> <th class="col-responsive" st-sort="Status" translate="REPORTS_UI.STATUS">Name</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="item in displayedItems" ng-click="onItemEditClick(item)"> <td class="col-btn" mc-select-row="item"></td> <td>{{item.Name}}</td> <td>{{item.Type | translate }}</td> <td class="col-responsive">{{item.Frequency | translate }}</td> <td class="col-responsive">{{item.Status | translate }}</td> <td class="col-btn"><button type="button" ng-disabled="!canBeDeleted(item)" mc-stop-event ng-click="onItemDeleteClick(item)" class="btn btn-xs btn-default"><i class="fa fa-times"></i></button> </td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </div> </div> </div> </div> </list-control> </div> <div inherited-scope> <list-control api_url="ExistingReports"> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="wrapper-md" ng-controller="ExistingCallReportsCtrl"> <div class="panel panel-default"> <div class="panel-heading" translate="REPORTS_UI.DOWNLOAD_TITLE">Download</div> <div class="panel-body"> <button type="button" ng-click="onDeleteAllClick()" class="btn btn-sm btn-success btn-responsive" translate="REPORTS_UI.DELETE_ALL" id="btnDeleteAll"> </button> </div> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table st-set-filter="DownloadFilter" class="table table-striped table-fixed"> <thead> <tr> <th st-sort="Name" translate="REPORTS_UI.NAME">Name</th> <th st-sort="Date" translate="REPORTS_UI.DATE">Date</th> <th translate="REPORTS_UI.REPORT_URL">Report URL</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="item in displayedItems" st-select-row="item" st-select-mode="single" ng-click="onItemClick(item)"> <td>{{item.Name}}</td> <td>{{item.Date | mcDateFormat}}</td> <td><a href="{{item.Url}}" class="dashed_link" target="_blank" translate="REPORTS_UI.VIEW">View</a></td> <td class="col-btn"><button type="button" mc-stop-event ng-click="onItemDeleteClick(item)" class="btn btn-xs btn-default"><i class="fa fa-times"></i></button> </td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </div> </div> </div> </div> </list-control> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/call_state.html",
                '<div class="form-group"> <label class="control-label" translate="CALL_LOG.DIALOGS.FILTER.CALL_STATE">Filter answered or unanswered calls</label> <select class="form-control" ng-model="parameters.CallState.value"> <option value="All" translate="CALL_LOG.DIALOGS.FILTER.ANSWERED_AND_UNANSWERED">Answered & Unanswered</option> <option value="OnlyAnswered" translate="CALL_LOG.DIALOGS.FILTER.ANSWERED">Answered Only</option> <option value="OnlyUnanswered" translate="CALL_LOG.DIALOGS.FILTER.NOT_ANSWERED">Unanswered Only</option> </select> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/chat_state.html",
                '<div class="form-group"> <label class="control-label" translate="CALL_LOG.DIALOGS.FILTER.CALL_STATE">Filter</label> <select class="form-control" ng-model="parameters.ChatState.value"> <option value="All" translate="CALL_LOG.DIALOGS.FILTER.ANSWERED_AND_UNANSWERED">Answered & Unanswered</option> <option value="OnlyAnswered" translate="CALL_LOG.DIALOGS.FILTER.ANSWERED">Answered Only</option> <option value="OnlyUnanswered" translate="CALL_LOG.DIALOGS.FILTER.NOT_ANSWERED">Unanswered Only</option> </select> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/call_to_filter.html",
                '<div class="form-group"> <label class="control-label" translate="REPORTS_UI.FILTER_CALLS_TO">Filter Calls To</label> <select class="form-control" ng-model="parameters.CallsTo.value" name="CallsTo"> <option value="All" translate="REPORTS.reporter.rule.all">All</option> <option value="Local" translate="REPORTS.reporter.rule.local">Local</option> <option value="National" translate="REPORTS.reporter.rule.national">National</option> <option value="Mobile" translate="REPORTS.reporter.rule.mobile">Mobile</option> <option value="International" translate="REPORTS.reporter.rule.internat">International</option> </select> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/call_types.html",
                ' <div ng-controller="CallTypesController"> <ng-form name="callTypesForm"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="REPORTS.tree_callreporter_title">Call Types</h4> </div> <div class="modal-body"> <label translate="CALL_REPORTS.SETTINGS.CALL_TYPES_MSG">Specify a format to split out local/national/mobile/international calls to be used in Call Reporter filters</label> <div> <strong translate="CALL_REPORTS.SETTINGS.LOCAL">Local</strong> <div class="line line-dashed b-b line-lg"></div> <call-type-info prop="callTypes.Local" submitted="submitted"></call-type-info> </div> <div> <strong translate="CALL_REPORTS.SETTINGS.NATIONAL">National</strong> <div class="line line-dashed b-b line-lg"></div> <call-type-info prop="callTypes.National" submitted="submitted"></call-type-info> </div> <div> <strong translate="CALL_REPORTS.SETTINGS.MOBILE">Mobile</strong> <div class="line line-dashed b-b line-lg"></div> <call-type-info prop="callTypes.Mobile" submitted="submitted"></call-type-info> </div> <div> <strong translate="CALL_REPORTS.SETTINGS.INTERNATIONAL">International</strong> <div class="line line-dashed b-b line-lg"></div> <call-type-info prop="callTypes.International" submitted="submitted"></call-type-info> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="saveCallTypes()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">OK</button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </ng-form> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/call_type_info.html",
                '<ng-form name="callTypeInfo"> <div> <div class="form-group" style="display:inline-block;width:49%;padding:5px;vertical-align:top"> <label translate="CALL_REPORTS.SETTINGS.PREFIX">Prefix</label> <input type="text" class="form-control" placeholder="{{\'CALL_REPORTS.SETTINGS.PREFIX\' | translate}}" name="Prefix" focus-state error-show="submitted" call-type-range="" allow-plus="true" ng-model="prop.Prefix" maxlength="255"> <div class="errors" ng-show="callTypeInfo.Prefix.$errorShowAllowed"> <ul> <li ng-show="callTypeInfo.Prefix.$error.invalidValue"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_VALUE"></span> </li> <li ng-show="callTypeInfo.Prefix.$error.invalidRange"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_RANGE"></span> </li> <li ng-show="callTypeInfo.Prefix.$error.rangeCantBeMoreThan20"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.TO_BIG_RANGE"></span> </li> </ul> </div> </div> <div class="form-group" style="display:inline-block;width:49%;padding:5px;vertical-align:top"> <label translate="CALL_REPORTS.SETTINGS.DIGIT_LENGTH">Digit Length</label> <input type="text" class="form-control" placeholder="{{\'CALL_REPORTS.SETTINGS.DIGIT_LENGTH\' | translate}}" name="DigitsLength" focus-state error-show="submitted" call-type-range="" different-length-ranges="true" ng-model="prop.DigitsLength" maxlength="255"> <div class="errors" ng-show="callTypeInfo.DigitsLength.$errorShowAllowed"> <ul> <li ng-show="callTypeInfo.DigitsLength.$error.invalidValue"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_VALUE"></span> </li> <li ng-show="callTypeInfo.DigitsLength.$error.invalidRange"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_RANGE"></span> </li> <li ng-show="callTypeInfo.DigitsLength.$error.rangeCantBeMoreThan20"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.TO_BIG_RANGE"></span> </li> </ul> </div> </div> </div> </ng-form>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/clear_calllog_completed.html",
                '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="REPORTS_UI.CLEAR_CALL_LOG_TITLE">Clear Call Log completed</h4> </div> <div class="modal-body"> <span translate="REPORTS_UI.CALL_LOG_ROWS_DELETED" translate-values="{rows: rowsDeleted}">Clear Call Log completed. {{rowsDeleted}} rows deleted.</span> </div> <div class="modal-footer"> <button type="button" class="btn btn-primary" ng-click="$close()" translate="REPORTS.okBtn">OK</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/date_range_filter.html",
                '<date-range selected-range="parameters.DateRangeFilter.value" show-time="true" submitted="submitted" show-custom="true"></date-range> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/delete_report_request.html",
                '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title">{{deleteModalHeader}}</h4> </div> <div class="modal-body"> <span>{{deleteModalRequest}}</span> </div> <div class="modal-footer"> <button type="button" class="btn btn-primary" ng-click="$close()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete">Delete</button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/duration_filter.html",
                '<div class="form-group"> <label class="control-label" translate="REPORTS.filter_durationgrp_grptitle">Duration</label> <select class="form-control" ng-model="parameters.DurationFilter.value.DurationFilterType"> <option value="All" translate="REPORTS.filter_durationgrp_allcalls">Ringing and Talking</option> <option value="RingingOnly" translate="REPORTS.filter_durationgrp_ringing">Ringing only</option> <option value="TalkingOnly" translate="REPORTS.filter_durationgrp_talking">Talking only</option> </select> </div> <div class="form-group" ng-if="parameters.DurationFilter.value.DurationFilterType != \'All\'"> <div class="control-label"></div> <div class="complex-control"> <table> <tr> <td> <label translate="REPORTS.filter_durationgrp_betweensec"></label> </td> <td style="padding-left:5px"> <input type="number" class="form-control" ng-model="parameters.DurationFilter.value.From" ng-required="true" focus-state error-show="submitted" name="From" min="0" max="86400" style="width:100px"> </td> <td style="padding-left:5px"> <label translate="REPORTS.filter_durationgrp_seconds">Seconds</label> </td> <td style="padding-left:15px"> <label translate="REPORTS.filter_durationgrp_andsec"></label> </td> <td style="padding-left:5px"> <input type="number" class="form-control" ng-model="parameters.DurationFilter.value.To" ng-required="true" focus-state error-show="submitted" name="To" ng-min="parameters.DurationFilter.value.From" max="86400" style="width:100px"> </td> <td style="padding-left:5px"> <label translate="REPORTS.filter_durationgrp_seconds">Seconds</label> </td> </tr> <tr> <td colspan="3"> <div class="errors" ng-show="reportData.From.$errorShowAllowed"> <ul> <li ng-show="reportData.From.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> <li ng-show="reportData.From.$error.min"> <span class="halflings halflings-exclamation-sign"></span> <span translate="REPORTS_UI.VALUE_SHOULD_BE_POSITIVE"></span> </li> <li ng-show="reportData.From.$error.max"> <span class="halflings halflings-exclamation-sign"></span> <span translate="REPORTS_UI.VALUE_SHOULD_BE_LESS_THEN" translate-values="{max: 86400}"></span> </li> </ul> </div> </td> <td colspan="3"> <div class="errors" ng-show="reportData.To.$errorShowAllowed"> <ul> <li ng-show="reportData.To.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> <li ng-show="reportData.To.$error.min"> <span class="halflings halflings-exclamation-sign"></span> <span translate="REPORTS_UI.VALUE_SHOULD_BE_GREATER_THEN_FROM"></span> </li> <li ng-show="reportData.To.$error.max"> <span class="halflings halflings-exclamation-sign"></span> <span translate="REPORTS_UI.VALUE_SHOULD_BE_LESS_THEN" translate-values="{max: 86400}"></span> </li> </ul> </div> </td> </tr> </table> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/exclude_calls_abandoned_before.html",
                '<div class="form-group"> <div class="control-label"></div> <div class="form-inline clear"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="parameters.ExcludeCallsAbandonedBefore.value.ScheduleEnabled"> <i></i> <label translate="REPORTS.exclude_calls_dropped_before"></label> </label> <input type="number" class="form-control" style="width:6em;margin-left:2px!important;margin-right:2px!important" ng-model="parameters.ExcludeCallsAbandonedBefore.value.Duration" ng-required="parameters.ExcludeCallsAbandonedBefore.value.Enabled" ng-disabled="!parameters.ExcludeCallsAbandonedBefore.value.ScheduleEnabled" name="ExcludeCallsAbandonedBefore" ng-min="parameters.ExcludeCallsAbandonedBefore.value.Enabled? 1: false" ng-max="parameters.ExcludeCallsAbandonedBefore.value.Enabled? 86400: false" focus-state error-show="submitted" numbers-only> <span translate="REPOS.TEXT.SECONDS">seconds</span> </div> <div class="errors control-errors" ng-show="reportData.ExcludeCallsAbandonedBefore.$errorShowAllowed"> <ul> <li ng-show="reportData.ExcludeCallsAbandonedBefore.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> <li ng-show="reportData.ExcludeCallsAbandonedBefore.$error.min"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.INVALID_VALUE"></span> </li> <li ng-show="reportData.ExcludeCallsAbandonedBefore.$error.max"> <span class="halflings halflings-exclamation-sign"></span> <span translate="REPORTS_UI.VALUE_SHOULD_BE_LESS_THEN" translate-values="{max: 86400}"></span> </li> </ul> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/extensions_filter.html",
                '<div> <div class="form-group"> <label class="control-label" translate="CALL_REPORTS.STATISTICS.EXTENSION_FILTER">Extension filter</label> <select class="form-control" ng-model="parameters.ExtensionsFilter.value.ExtensionsFilterType" name="ExtensionsFilterType"> <option value="AllExtensions" translate="CALL_REPORTS.STATISTICS.ALL_EXTENSIONS">All extensions</option> <option value="ExtensionsFilter" translate="CALL_REPORTS.STATISTICS.EXTENSION_RANGE">Extension range</option> </select> </div> <div ng-if="parameters.ExtensionsFilter.value.ExtensionsFilterType==\'ExtensionsFilter\'"> <div class="form-group"> <div class="control-label"></div> <input type="text" class="form-control" placeholder="{{examplePlaceholder}}" ng-model="parameters.ExtensionsFilter.value.ExtensionsFilter" name="ExtensionFilter" extension-ranges-list="{{ExtensionNumberLength}}" focus-state error-show="submitted" ng-required="parameters.ExtensionsFilter.value.ExtensionsFilterType==\'ExtensionsFilter\'"> <div class="errors control-errors" ng-show="reportData.ExtensionFilter.$errorShowAllowed"> <ul> <li ng-show="reportData.ExtensionFilter.$error.invalidExtensionDigits"> <span class="halflings halflings-exclamation-sign"></span>{{"CALL_LOG.DIALOGS.FILTER.INVALID_EXTENSION_NUMBER_LENGTH" | translate:{digits:ExtensionNumberLength} }} </li> <li ng-show="reportData.ExtensionFilter.$error.invalidRange"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_RANGE"></span> </li> <li ng-show="reportData.ExtensionFilter.$error.invalidExtensionRange"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_EXTENSION_RANGE"></span> </li> <li ng-show="reportData.ExtensionFilter.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> <li ng-show="reportData.ExtensionFilter.$error.toManyNumbersInExtensionRange"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.TO_MANY_NUMBERS_IN_EXTENSION_RANGE"></span> </li> </ul> </div> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/extension_group_filter.html",
                '<div class="form-group"> <hr> <div class="row"> <div class="col-sm-2"> <button class="btn m-l-lg m-b-s btn-success" style="margin-left:3px" translate="REPORTS.add_groups" ng-click="addExtensionsClick()" type="button"> <i class="halflings halflings-plus"></i> Add Groups </button> </div> </div> <mc-load-report-items api-url="api/Reports/GroupList" mc-output="parameters.ExtensionGroupFilter.value" mc-output-possible-values="parameters.ExtensionGroupFilter.possibleValues" mc-cmm-items="extensionGroups" to-cmm="groupSelectionConverter.extensionGroups.toCmm(item)" to-report="groupSelectionConverter.extensionGroups.toReport(item)"> <set-control prop="extensionGroups" mc-title="REPORTS_UI.GROUP_LIST_DIALOG_TITLE" button-title="REPOS.BUTTONS.OK_BTN" reset-errors-signal="signals.resetErrors" error-msg="parameters.ExtensionGroupFilter.value.errorMsg" class="complex-control"> <set-control-groups external-show-event="eventObj"> </set-control-groups></set-control> </mc-load-report-items></div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/extension_list_filter.html",
                '<div class="form-group"> <hr> <div class="row"> <div class="col-sm-2"> <button class="btn m-l-lg m-b-s btn-success" style="margin-left:3px" translate="REPORTS.add_extensions" ng-click="addExtensionsClick()" type="button"> <i class="halflings halflings-plus"></i> Add Extensions </button> </div> </div> <mc-load-report-items api-url="api/Reports/ExtensionList" mc-output="parameters.ExtensionListFilter.value" mc-output-possible-values="parameters.ExtensionListFilter.possibleValues" mc-cmm-items="extensions" to-cmm="groupSelectionConverter.extension.toCmm(item)" to-report="groupSelectionConverter.extension.toReport(item)"> <set-control prop="extensions" mc-title="REPORTS_UI.EXTENSION_LIST_DIALOG_TITLE" button-title="REPOS.BUTTONS.OK_BTN" reset-errors-signal="signals.resetErrors" error-msg="parameters.ExtensionListFilter.value.errorMsg" class="complex-control"> <set-control-extensions external-show-event="eventObj"> </set-control-extensions></set-control> </mc-load-report-items></div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/graph_period.html",
                '<div ng-controller="GraphPeriod"> <div class="form-group"> <label class="control-label" translate="REPORTS_UI.TIME_SCALE">Time scale</label> <div class="form-inline"> <select class="form-control" ng-model="parameters.GraphPeriod.value.GraphPeriodType" name="GraphPeriodType"> <option value="Hour" translate="REPORTS.report_charts_hourbyhour"></option> <option value="Day" translate="REPORTS.report_charts_daybyday"></option> <option value="Month" translate="REPORTS.report_charts_monthbymonth"></option> </select> <div class="input-group"> <input type="text" class="form-control" uib-datepicker-popup="{{dateFormat}}" ng-model="parameters.GraphPeriod.value.PeriodDate" is-open="popup1.opened" focus-state error-show="submitted" less-than-date="dateOptions.maxDate" datepicker-options="dateOptions" close-text="Close" ng-required="true" name="PeriodDate"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="open1()"><i class="halflings halflings-calendar"></i></button> </span> </div> </div> <div class="errors control-errors" ng-show="reportData.PeriodDate.$errorShowAllowed"> <ul> <li ng-show="reportData.PeriodDate.$error.date"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_DATE_FORMAT"></span> </li> <li ng-show="reportData.PeriodDate.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_DATE_FORMAT"></span> </li> <li ng-show="reportData.PeriodDate.$error.invalidDateRange"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_VALUE"></span> </li> </ul> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/hide_pcalls.html",
                '<div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="parameters.HidePCalls.value"> <i></i> <span translate="REPORTS.hide_polling_calls_from_queues">Hide polling calls from Queues</span> </label> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/include_internal_calls.html",
                '<div class="form-group"> <div class="control-label"></div> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="parameters.IncludeInternalCalls.value"> <i></i> <span translate="REPORTS.include_internal_calls">Include Internal Calls</span> </label> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/chat_analysis_filter.html",
                '<div> <hr> <div class="row"> <div class="col-sm-4" style="padding-right:0!important"> <select class="form-control" ng-model="parameters.ChatAnalysisFilter.value.ChatAnalysisType" ng-change="parameters.ChatAnalysisFilter.value.RangeQueues=[];parameters.ChatAnalysisFilter.value.RangeExtensions=[]"> <option value="QueueFilter">Select Queue</option> <option value="ExtensionFilter">Select Extension</option> </select> </div> <div class="col-sm-8" style="padding-left:0!important;margin:0!important;margin-bottom:5px"> <button class="btn m-l-lg m-b-s btn-success" style="margin-left:3px" translate="REPORTS.add_queues" ng-if="parameters.ChatAnalysisFilter.value.ChatAnalysisType==\'QueueFilter\'" ng-click="addQueuesClick()" id="btnAddQueue" type="button"> <i class="halflings halflings-plus"></i> </button> <button class="btn m-l-lg m-b-s btn-success" style="margin-left:3px" translate="REPORTS.add_extensions" ng-if="parameters.ChatAnalysisFilter.value.ChatAnalysisType==\'ExtensionFilter\'" ng-click="addExtensionsClick()" id="btnAddExtension" type="button"> <i class="halflings halflings-plus"></i> </button> </div> </div> <div ng-if="parameters.ChatAnalysisFilter.value.ChatAnalysisType==\'QueueFilter\'"> <div class="form-group"> <div class="control-label"></div> <mc-load-report-items api-url="api/QueueList" mc-output="parameters.ChatAnalysisFilter.value.RangeQueues" mc-output-possible-values="parameters.ChatAnalysisFilter.possibleValues" mc-cmm-items="queues" to-cmm="groupSelectionConverter.queue.toCmm(item)" to-report="groupSelectionConverter.queue.toReport(item)"> <set-control prop="queues" mc-title="REPORTS_UI.QUEUE_LIST_DIALOG_TITLE" button-title="REPOS.BUTTONS.OK_BTN" reset-errors-signal="signals.resetErrors" error-msg="parameters.ChatAnalysisFilter.value.RangeQueues.errorMsg" class="complex-control"> <set-control-queues external-show-event="eventObj"> </set-control-queues> </set-control> </mc-load-report-items> </div> </div> <div ng-if="parameters.ChatAnalysisFilter.value.ChatAnalysisType==\'ExtensionFilter\'"> <div class="form-group"> <div class="control-label"></div> <mc-load-report-items api-url="api/Reports/ExtensionList" mc-output="parameters.ChatAnalysisFilter.value.RangeExtensions" mc-output-possible-values="parameters.ChatAnalysisFilter.possibleValues" mc-cmm-items="extensions" to-cmm="groupSelectionConverter.extension.toCmm(item)" to-report="groupSelectionConverter.extension.toReport(item)"> <set-control prop="extensions" mc-title="REPORTS_UI.EXTENSION_LIST_DIALOG_TITLE" button-title="REPOS.BUTTONS.OK_BTN" reset-errors-signal="signals.resetErrors" error-msg="parameters.ChatAnalysisFilter.value.RangeExtensions.errorMsg" class="complex-control"> <set-control-extensions external-show-event="eventObj"> </set-control-extensions> </set-control> </mc-load-report-items> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/include_queue_calls.html",
                '<div class="form-group"> <div class="control-label"></div> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="parameters.IncludeQueueCalls.value"> <i></i> <span translate="REPORTS.include_queue_calls">Include Queue Calls</span> </label> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/include_queue_agent_details.html",
                '<div class="form-group"> <div class="control-label"></div> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="parameters.IncludeAgentDetails.value"> <i></i> <span translate="REPORTS.include_queue_agent_details">Include queue agent details</span> </label> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/message.html",
                '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="{{headerTextKey}}">{{headerTextKey}}</h4> </div> <div class="modal-body"> <div style="white-space:pre-line;word-wrap:break-word;max-height:400px;overflow-y:auto">{{::messageText}}</div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$close()" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">OK</button> <button ng-if="showCancel" type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/number_filter_from.html",
                '<numbers-filter selected-filter="parameters.NumberFilterFrom.value" header-text-key="REPOS.TEXT.FROM" submitted="submitted" extension-length="ExtensionNumberLength" allow-extension-wildcards="true" example-placeholder="examplePlaceholder"></numbers-filter> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/number_filter_to.html",
                '<numbers-filter selected-filter="parameters.NumberFilterTo.value" header-text-key="REPOS.TEXT.TO" submitted="submitted" extension-length="ExtensionNumberLength" allow-billing-code="true" allow-extension-wildcards="true" example-placeholder="examplePlaceholder"></numbers-filter> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/queue_list_filter.html",
                '<div class="form-group"> <hr> <div class="row"> <div class="col-sm-2"> <button class="btn m-l-lg m-b-s btn-success" style="margin-left:3px" translate="REPORTS.add_queues" ng-click="addQueuesClick()" type="button"> <i class="halflings halflings-plus"></i> Add Queues </button> </div> </div> <mc-load-report-items api-url="api/QueueList" mc-output="parameters.QueueListFilter.value" mc-output-possible-values="parameters.QueueListFilter.possibleValues" mc-cmm-items="queues" to-cmm="groupSelectionConverter.queue.toCmm(item)" to-report="groupSelectionConverter.queue.toReport(item)"> <set-control prop="queues" mc-title="REPORTS_UI.QUEUE_LIST_DIALOG_TITLE" button-title="REPOS.BUTTONS.OK_BTN" reset-errors-signal="signals.resetErrors" error-msg="parameters.QueueListFilter.value.errorMsg" class="complex-control"> <set-control-queues external-show-event="eventObj"> </set-control-queues></set-control> </mc-load-report-items></div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/queue_list_filter_chat.html",
                '<div class="form-group"> <hr> <div class="row"> <div class="col-sm-2"> <button class="btn m-l-lg m-b-s btn-success" style="margin-left:3px" translate="REPORTS.add_queues" ng-click="addQueuesClick()" type="button"> <i class="halflings halflings-plus"></i> Add Queues </button> </div> </div> <mc-load-report-items api-url="api/QueueList" mc-output="parameters.QueueListFilterChat.value" mc-output-possible-values="parameters.QueueListFilterChat.possibleValues" mc-cmm-items="queues" to-cmm="groupSelectionConverter.queue.toCmm(item)" to-report="groupSelectionConverter.queue.toReport(item)"> <set-control prop="queues" mc-title="REPORTS_UI.QUEUE_LIST_DIALOG_TITLE" button-title="REPOS.BUTTONS.OK_BTN" reset-errors-signal="signals.resetErrors" error-msg="parameters.QueueListFilterChat.value.errorMsg" class="complex-control"> <set-control-queues external-show-event="eventObj"> </set-control-queues></set-control> </mc-load-report-items></div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/trunk_list_filter.html",
                '<div class="form-group"> <hr> <div class="row"> <div class="col-sm-2"> <button class="btn m-l-lg m-b-s btn-success" style="margin-left:3px" translate="REPORTS.add_trunks" ng-click="addTrunksClick()" type="button"> <i class="halflings halflings-plus"></i> Add Trunks </button> </div> </div> <mc-load-report-items api-url="api/TrunkList/GetTrunkList" mc-output="parameters.TrunkListFilter.value" mc-output-possible-values="parameters.TrunkListFilter.possibleValues" mc-cmm-items="trunks" to-cmm="groupSelectionConverter.trunk.toCmm(item)" to-report="groupSelectionConverter.trunk.toReport(item)"> <set-control prop="trunks" mc-title="REPORTS_UI.TRUNK_LIST_DIALOG_TITLE" button-title="REPOS.BUTTONS.OK_BTN" reset-errors-signal="signals.resetErrors" error-msg="parameters.TrunkListFilter.value.errorMsg" class="complex-control"> <set-control-trunks external-show-event="eventObj"> </set-control-trunks></set-control> </mc-load-report-items></div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/chatsource_filter.html",
                '<div class="form-group"> <label>Channels</label> <select class="form-control" ng-model="parameters.ChatSourceFilter.value" name="callFilter"> <option value="all" selected="selected">All</option> <option value="facebook">Facebook</option> <option value="smsrcs">SMS/MMS</option> <option value="webrtc">Live Chat</option> <option value="whatsapp">WhatsApp</option> </select> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/report_parameters.html",
                '<div class="hbox hbox-auto-xs hbox-auto-sm" ng-controller="ReportParametersController"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="CALL_REPORTS.TITLE">Call Reports</label> <button uib-tooltip="{{scheduleTooltip() | translate}}" class="btn m-l-lg m-b-xs btn-success" ng-click="scheduleReport()" translate="CALL_REPORTS.STATISTICS.SCHEDULE_REPORT_BTN" type="button"><i class="icon icon-clock m-r-xs"></i> Schedule Report </button> <button class="btn m-b-xs w-xs btn-dark" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button">Cancel</button> </div> <div class="wrapper-md"> <ng-form name="reportData" novalidate="novalidate"> <div class="panel-default"> <uib-accordion close-others="oneAtATime"> <div uib-accordion-group="" heading="Call Cost" ng-init="item.isOpen = true" is-open="item.isOpen" class="panel-default"> <uib-accordion-heading> <span translate="CALL_REPORTS.TITLE">Call Reports</span> <i class="pull-right fa fa-angle-right" ng-class="{\'fa-angle-down\': item.isOpen, \'fa-angle-right\': !item.isOpen}"></i> </uib-accordion-heading> <div class="form-group"> <label class="control-label" translate="CALL_REPORTS.STATISTICS.TYPE">Type</label> <select class="form-control" ng-model="MainParams.ReportType" name="MainParams.ReportType"> <option value="CallLogs" translate="REPORTS.CallLogs">Call Reports</option> <option value="ExtensionsStatistics" translate="REPORTS.ExtensionsStatistics">Extension Statistic Report</option> <option value="CallCostByExtensionGroup" translate="REPORTS.CallCostByExtensionGroup">Call Cost By Extension Group</option> <option value="OutboundCallsByType" translate="REPORTS.OutboundCallsByType">Call Cost By Call Type</option> <option value="RingGroupStatistics" translate="REPORTS.RingGroupStatistics">Ring Group Statistics</option> <option value="UserActivity" translate="REPORTS.UserActivity">User Activity (Graph)</option> <option value="OutgoingIncoming" translate="REPORTS.OutgoingIncoming">Call Distribution (Graph)</option> <option value="AverageWaitingTime" translate="REPORTS.AverageWaitingTime">Average Queue Waiting Time (Graph)</option> <option value="GraphQueueAnsweredCalls" translate="REPORTS.GraphQueueAnsweredCalls">Queue Answered Calls (Graph)</option> <option value="GraphQueueUnansweredCalls" translate="REPORTS.GraphQueueUnansweredCalls">Queue Unanswered Calls (Graph)</option> <option value="GraphQueueAllCalls" translate="REPORTS.GraphQueueAllCalls">Queue Answered / Unanswered Calls (Graph)</option> <option value="QueuePerformanceOverview" translate="REPORTS.QueuePerformanceOverview">Queue Performance Overview</option> <option value="DetailedQueueStatistics" translate="REPORTS.DetailedQueueStatistics">Detailed Queue Statistics</option> <option value="TeamQueueGeneralStatistics" translate="REPORTS.TeamQueueGeneralStatistics">Team Queue General Statistics</option> <option value="TeamQueueLostCalls" translate="REPORTS.TeamQueueLostCalls">Team Queue Lost Calls</option> <option value="AbandonedQueueCalls" translate="REPORTS.AbandonedQueueCalls">Abandoned Queue Calls</option> <option value="QueueAnsweredCallsByWaitTime" translate="REPORTS.QueueAnsweredCallsByWaitTime">Queue Answered Calls by Wait Time</option> <option value="StatisticSLA" translate="REPORTS.StatisticSLA">Statistic SLA</option> <option value="BreachesSLA" translate="REPORTS.BreachesSLA">Breaches SLA</option> <option value="QueueCallbacks" translate="REPORTS.QueueCallbacks">Queue Callbacks</option> <option value="QueueFailedCallbacks" translate="REPORTS.QueueFailedCallbacks">Queue Failed Callbacks</option> <option value="AgentInQueueStatistics" translate="REPORTS.AgentInQueueStatistics">Agent In Queue Statistics</option> <option value="AgentLoginHistory" translate="REPORTS.AgentLoginHistory">Agent Login History</option> <option value="TrunkDid" translate="REPORTS.TrunkDid">Trunk / DID</option> <option disabled="" translate="REPORTS.MessagingReports">-----------Messaging Reports-----------</option> <option value="ChatPerformanceStatistics" translate="REPORTS.ChatPerformanceStatistics">Queue Chat Performance</option> <option value="QueueAgentsChatStatistics" translate="REPORTS.QueueAgentsChatStatistics">Queue Agents Chat Statistics</option> <option value="AbandonedChatsStatistics" translate="REPORTS.AbandonedChatsStatistics">Abandoned Chats</option> </select> </div> <div class="form-group"> <label class="control-label" translate="REPORTS_UI.NAME">Name</label> <input type="text" class="form-control" ng-model="MainParams.ReportName" maxlength="128" name="ReportName" prop="" mc-title="REPORTS_UI.NAME" placeholder="{{\'REPORTS_UI.NAME\' | translate}}"> </div> <div ng-include="\'tpl/call_reports/schedule_report.html\'"></div> <div ng-repeat="item in reportParametersForReportTypes[MainParams.ReportType] | filter:isParameterEnabled"> <div ng-include="item.url"></div> </div> </div> </uib-accordion> </div> </ng-form> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/report_settings.html",
                ' <div ng-controller="ReportSettingsController"> <ng-form name="reportSettingsForm"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="REPORTS.report_settings_grptitle">Call Cost</h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="REPORTS.report_settings_hlplbl">The following settings will be used in all reports</label> </div> <div> <div style="display:inline-block;vertical-align:middle;padding:10px;width:200px"> <label class="i-checks clear"> <input type="radio" id="UseDefaultLogo" ng-model="LogoSettings.UseDefaultLogo" data-ng-value="true"> <i></i> <span translate="REPORTS.report_settings_3cxlogo">Use default 3CX Logo</span> </label> </div> <div style="display:inline-block;vertical-align:middle;padding:10px"> <img ng-src="api/Reports/LogoImage?imageName=3cx_logo.bmp" style="height:34px"> </div> </div> <div> <div style="display:inline-block;vertical-align:middle;padding:10px;width:200px"> <label class="i-checks clear"> <input type="radio" id="UseCustomLogo" ng-model="LogoSettings.UseDefaultLogo" data-ng-value="false"> <i></i> <span translate="REPORTS.report_settings_customlogo">Use Custom Logo</span> </label> </div> <div style="display:inline-block;vertical-align:middle;padding:10px;width:20%"> <img ng-if="LogoSettings.CustomLogoName" ng-src="{{clientLogoPath? clientLogoPath: \'api/Reports/LogoImage?imageName=\' + LogoSettings.CustomLogoName}}" style="height:34px"> </div> </div> <div style="padding:5px 0 20px 0"> <label translate="REPORTS.report_settings_selectlogo">Browse Logo</label> <div class="input-group"> <input type="text" class="form-control" ng-model="LogoSettings.CustomLogoName" ng-disabled="true"> <input id="fileInput" name="fileInput" type="file" class="hide" accept=".jpg,.jpeg,.png,.gif,.bmp"> <span class="input-group-btn"> <button type="button" class="btn btn-default ng-scope" ng-click="onUploadClick()" translate="REPOS.BUTTONS.UPLOAD_BTN" id="btnUpload"> <i class="halflings halflings-upload"></i>Upload </button> </span> </div> <div class="errors" ng-show="LogoSettings.errorMsg && !LogoSettings.UseDefaultLogo"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> {{LogoSettings.errorMsg}}</li> </ul> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="saveReportSettings()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save</button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </ng-form> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/ring_group_list_filter.html",
                '<div class="form-group"> <hr> <div class="row"> <div class="col-sm-2"> <button class="btn m-l-lg m-b-s btn-success" style="margin-left:3px" translate="REPORTS.add_ring_groups" ng-click="addRingGroupsClick()" type="button"> <i class="halflings halflings-plus"></i> Add Ring Groups </button> </div> </div> <mc-load-report-items api-url="api/RingGroupList" mc-output="parameters.RingGroupListFilter.value" mc-output-possible-values="parameters.RingGroupListFilter.possibleValues" mc-cmm-items="ringGroups" to-cmm="groupSelectionConverter.ringGroups.toCmm(item)" to-report="groupSelectionConverter.ringGroups.toReport(item)"> <set-control prop="ringGroups" mc-title="REPORTS_UI.RING_GROUP_LIST_DIALOG_TITLE" button-title="REPOS.BUTTONS.OK_BTN" reset-errors-signal="signals.resetErrors" error-msg="parameters.RingGroupListFilter.value.errorMsg" class="complex-control"> <set-control-groups external-show-event="eventObj"> </set-control-groups></set-control> </mc-load-report-items></div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/schedule_report.html",
                '<ng-form name="scheduleData" ng-controller="ScheduleReportCtrl"> <div class="form-group"> <label class="control-label" translate="CALL_REPORTS.DIALOGS.SCHEDULE_REPORT.REPORT_FORMAT">Report format</label> <select class="form-control" ng-model="ScheduleParams.DocumentType" name="DocumentType"> <option value="Html" ng-if="isAvailableDocumentType(MainParams.ReportType, \'Html\')" translate="REPORTS.report_format_HTML">HTML file</option> <option value="Csv" ng-if="isAvailableDocumentType(MainParams.ReportType, \'Csv\')" translate="REPORTS.report_format_CSV">CSV file</option> </select> </div> <div class="form-group"> <label class="control-label" translate="REPORTS_UI.EMAIL_ADDRESS">E-mail addresses</label> <input type="text" multiple-emails="" class="form-control" ng-model="ScheduleParams.SendToEmail" name="SendToEmail" prop="" focus-state error-show="submitted" ng-required="true" mc-title="CALL_REPORTS.DIALOGS.SCHEDULE_REPORT.SEND_REPORT_TO" placeholder="{{\'CALL_REPORTS.DIALOGS.SCHEDULE_REPORT.SEND_REPORT_TO\' | translate}}" maxlength="254"> <div class="errors control-errors" ng-show="scheduleData.SendToEmail.$errorShowAllowed"> <ul> <li ng-show="scheduleData.SendToEmail.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> <li ng-show="scheduleData.SendToEmail.$error.multipleEmails"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_EMAIL_LIST"></span> </li> </ul> </div> </div> <div class="form-group"> <label class="control-label" translate="CALL_REPORTS.DIALOGS.SCHEDULE_REPORT.FREQUENCY">Frequency</label> <select class="form-control" ng-model="ScheduleParams.ReportFrequency" name="ReportFrequency"> <option value="Once" translate="REPOS.TEXT.ONE_TIME">One time now</option> <option value="Daily" translate="REPOS.TEXT.DAILY">Daily</option> <option value="FirstDayOfWeek" translate="REPOS.TEXT.FIRST_DAY_OF_WEEK">First day of week</option> <option value="Weekly" translate="REPOS.TEXT.WEEKLY">Weekly</option> <option value="Every2Weeks" translate="REPOS.TEXT.Every2Weeks">Every 2 weeks</option> <option value="FirstDayOfMonth" translate="REPOS.TEXT.FirstDayOfMonth">First day of the month</option> </select> </div> <div class="form-group" ng-if="ScheduleParams.ReportFrequency==\'Weekly\' || ScheduleParams.ReportFrequency==\'Every2Weeks\'"> <div class="control-label"></div> <select class="form-control" ng-model="ScheduleParams.ReportDayOfWeek" name="ReportDayOfWeek"> <option value="Sunday" translate="REPOS.TEXT.SUNDAY">Sunday</option> <option value="Monday" translate="REPOS.TEXT.MONDAY">Monday</option> <option value="Tuesday" translate="REPOS.TEXT.TUESDAY">Tuesday</option> <option value="Wednesday" translate="REPOS.TEXT.WEDNESDAY">Wednesday</option> <option value="Thursday" translate="REPOS.TEXT.THURSDAY">Thursday</option> <option value="Friday" translate="REPOS.TEXT.FRIDAY">Friday</option> <option value="Saturday" translate="REPOS.TEXT.SATURDAY">Saturday</option> </select> </div> <div class="form-group" ng-if="ScheduleParams.ReportFrequency !== \'Once\'" style="display:flex;align-items:center"> <label class="control-label"></label> <div style="display:inline-block"> <div uib-timepicker ng-model="ScheduleParams.ReportGenerationTime" hour-step="1" mstep="1" show-meridian="false"></div> </div> </div> <div class="form-group" ng-if="!ScheduleParams.ReportGenerationTime && ScheduleParams.ReportFrequency !== \'Once\'"> <div class="errors control-errors" aria-hidden="false" style=""> <ul> <li aria-hidden="false"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_TIME" class="ng-scope">Invalid Time</span> </li> </ul> </div> </div> </ng-form> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/select_agents_by_queue.html",
                '<div class="form-group"> <div class="row"> <div class="col-sm-2"> <button class="btn m-l-lg m-b-s btn-success" style="margin-left:3px" translate="REPORTS.add_agents" ng-click="addAgentsClick()" type="button"> <i class="halflings halflings-plus"></i> Add Agents </button> </div> </div> <mc-load-report-items api-url="api/Reports/QueueAgents" mc-output="parameters.QueueAgents.value" mc-output-possible-values="parameters.QueueAgents.possibleValues" mc-cmm-items="agents" to-cmm="groupSelectionConverter.agent.toCmm(item)" to-report="groupSelectionConverter.agent.toReport(item)" parent-list-id="parameters.Queue.value.Id"> <set-control prop="agents" mc-title="REPORTS_UI.AGENT_LIST_DIALOG_TITLE" button-title="REPOS.BUTTONS.OK_BTN" reset-errors-signal="signals.resetErrors" error-msg="parameters.QueueAgents.value.errorMsg" class="complex-control"> <set-control-agents external-show-event2="eventObj2"> </set-control-agents></set-control> </mc-load-report-items></div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/select_queue.html",
                '<select-item api-url="api/QueueList" fix-number-to-id="true" prop="parameters.Queue.value" header-translate-key="REPORTS_UI.SELECT_QUEUE" all-items-name="(MainParams.ReportType != \'AgentLoginHistory\' ? \'REPORTS.report_queue_allqueue\' : \'\') | translate"> </select-item> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/call_reports/users_filter.html",
                '<ng-form name="numberRangeForm"> <hr> <div class="row"> <div class="col-sm-4" style="padding-right:0!important"> <select class="form-control" ng-model="parameters.UserFilter.value.UserFilterType" ng-change="parameters.UserFilter.value.Range=\'\';parameters.UserFilter.value.RangeGroups=[]"> <option value="ExtensionRange" translate="CALL_REPORTS.STATISTICS.EXTENSION_RANGE">Extension range </option> <option value="ExtensionGroups" translate="REPORTS_UI.EXTENSION_GROUPS">Extension Groups</option> </select> </div> <div class="col-sm-8" style="padding-left:0!important;margin:0!important;margin-bottom:5px"> <button class="btn m-l-lg m-b-s btn-success" style="margin-left:3px" translate="REPOS.BUTTONS.ADD_BTN" ng-if="parameters.UserFilter.value.UserFilterType==\'ExtensionGroups\'" ng-click="addGroupsClick()" id="btnAdd" type="button"> <i class="halflings halflings-plus"></i> </button> </div> <div ng-if="parameters.UserFilter.value.UserFilterType==\'ExtensionRange\'"> <div class="control-label"></div> <div class="col-sm-8" style="padding-left:0"> <input type="text" class="form-control" placeholder="{{examplePlaceholder}}" ng-required="true" focus-state="" error-show="submitted" name="extensionRangeValue" ng-model="parameters.UserFilter.value.Range" extension-ranges-list="{{ExtensionNumberLength}}" style="margin-left:3px"> <div class="errors control-errors" ng-show="numberRangeForm.extensionRangeValue.$errorShowAllowed"> <ul> <li ng-show="numberRangeForm.extensionRangeValue.$error.invalidExtensionDigits"> <span class="halflings halflings-exclamation-sign"></span> {{"CALL_LOG.DIALOGS.FILTER.INVALID_EXTENSION_NUMBER_LENGTH" | translate:{digits:ExtensionNumberLength} }} </li> <li ng-show="numberRangeForm.extensionRangeValue.$error.invalidRange"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_RANGE"></span> </li> <li ng-show="numberRangeForm.extensionRangeValue.$error.invalidExtensionRange"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_EXTENSION_RANGE"></span> </li> <li ng-show="numberRangeForm.extensionRangeValue.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.EXT_FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> </ul> </div> </div> </div> </div> <div ng-if="parameters.UserFilter.value.UserFilterType==\'ExtensionGroups\'"> <div class="form-group"> <div class="control-label"></div> <mc-load-report-items api-url="api/Reports/GroupList" mc-output="parameters.UserFilter.value.RangeGroups" mc-output-possible-values="parameters.UserFilter.possibleValues" mc-cmm-items="extensionGroups" to-cmm="groupSelectionConverter.extensionGroups.toCmm(item)" to-report="groupSelectionConverter.extensionGroups.toReport(item)"> <set-control prop="extensionGroups" mc-title="EXTENSION_GROUPS.EDITOR.GENERAL.DIALOGS.ADD_MEMBERS.SELECT_GROUP_MEMBERS_TO_ADD" button-title="REPOS.BUTTONS.OK_BTN" reset-errors-signal="signals.resetErrors" error-msg="parameters.UserFilter.value.RangeGroups.errorMsg" class="complex-control"> <set-control-groups external-show-event="eventObj"> </set-control-groups></set-control> </mc-load-report-items></div> </div> </ng-form> '
              ),
          ]);
      const Zi = "js/app/call_log/pagination.html";
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            Zi,
            '<ul class="pagination" ng-show="numPages > 1"> <li ng-class="{disabled: currentPage == 1}"> <a ng-click="selectPage(currentPage-1)" aria-label="Previous"> <span aria-hidden="true"><i class="fa fa-angle-left"></i></span> </a> </li> <li ng-show="pages.indexOf(1) == -1"> <a ng-click="selectPage(1)">1</a> </li> <li ng-show="pages.indexOf(2) == -1"> <a ng-click="selectPage(pages[0])">...</a> </li> <li ng-repeat="page in pages" ng-class="{active: page == currentPage}"> <a ng-click="selectPage(page)">{{ $last && (page != currentPage) ? \'Next page\' : page }}</a> </li> <li ng-class="{disabled: currentPage == numPages}"> <a ng-click="selectPage(currentPage+1)" aria-label="Next"> <span aria-hidden="true"><i class="fa fa-angle-right"></i></span> </a> </li> </ul>'
          ),
      ]);
      const Ft = Zi;
      var md =
        '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3">Chat Logs</label> </div> <div class="wrapper-md" ng-controller="ChatMessagesController"> <div class="panel panel-default"> <div class="panel-heading" translate="CHATS.CHAT_CONVERSATIONS">Chat Conversations</div> <div class="panel-body" sticky-to-top> <button type="button" data-toggle="modal" ng-click="onClickFilter()" ng-disabled="isLoading" id="btnFilter" class="btn btn-sm btn-success btn-responsive" translate="CALL_LOG.FILTER_BTN"> <i class="fa fa-filter"></i> Filter </button> <i>{{filterUrl()}}</i> <export-control ng-if="chatLogActionsEnabled()" Url="Chat" parameters="currentFilter"></export-control> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="chatMessagesPurge()" ng-disabled="!chatLogActionsEnabled()" translate="SYSTEM_STATUS.EVENT_LOG.EVENT_LOG_WINDOW.PURGE_BTN"> <i class="fa fa-recycle"></i> Purge </button> <button id="btnChatLogsSettings" type="button" translate="REPOS.BUTTONS.SETTINGS_BTN" ng-click="onClickSettings()" ng-disabled="!chatLogActionsEnabled()" class="btn btn-sm btn-success btn-responsive"> <i class="fa fa-gear"></i> <span>Settings</span> </button> </div> <div style="padding:8px;border-top:1px solid #ddd" class="panel-body"> <mc-search mc-disabled="isLoading" search-filter="searchFilter" on-search="textFilterChanged()" style="display:block"></mc-search> </div> <table id="chatsTable" st-pipe="loadData" st-table="displayedItems" class="table table-striped" style="width:100%;table-layout:fixed"> <thead> <tr> <th translate="CHATS.TBL_HEADING_CREATED_AT">Created Date</th> <th translate="CHATS.TBL_HEADING_CREATED_TYPE">Type</th> <th translate="CHATS.FROM_TITLE">From</th> <th translate="CHATS.TO_TITLE">To</th> <th style="width:60px"></th> </tr> </thead> <tbody ng-show="!isLoading"> <tr ng-repeat="row in displayedItems track by row.ChatConversationId" style="background-color:#f9f9f9" data-id="{{row.ChatConversationId}}"> <td>{{::row.TimeSent | mcDateFormat}}</td> <td> {{getChatTypeTranslation(row) | translate}} </td> <td> <span ng-if="showNumber(row)">{{::row.FromName + \' (\' + row.FromNo + \')\'}}</span> <span ng-if="!showNumber(row)">{{row.FromName !== \'\' ? row.FromName : \'(\' + row.FromNo + \')\'}}</span> </td> <td is-ellipsis-active="row.toEllipsis" style="overflow:hidden;text-overflow:ellipsis;white-space:nowrap" ng-click="row.toEllipsis.active ? rowEllipsisClick(row, row.toEllipsis, row.Recepients, \'CHATS.TO_TITLE\') : \'\'"> <a>{{::row.Recepients}}</a> </td> <td> <button title="{{\'CHATS.VIEW_MESSAGE\' | translate}}" type="button" ng-click="onChatConversation(row)" class="btn btn-sm btn-default"> <i class="halflings halflings-eye-open"></i></button> </td> </tr> </tbody> <tfoot> <tr> <td colspan="5" class="text-center"> <div ng-show="!isLoading" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="8" st-template="' +
        nt()(Ft) +
        '" st-page-change="onPageSwitch(newPage)"></div> </td> </tr> </tfoot> </table> </div> </div> </div> ';
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) => t.put("tpl/chats/chat_messages.html", md),
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/add-button-control.html",
                '<button type="button" class="btn btn-success btn-sm" ng-click="goToState()"> <i class="halflings halflings-plus"></i> <span translate="{{::text}}"></span> </button>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/allowed-country-code-control.html",
                '<div> <div class="panel panel-default" ng-repeat="continent in countryCodeByContinent"> <div class="panel-heading" ng-hide="prop.hide"> <label class="i-checks m-t-xs m-r font-bold"> <input type="checkbox" ng-model="continent.isSelected" ng-model-options="{getterSetter: true}"> <i></i> <span ng-class="(continent.IsOpened) ? \'continent_label_active\' : \'continent_label\'" ng-click="continent.IsOpened = !continent.IsOpened"> <a>{{continent._str}}</a> </span> </label> <i ng-class="(continent.IsOpened) ? \'halflings-chevron-up\' : \'halflings-chevron-down\'" ng-click="continent.IsOpened = !continent.IsOpened" class="indicator halflings pull-right m-t-xs"> </i> </div> <div class="panel-body" ng-if="continent.IsOpened"> <table class="table table-striped"> <tbody> <tr ng-repeat="country in continent.Countries" class="country_row" ng-click="country.rowClickHandler()"> <td> <label class="i-checks m-t-xs m-r" ng-click="$event.preventDefault();"> <input type="checkbox" ng-checked="country._isSelected == true"> <i></i> <span>{{country._str}} ({{country.Id}})</span></label> </td> </tr> </tbody> </table> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/button-control.html",
                '<button type="button" class="btn btn-sm btn-default" ng-click="click()" ng-disabled="disabled"> <i class="glyphicon {{icon}}"></i> <span translate="{{::text}}"></span> </button>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/button-dialog-control.html",
                '<button type="button" data-toggle="modal" class="btn btn-sm btn-default" ng-disabled="disabled" ng-click="click()"> <i class="glyphicon {{icon}}"></i> <span translate="{{::text}}"></span> </button> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/checkbox-control-design.html",
                '<div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="prop" ng-disabled="mcDisabled"> <i></i> <span translate="{{::mcTitle}}"></span></label> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/checkbox-control-filter.html",
                '<div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="prop" ng-change="change()"> <i></i> <span translate="{{::mcTitle}}"></span></label> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/checkbox-control-header.html",
                '<div class="panel-heading" ng-hide="prop.hide"> <label class="i-checks m-t-xs m-r" style="margin:0!important"> <input type="checkbox" ng-model="prop.value" ng-model-options="{getterSetter: true}" ng-disabled="prop.disabled" ng-indeterminate="prop"> <i></i> <span translate="{{::mcTitle}}"></span> <span ng-if="availableProEnterprise" translate="REPOS.TEXT.AVAILABLE_PROF_ENTERPRISE"></span> </label> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/checkbox-control.html",
                '<div ng-class="{\'form-group\': !removeClass}" ng-hide="prop.hide"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="prop.value" ng-model-options="{getterSetter: true}" ng-disabled="prop.disabled" ng-indeterminate="prop"> <i></i> <span translate="{{::mcTitle}}" translate-values="{{mcTitleValues}}"></span> <span ng-if="informationLink"> <a href="{{informationLink | translate}}" target="_blank" class="dashed_link"> <span translate="REPOS.TEXT.CLICK_HERE_MORE_INFO"></span> </a> </span> <span ng-if="availableProEnterprise" translate="REPOS.TEXT.AVAILABLE_PROF_ENTERPRISE"></span> </label> <div class="errors" ng-if="prop.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{prop.errorMsg}} </li> </ul> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/checkbox-switch.html",
                '<div class="onoffswitch" ng-hide="prop.hide"> <input type="checkbox" class="onoffswitch-checkbox" id="myonoffswitch" ng-model-options="{getterSetter: true}" ng-model="prop.value" ng-disabled="prop.disabled"> <label class="onoffswitch-label" for="myonoffswitch"></label> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/date_range.html",
                '<div> <ng-form name="dateRangeForm"> <div class="form-group"> <label class="control-label" translate="CALL_REPORTS.STATISTICS.RANGE">Range</label> <select class="form-control" ng-model="selectedRange.RangeType" name="RangeType"> <option ng-if="notLimitedOptionNameKey" value="NoLimit" translate="{{notLimitedOptionNameKey}}"></option> <option value="Today" translate="REPOS.TEXT.TODAY">Today</option> <option value="Yesterday" translate="REPOS.TEXT.YESTERDAY">Yesterday</option> <option value="LastWeek" translate="REPOS.TEXT.LAST_WEEK">Last week</option> <option value="LastSevenDays" translate="REPOS.TEXT.LAST_7_DAYS">Last 7 days</option> <option value="LastMonth" translate="REPOS.TEXT.LAST_MONTH">Last month</option> <option value="LastThirtyDays" translate="REPOS.TEXT.LAST_30_DAYS">Last 30 days</option> <option ng-if="showDays90" value="LastNinetyDays" translate="REPOS.TEXT.LAST_90_DAYS">Last 90 days</option> <option ng-if="showCustom" value="Custom" translate="REPORTS.period_custom">Custom</option> </select> </div> <div ng-if="selectedRange.RangeType==\'Custom\'" class="form-group"> <div class="control-label"></div> <table> <tr> <td> <label translate="REPOS.TEXT.FROM">From</label> </td> <td style="padding-left:5px"> <p class="input-group" style="margin-bottom:0"> <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="selectedRange.CustomDateFrom" is-open="fromOpened" datepicker-options="dateOptions" close-text="Close" ng-required="true" name="CustomDateFrom" focus-state error-show="submitted"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="fromOpened = true"><i class="halflings halflings-calendar"></i></button> </span> </p> </td> <td ng-if="showTime" style="padding-left:5px"> <div uib-timepicker ng-model="selectedRange.CustomDateFrom" ng-change="changed()" hour-step="1" mstep="1" show-meridian="false" name="CustomDateFromTime" error-show="submitted"></div> </td> <td style="padding-left:5px"> <label translate="REPOS.TEXT.TO"> To</label> </td> <td style="padding-left:5px"> <p class="input-group" style="margin-bottom:0"> <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="selectedRange.CustomDateTo" is-open="toOpened" datepicker-options="dateOptions" close-text="Close" ng-required="true" name="CustomDateTo" focus-state error-show="submitted"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="toOpened = true"><i class="halflings halflings-calendar"></i></button> </span> </p> </td> <td ng-if="showTime" style="padding-left:5px"> <div uib-timepicker ng-model="selectedRange.CustomDateTo" ng-change="changed()" hour-step="1" mstep="1" show-meridian="false" name="CustomDateToTime" error-show="submitted"></div> </td> </tr> <tr> <td colspan="3"> <div class="errors" ng-show="isErrorAllowed() && (dateRangeForm.CustomDateFrom.$error.parse || dateRangeForm.CustomDateFrom.$error.required)"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_DATE_FORMAT"></span> </li> </ul> </div> </td> <td colspan="3" style="padding-left:5px"> <div class="errors" ng-show="isErrorAllowed() && (dateRangeForm.CustomDateTo.$error.parse || dateRangeForm.CustomDateTo.$error.required)"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_DATE_FORMAT"></span> </li> </ul> </div> </td> </tr> <tr> <td colspan="6"> <div class="errors" ng-show="isErrorAllowed() && (dateRangeForm.CustomDateTo.$error.invalidDateRange || (showTime && dateRangeForm.CustomDateToTime.$error.invalidTimeRange))"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_TIME_RANGE"></span> </li> </ul> </div> </td> </tr> </table> </div> </ng-form> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/did-control.html",
                '<panel mc-title="EXTENSIONS.EDITOR.GENERAL.DIRECT_DID_TITLE"> <p class="m-b" translate="EXTENSIONS.EDITOR.GENERAL.DIRECT_DID_INFO">Configure a direct number for calls</p> <set-control prop="$ctrl.prop" mc-title="EXTENSIONS.EDITOR.GENERAL.SELECT_DID" button-title="REPOS.BUTTONS.OK_BTN"> <set-control-dids> </set-control-dids> </set-control> </panel> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/editor-control.html",
                '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="{{::mcTitle}}"></label> <button class="btn m-l-lg m-b-xs w-xs btn-success" uib-tooltip="{{(activeObject.licenseRestricted ? ((licenseRestrictionText == undefined)?\'REPOS.TEXT.PROFESSIONAL_REQUIRED\':licenseRestrictionText) : \'\') | translate}}" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button">Save</button> <button class="btn m-b-xs w-xs btn-dark" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button">Cancel</button> <help-button ng-if="helpUrl" url="{{::helpUrl | translate}}"></help-button> </div> <div class="panel-body" in-transclude=""></div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/general-editor-control.html",
                '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="{{::mcTitle}}"></label> <button class="btn m-l-lg m-b-xs w-xs btn-success" uib-tooltip="{{(activeObject.licenseRestricted ? ((licenseRestrictionText == undefined)?\'REPOS.TEXT.PROFESSIONAL_REQUIRED\':licenseRestrictionText) : \'\') | translate}}" ng-click="saveClick();" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button">Save</button> <button class="btn m-b-xs w-xs btn-dark" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button">Cancel</button> <help-button ng-if="helpUrl" url="{{::helpUrl | translate}}"></help-button> </div> <div class="panel-body" in-transclude=""></div> </div> '
              ),
          ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "tpl/controls/export-control.html",
            '<button type="button" class="btn btn-sm btn-default btn-responsive" ng-disabled="$ctrl.disable" translate="REPOS.BUTTONS.EXPORT_BTN" id="btnExport" ng-click="$ctrl.onExportClick()"> <i class="halflings halflings-save"></i> Export </button> '
          ),
      ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "tpl/controls/import-control-inline.html",
              '<a ng-click="onImportClick()"> <span translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_CSV">Import CSV</span> </a> <input id="fileInput" name="fileInput" type="file" class="hide" accept=".csv">'
            ),
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/import-control.html",
                '<input id="fileInput" name="fileInput" type="file" class="hide" accept="{{mcAccept}}"> <button type="button" class="btn btn-sm btn-default btn-responsive" translate="REPOS.BUTTONS.IMPORT_BTN" id="btnImport" ng-click="onImportClick()"> <i class="halflings halflings-save"></i> Import </button> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/modal-control.html",
                '<div class="modal fade" role="dialog"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title">{{::mcTitle}}</h4> </div> <div ng-transclude></div> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/no-answer-destination-control.html",
                '<div class="form-group"> <select-enum-control prop="prop.DestinationType"></select-enum-control> </div> <div ng-show="inboundRulesInOffice == \'DestinationType.External\'"> <div class="form-group"> <text-control prop="prop.ExternalNumber" placeholder="External number"></text-control> </div> </div> <div ng-show="inboundRulesInOffice ==\'DestinationType.Extension\' || inboundRulesInOffice ==\'DestinationType.RoutePoint\' || inboundRulesInOffice==\'DestinationType.VoiceMail\' || inboundRulesInOffice==\'DestinationType.IVR\' || inboundRulesInOffice==\'DestinationType.QueueOrRingGroup\'"> <div class="form-group"> <select-control prop="prop.Destination" display="Name"></select-control> </div> </div> <div class="alert alert-info" role="alert" ng-if="prop.DestinationType.selected === \'DestinationType.VoiceMail\' && (prop.Destination.selected.Type === \'RingGroup\' || prop.Destination.selected.Type === \'Queue\')"> <span class="halflings halflings-info-sign"></span> {{\'EXTENSIONS.EDITOR.FORWARDING_RULES.RING_GROUP_VMAIL\'|translate}} </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/number-control.html",
                '<div class="form-group m-b" ng-hide="prop.hide" ng-class="prop.class"> <label ng-show="mcTitle != undefined" translate="{{::mcTitle}}"></label> <input type="number" class="form-control" style="width:{};" min="{{minimum ? minimum : 0}}" max="{{maximum ? maximum : 1000000000}}" numbers-only placeholder="{{place_holder}}" ng-click="setFocus()" ng-model="prop.value" ng-model-options="{getterSetter: true, updateOn: \'blur\'}" ng-disabled="prop.disabled" required> <div class="errors" ng-if="prop.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{prop.errorMsg}} </li> </ul> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/numbers_filter.html",
                '<ng-form name="numberRangeForm"> <div class="form-group"> <label class="control-label" translate="{{headerTextKey}}"></label> <select class="form-control" ng-model="selectedFilter.NumberFilterType" ng-change="selectedFilter.Filter=\'\'"> <option value="Any" translate="CALL_LOG.DIALOGS.FILTER.ANY">Any</option> <option value="ExtensionOrRangeOfExtensions" translate="CALL_LOG.DIALOGS.FILTER.EXTENSION_RANGE">Extension or Range of Extensions</option> <option value="MatchNumber" translate="CALL_LOG.DIALOGS.FILTER.MATCH_NUMBER">Number</option> <option value="NumberStartsWith" translate="CALL_LOG.DIALOGS.FILTER.NUMBER_STARTS_WITH">Number starts with</option> <option value="NumberContains" translate="CALL_LOG.DIALOGS.FILTER.NUMBER_CONTAINS">Number contains</option> <option value="Internal" translate="CALL_LOG.DIALOGS.FILTER.INTERNAL">Internal Extensions</option> <option value="External" translate="CALL_LOG.DIALOGS.FILTER.EXTERNAL">External numbers</option> <option value="BillingCode" ng-if="allowBillingCode" translate="REPORTS.filter_matchbillingcode">Match Billing Code</option> </select> </div> <div ng-if="selectedFilter.NumberFilterType==\'ExtensionOrRangeOfExtensions\'"> <div class="form-group"> <div class="control-label"></div> <input type="text" class="form-control" placeholder="{{examplePlaceholder}}" focus-state error-show="submitted" ng-required="true" name="extensionRangeValue" ng-model="selectedFilter.Filter" extension-ranges-list="{{extensionLength}}" allow-extension-wildcards="{{allowExtensionWildcards}}"> <div class="errors control-errors" ng-show="numberRangeForm.extensionRangeValue.$errorShowAllowed"> <ul> <li ng-show="numberRangeForm.extensionRangeValue.$error.invalidExtensionDigits"> <span class="halflings halflings-exclamation-sign"></span> {{"CALL_LOG.DIALOGS.FILTER.INVALID_EXTENSION_NUMBER_LENGTH" | translate:{digits:extensionLength} }} </li> <li ng-show="numberRangeForm.extensionRangeValue.$error.invalidRange"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_RANGE"></span> </li> <li ng-show="numberRangeForm.extensionRangeValue.$error.invalidExtensionRange"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_EXTENSION_RANGE"></span> </li> <li ng-show="numberRangeForm.extensionRangeValue.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> </ul> </div> </div> </div> <div ng-if="selectedFilter.NumberFilterType==\'MatchNumber\'"> <div class="form-group"> <div class="control-label"></div> <input type="text" class="form-control" ng-required="true" placeholder="{{\'CALL_LOG.DIALOGS.FILTER.MATCH_NUMBER\' | translate}}" focus-state error-show="submitted" name="matchNumberValue" ng-model="selectedFilter.Filter" ng-pattern="numberRegex"> <div class="errors control-errors" ng-show="numberRangeForm.matchNumberValue.$errorShowAllowed"> <ul> <li ng-show="numberRangeForm.matchNumberValue.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> <li ng-show="numberRangeForm.matchNumberValue.$error.pattern"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_NUMBER_FORMAT"></span> </li> </ul> </div> </div> </div> <div ng-if="selectedFilter.NumberFilterType==\'NumberStartsWith\'"> <div class="form-group"> <div class="control-label"></div> <input type="text" class="form-control" placeholder="{{\'CALL_LOG.DIALOGS.FILTER.MATCH_NUMBER\' | translate}}" ng-required="true" focus-state error-show="submitted" name="numberStartsWithValue" ng-model="selectedFilter.Filter" ng-pattern="numberRegex"> <div class="errors control-errors" ng-show="numberRangeForm.numberStartsWithValue.$errorShowAllowed"> <ul> <li ng-show="numberRangeForm.numberStartsWithValue.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> <li ng-show="numberRangeForm.numberStartsWithValue.$error.pattern"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_NUMBER_FORMAT"></span> </li> </ul> </div> </div> </div> <div ng-if="selectedFilter.NumberFilterType==\'NumberContains\'"> <div class="form-group"> <div class="control-label"></div> <input type="text" class="form-control" placeholder="{{\'CALL_LOG.DIALOGS.FILTER.MATCH_NUMBER\' | translate}}" ng-required="true" focus-state error-show="submitted" name="numberContainsValue" ng-model="selectedFilter.Filter" ng-pattern="numberRegex"> <div class="errors control-errors" ng-show="numberRangeForm.numberContainsValue.$errorShowAllowed"> <ul> <li ng-show="numberRangeForm.numberContainsValue.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> <li ng-show="numberRangeForm.numberContainsValue.$error.pattern"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_NUMBER_FORMAT"></span> </li> </ul> </div> </div> </div> <div ng-if="selectedFilter.NumberFilterType==\'BillingCode\'"> <div class="form-group"> <div class="control-label"></div> <input type="text" class="form-control" placeholder="Billing code" ng-required="true" focus-state error-show="submitted" name="matchBillingCodeValue" ng-model="selectedFilter.Filter"> <div class="errors control-errors" ng-show="numberRangeForm.matchBillingCodeValue.$errorShowAllowed"> <ul> <li ng-show="numberRangeForm.matchBillingCodeValue.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> </ul> </div> </div> </div>  </ng-form> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/panel.html",
                '<div class="panel panel-default"> <div class="panel-heading"> <span>{{mcTitle | translate}}</span> <span ng-if="availableProEnterprise" translate="REPOS.TEXT.AVAILABLE_PROF_ENTERPRISE"></span> </div> <div class="panel-body"> <ng-transclude></ng-transclude> </div> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/password-control.html",
                '<div class="form-group m-b" ng-hide="prop.hide" ng-class="prop.class"> <label ng-show="mcTitle != undefined" translate="{{::mcTitle}}"></label> <div class="input-group" style="width:100%"> <form> <input class="form-control m-b" autocomplete="off" type="{{(!passwordControl.passwordCheckbox && !textSec)? \'password\': \'text\'}}" ng-class="(passwordControl.passwordCheckbox && textSec) ? \'unConceal\' : \'conceal\'" placeholder="{{::place_holder}}" maxlength="{{::maxlength || 50}}" ng-model="pass" ng-model-options="{getterSetter: true, updateOn: valueChanged ? \'default\' : \'blur\'}" ng-disabled="prop.disabled || disabled" ng-change="triggerChanged()" ng-trim="false"> </form> <span class="input-group-btn" ng-if="!hideEye"> <button class="btn btn-default" ng-model="passwordControl.passwordCheckbox" ng-click="passwordControl.passwordCheckbox = !passwordControl.passwordCheckbox" type="button"> <span class="halflings halflings-eye-open"></span> </button> </span> </div> <div class="errors" ng-if="prop.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{prop.errorMsg | translate}} </li> </ul> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/radio-enum-control.html",
                '<div class="form-group" ng-hide="prop.hide"> <label ng-show="mcTitle != undefined" translate="{{::mcTitle}}"></label> <div class="radio m-b-md" ng-repeat="pv in prop.possibleValues"> <label class="i-checks"> <input type="radio" ng-model-options="{getterSetter: true}" ng-model="prop.value" value="{{pv}}" ng-disabled="prop.disabled"> <i></i> <span translate="enum.{{pv}}"></span> </label> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/refresh-registration-control.html",
                '<button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="onRefreshRegistrationClick()" ng-disabled="checkIfSBCSelected()" uib-tooltip="{{(licenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}" translate="SYSTEM_STATUS.SECTIONS.TRUNKS.REFRESH_REGISTRATION_BTN"> <i class="fa fa-refresh"></i> Refresh Registration </button> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/select-control-without-wrap.html",
                '<select class="form-control m-b" ng-attr-size="{{size}}" ng-model="prop.value" ng-options="getLabel(pv) for pv in getOptions()" ng-model-options="{getterSetter: true}" ng-disabled="prop.disabled"> </select>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/select-control.html",
                '<div ng-class="{\'form-group\': !mcInline}" ng-hide="prop.hide"> <label ng-show="mcTitle != undefined && mcTitleParam === undefined" translate="{{::mcTitle}}"></label> <label ng-show="mcTitle != undefined && mcTitleParam != undefined"> {{mcTitle | translate : {param: mcTitleParam} }} </label> <div ng-if="!prop.lazy" style="display:flex"> <select class="form-control" ng-attr-size="{{size}}" ng-model="prop.value" ng-options="value(pv) as label(pv) for pv in getOptions()" ng-model-options="{getterSetter: true}" ng-disabled="prop.disabled || disabled"> <option style="display:none" value="" ng-if="prop.IsBulk && (prop.selected.Defined === false)">{{defaultValue}}</option> </select> <ng-transclude style="display:flex"></ng-transclude> </div> <div ng-if="prop.lazy"> <ui-select ng-model="prop.value" ng-model-options="{getterSetter: true}" ng-disabled="prop.disabled" reach-infinity="prop.requestMoreItems()"> <ui-select-match> <span ng-bind="label(prop.selected) | translate"></span> </ui-select-match> <ui-select-choices repeat="value(item) as item in getOptions()" refresh="prop.refreshItems($select.search)"> <span ng-bind="label(item)"></span> </ui-select-choices> </ui-select> </div> <div class="errors" ng-if="prop.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{prop.errorMsg}} </li> </ul> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/select-control-searchable.html",
                '<div class="form-group" ng-hide="prop.hide"> <label ng-show="mcTitle != undefined" translate="{{::mcTitle}}"></label> <ui-select ng-model="prop.value" ng-model-options="{getterSetter: true}" ng-disabled="prop.disabled" ng-attr-size="{{size}}"> <ui-select-match> <span ng-bind="label(prop.selected)"></span> </ui-select-match> <ui-select-choices repeat="value(item) as item in getOptions() | filter: $select.search"> <span ng-bind="label(item)"></span> </ui-select-choices> </ui-select> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/select-enum-control.html",
                '<div ng-class="{\'form-group\': !mcInline}" ng-hide="prop.hide" ng-class="prop.class"> <select class="form-control" ng-model="prop.value" ng-options="label(pv) as enumTanslations[pv] for pv in filterPossibleValuesImpl(prop.possibleValues)" ng-model-options="{getterSetter: true}" ng-disabled="prop.disabled || prop===undefined || disabled"> <option style="display:none" value="" ng-if="prop.IsBulk && (prop.selected.Defined === false)">{{defaultValue}}</option> </select> <div class="errors" ng-if="prop.errorMsg"> <ul><li><span class="halflings halflings-exclamation-sign"></span> {{prop.errorMsg}}</li></ul> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/select-extension-control.html",
                '<div class="form-group"> <label ng-show="mcTitle != undefined" translate="{{::mcTitle}}"></label> <div> <select-control prop="activeObject.Value"></select-control> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/select-lazy-control.html",
                '<div class="form-group" ng-hide="prop.hide"> <ui-select ng-model="prop" reach-infinity="requestMore()"> <ui-select-match> <span ng-bind="label($select.selected)"></span> </ui-select-match> <ui-select-choices repeat="value(item) as item in (items | filter: $select.search | limitTo: currentLimit)"> <span ng-bind="label(item)"></span> </ui-select-choices> </ui-select> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/select_item.html",
                '<div class="form-group"> <label class="control-label" translate="{{headerTranslateKey}}"></label> <select class="form-control" ng-model="prop" ng-options="item.Name for item in items"></select> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/select_list.html",
                '<label translate="{{headerTranslateKey}}"></label> <div> <button class="btn btn-success" ng-click="selectAll()" translate="REPORTS_UI.SELECT_ALL" type="button">Select All</button> <button class="btn btn-default" ng-click="clearSelection()" translate="REPORTS_UI.CLEAR_SELECTION" type="button">Select All</button> </div> <table st-table="displayedItems" st-safe-src="items" class="table table-striped"> <thead> <tr> <td colspan="2"><input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"></td> </tr> <tr> <th ng-if="extensionNumberFieldName" translate="REPORTS.column_extgrp_extension" style="width:150px">Extension</th> <th st-sort="Name" translate="{{columnHeaderTranslateKey}}"></th> </tr> </thead> <tbody> <tr st-select-row="row" st-select-mode="multiple" ng-click="onItemClick(row)" ng-repeat="row in displayedItems"> <td ng-if="extensionNumberFieldName" style="width:150px">{{::row[extensionNumberFieldName]}}</td> <td>{{::row.Name}}</td> </tr> </tbody> <tfoot> <tr> <td colspan="2" class="text-center"><div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div></td> </tr> </tfoot> </table> <div class="errors" ng-if="prop.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{prop.errorMsg}} </li> </ul> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/text-control-design-without-wrap.html",
                '<input type="text" maxlength="50" class="form-control m-b" placeholder="{{place_holder}}" ng-model="prop" ng-disabled="disabled"> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/text-control-design.html",
                '<div class="form-group"> <input type="text" class="form-control m-b" placeholder="{{place_holder}}" maxlength="{{::maxlength || 50}}" ng-model="prop" ng-disabled="disabledField"> </div> '
              ),
          ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "tpl/controls/text-control-without-wrap-and-margin.html",
              '<input type="text" class="form-control" placeholder="{{::place_holder}}" maxlength="{{::maxlength || 50}}" ng-model="prop.value" ng-model-options="{getterSetter: true, updateOn: \'blur\'}" ng-disabled="prop.disabled"> '
            ),
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/text-control-without-wrap.html",
                '<input type="text" class="form-control m-b" placeholder="{{::place_holder}}" maxlength="{{::maxlength || 50}}" ng-model="prop.value" ng-model-options="{getterSetter: true, updateOn: \'blur\'}" ng-disabled="prop.disabled"> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/text-control.html",
                '<div class="form-group m-b" ng-hide="prop.hide" ng-class="prop.class"> <input type="text" class="form-control" placeholder="{{::place_holder}}" maxlength="{{::maxlength || 50}}" live-pattern="{{::pattern}}" ng-model="prop.value" ng-model-options="{getterSetter: true, updateOn: valueChanged ? \'default\' : \'blur\'}" ng-disabled="prop.disabled || disabled" ng-change="triggerChanged()"> <span ng-if="!!mcHint" translate="{{mcHint}}"></span> <div class="errors" ng-if="prop.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{prop.errorMsg}} </li> </ul> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/text-watch-control.html",
                '<div> <input type="text" class="form-control" placeholder="{{::place_holder}}" maxlength="{{::maxlength || 50}}" name="{{::nameInput}}" ng-model="prop.value" ng-model-options="{getterSetter: true}" is-valid="!isDisabled" ng-disabled="!isDisabled" ng-change="triggerChanged();"> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/text-watch-error-control.html",
                '<div class="form-group m-b" ng-hide="prop.hide" ng-class="prop.class"> <input type="text" class="form-control" placeholder="{{::place_holder}}" maxlength="{{::maxlength || 50}}" ng-model="prop.value" ng-model-options="{getterSetter: true, updateOn: valueChanged ? \'default\' : \'blur\'}" ng-disabled="prop.disabled" ng-change="triggerChanged()" is-valid="!isDisabled"> <div class="errors" ng-if="prop.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{prop.errorMsg}} </li> </ul> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/password-watch-control.html",
                '<div class="form-group m-b" ng-hide="prop.hide" ng-class="prop.class"> <label ng-show="mcTitle != undefined" translate="{{::mcTitle}}"></label> <div class="input-group" style="width:100%"> <form> <input class="form-control m-b" autocomplete="off" type="{{(!passwordControl.passwordCheckbox && !textSec)? \'password\': \'text\'}}" ng-class="(passwordControl.passwordCheckbox && textSec) ? \'unConceal\' : \'conceal\'" placeholder="{{::place_holder}}" maxlength="{{::maxlength || 50}}" is-valid="!isDisabled" ng-model="pass" ng-model-options="{getterSetter: true, updateOn: valueChanged ? \'default\' : \'blur\'}" ng-disabled="prop.disabled || disabled" ng-change="triggerChanged()" ng-trim="false"> </form> <span class="input-group-btn" ng-if="!hideEye"> <button class="btn btn-default" ng-model="passwordControl.passwordCheckbox" ng-click="passwordControl.passwordCheckbox = !passwordControl.passwordCheckbox" type="button"> <span class="halflings halflings-eye-open"></span> </button> </span> </div> <div class="errors" ng-if="prop.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{prop.errorMsg}} </li> </ul> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/textarea-control-design.html",
                '<div class="form-group"> <label ng-show="mcTitle != undefined" translate="{{::mcTitle}}"></label> <textarea maxlength="131072" class="w-full" ng-model="prop" ng-trim="{{::trim}}"></textarea> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/textarea-control.html",
                '<div class="form-group" ng-hide="prop.hide" ng-class="prop.class"> <label ng-show="mcTitle != undefined" translate="{{::mcTitle}}"></label> <textarea class="w-full" ng-model="prop.value" maxlength="{{maxlength}}" rows="{{rows}}" ng-model-options="{getterSetter: true, updateOn: \'blur\'}"></textarea> <div class="errors" ng-if="prop.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{prop.errorMsg}} </li> </ul> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/controls/color-picker-design.html",
                '<div class="m-b"> <div class="input-group" style="width:100%" id="colorPrickerContainer"> <div class="input-group-btn" ng-style="{\'background-color\': prop, \'height\': \'100%\', \'width\':\'30px\', \'border\': \'1px solid #cfdadd\'}"></div> <input colorpicker type="text" class="form-control m-b" placeholder="{{place_holder}}" maxlength="{{maxlength}}" ng-model="prop" ng-disabled="disabledField"> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/activity_logging_level_modal.html",
                ' <div id="loggingLevel" class="modal fade" role="dialog" data-backdrop="static"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title" translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.ACTIVITY_LOG_SETTINGS"> Activity Log Settings </h4> </div> <div class="modal-body"> <label translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.ACTIVIY_LOG_INFO"> Logging level (restart required for changes to take effect): </label> <label class="i-checks m-l-sm m-b m-t clear"> <input type="radio" ng-model="logSettings.logLevel" ng-value="0" required><i></i> <span translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.OFF">Off</span> </label> <label class="i-checks m-l-sm m-b m-t clear"> <input type="radio" ng-model="logSettings.logLevel" ng-value="1" required><i></i> <span translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.LOW">Low</span> </label> <label class="i-checks m-l-sm m-b clear"> <input type="radio" ng-model="logSettings.logLevel" ng-value="2" required> <i></i> <span translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.MEDIUM">Medium</span> </label> <label class="i-checks m-l-sm m-b clear"> <input type="radio" ng-model="logSettings.logLevel" ng-value="3" required> <i></i> <span translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.VERBOSE">Verbose</span> </label> <div class="form-inline m-l-sm"> <label class="i-checks"> <input type="checkbox" ng-model="logSettings.keepLogs"><i></i> <span translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.KEEP_BACKUP_OF_LOG_FILES_FOR"></span> </label> <div class="form-group m-b"> <select class="form-control" ng-model="logSettings.keepDays" ng-init="logSettings.keepDays" ng-disabled="!logSettings.keepLogs"> <option ng-repeat="item in keepDaysSelected" ng-selected="logSettings.keepDays === item" ng-value="item"> {{item}} </option> </select> </div> <label translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.DAYS"></label> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-click="saveLogSettings()"></button> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel"></button> </div> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/alert_dialog.html",
                '<div class="modal-header"> <button type="button" class="close" ng-click="$close()">&times;</button> <h4 class="modal-title" translate="{{::header}}"></h4> </div> <div class="modal-body"> <pre style="height:400px;overflow-y:scroll;white-space:pre-wrap;word-break:break-word" translate="{{::message}}"></pre> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$close()" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">Ok</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/click2call_add_ip.html",
                ' <div id="click2callAddIp" class="modal fade" role="dialog"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title" translate="SETTINGS.CLICK2CALL.DIALOGS.ADD.TITLE">Add New IP</h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="SETTINGS.CLICK2CALL.DIALOGS.ADD.DESCRIPTION">Add external IP addresses allowed to create incoming calls. Example: IP of your website</label> <div class="input-group"> <input type="text" class="form-control" ng-model="newIp" placeholder="SETTINGS.CLICK2CALL.DIALOGS.ADD.IP_ADDRESS"> <span class="input-group-btn"><button class="btn btn-default" ng-click="addIp()" translate="SETTINGS.CLICK2CALL.DIALOGS.ADD.ADD_BTN" type="button">Add</button></span> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save</button> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/confirm_message_box.html",
                '<div class="modal-header"> <h4 class="modal-title" translate="{{header}}"></h4> </div> <div class="modal-body"> <label translate="{{message}}"></label> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$close()" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">OK</button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/digital_receptionist_modal.html",
                ' <div id="digitalReceptionistUpload" class="modal fade" role="dialog"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title" translate="DIGITAL_RECEPTIONIST.EDITOR.DIALOGS.BROWSE_PROMPT.UPLOAD_NEW_FILE_TITLE">Upload new file</h4> </div> <div class="modal-body"> <label translate="DIGITAL_RECEPTIONIST.EDITOR.DIALOGS.BROWSE_PROMPT.SELECT_FILE_TO_UPLOAD">Select a file to upload</label> <div class="row"> <div class="col-sm-8"> <input type="file" class="form-control" nv-file-select="" uploader="uploader"> </div> <div class="col-sm-4"> <button type="button" class="btn btn-default btn-sm" translate="DIGITAL_RECEPTIONIST.EDITOR.DIALOGS.BROWSE_PROMPT.START_UPLOADING_BTN"><span class="halflings halflings-upload"></span> Start Uploading</button> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save</button> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/editor_exist_dialog.html",
                '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="Editor already exists">Editor already exists</h4> </div> <div class="modal-body"> Editor already exists. Do you want to cancel previous and start a new one? </div> <div class="modal-footer"> <button type="button" class="btn btn-primary" ng-click="$close()">Edit</button> <button type="button" class="btn btn-default" ng-click="$dismiss()">Cancel</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/importing_modal.html",
                '<div class="modal-content"> <div class="modal-header"> <h4 class="text-center" translate="SYSTEM_STATUS.DIALOGS.IMPORT.IMPORTING">Importing</h4> </div> <div class="modal-body"> <br> <uib-progressbar value="100" class="progress-striped active" type="success"> </uib-progressbar> <p class="text-center" translate="SYSTEM_STATUS.DIALOGS.IMPORT.PLEASE_WAIT"></p> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/inbound_rules_import.html",
                ' <div id="inboundRulesImport" class="modal fade" role="dialog" ng-controller="FileUploadCtrl" nv-file-drop="" uploader="uploader" filters="queueLimit, customFilter"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title" translate="INBOUND_RULES.DIALOGS.IMPORT_INBOUND.IMPORT_INBOUND_RULES">Import Inbound Rules</h4> </div> <div class="modal-body"> <div ng-show="uploader.isHTML5" class="m-b-md"> <div class="b-a b-2x b-dashed wrapper-lg bg-white text-center m-b" nv-file-over="" over-class="b-info" uploader="uploader" translate="INBOUND_RULES.DIALOGS.IMPORT_INBOUND.DRAG_AND_DROP"> Drag and drop CSV file to upload </div> </div> <div class="wrapper-md bg-light dk b-b"> <span class="pull-right m-t-xs">Queue length: <b class="badge bg-info">{{ uploader.queue.length }}</b></span> <h3 class="m-n font-thin" translate="INBOUND_RULES.DIALOGS.IMPORT_INBOUND.UPLOAD_QUEUE">Upload queue</h3> </div> <div class="wrapper-md"> <table class="table bg-white-only b-a"> <thead> <tr> <th width="50%">Name</th> <th ng-show="uploader.isHTML5" translate="INBOUND_RULES.DIALOGS.IMPORT_INBOUND.TBL_HEADING_SIZE">Size</th> <th ng-show="uploader.isHTML5" translate="INBOUND_RULES.DIALOGS.IMPORT_INBOUND.TBL_HEADING_PROGRESS">Progress</th> <th>Status</th> <th>Actions</th> </tr> </thead> <tbody> <tr ng-repeat="item in uploader.queue"> <td><strong>{{ item.file.name }}</strong></td> <td ng-show="uploader.isHTML5" nowrap="nowrap">{{ item.file.size/1024/1024|number:2 }} MB</td> <td ng-show="uploader.isHTML5"><div class="progress progress-sm m-b-none m-t-xs"> <div class="progress-bar bg-info" role="progressbar" ng-style="{ \'width\': item.progress + \'%\' }"></div> </div></td> <td class="text-center"><span ng-show="item.isSuccess" class="text-success"><i class="halflings halflings-ok"></i></span> <span ng-show="item.isCancel" class="text-warning"><i class="halflings halflings-ban-circle"></i></span> <span ng-show="item.isError" class="text-danger"><i class="halflings halflings-remove"></i></span></td> <td nowrap="nowrap"><button type="button" class="btn btn-default btn-xs" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess"> Upload </button> <button type="button" class="btn btn-default btn-xs" ng-click="item.cancel()" ng-disabled="!item.isUploading"> Cancel </button> <button type="button" class="btn btn-default btn-xs" ng-click="item.remove()" translate="REPOS.BUTTONS.REMOVE_BTN"> Remove </button></td> </tr> </tbody> </table> <div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.UPLOAD_BTN" id="btnUpload">Upload</button> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </div> </div> </div></div></div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/input_box_dialog.html",
                '<div class="modal-header"> <h4 class="modal-title" translate="{{header}}"></h4> </div> <div class="modal-body"> <form name="inputBoxForm"> <label translate="{{message}}"></label> <input ng-show="format === \'number\'" type="text" min="0" max="9999999999" maxlength="10" ng-pattern-restrict="" pattern="^[0-9]{0,10}$" class="form-control" ng-model="inputNum" ng-model-options="{getterSetter: true, updateOn: \'blur\'}"> <input ng-show="format === \'text\'" type="text" class="form-control" ng-model="inputText" ng-model-options="{getterSetter: true, updateOn: \'blur\'}"> <div ng-show="format === \'password\'" class="form-group"> <div class="input-group"> <input type="{{passwordCheckbox ? \'text\' : \'password\'}}" class="form-control" ng-model="inputText" ng-pattern-restrict="" pattern="^$|^[A-Za-z0-9]+$"> <span class="input-group-btn"> <button class="btn btn-default" ng-model="passwordCheckbox" ng-init="passwordCheckbox=false" ng-click="passwordCheckbox = !passwordCheckbox" type="button"> <span class="halflings halflings-eye-open"></span> </button> </span> </div> </div> </form> </div> <div class="modal-footer"> <button ng-disabled="!inputBoxForm.$valid" type="button" class="btn btn-default" ng-click="$close((format === \'number\')?inputNum:inputText)" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">OK</button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/message_box_dialog.html",
                '<div class="modal-header"> <h4 class="modal-title" translate="{{header}}"></h4> </div> <div class="modal-body"> <label class="tx-wrap" translate="{{message}}"></label> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$close()" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">OK</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/confirm_purge_box.html",
                '<div class="modal-header"> <h4 class="modal-title" translate="{{header}}"></h4> </div> <div class="modal-body"> <label translate="{{message}}"></label> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$close()" translate="REPOS.TEXT.YES" id="btnYes">Yes</button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.TEXT.NO" id="btnNo">No</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/new_ip_blacklist_modal.html",
                ' <div class="modal-header"> <button type="button" class="close" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.TITLE">Blacklist/Whitelist IP or Range of IP Addresses</h4> </div> <div class="modal-body"> <div class="form-group"> <label class="w-full"> <span translate="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.SPECIFY_IP_OR_RANGE_INFO">Specify an IP or range of IP addresses and configure appropriate action </span> <a href="{{\'LINKS.BLACKLISTED_IP_LINK\' | translate}}" target="_blank" class="dashed_link"> <span translate="REPOS.TEXT.CLICK_HERE_MORE_INFO"></span> </a> </label> </div> <div class="form-group"> <select class="form-control" ng-model="activeObject.IsIpRange.value" ng-model-options="{getterSetter: true}" convert-to-bool> <option value="false" translate="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.ADD_SINGLE_IP_ADDRESS.ADD_SINGLE_IP_ADDRESS">Add single IP Address</option> <option value="true" translate="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.ADD_RANGE_IP_ADDRESSES.ADD_RANGE_IP_ADDRESSES">Add a range of IP Addresses</option> </select> </div> <div class="form-group"> <text-control prop="activeObject.IPAddr" mc-title="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.ADD_RANGE_IP_ADDRESSES.NETWORK_ADDRESS" placeholder="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.ADD_RANGE_IP_ADDRESSES.NETWORK_ADDRESS"></text-control> <select-enum-control mc-no-translate prop="activeObject.IPMask" mc-title="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.ADD_RANGE_IP_ADDRESSES.SUBNET_MASK"></select-enum-control> <text-control prop="activeObject.IpRange" mc-title="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.ADD_RANGE_IP_ADDRESSES.IP_ADDRESS_RANGE" placeholder="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.ADD_RANGE_IP_ADDRESSES.IP_ADDRESS_RANGE"></text-control> </div> <select-enum-control prop="activeObject.BlockType" mc-title="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.ACTION"></select-enum-control> <textarea-control prop="activeObject.Description" mc-title="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.DESCRIPTION" rows="3"></textarea-control> <div ng-hide="activeObject.ExpiresAt.hide"> <label translate="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.EXPIRATION_DATE">Expiration Date</label> </div> <datetimepicker-control prop="activeObject.ExpiresAt"></datetimepicker-control> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save</button> <button type="button" class="btn btn-default" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/play_dialog.html",
                '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="CALL_QUEUES.EDITOR.DIALOGS.PLAY_PROMPT.PLAY_MEDIA_PROMPT_FILE">Play Media Prompt File</h4> </div> <div class="modal-body"> <form name="form"> <label class="clear" translate="CALL_QUEUES.EDITOR.DIALOGS.PLAY_PROMPT.ENTER_EXT_NUMBER_TO_PLAY_PROMPT_INFO">Enter the extension number of your phone to play this prompt</label> <label class="clear" translate="CALL_QUEUES.EDITOR.DIALOGS.PLAY_PROMPT.EXTENSION_NUMBER">Extension Number</label> <select-control prop="activeObject.Value"></select-control> </form> </div> <div class="modal-footer"> <button type="button" ng-click="cancelClick(); $close(activeObject.Value.selected)" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-disabled="!form.$valid">OK</button> <button type="button" class="btn btn-default" ng-click="cancelClick(); $dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/progress_dialog.html",
                '<div class="modal-content"> <div class="modal-header"> <h4 class="modal-title" translate="{{header}}"></h4> </div> <div class="modal-body"> <br> <uib-progressbar value="100" class="progress-striped active" type="success"></uib-progressbar> <p class="text-center" translate="{{message}}"></p> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/recording_dialog_no_filename.html",
                '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="CALL_QUEUES.EDITOR.DIALOGS.RECORD_PROMPT.RECORD_MEDIA_PROMPT_FILE">Record Media Prompt File</h4> </div> <div class="modal-body"> <form name="form" ng-init="recordExtensionNumber={value : currentExtensionNumber}"> <label class="clear" translate="CALL_QUEUES.EDITOR.DIALOGS.RECORD_PROMPT.ENTER_EXT_NUMBER_TO_RECORD_PROMPT_INFO_NO_FILENAME"> Enter extension number of your phone to record a new audio prompt. </label> <label class="clear" translate="CALL_QUEUES.EDITOR.DIALOGS.RECORD_PROMPT.ENTER_EXT_NUMBER_TO_RECORD_PROMPT_INFO_NO_FILENAME_NOTE"> <b>Note: For the recorded files to come into effect, go to 3CX Services Status and restart the 3CX SIP Server</b> </label> <div class="form-group"> <label class="clear" translate="CALL_QUEUES.EDITOR.DIALOGS.RECORD_PROMPT.EXTENSION_NUMBER"> Extension Number </label> <select-extension-control prop="recordExtensionNumber" required></select-extension-control> </div> </form> </div> <div class="modal-footer"> <button type="button" ng-click="$close({recordAudioFileName:recordAudioFileName,recordExtensionNumber:recordExtensionNumber.value})" class="btn btn-default" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-disabled="!form.$valid">OK </button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel </button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/recording_dialog_with_filename.html",
                '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="CALL_QUEUES.EDITOR.DIALOGS.RECORD_PROMPT.RECORD_MEDIA_PROMPT_FILE">Record Media Prompt File</h4> </div> <div class="modal-body"> <form name="form" ng-init="recordExtensionNumber={value : currentExtensionNumber}"> <label class="clear" translate="CALL_QUEUES.EDITOR.DIALOGS.RECORD_PROMPT.ENTER_EXT_NUMBER_TO_RECORD_PROMPT_INFO"> Enter a file name for your new prompt and the extension number of your phone to record a new audio prompt. Refresh page after recording. </label> <div class="form-group"> <label class="clear" translate="CALL_QUEUES.EDITOR.DIALOGS.RECORD_PROMPT.AUDIO_FILE_NAME"> Audio File Name </label> <div class="m-b"> <input ng-model="recordAudioFileName" ng-init="recordAudioFileName=\'sample.wav\'" type="text" class="form-control" maxlength="50" required> <div class="errors"> <ul> <li ng-show="!recordAudioFileName.endsWith(\'.wav\')"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.RECORD_WAV_INVALID_TYPE"></span> </li> <li ng-show="!isValidFileName(recordAudioFileName) && recordAudioFileName.endsWith(\'.wav\')"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.FILENAME_CANNOT_CONTAIN_FOLLOWING_CHARACTERS"></span> </li> </ul> </div> </div> </div> <div class="form-group"> <label class="clear" translate="CALL_QUEUES.EDITOR.DIALOGS.RECORD_PROMPT.EXTENSION_NUMBER"> Extension Number </label> <select-extension-control prop="recordExtensionNumber" required></select-extension-control> </div> <div class="errors"> <ul> <li ng-show="forbid"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.EXTENSION_NEEDS_TO_BE_SAVED_FIRST"></span> </li> </ul> </div> </form> </div> <div class="modal-footer"> <button type="button" ng-click="$close({recordAudioFileName:recordAudioFileName,recordExtensionNumber:recordExtensionNumber.value})" class="btn btn-default" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-disabled="!form.$valid || !recordAudioFileName.endsWith(\'.wav\') || !isValidFileName(recordAudioFileName) || forbid">OK </button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel </button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/schedule_call_cost_report.html",
                ' <div id="scheduleCostReport" class="modal fade" role="dialog"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title" translate="CALL_REPORTS.DIALOGS.SCHEDULE_REPORT.TITLE">Schedule Report Options</h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="CALL_REPORTS.DIALOGS.SCHEDULE_REPORT.REPORT_FORMAT">Report format</label> <select class="form-control"> <option value="pdf" translate="REPORTS.report_format_AdobeAcrobat">Adobe Acrobat (.pdf)</option> <option value="html" translate="REPORTS.report_format_HTML">HTML file</option> <option value="csv" translate="REPORTS.report_format_CSV">CSV file</option> <option value="rft">Rich Text file</option> <option value="excel">Excel Document</option> </select> </div> <div class="form-group"> <text-control prop="" mc-title="CALL_REPORTS.DIALOGS.SCHEDULE_REPORT.SEND_REPORT_TO" placeholder="CALL_REPORTS.DIALOGS.SCHEDULE_REPORT.SEND_REPORT_TO"></text-control> </div> <div class="form-group"> <label translate="CALL_REPORTS.DIALOGS.SCHEDULE_REPORT.FREQUENCY">Frequency</label> <select class="form-control" ng-model="frequency" ng-init="frequency=\'now\'"> <option value="now" translate="REPOS.TEXT.ONE_TIME">One time now</option> <option value="daily" translate="REPOS.TEXT.DAILY">Daily</option> <option value="firstDayOfWeek" translate="REPOS.TEXT.FIRST_DAY_OF_WEEK">First day of week</option> <option value="weekly" translate="REPOS.TEXT.WEEKLY">Weekly</option> </select> </div> <div class="form-group" ng-if="frequency==\'weekly\'"> <select class="form-control" ng-model="dayOfWeek" ng-init="dayOfWeek=\'sunday\'"> <option value="sunday" translate="REPOS.TEXT.SUNDAY">Sunday</option> <option value="monday" translate="REPOS.TEXT.MONDAY">Monday</option> <option value="tuesday" translate="REPOS.TEXT.TUESDAY">Tuesday</option> <option value="wednesday" translate="REPOS.TEXT.WEDNESDAY">Wednesday</option> <option value="thursday" translate="REPOS.TEXT.THURSDAY">Thursday</option> <option value="friday" translate="REPOS.TEXT.FRIDAY">Friday</option> <option value="saturday" translate="REPOS.TEXT.SATURDAY">Saturday</option> </select> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" ng-if="frequency==\'now\'" translate="CALL_REPORTS.DIALOGS.SCHEDULE_REPORT.EMAIL_NOW">Email now</button> <button type="button" class="btn btn-default" data-dismiss="modal" ng-if="frequency!=\'now\'" translate="CALL_REPORTS.DIALOGS.SCHEDULE_REPORT.SAVE_AND_SCHEDULE">Save and Schedule</button> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/general_dialogs/system_status_event_log_modal.html",
                ' <div id="eventLog" class="modal fade" role="dialog" data-backdrop="static"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title" translate="SYSTEM_STATUS.DIALOGS.EVENT_LOG.TITLE">Dashboard Event Log Settings</h4> </div> <div class="modal-body"> <form name="optionsForm"> <div class="form-group"> <div class="form-group"> <label translate="SYSTEM_STATUS.DIALOGS.EVENT_LOG.NUMBER_OR_ENTRIES_SHOW"></label> <input type="number" class="form-control m-b" placeholder="{{\'SYSTEM_STATUS.DIALOGS.EVENT_LOG.NUMBER_OR_ENTRIES_SHOW\' | translate}}" min="0" ng-model="$parent.$ctrl.numberOfEvents" ng-model-options="{getterSetter: true, updateOn: \'default\'}"> </div> </div> <div class="form-group"> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="$parent.$ctrl.showWarningsValue" ng-model-options="{getterSetter: true, updateOn: \'default\'}"> <i></i> <span translate="SYSTEM_STATUS.DIALOGS.EVENT_LOG.SHOW_WARNING_ENTRIES"></span></label> </div> </div> <div class="form-group"> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="$parent.$ctrl.showErrorsValue" ng-model-options="{getterSetter: true, updateOn: \'default\'}"> <i></i> <span translate="SYSTEM_STATUS.DIALOGS.EVENT_LOG.SHOW_ERROR_ENTRIES"></span></label> </div> </div> <div class="form-group"> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="$parent.$ctrl.showInformationValue" ng-model-options="{getterSetter: true, updateOn: \'default\'}"> <i></i> <span translate="SYSTEM_STATUS.DIALOGS.EVENT_LOG.SHOW_INFORMATION_ENTRIES"></span></label> </div> </div> <div class="form-group"> <div class="form-group"> <label translate="SYSTEM_STATUS.DIALOGS.EVENT_LOG.AUTOMATICALLY_PERGE_EVENT_LOG_AFTER_DAYS"></label> <input type="number" class="form-control m-b" placeholder="{{\'SYSTEM_STATUS.DIALOGS.EVENT_LOG.AUTOMATICALLY_PERGE_EVENT_LOG_AFTER_DAYS\' | translate}}" min="1" max="365" ng-model="$parent.$ctrl.purgeEventLogAfter" ng-model-options="{getterSetter: true, updateOn: \'blur\'}"> </div> </div> </form> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-disabled="optionsForm.$invalid"></button> </div> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/loading.html",
                '<div> <div class="loadingOuter"> <div class="loadingInner"> <uib-progressbar class="progress-striped active m-b-sm" value="80" type="info"> Loading...</uib-progressbar> </div> </div> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/misc/help_button.html",
                '<a type="button" ng-href="{{url | translate}}" target="_blank" class="btn btn-md btn-default pull-right btn-help-responsive"> <i class="icon-support fa-1x help-btn-icon"></i> <span id="help-btn-text" translate="REPOS.BUTTONS.HELP_BTN" id="btnHelp"></span> </a> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/page_404.html",
                '<div class="container w-xxl w-auto-xs" ng-init="app.settings.container = false;"> <div class="text-center m-b-lg"> <h1 class="text-shadow text-white">404</h1> <div translate="WARNINGS.RESOURCE_NOT_FOUND">Requested resource not found</div> </div> <div class="list-group bg-info auto m-b-sm m-b-lg"> <a href="#/" class="list-group-item"> <i class="fa fa-chevron-right text-muted"></i> <i class="fa fa-fw fa-mail-forward m-r-xs"></i> {{\'REPOS.BUTTONS.GO_TO_APP\' | translate}} </a> </div> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/save_reset_buttons.html",
                '\t<div style="position:relative;float:right"> <button type="submit" class="btn btn-sm btn-info">Save</button> <button type="submit" class="btn btn-sm btn-info">Reset</button> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/smtpproviders.html",
                '{ "SmtpProviders":[ { "name": "Gmail", "server": "smtp.gmail.com:587", "example": "admin@gmail.com" }, { "name": "Outlook.com", "server": "smtp-mail.outlook.com:587", "example": "admin@outlook.com" }, { "name": "Office365", "server": "smtp.office365.com:587", "example": "admin@office365.com" } ] }'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "tpl/fancy_pagination.html",
                '<ul class="pagination" ng-show="numPages > 1"> <li ng-show="pages.indexOf(1) == -1"> <a ng-click="selectPage(1)">1</a> </li> <li ng-show="pages.indexOf(2) == -1"> <a ng-click="selectPage(pages[0])">...</a> </li> <li ng-repeat="page in pages" ng-class="{active: page == currentPage}"> <a ng-click="selectPage(page)">{{ page }}</a> </li> <li ng-show="(pages.indexOf(numPages - 1) == -1) && (numPages > 1)"> <a ng-click="selectPage(pages[pages.length - 1])">...</a> </li> <li ng-show="pages.indexOf(numPages) == -1"> <a ng-click="selectPage(numPages)">{{numPages}}</a> </li> </ul> '
              ),
          ]);
      const zu = u
          .module("exceptionOverwrite", [])
          .factory("$exceptionHandler", [
            "$log",
            function (t) {
              return function (e) {
                ("string" == typeof e &&
                  e.includes("Possibly unhandled rejection")) ||
                  t.error(...arguments);
              };
            },
          ]).name,
        ta = u.module("app", [
          "ngAnimate",
          "ngAria",
          "ngCookies",
          "ngPrettyJson",
          "oc.lazyLoad",
          "ngMessages",
          "dndLists",
          "ngResource",
          "ngSanitize",
          "ngStorage",
          "ui.router",
          "ui.router.upgrade",
          "toaster",
          "ui.bootstrap",
          "daterangepicker",
          "angularMoment",
          "angular-flot",
          "ui.bootstrap.datetimepicker",
          "ui.load",
          "ui.jq",
          "xeditable",
          "angular-json-tree",
          "smart-table",
          "ui.select",
          "ui-select-infinity",
          "pascalprecht.translate",
          "easypiechart",
          "ui.router.state.events",
          "validation.match",
          "jlareau.bowser",
          "colorpicker.module",
          zu,
        ]);
      ta.config(["$urlServiceProvider", (t) => t.deferIntercept()]),
        ta.directive(
          "uiAceLazyLoad",
          (function Fu(t) {
            return [
              "$ocLazyLoad",
              "$compile",
              "$animate",
              "$parse",
              "$timeout",
              function (c, e, n) {
                return {
                  restrict: "A",
                  terminal: !0,
                  priority: 1e3,
                  compile: function (a) {
                    const l = a[0].innerHTML;
                    return (
                      a.html(""),
                      function (s, r) {
                        t()
                          .then((o) => c.inject(o))
                          .then(function () {
                            n.enter(l, r), e(r.contents())(s);
                          })
                          .catch(() => u.noop());
                      }
                    );
                  },
                };
              },
            ];
          })(() =>
            w
              .e(752)
              .then(w.bind(w, 71683))
              .then((t) => t.UI_ACE_MODULE.name)
          )
        ),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/active_directory/active_directory_list.html",
                '<div ng-controller="SelectActiveDirectoryUsersController"> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="ACTIVE_DIRECTORY.TITLE"> Active Directory</label> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="ACTIVE_DIRECTORY.TITLE"> Active Directory</div> <div class="panel-body"> <button type="button" class="btn btn-sm btn-success btn-responsive" ng-click="createExtensionsClick()" translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.CREATE_EXTENSIONS_BTN"> <i class="halflings halflings-plus"></i> Add </button> <button type="button" class="btn btn-sm btn-default" ng-click="searchClick()" id="btnSearch"> <span translate="REPOS.BUTTONS.SEARCH_BTN"><i class="halflings halflings-search"></i> Search</span> </button> <button type="button" class="btn btn-sm btn-default" ng-click="selectAllClick()" id="btnSelectAll"> <span translate="REPOS.BUTTONS.SELECT_ALL_BTN">Select all</span> </button> <button type="button" class="btn btn-sm btn-default" ng-click="deselectAllClick()" id="btnDeselectAll"> <span translate="REPOS.BUTTONS.DESELECT_ALL_BTN">Deselect all</span> </button> </div> <table st-table="displayedItems" st-safe-src="items" class="table table-ellipsis table-bordered table-hover table-condensed"> <thead> <tr> <td colspan="7"><input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"></td> </tr> <tr> <th style="width:14%" st-sort="Name" translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.TBL_HEADING_NAME">Name</th> <th style="width:14%" st-sort="ExtensionNumber" translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.TBL_HEADING_EXT_NUMBER">Ext. Number</th> <th style="width:14%" st-sort="Email" translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.TBL_HEADING_EMAIL_ADDRESS">Email Address</th> <th style="width:14%" st-sort="Mobile" translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.TBL_HEADING_MOBILE">Mobile</th> <th style="width:14%" st-sort="FirstName" translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.TBL_HEADING_FIRST_NAME">First Name</th> <th style="width:14%" st-sort="LastName" translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.TBL_HEADING_LAST_NAME">Last name</th> <th style="width:14%"></th> </tr> </thead> <tbody> <tr ng-repeat="row in displayedItems" st-select-row="row" st-select-mode="multiple" ng-click="onExtensionClick(row)" ng-dblclick="rowform.$show()"> <td class="v-middle"> <span title="{{row.Name}}">{{row.Name}}</span><br> <span title="{{row.Error}}" style="color:#a94442">{{row.Error}}</span> </td> <td class="v-middle"> <span title="{{row.ExtensionNumber}}" ng-if="row.IsExists">{{row.ExtensionNumber}}</span> <span title="{{row.ExtensionNumber}}" ng-if="!row.IsExists" editable-text="row.ExtensionNumber" e-form="rowform">{{row.ExtensionNumber}}</span> </td> <td class="v-middle"><span ng-class="{\'has-changes\': row.EmailChanged}" title="{{row.Email}}" editable-text="row.Email" e-form="rowform"> {{row.Email}}</span> </td> <td class="v-middle"><span ng-class="{\'has-changes\': row.MobileChanged}" title="{{row.Mobile}}" editable-text="row.Mobile" e-form="rowform"> {{row.Mobile}}</span> </td> <td class="v-middle"><span ng-class="{\'has-changes\': row.FirstNameChanged}" title="{{row.FirstName}}" editable-text="row.FirstName" e-form="rowform"> {{row.FirstName}}</span> </td> <td class="v-middle"><span ng-class="{\'has-changes\': row.LastNameChanged}" title="{{row.LastName}}" editable-text="row.LastName" e-form="rowform"> {{row.LastName}}</span> </td> <td class="v-middle" style="white-space:nowrap"> <form editable-form="" name="rowform" ng-show="rowform.$visible" class="form-buttons form-inline"> <button type="submit" ng-disabled="rowform.$waiting" class="btn btn-sm btn-default" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave"> save </button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-sm btn-default" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel"> cancel </button> </form> <div class="buttons" ng-show="!rowform.$visible"> <button class="btn btn-sm btn-default" ng-click="rowform.$show()" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit" type="button">edit</button> <button class="btn btn-sm btn-default" ng-click="removeRowClick(row.UUID)" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete" type="button">del</button> </div> </td> </tr> </tbody> <tfoot> <tr> <td colspan="7" class="text-center"> <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </td> </tr> </tfoot> </table> </div> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/active_directory/import_ad_advanced.html",
                ' <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.ADVANCED_TITLE">LDAP - Advanced Options</h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.OBJECT_CLASS">Object class</label> <input type="text" class="form-control m-b" placeholder="{{\'EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.OBJECT_CLASS\' | translate}}" ng-model="options.Advanced.Class"> </div> <div class="form-group"> <label translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.FIRST_NAME">First Name</label> <input type="text" class="form-control" placeholder="{{\'EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.FIRST_NAME\' | translate}}" ng-model="options.Advanced.Name"> </div> <div class="form-group"> <label translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.LAST_NAME">Last Name</label> <input type="text" class="form-control" placeholder="{{\'EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.LAST_NAME\' | translate}}" ng-model="options.Advanced.LastName"> </div> <div class="form-group"> <label translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.EMAIL_LDAP_FIELD">Email Address</label> <input type="text" class="form-control" placeholder="{{\'EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.EMAIL_LDAP_FIELD\' | translate}}" ng-model="options.Advanced.Mail"> </div> <div class="form-group"> <label translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.TELEPHONE_SID">Telephone (SID)</label> <input type="text" class="form-control" placeholder="{{\'EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.TELEPHONE_SID\' | translate}}" ng-model="options.Advanced.TelephoneNumber"> </div> <div class="form-group"> <label translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.EXT_NUMBER">Ext. Number</label> <input type="text" class="form-control" placeholder="{{\'EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.EXT_NUMBER\' | translate}}" ng-model="options.Advanced.ExternalNumber"> </div> <div class="form-group"> <label translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.MOBILE">Mobile</label> <input type="text" class="form-control" placeholder="{{\'EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.MOBILE\' | translate}}" ng-model="options.Advanced.Mobile"> </div> <div class="form-group"> <label translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.LDAP_SEARCH_FIELD">LDAP search field</label> <input type="text" class="form-control" placeholder="{{\'EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.LDAP_SEARCH_FIELD\' | translate}}" ng-model="options.Advanced.SearchField"> </div> <div class="form-group"> <label translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.SEARCH_TEXT">Search text</label> <input type="text" class="form-control" placeholder="{{\'EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.SEARCH_TEXT\' | translate}}" ng-model="options.Advanced.SearchText"> </div> <div class="form-group"> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="options.Advanced.reverseSorting"> <i></i><span translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.DESCENDING_SORT">Descending sort</span></label> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="setDefaultClick()" translate="REPOS.BUTTONS.SET_DEFAULT_BTN" id="btnSetDefault">Set default</button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">OK</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/active_directory/import_ad_modal.html",
                ' <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.TITLE">LDAP - Active Directory Options</h4> </div> <div class="modal-body"> <div class="form-group m-b clear"> <label translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.DOMAIN_CONTROLLER">Domain Controller</label><br> <div class="col-sm-11 no-padder" ng-class="{\'has-error\': options.Host_Invalid}"> <input type="text" class="form-control" placeholder="localhost" ng-model="options.Host"> </div> <div class="col-sm-1 no-padder" ng-class="{\'has-error\': options.Port_Invalid}"> <input type="text" class="form-control w-xxs pull-right" placeholder="389" ng-model="options.Port"> </div> <div class="errors" ng-show="options.Host_Invalid || options.Port_Invalid"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.HOST_AND_PORT_CANNOT_BE_EMPTY"></span> </li> </ul> </div> </div> <div class="form-group m-b" ng-class="{\'has-error\': options.Domain_Invalid}"> <label translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.DOMAIN">Domain</label> <input type="text" class="form-control" placeholder="{{\'EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.DOMAIN\' | translate}}" ng-model="options.Domain"> <div class="errors" ng-show="options.Domain_Invalid"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.DOMAIN_CANNOT_BE_EMPTY"></span> </li> </ul> </div> </div> <div class="form-group"> <label translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.AUTHENTICATION_TYPE">Authentication type</label> <select name="account" class="form-control m-b" ng-model="options.AuthType" convert-to-number=""> <option value="0" translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.NEGOTIATE">Negotiate</option> <option value="2" translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.ANONYMOUS">Anonymous (if joined to AD domain)</option> </select> </div> <div class="form-group"> <label translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.USERNAME">Username</label> <input type="text" class="form-control" placeholder="{{\'EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.USERNAME\' | translate}}" ng-disabled="options.AuthType==2" ng-model="options.Username"> </div> <div class="form-group"> <label translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.PASSWORD">Password</label> <div class="input-group"> <input type="{{passwordCheckbox ? \'text\' : \'password\'}}" class="form-control" placeholder="{{\'EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.PASSWORD\' | translate}}" ng-disabled="options.AuthType==2" ng-model="options.Password"> <span class="input-group-btn"> <button class="btn btn-default" ng-model="passwordCheckbox" ng-init="passwordCheckbox=false" ng-click="passwordCheckbox = !passwordCheckbox" type="button"> <span class="halflings halflings-eye-open"></span> </button> </span> </div> </div> <div class="form-group"> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="options.DisplayNewUsers"> <i></i> <span translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.DISPLAY_NEW_USERS">Display new users</span></label> </div> </div> <div class="form-group"> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="options.CheckForChanges"> <i></i><span translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.CHECK_FOR_CHANGES">Check for changes</span></label> </div> </div> <a class="btn btn-default" ng-click="openAdvancedDialog()"> <span translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.ADVANCED_OPTIONS_BTN"> <i class="halflings halflings-list-alt"></i>Advanced Options</span></a> </div> <div class="modal-footer"> <button type="submit" class="btn btn-default" id="btnSearch" ng-click="validate() && $close(options)" translate="REPOS.BUTTONS.SEARCH_BTN"> <i class="halflings halflings-search"></i> Search </button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> '
              ),
          ]);
      let Ku = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$http = e),
              (this.$uibModal = n),
              (this.$state = i),
              (this.$q = a);
          }
          createExtensions(e) {
            return this.$http.postApi("api/ldap/createExtensions", e);
          }
          importActiveDirectory() {
            const e = this.$q.defer(),
              n = function () {
                e.reject();
              };
            return (
              this.$http.getApi("api/ldap/getOptions").then((i) => {
                this.$uibModal
                  .open({
                    templateUrl: "js/app/active_directory/import_ad_modal.html",
                    controller: "ImportActiveDirectoryController",
                    resolve: { options: () => i.data },
                    keyboard: !0,
                  })
                  .result.then((a) => {
                    this.$http.postApi("api/ldap", a).then((l) => {
                      e.resolve(l.data);
                    }, n);
                  }, n);
              }, n),
              e.promise
            );
          }
          gotoActiveDirectory(e) {
            this.$state.go("app.active_directory", { users: e });
          }
        }
        return (t.$inject = ["$http", "$uibModal", "$state", "$q"]), t;
      })();
      u.module("app").service("ActiveDirectorySvc", Ku),
        u.module("app").controller("ImportActiveDirectoryController", [
          "$scope",
          "$uibModal",
          "options",
          function (t, c, e) {
            (t.options = e),
              (t.setDefaultClick = function () {
                t.options.Advanced = {
                  SearchField: "cn",
                  SearchText: "*",
                  Class: "User",
                  Name: "givenName",
                  LastName: "sn",
                  Mail: "mail",
                  TelephoneNumber: "telephoneNumber",
                  ExternalNumber: "ipPhone",
                  Mobile: "mobile",
                  UUID: "objectGUID",
                };
              }),
              (t.validate = function () {
                let n = !1;
                return (
                  0 == t.options.Host.length
                    ? ((t.options.Host_Invalid = !0), (n = !0))
                    : (t.options.Host_Invalid = !1),
                  0 == t.options.Port.length
                    ? ((t.options.Port_Invalid = !0), (n = !0))
                    : (t.options.Port_Invalid = !1),
                  0 == t.options.Domain.length
                    ? ((t.options.Domain_Invalid = !0), (n = !0))
                    : (t.options.Domain_Invalid = !1),
                  !n
                );
              }),
              (t.openAdvancedDialog = function () {
                c.open({
                  templateUrl:
                    "js/app/active_directory/import_ad_advanced.html",
                  controller: "ImportActiveDirectoryController",
                  resolve: { options: () => t.options },
                  keyboard: !0,
                });
              });
          },
        ]),
        u.module("app").controller("SelectActiveDirectoryUsersController", [
          "$scope",
          "$state",
          "$stateParams",
          "ActiveDirectorySvc",
          function (t, c, e, n) {
            function i(a) {
              (t.items = a), (t.displayedItems = [].concat(t.items));
            }
            (t.createExtensionsClick = function () {
              const a = t.items.filter(function (l) {
                return l.isSelected;
              });
              n.createExtensions(a)
                .then(function (l) {
                  0 == l.data.length
                    ? c.go("app.extensions")
                    : (l.data.forEach(function (s) {
                        s.isSelected = !1;
                      }),
                      i(l.data));
                })
                .catch(() => u.noop());
            }),
              (t.selectAllClick = function () {
                t.displayedItems.forEach(function (a) {
                  a.isSelected = !0;
                });
              }),
              (t.deselectAllClick = function () {
                t.items.forEach(function (a) {
                  a.isSelected = !1;
                });
              }),
              (t.removeRowClick = function (a) {
                const l = t.items
                  .map(function (s) {
                    return s.UUID;
                  })
                  .indexOf(a);
                t.items.splice(l, 1);
              }),
              (t.searchClick = function () {
                n.importActiveDirectory()
                  .then(i)
                  .catch(() => u.noop());
              }),
              void 0 === e.users ? t.searchClick() : i(e.users);
          },
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/backup_and_restore/dialogs/failover.html",
                ' <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.TITLE">Failover Options</h4> </div> <div class="modal-body"> <div class="form-group"> <checkbox-control prop="activeObject.Enabled" mc-title="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.ENABLE_FAILOVER"></checkbox-control> <select-enum-control prop="activeObject.Mode" mc-title="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.FAILOVER_MODE"></select-enum-control> <text-control prop="activeObject.RemoteServer" mc-title="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.IP_ADDRESS" placeholder="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.IP_ADDRESS"></text-control> </div> <div ng-hide="activeObject.TestSIPServer.hide && activeObject.TestWebServer.hide && activeObject.TestTunnel.hide"> <strong translate="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.FAILOVER_TESTS">Failover Tests</strong> <div class="line line-dashed b-b line-lg"></div> <label translate="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.SELECT_SERVICES_TO_MONITOR">Select which services you want to monitor</label> <div style="margin-left:10px;display:inline-block"> <checkbox-control prop="activeObject.TestSIPServer" mc-title="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.SIP_SERVER"></checkbox-control> </div> <div style="display:inline-block"> <checkbox-control prop="activeObject.TestWebServer" mc-title="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.WEBSERVER"></checkbox-control> </div> <div style="display:inline-block"> <checkbox-control prop="activeObject.TestTunnel" mc-title="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.TUNNEL"></checkbox-control> </div> </div> <div class="form-group" ng-hide="activeObject.Interval.hide && activeObject.Condition.hide"> <strong translate="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.FAILOVER_BEHAVIOR">Failover Behavior</strong> <div class="line line-dashed b-b line-lg"></div> <number-control minimum="0" prop="activeObject.Interval" mc-title="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.TIME_INTERVAL_TESTS"></number-control> <radio-enum-control prop="activeObject.Condition" name="Condition"></radio-enum-control> </div> <div class="form-group" ng-hide="activeObject.PreStartScript.hide && activeObject.PostStartScript.hide"> <strong translate="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.FAILOVER_OPERATIONS">Failover Operations</strong> <div class="line line-dashed b-b line-lg"></div> <label> <span translate="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.SCRIPTING"> Optional scripts can be launched before or after a failover occurs </span> <a href="{{\'LINKS.FAILOVER_SCRIPTS_LINK\' | translate}}" target="_blank" class="dashed_link"> <span translate="REPOS.TEXT.CLICK_HERE_MORE_INFO"></span> </a> </label> <div class="form-group"> <label translate="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.CHOOSE_LAUNCH_SCRIPT_BEFORE">You can choose to launch a script before the 3CX Services are started</label> <select-file-standard-control mc-accept="\'*.*\'" prop="activeObject.PreStartScript"></select-file-standard-control> </div> <div class="md-form-group"> <label translate="BACKUP_AND_RESTORE.DIALOGS.FAILOVER.CHOOSE_LAUNCH_SCRIPT_AFTER">You can choose to launch a script after the 3CX Services are started</label> <select-file-standard-control mc-accept="\'*.*\'" prop="activeObject.PostStartScript"></select-file-standard-control> </div> </div> </div> <div class="modal-footer"> <button uib-tooltip="{{(activeObject.licenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}" type="button" class="btn btn-default" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-click="askConfirm()">Save </button> <button type="button" class="btn btn-default" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" ng-click="cancelClick()">Close </button> </div> </div> '
              ),
          ]);
      let th = (() => {
        class t {
          constructor(e) {
            this.$http = e;
          }
          Settings(e) {
            return this.$http.edit("api/BackupAndRestoreList/settings", {
              force: e,
            });
          }
          FailoverSettings() {
            return this.$http.edit(
              "api/BackupAndRestoreList/failover_settings"
            );
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("BackupAndRestoreSvc", th);
      class ft {
        constructor(c, e, n) {
          (this.url = c),
            (this.path = e),
            (this.$http = n),
            void 0 === this.path && (this.path = function () {}),
            (this.url = "api/" + this.url);
        }
        getAll(c) {
          return this.$http.getApi(this.url, { params: c });
        }
        delByIds(c) {
          return this.$http.postApi(this.url + "/delete", {
            Path: this.path(),
            Ids: c,
          });
        }
        new(c) {
          return (
            null == c && (c = {}),
            this.$http.postApi(this.url + "/new", {
              Path: this.path(),
              Param: c,
            })
          );
        }
        set(c, e) {
          return this.$http.edit(this.url + "/set", {
            Path: this.path(),
            Id: c,
            force: e,
          });
        }
        clone(c, e) {
          return this.$http.edit(this.url + "/clone", {
            Path: this.path(),
            Id: c,
            force: e,
          });
        }
        setBulk(c, e) {
          return this.$http.edit(this.url + "/setBulk", {
            Path: this.path(),
            Ids: c,
            force: e,
          });
        }
        up(c) {
          return this.$http.postApi(this.url + "/up", {
            Path: this.path(),
            Id: c,
          });
        }
        down(c) {
          return this.$http.postApi(this.url + "/down", {
            Path: this.path(),
            Id: c,
          });
        }
      }
      var Je = (() => {
        return (
          ((t = Je || (Je = {}))[(t.Status429TooManyRequests = 429)] =
            "Status429TooManyRequests"),
          (t[(t.Status520ObjectNotFound = 520)] = "Status520ObjectNotFound"),
          (t[(t.Status522ValidationError = 522)] = "Status522ValidationError"),
          (t[(t.Status523UserMessage = 523)] = "Status523UserMessage"),
          (t[(t.Status527WarningMessage = 527)] = "Status527WarningMessage"),
          (t[(t.Status528TestRequestFailed = 528)] =
            "Status528TestRequestFailed"),
          Je
        );
        var t;
      })();
      function Ht(t) {
        for (const c of t) if (c.isSelected) return c;
      }
      function na(t, c) {
        let e = 0;
        for (;;) {
          for (; e < t.length && e < c.length && t[e].Id == c[e].Id; )
            u.extend(c[e], t[e]), e++;
          if (e < c.length && e < t.length) c.splice(e, 0, t[e]), e++;
          else {
            if (e == c.length)
              return void (t.slice(e).length > 0 && c.push(...t.slice(e)));
            if (e == t.length) return void c.splice(e, c.length - e);
          }
        }
      }
      function ia(t) {
        return !("CanBeDeleted" in t) || t.CanBeDeleted;
      }
      function _t() {
        document.querySelector("#app-container").scrollTop = 0;
      }
      function aa(t) {
        return !("CanBeDeleted" in t) || t.CanBeDeleted;
      }
      function ah(t) {
        if (0 == t) return "0 Byte";
        const i = Math.floor(Math.log(t) / Math.log(1e3));
        return (
          Number.parseFloat((t / 1e3 ** i).toFixed(2)) +
          " " +
          ["Bytes", "KB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"][i]
        );
      }
      let sh = (() => {
        class t {
          constructor(e, n, i, a, l, s, r) {
            (this.$http = e),
              (this.$q = n),
              (this.$rootScope = i),
              (this.$stateParams = a),
              (this.$uibModal = l),
              (this.WrapperSvc = s),
              (this.MessageBoxSvc = r);
          }
          getFirstSelected(e) {
            return Ht(e);
          }
          getAllSelected(e) {
            return e.filter(function (n) {
              return n.isSelected;
            });
          }
          BaseCollectionServiceMethods(e, n) {
            return new ft(e, n, this.$http);
          }
          initBaseEditController(e, n, i) {
            let a = !1;
            const l = i.Id,
              s = () => {
                this.$rootScope.$broadcast("saveEdit"),
                  this.$rootScope.$broadcast("closeEdit"),
                  n.save(l).then(
                    function (o) {
                      (e.activeObject.disposed = !0),
                        (a = !0),
                        i.onSave(),
                        o && e.$broadcast("afterSave", o.data);
                    },
                    (o) => {
                      this.WrapperSvc.invalidateObject(e.activeObject, o);
                    }
                  );
              };
            (e.saveClick = () => {
              if (!e.activeObject.licenseRestricted) {
                if (e.onBeforeSave) {
                  const o = e.onBeforeSave({ $value: e.activeObject });
                  if (!1 === o) return;
                  if (o && "function" == typeof o.then)
                    return void o.then(
                      () => s(),
                      () => {}
                    );
                }
                s();
              }
            }),
              (e.cancelClick = () => {
                this.$rootScope.$broadcast("closeEdit"),
                  (e.activeObject.disposed = !0),
                  n
                    .cancel(l)
                    .then(function () {
                      (a = !0), i.onCancel();
                    })
                    .catch(() => u.noop());
              }),
              (e.serverValidation = () =>
                n.validate(l).then(
                  () => {
                    e.validationSuccesseful();
                  },
                  (o) => {
                    this.WrapperSvc.invalidateObject(e.activeObject, o);
                  }
                )),
              e.$on("$destroy", () => {
                this.$rootScope.$broadcast("closeEdit"),
                  a ||
                    ((e.activeObject.disposed = !0),
                    n.cancel(l).catch(() => u.noop()));
              });
            const r = (o) => {
              this.WrapperSvc.makeWrapper(l, o, "api/edit/update").wrap(),
                (e.activeObject = o),
                e.onObjectAssigned &&
                  e.onObjectAssigned({ $value: e.activeObject });
            };
            if (null == i.ActiveObject)
              return n.get(l).then(
                function (o) {
                  r(o.data);
                },
                function (o) {
                  o.status == Je.Status520ObjectNotFound &&
                    ((a = !0), i.onCancel());
                }
              );
            {
              const o = i.ActiveObject;
              return this.$q((p) => {
                r(u.copy(o)), p();
              });
            }
          }
          initCollectionController(e, n, i) {
            function a() {
              const p = e.getSelectedItems();
              if (
                ((e.isAnySelected = 0 != p.length),
                (e.isOneSelected = 1 === p.length),
                (e.isAllSelected = !1),
                (e.allowDelete = 0 != p.filter(aa).length),
                1 != p.length)
              )
                (e.moveUpEnabled = !1), (e.moveDownEnabled = !1);
              else {
                const f = p[0],
                  m = e.items.indexOf(f);
                (e.moveUpEnabled =
                  void 0 !== f.canMoveUp
                    ? f.canMoveUp
                    : m > 0 && !(void 0 !== e.prop && e.prop.IsBulk)),
                  (e.moveDownEnabled =
                    void 0 !== f.canMoveDown
                      ? f.canMoveDown
                      : m < e.items.length - 1 &&
                        !(void 0 !== e.prop && e.prop.IsBulk));
              }
            }
            function l(p) {
              n.set(p.Id)
                .then(i.edit)
                .catch(() => u.noop());
            }
            function r() {
              let p = e.getSelectedItems();
              p = p.filter(aa);
              const f = p.map(function (m) {
                return m.Id;
              });
              n.delByIds(f)
                .then(function () {
                  i.refresh(!0);
                })
                .catch(() => u.noop());
            }
            void 0 === i && (i = {}),
              void 0 === i.edit && (i.edit = function () {}),
              void 0 === i.bulkEdit && (i.bulkEdit = function () {}),
              void 0 === i.refresh && (i.refresh = function () {}),
              (e.onSelectionChanged = a),
              (e.selectAll = function (p) {
                void 0 === p && (p = e.items);
                const f = !e.isAllSelected;
                p.forEach(function (m) {
                  m.isSelected = f;
                }),
                  a(),
                  (e.isAllSelected = f),
                  e.onCollectionChanged && e.onCollectionChanged(e.items);
              }),
              (e.mergeItems = function (p) {
                na(p, e.items),
                  a(),
                  e.onCollectionChanged && e.onCollectionChanged(e.items);
              }),
              (e.setItems = function (p, f = !0) {
                f &&
                  (function ih(t, c) {
                    null == t ||
                      null == c ||
                      t.forEach(function (e) {
                        if (e.isSelected) {
                          const n = c.find(
                            (function nh(t) {
                              return function (c) {
                                return c.Id == t;
                              };
                            })(e.Id)
                          );
                          null != n && (n.isSelected = !0);
                        }
                      });
                  })(e.items, p),
                  (e.items = p),
                  (e.itemsLoaded = !0),
                  a(),
                  e.onCollectionChanged && e.onCollectionChanged(e.items);
              }),
              (e.onAddClick = function (p) {
                n.new(p)
                  .then(i.edit)
                  .catch(() => u.noop());
              }),
              (e.onEditClick = () => {
                const p = Ht(e.displayedItems);
                p && ((e.selected = p), l(p));
              }),
              (e.onBulkEditClick = function () {
                const p = e.getSelectedItems();
                1 === p.length
                  ? e.onEditClick()
                  : (function s(p) {
                      const f = p.map(function (m) {
                        return m.Id;
                      });
                      n.setBulk(f)
                        .then(i.bulkEdit)
                        .catch(() => u.noop());
                    })(p);
              }),
              (e.onCloneClick = () => {
                const p = Ht(e.displayedItems);
                p &&
                  ((e.selected = p),
                  n
                    .clone(p.Id)
                    .then(i.edit)
                    .catch(() => u.noop()));
              }),
              (e.getItemById = function (p) {
                return e.items.filter((f) => f.Id == p)[0];
              }),
              (e.getSelectedItems = function () {
                return e.items.filter((p) => p.isSelected);
              }),
              (e.getSelectedIds = function () {
                return e.getSelectedItems().map((p) => p.Id);
              }),
              (e.onDeleteClick = () => {
                i.confirmDeletion
                  ? this.MessageBoxSvc.confirmDialog(
                      "REPOS.CONFIRMATION.HEADER",
                      e.getSelectedItems().length > 1
                        ? "REPOS.CONFIRMATION.TEXT_MANY"
                        : "REPOS.CONFIRMATION.TEXT"
                    )
                      .then(function () {
                        r();
                      })
                      .catch(() => u.noop())
                  : r();
              }),
              (e.onItemEditClick = function (p) {
                (e.selected = p), l(p);
              });
            const o = function (p) {
              n.delByIds([p.Id])
                .then(function () {
                  i.refresh(!0);
                })
                .catch(() => u.noop());
            };
            (e.onItemDeleteClick = (p) => {
              i.confirmDeletion
                ? this.MessageBoxSvc.confirmDialog()
                    .then(function () {
                      o(p);
                    })
                    .catch(() => u.noop())
                : o(p);
            }),
              (e.onItemClick = function () {
                a();
              }),
              (e.onMoveUpClick = () => {
                const p = Ht(e.items);
                p &&
                  n
                    .up(p.Id)
                    .then(() => {
                      i.refresh();
                    })
                    .catch(() => u.noop());
              }),
              (e.onMoveDownClick = () => {
                const p = Ht(e.items);
                p &&
                  n
                    .down(p.Id)
                    .then(() => {
                      i.refresh();
                    })
                    .catch(() => u.noop());
              }),
              (e.itemsByPage = 50),
              (e.items = []),
              (e.itemsLoaded = !1),
              (e.displayedItems = []),
              (e.isAnySelected = !1),
              (e.isOneSelected = !1),
              (e.isAllSelected = !1),
              (e.allowDelete = !1),
              (e.moveUpEnabled = !1),
              (e.moveDownEnabled = !1);
          }
          initEditController(e, n, i) {
            function a() {
              return void 0 === e ||
                void 0 === e.activeObject ||
                void 0 === e.activeObject._backPage
                ? i
                : e.activeObject._backPage;
            }
            return (
              _t(),
              this.initBaseEditController(e, n, {
                Id: this.$stateParams.Id,
                ActiveObject: this.$stateParams.ActiveObject,
                onSave: () => {
                  this.$rootScope.$state.go(a(), {}, { reload: a() });
                },
                onCancel: () => {
                  this.$rootScope.$state.go(a(), {}, { reload: a() });
                },
              })
            );
          }
          initModalEditController(e, n, i) {
            return this.initBaseEditController(e, n, {
              Id: i.Id,
              ActiveObject: i.ActiveObject,
              onSave() {
                e.$close("save");
              },
              onCancel() {
                e.$dismiss("cancel");
              },
            });
          }
          openModalEditor(e, n, i) {
            return this.$uibModal.open({
              size: "lg",
              templateUrl: e,
              controller: i || "ModalEditCtrl",
              keyboard: !0,
              backdrop: "static",
              resolve: { response: () => n },
            });
          }
          reloadState(e) {
            e.$state.go(e.$state.current, this.$stateParams, {
              reload: e.$state.current,
              inherit: !1,
              notify: !0,
            });
          }
        }
        return (
          (t.$inject = [
            "$http",
            "$q",
            "$rootScope",
            "$stateParams",
            "$uibModal",
            "WrapperSvc",
            "MessageBoxSvc",
          ]),
          t
        );
      })();
      u.module("app").service("MyUtilsSvc", sh);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/backup_and_restore/backup_and_restore_list.html",
            ' <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="BACKUP_AND_RESTORE.TITLE">Backup and Restore</label> <help-button url="{{\'LINKS.BACKUP_RESTORE_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="BACKUP_AND_RESTORE.BACKUP_AND_RESTORE"> Backup and Restore</div> <div class="panel-body" sticky-to-top> <button type="button" class="btn btn-sm btn-default btn-responsive" translate="REPOS.BUTTONS.LOCATION_BTN" id="btnLocation" ng-click="$ctrl.onLocationClick()"><i class="halflings halflings-folder-close"></i> Location </button> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnBackup" ng-disabled="!$ctrl.itemsLoaded" ng-click="$ctrl.onBackupClick()" translate="BACKUP_AND_RESTORE.LIST_BUTTONS.BACKUP_BTN"> <i class="halflings halflings-plus"></i> Backup </button> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnRestore" translate="BACKUP_AND_RESTORE.LIST_BUTTONS.RESTORE_BTN" ng-disabled="!$ctrl.isAnySelected()" ng-click="$ctrl.onRestoreClick()"><i class="halflings halflings-pencil"></i> Restore </button> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-disabled="!$ctrl.isAnySelected()" ng-click="$ctrl.onDownloadClick()" translate="REPOS.BUTTONS.DOWNLOAD_BTN" id="btnDownload"> <i class="halflings halflings-download"></i> Download </button> <button type="button" class="btn btn-sm btn-default btn-responsive" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete" ng-disabled="!$ctrl.isAnySelected()" ng-click="$ctrl.onDeleteClick()"> <i class="halflings halflings-remove"></i> Delete </button> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnBackupSchedule" translate="BACKUP_AND_RESTORE.LIST_BUTTONS.BACKUP_SCHEDULE" ng-click="$ctrl.onBackupScheduleClick()"><i class="halflings halflings-compressed"></i> Backup Schedule </button> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnRestoreSchedule" translate="BACKUP_AND_RESTORE.LIST_BUTTONS.RESTORE_SCHEDULE" ng-click="$ctrl.onRestoreScheduleClick()"><i class="halflings halflings-open"></i> Restore Schedule </button> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnFailover" translate="BACKUP_AND_RESTORE.LIST_BUTTONS.FAILOVER_BTN" ng-click="$ctrl.onFailoverClick()" ng-disabled="$ctrl.user.IsHostingMode"> <i class="halflings halflings-refresh"></i> Failover </button> </div> <div st-table="$ctrl.displayedItems" st-safe-src="$ctrl.items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped table-fixed"> <thead> <tr> <th st-sort="FileName" translate="BACKUP_AND_RESTORE.TBL_HEADING_FILE_NAME">File Name</th> <th st-sort="CreationTime" translate="BACKUP_AND_RESTORE.TBL_HEADING_CREATED_ON">Date modified </th> <th class="col-responsive" st-sort="Size" translate="BACKUP_AND_RESTORE.TBL_HEADING_SIZE">Size</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="item in $ctrl.displayedItems" st-select-row="item" st-select-mode="single" ng-dblclick="$ctrl.onRestoreClick(item)"> <td>{{item.backup.FileName}}</td> <td>{{item.backup.CreationTime | mcDateFormat}}</td> <td class="col-responsive">{{$ctrl.formatBytes(item.backup.Size)}}</td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="$ctrl.onDeleteClick(item)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i></button> </td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="$ctrl.itemsByPage" st-displayed-pages="7"></div> </div> </div> </div> </div> '
          ),
      ]);
      var mt = w(50727),
        xt = w(61135),
        it = w(63900),
        Rt = w(39646);
      function Bn(t) {
        const c = document.createElement("a");
        (c.href = t),
          c.setAttribute("download", ""),
          document.body.append(c),
          c.click(),
          setTimeout(function () {
            c.remove();
          }, 0);
      }
      var q = w(93075),
        It = w(39841),
        De = w(30395);
      const la = [
        q.kI.required,
        q.kI.pattern("^[a-zA-Z0-9]*$"),
        q.kI.maxLength(100),
        q.kI.minLength(7),
      ];
      function Vn(t) {
        return t.group({
          Day: [De.e2.Sunday, q.kI.required],
          Time: ["", q.kI.required],
          ScheduleType: [De.mG.Daily, q.kI.required],
        });
      }
      function ra(t) {
        return t.group({
          CallHistory: [!0],
          Prompts: [!0],
          EncryptBackup: [!1],
          EncryptBackupPassword: ["", la],
          FQDN: [!1],
          License: [!1],
          PhoneProvisioning: [!1],
          Recordings: [!1],
          VoiceMails: [!1],
        });
      }
      var We = w(54004),
        mn = w(39300),
        ca = w(68675);
      function rt(t) {
        return t.valueChanges.pipe(
          (0, mn.h)((c) => t.enabled),
          (0, ca.O)(t.value)
        );
      }
      function at(t, c) {
        return t.subscribe((e) => {
          c.forEach((n) => {
            e ? n.enable() : n.disable();
          });
        });
      }
      function da(t, c) {
        return t.statusChanges.subscribe({
          next: (e) => {
            setTimeout(() => {
              "VALID" === e && (c.setErrors(null), c.markAsTouched()),
                "INVALID" === e && (c.setErrors(t.errors), c.markAsTouched());
            }, 0);
          },
        });
      }
      var et = w(81134),
        jt = w(96348),
        He = w(85378),
        Ye = w(69808),
        vt = w(26056);
      function ch(t, c) {
        if ((1 & t && (d.TgZ(0, "option", 2), d._uU(1), d.qZA()), 2 & t)) {
          const e = c.$implicit;
          d.s9C("value", e.key), d.xp6(1), d.Oqu(e.value);
        }
      }
      const pa = (t) => (t < 10 ? "0" : "") + t;
      function ua(t) {
        return ae()(pa(t), "HH").format(
          (function dh() {
            return (
              ae()
                .localeData()
                .longDateFormat("LT")
                .toLowerCase()
                .indexOf("a") > -1
            );
          })()
            ? "hh:mm a"
            : "HH:mm"
        );
      }
      let uh = (() => {
        class t extends vt.Z {
          constructor(e) {
            super(e),
              (this.ranges = (function ph() {
                return Array.from(Array(24).keys()).map((t) => ({
                  key: `${pa(t)}:00:00`,
                  value: `${ua(t)} - ${ua(t + 1)}`,
                }));
              })());
          }
          writeValue(e) {
            this.cd.markForCheck(),
              (this.myDate = e.substring(0, e.indexOf(".")));
          }
          valueChanged(e) {
            this.onChange(e);
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.Y36(d.sBO));
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["app-time-period"]],
            features: [
              d._Bn([{ provide: q.JU, multi: !0, useExisting: t }]),
              d.qOj,
            ],
            decls: 2,
            vars: 3,
            consts: [
              [1, "form-control", 3, "ngModel", "disabled", "ngModelChange"],
              [3, "value", 4, "ngFor", "ngForOf"],
              [3, "value"],
            ],
            template: function (e, n) {
              1 & e &&
                (d.TgZ(0, "select", 0),
                d.NdJ("ngModelChange", function (a) {
                  return (n.myDate = a);
                })("ngModelChange", function (a) {
                  return n.valueChanged(a);
                }),
                d.YNc(1, ch, 2, 2, "option", 1),
                d.qZA()),
                2 & e &&
                  (d.Q6J("ngModel", n.myDate)("disabled", n.disabled),
                  d.xp6(1),
                  d.Q6J("ngForOf", n.ranges));
            },
            dependencies: [q.YN, q.Kr, q.EJ, q.JJ, Ye.sg, q.On],
            encapsulation: 2,
            changeDetection: 0,
          })),
          t
        );
      })();
      var hh = w(71764),
        Tt = w.n(hh),
        Tn = w(53464);
      const fh = function (t) {
        return { "has-error": t };
      };
      let bh = (() => {
          class t extends vt.Z {
            constructor(e) {
              super(e),
                (this.time = new Date()),
                (this.useAmPmFormat = (function gh() {
                  const t = Tt().localeData().longDateFormat("LT");
                  return -1 !== t.indexOf("A") || -1 !== t.indexOf("a");
                })());
            }
            valueChanged(e) {
              this.markAsTouched(),
                this.onChange(
                  (function mh(t) {
                    return t && Tt()(t).format("HH:mm:ss");
                  })(e)
                );
            }
            writeValue(e) {
              setTimeout(() => {
                this.cd.markForCheck(),
                  (this.time = (function Th(t) {
                    if (t) {
                      const c = t.split(":"),
                        e = parseInt(c[0], 10),
                        n = parseInt(c[1], 10);
                      return new Date(
                        new Date().getFullYear(),
                        1,
                        1,
                        e,
                        n,
                        0,
                        0
                      );
                    }
                    return new Date();
                  })(e));
              });
            }
            validate(e) {
              return this.time ? null : { invalidTime: !0 };
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)(d.Y36(d.sBO));
            }),
            (t.ɵcmp = d.Xpm({
              type: t,
              selectors: [["app-time-control"]],
              features: [
                d._Bn([
                  { provide: q.Cf, useExisting: t, multi: !0 },
                  { provide: q.JU, multi: !0, useExisting: t },
                ]),
                d.qOj,
              ],
              decls: 1,
              vars: 8,
              consts: [
                [
                  3,
                  "ngModel",
                  "disabled",
                  "showMeridian",
                  "ngClass",
                  "minuteStep",
                  "arrowkeys",
                  "ngModelChange",
                ],
              ],
              template: function (e, n) {
                1 & e &&
                  (d.TgZ(0, "timepicker", 0),
                  d.NdJ("ngModelChange", function (a) {
                    return (n.time = a);
                  })("ngModelChange", function (a) {
                    return n.valueChanged(a);
                  }),
                  d.qZA()),
                  2 & e &&
                    d.Q6J("ngModel", n.time)("disabled", n.disabled)(
                      "showMeridian",
                      n.useAmPmFormat
                    )("ngClass", d.VKq(6, fh, !n.time))("minuteStep", 1)(
                      "arrowkeys",
                      !0
                    );
              },
              dependencies: [q.JJ, Tn.EV, Ye.mk, q.On],
              encapsulation: 2,
              changeDetection: 0,
            })),
            t
          );
        })(),
        Sh = (() => {
          class t extends vt.Z {
            constructor(e) {
              super(e), (this.PbxDayOfWeek = De.e2);
            }
            writeValue(e) {
              this.val = e;
            }
            valueChanged(e) {
              this.markAsTouched(), this.onChange(e);
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)(d.Y36(d.sBO));
            }),
            (t.ɵcmp = d.Xpm({
              type: t,
              selectors: [["app-day-of-week-control"]],
              features: [
                d._Bn([{ provide: q.JU, multi: !0, useExisting: t }]),
                d.qOj,
              ],
              decls: 22,
              vars: 30,
              consts: [
                [1, "form-control", 3, "ngModel", "disabled", "ngModelChange"],
                [3, "ngValue"],
              ],
              template: function (e, n) {
                1 & e &&
                  (d.TgZ(0, "select", 0),
                  d.NdJ("ngModelChange", function (a) {
                    return (n.val = a);
                  })("ngModelChange", function (a) {
                    return n.valueChanged(a);
                  }),
                  d.TgZ(1, "option", 1),
                  d._uU(2),
                  d.ALo(3, "translate"),
                  d.qZA(),
                  d.TgZ(4, "option", 1),
                  d._uU(5),
                  d.ALo(6, "translate"),
                  d.qZA(),
                  d.TgZ(7, "option", 1),
                  d._uU(8),
                  d.ALo(9, "translate"),
                  d.qZA(),
                  d.TgZ(10, "option", 1),
                  d._uU(11),
                  d.ALo(12, "translate"),
                  d.qZA(),
                  d.TgZ(13, "option", 1),
                  d._uU(14),
                  d.ALo(15, "translate"),
                  d.qZA(),
                  d.TgZ(16, "option", 1),
                  d._uU(17),
                  d.ALo(18, "translate"),
                  d.qZA(),
                  d.TgZ(19, "option", 1),
                  d._uU(20),
                  d.ALo(21, "translate"),
                  d.qZA()()),
                  2 & e &&
                    (d.Q6J("ngModel", n.val)("disabled", n.disabled),
                    d.xp6(1),
                    d.Q6J("ngValue", n.PbxDayOfWeek.Monday),
                    d.xp6(1),
                    d.Oqu(d.lcZ(3, 16, "enum.DayOfWeek.Monday")),
                    d.xp6(2),
                    d.Q6J("ngValue", n.PbxDayOfWeek.Tuesday),
                    d.xp6(1),
                    d.Oqu(d.lcZ(6, 18, "enum.DayOfWeek.Tuesday")),
                    d.xp6(2),
                    d.Q6J("ngValue", n.PbxDayOfWeek.Wednesday),
                    d.xp6(1),
                    d.Oqu(d.lcZ(9, 20, "enum.DayOfWeek.Wednesday")),
                    d.xp6(2),
                    d.Q6J("ngValue", n.PbxDayOfWeek.Thursday),
                    d.xp6(1),
                    d.Oqu(d.lcZ(12, 22, "enum.DayOfWeek.Thursday")),
                    d.xp6(2),
                    d.Q6J("ngValue", n.PbxDayOfWeek.Friday),
                    d.xp6(1),
                    d.Oqu(d.lcZ(15, 24, "enum.DayOfWeek.Friday")),
                    d.xp6(2),
                    d.Q6J("ngValue", n.PbxDayOfWeek.Saturday),
                    d.xp6(1),
                    d.Oqu(d.lcZ(18, 26, "enum.DayOfWeek.Saturday")),
                    d.xp6(2),
                    d.Q6J("ngValue", n.PbxDayOfWeek.Sunday),
                    d.xp6(1),
                    d.Oqu(d.lcZ(21, 28, "enum.DayOfWeek.Sunday")));
              },
              dependencies: [q.YN, q.Kr, q.EJ, q.JJ, q.On, He.X$],
              encapsulation: 2,
              changeDetection: 0,
            })),
            t
          );
        })();
      function Eh(t, c) {
        if (
          (1 & t &&
            (d.TgZ(0, "option", 3), d._uU(1), d.ALo(2, "translate"), d.qZA()),
          2 & t)
        ) {
          const e = d.oxw();
          d.Q6J("ngValue", e.PbxFailoverScheduleType.Monthly),
            d.xp6(1),
            d.Oqu(d.lcZ(2, 2, "enum.FailoverScheduleType.Monthly"));
        }
      }
      function Ah(t, c) {
        1 & t && d._UZ(0, "app-time-control", 8);
      }
      function Ch(t, c) {
        1 & t && d._UZ(0, "app-time-period", 8);
      }
      function _h(t, c) {
        1 & t &&
          (d.ynx(0),
          d._UZ(1, "label", 9),
          d.TgZ(2, "div", 1),
          d._UZ(3, "app-day-of-week-control", 10),
          d.qZA(),
          d.BQk());
      }
      let bn = (() => {
        class t {
          constructor() {
            (this.PbxFailoverScheduleType = De.mG),
              (this.allowMonthly = !1),
              (this.useTimePeriod = !1);
          }
          get scheduleType() {
            return this.form.controls.ScheduleType.value;
          }
          get isDayVisible() {
            return (
              this.scheduleType === De.mG.Weekly ||
              this.scheduleType === De.mG.Monthly
            );
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)();
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["app-schedule-control"]],
            inputs: {
              allowMonthly: "allowMonthly",
              useTimePeriod: "useTimePeriod",
              form: "form",
            },
            decls: 14,
            vars: 13,
            consts: [
              [
                1,
                "row",
                2,
                "display",
                "flex",
                "align-items",
                "center",
                "flex-wrap",
                "wrap",
                3,
                "formGroup",
              ],
              [1, "col-sm-4"],
              ["formControlName", "ScheduleType", 1, "form-control"],
              [3, "ngValue"],
              [3, "ngValue", 4, "ngIf"],
              [1, "col-sm-3"],
              ["formControlName", "Time", 4, "ngIf"],
              [4, "ngIf"],
              ["formControlName", "Time"],
              [
                "translate",
                "BACKUP_AND_RESTORE.DIALOGS.BACKUP_SCHEDULE.EVERY",
                1,
                "col-sm-1",
              ],
              ["formControlName", "Day"],
            ],
            template: function (e, n) {
              1 & e &&
                (d.TgZ(0, "div", 0)(1, "div", 1)(2, "select", 2)(
                  3,
                  "option",
                  3
                ),
                d._uU(4),
                d.ALo(5, "translate"),
                d.qZA(),
                d.TgZ(6, "option", 3),
                d._uU(7),
                d.ALo(8, "translate"),
                d.qZA(),
                d.YNc(9, Eh, 3, 4, "option", 4),
                d.qZA()(),
                d.TgZ(10, "div", 5),
                d.YNc(11, Ah, 1, 0, "app-time-control", 6),
                d.YNc(12, Ch, 1, 0, "app-time-period", 6),
                d.qZA(),
                d.YNc(13, _h, 4, 0, "ng-container", 7),
                d.qZA()),
                2 & e &&
                  (d.Q6J("formGroup", n.form),
                  d.xp6(3),
                  d.Q6J("ngValue", n.PbxFailoverScheduleType.Daily),
                  d.xp6(1),
                  d.Oqu(d.lcZ(5, 9, "enum.FailoverScheduleType.Daily")),
                  d.xp6(2),
                  d.Q6J("ngValue", n.PbxFailoverScheduleType.Weekly),
                  d.xp6(1),
                  d.Oqu(d.lcZ(8, 11, "enum.FailoverScheduleType.Weekly")),
                  d.xp6(2),
                  d.Q6J("ngIf", n.allowMonthly),
                  d.xp6(2),
                  d.Q6J("ngIf", !n.useTimePeriod),
                  d.xp6(1),
                  d.Q6J("ngIf", n.useTimePeriod),
                  d.xp6(1),
                  d.Q6J("ngIf", n.isDayVisible));
            },
            dependencies: [
              q.YN,
              q.Kr,
              q.EJ,
              q.JJ,
              q.JL,
              q.sg,
              q.u,
              Ye.O5,
              He.Pi,
              uh,
              bh,
              Sh,
              He.X$,
            ],
            encapsulation: 2,
          })),
          t
        );
      })();
      function Ih(t, c) {
        if (
          (1 & t &&
            (d.TgZ(0, "span")(1, "a", 6),
            d.ALo(2, "translate"),
            d._UZ(3, "span", 7),
            d.qZA()()),
          2 & t)
        ) {
          const e = d.oxw();
          d.xp6(1), d.s9C("href", d.lcZ(2, 1, e.informationLink), d.LSH);
        }
      }
      function vh(t, c) {
        1 & t && d._UZ(0, "span", 8);
      }
      const Nh = function (t) {
          return { "form-group": t };
        },
        yh = ["*"];
      let kt = (() => {
        class t extends vt.Z {
          constructor(e) {
            super(e);
          }
          valueChanged(e) {
            this.markAsTouched(), this.onChange(e);
          }
          writeValue(e) {
            (this.value = e), this.cd.markForCheck();
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.Y36(d.sBO));
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["app-checkbox-control"]],
            inputs: {
              removeClass: "removeClass",
              mcTitle: "mcTitle",
              informationLink: "informationLink",
              availableProEnterprise: "availableProEnterprise",
            },
            features: [
              d._Bn([{ provide: q.JU, multi: !0, useExisting: t }]),
              d.qOj,
            ],
            ngContentSelectors: yh,
            decls: 9,
            vars: 10,
            consts: [
              [3, "ngClass"],
              [1, "i-checks", "m-t-xs", "m-r"],
              ["type", "checkbox", 3, "ngModel", "disabled", "ngModelChange"],
              [3, "innerHTML"],
              [4, "ngIf"],
              ["translate", "REPOS.TEXT.AVAILABLE_PROF_ENTERPRISE", 4, "ngIf"],
              ["target", "_blank", 1, "dashed_link", 3, "href"],
              ["translate", "REPOS.TEXT.CLICK_HERE_MORE_INFO"],
              ["translate", "REPOS.TEXT.AVAILABLE_PROF_ENTERPRISE"],
            ],
            template: function (e, n) {
              1 & e &&
                (d.F$t(),
                d.TgZ(0, "div", 0)(1, "label", 1)(2, "input", 2),
                d.NdJ("ngModelChange", function (a) {
                  return (n.value = a);
                })("ngModelChange", function (a) {
                  return n.valueChanged(a);
                }),
                d.qZA(),
                d._UZ(3, "i")(4, "span", 3),
                d.ALo(5, "translate"),
                d.YNc(6, Ih, 4, 3, "span", 4),
                d.YNc(7, vh, 1, 0, "span", 5),
                d.qZA(),
                d.Hsn(8),
                d.qZA()),
                2 & e &&
                  (d.Q6J("ngClass", d.VKq(8, Nh, !n.removeClass)),
                  d.xp6(2),
                  d.Q6J("ngModel", n.value)("disabled", n.disabled),
                  d.xp6(2),
                  d.Q6J("innerHTML", d.lcZ(5, 6, n.mcTitle), d.oJD),
                  d.xp6(2),
                  d.Q6J("ngIf", n.informationLink),
                  d.xp6(1),
                  d.Q6J("ngIf", n.availableProEnterprise));
            },
            dependencies: [q.Wl, q.JJ, Ye.mk, Ye.O5, q.On, He.Pi, He.X$],
            encapsulation: 2,
            changeDetection: 0,
          })),
          t
        );
      })();
      const Oh = ["*"];
      let ha = (() => {
        class t extends vt.Z {
          constructor(e) {
            super(e);
          }
          valueChange(e) {
            this.markAsTouched(), this.onChange(parseInt(e, 10));
          }
          writeValue(e) {
            this.val = "" + e;
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.Y36(d.sBO));
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["app-number-control"]],
            inputs: { mcTitle: "mcTitle", placeholder: "placeholder" },
            features: [
              d._Bn([{ provide: q.JU, multi: !0, useExisting: t }]),
              d.qOj,
            ],
            ngContentSelectors: Oh,
            decls: 4,
            vars: 4,
            consts: [
              [1, "form-group", "m-b"],
              [3, "translate"],
              [
                "type",
                "number",
                1,
                "form-control",
                3,
                "placeholder",
                "ngModel",
                "disabled",
                "ngModelChange",
              ],
            ],
            template: function (e, n) {
              1 & e &&
                (d.F$t(),
                d.TgZ(0, "div", 0),
                d._UZ(1, "label", 1),
                d.TgZ(2, "input", 2),
                d.NdJ("ngModelChange", function (a) {
                  return (n.val = a);
                })("ngModelChange", function (a) {
                  return n.valueChange(a);
                }),
                d.qZA(),
                d.Hsn(3),
                d.qZA()),
                2 & e &&
                  (d.xp6(1),
                  d.Q6J("translate", n.mcTitle),
                  d.xp6(1),
                  d.Q6J("placeholder", n.placeholder || "")("ngModel", n.val)(
                    "disabled",
                    n.disabled
                  ));
            },
            dependencies: [q.Fj, q.wV, q.JJ, q.On, He.Pi],
            encapsulation: 2,
            changeDetection: 0,
          })),
          t
        );
      })();
      var Xe = w(61435),
        Sn = w(44582);
      function xh(t, c) {
        if ((1 & t && d._UZ(0, "label", 5), 2 & t)) {
          const e = d.oxw();
          d.Q6J("translate", e.mcTitle);
        }
      }
      function Rh(t, c) {
        if (1 & t) {
          const e = d.EpF();
          d.TgZ(0, "span", 6)(1, "button", 7),
            d.NdJ("click", function () {
              d.CHM(e);
              const i = d.oxw();
              return (
                (i.passwordCheckbox = !i.passwordCheckbox),
                d.KtG(i.cd.markForCheck())
              );
            }),
            d._UZ(2, "span", 8),
            d.qZA()();
        }
      }
      const Lh = ["*"];
      let En = (() => {
        class t extends vt.Z {
          constructor(e, n) {
            super(e),
              (this.maxlength = 50),
              (this.placeholder = ""),
              (this.textSec = !1),
              (this.textSec =
                "webkitTextSecurity" in
                window.getComputedStyle(n.nativeElement));
          }
          setDisabledState(e) {
            super.setDisabledState(e), this.cd.markForCheck();
          }
          valueChanged(e) {
            this.markAsTouched(), this.onChange(e);
          }
          onBlur() {
            this.markAsTouched();
          }
          writeValue(e) {
            this.value = e;
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.Y36(d.sBO), d.Y36(d.SBq));
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["app-password-control"]],
            inputs: {
              maxlength: "maxlength",
              placeholder: "placeholder",
              mcTitle: "mcTitle",
            },
            features: [
              d._Bn([{ provide: q.JU, multi: !0, useExisting: t }]),
              d.qOj,
            ],
            ngContentSelectors: Lh,
            decls: 7,
            vars: 10,
            consts: [
              [1, "form-group", "m-b"],
              [3, "translate", 4, "ngIf"],
              [1, "input-group", 2, "width", "100%"],
              [
                "autocomplete",
                "off",
                1,
                "form-control",
                "m-b",
                3,
                "type",
                "ngClass",
                "placeholder",
                "maxLength",
                "ngModel",
                "disabled",
                "blur",
                "ngModelChange",
              ],
              ["class", "input-group-btn", 4, "ngIf"],
              [3, "translate"],
              [1, "input-group-btn"],
              ["type", "button", 1, "btn", "btn-default", 3, "click"],
              [1, "halflings", "halflings-eye-open"],
            ],
            template: function (e, n) {
              1 & e &&
                (d.F$t(),
                d.TgZ(0, "div", 0),
                d.YNc(1, xh, 1, 1, "label", 1),
                d.TgZ(2, "div", 2)(3, "input", 3),
                d.NdJ("blur", function () {
                  return n.onBlur();
                })("ngModelChange", function (a) {
                  return (n.value = a);
                })("ngModelChange", function (a) {
                  return n.valueChanged(a);
                }),
                d.ALo(4, "translate"),
                d.qZA(),
                d.YNc(5, Rh, 3, 0, "span", 4),
                d.qZA(),
                d.Hsn(6),
                d.qZA()),
                2 & e &&
                  (d.xp6(1),
                  d.Q6J("ngIf", n.mcTitle),
                  d.xp6(2),
                  d.s9C(
                    "type",
                    n.passwordCheckbox || n.textSec ? "text" : "password"
                  ),
                  d.Q6J(
                    "ngClass",
                    n.passwordCheckbox && n.textSec ? "unConceal" : "conceal"
                  )("placeholder", d.lcZ(4, 8, n.placeholder))(
                    "maxLength",
                    n.maxlength
                  )("ngModel", n.value)("disabled", n.disabled),
                  d.xp6(2),
                  d.Q6J("ngIf", !n.hideEye));
            },
            dependencies: [q.Fj, q.JJ, Ye.mk, Ye.O5, q.On, He.Pi, He.X$],
            encapsulation: 2,
            changeDetection: 0,
          })),
          t
        );
      })();
      function Dh(t, c) {
        1 & t && d._UZ(0, "error-template", 8);
      }
      function Mh(t, c) {
        1 & t && d._UZ(0, "error-template", 9);
      }
      const wh = function (t) {
        return { p0: t };
      };
      function Ph(t, c) {
        if ((1 & t && d._UZ(0, "error-template", 10), 2 & t)) {
          const e = d.oxw();
          d.Q6J("args", d.VKq(1, wh, e.passwordMinLength));
        }
      }
      let fa = (() => {
          class t {
            constructor() {
              (this.passwordMinLength = 7), (this.encrypt = !0);
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)();
            }),
            (t.ɵcmp = d.Xpm({
              type: t,
              selectors: [["app-backup-password-control"]],
              inputs: {
                encrypt: "encrypt",
                encryptBackup: "encryptBackup",
                encryptBackupPassword: "encryptBackupPassword",
              },
              decls: 9,
              vars: 5,
              consts: [
                [1, "row"],
                [1, "col-sm-6"],
                [3, "formControl", "mcTitle"],
                [
                  "placeholder",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP.ENCRYPT_PASSWORD",
                  3,
                  "formControl",
                  "maxlength",
                ],
                [3, "control"],
                ["valError", "pattern"],
                ["valError", "required"],
                ["valError", "minlength"],
                ["text", "WARNINGS.MUST_BE_ALPHANUMERIC_NOSPACE"],
                ["text", "WARNINGS.PASSWORD_NOT_EMPTY"],
                ["text", "WARNINGS.LENGHT_NOT_LESS_THAN_CHARS", 3, "args"],
              ],
              template: function (e, n) {
                1 & e &&
                  (d.TgZ(0, "div", 0)(1, "div", 1),
                  d._UZ(2, "app-checkbox-control", 2),
                  d.qZA(),
                  d.TgZ(3, "div", 1)(4, "app-password-control", 3)(
                    5,
                    "val-errors",
                    4
                  ),
                  d.YNc(6, Dh, 1, 0, "ng-template", 5),
                  d.YNc(7, Mh, 1, 0, "ng-template", 6),
                  d.YNc(8, Ph, 1, 3, "ng-template", 7),
                  d.qZA()()()()),
                  2 & e &&
                    (d.xp6(2),
                    d.Q6J("formControl", n.encryptBackup)(
                      "mcTitle",
                      n.encrypt
                        ? "BACKUP_AND_RESTORE.DIALOGS.BACKUP.ENCRYPT"
                        : "BACKUP_AND_RESTORE.DIALOGS.BACKUP.DECRYPT"
                    ),
                    d.xp6(2),
                    d.Q6J("formControl", n.encryptBackupPassword)(
                      "maxlength",
                      100
                    ),
                    d.xp6(1),
                    d.Q6J("control", n.encryptBackupPassword));
              },
              dependencies: [q.JJ, q.nD, q.oH, kt, En, Xe.tM, Xe.HY, Sn.u],
              encapsulation: 2,
            })),
            t
          );
        })(),
        ga = (() => {
          class t {}
          return (
            (t.ɵfac = function (e) {
              return new (e || t)();
            }),
            (t.ɵcmp = d.Xpm({
              type: t,
              selectors: [["app-backup-contents-control"]],
              inputs: { contents: "contents" },
              decls: 6,
              vars: 3,
              consts: [
                [3, "formGroup"],
                [
                  "formControlName",
                  "License",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP.INCLUDE_LICENSE_AND_FQDN_INFORMATION",
                ],
                [
                  "formControlName",
                  "PhoneProvisioning",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP_SCHEDULE.PHONE_PROVISIONING_FIRMWARE",
                ],
                [
                  "formControlName",
                  "VoiceMails",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP_SCHEDULE.VOICEMAILS",
                ],
                [
                  "formControlName",
                  "Recordings",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP_SCHEDULE.RECORDINGS",
                ],
                [3, "encryptBackup", "encryptBackupPassword"],
              ],
              template: function (e, n) {
                1 & e &&
                  (d.ynx(0, 0),
                  d._UZ(1, "app-checkbox-control", 1)(
                    2,
                    "app-checkbox-control",
                    2
                  )(3, "app-checkbox-control", 3)(4, "app-checkbox-control", 4)(
                    5,
                    "app-backup-password-control",
                    5
                  ),
                  d.BQk()),
                  2 & e &&
                    (d.Q6J("formGroup", n.contents),
                    d.xp6(5),
                    d.Q6J("encryptBackup", n.contents.controls.EncryptBackup)(
                      "encryptBackupPassword",
                      n.contents.controls.EncryptBackupPassword
                    ));
              },
              dependencies: [q.JJ, q.JL, q.sg, q.u, kt, fa],
              encapsulation: 2,
            })),
            t
          );
        })();
      function Hh(t, c) {
        1 & t && d._UZ(0, "error-template", 25);
      }
      const ma = function (t, c) {
        return { p0: t, p1: c };
      };
      function jh(t, c) {
        if ((1 & t && d._UZ(0, "error-template", 26), 2 & t)) {
          const e = d.oxw();
          d.Q6J("args", d.WLB(1, ma, e.rotationMin, e.rotationMax));
        }
      }
      function kh(t, c) {
        if ((1 & t && d._UZ(0, "error-template", 26), 2 & t)) {
          const e = d.oxw();
          d.Q6J("args", d.WLB(1, ma, e.rotationMin, e.rotationMaxInHosted));
        }
      }
      let Uh = (() => {
          class t {
            constructor(e, n, i, a) {
              (this.bsModalRef = e),
                (this.fb = n),
                (this.backupService = i),
                (this.xapiError = a),
                (this.rotationMin = 1),
                (this.rotationMaxInHosted = 2),
                (this.rotationMax = 25),
                (this.sub = new mt.w0()),
                (this.saving = !1),
                (this.form = this.fb.group({
                  Schedule: Vn(this.fb),
                  ScheduleEnabled: this.fb.control(!1),
                  Contents: ra(this.fb),
                  Rotation: this.fb.control(0, [q.kI.required]),
                }));
            }
            ngOnInit() {
              const e = this.form.controls,
                n = e.Contents.controls;
              this.sub.add(
                at(
                  rt(e.ScheduleEnabled),
                  Object.values(e).filter((i) => i !== e.ScheduleEnabled)
                )
              ),
                this.sub.add(
                  at(
                    (0, It.a)([
                      rt(e.ScheduleEnabled),
                      rt(e.Contents.controls.EncryptBackup),
                    ]).pipe((0, We.U)(([i, a]) => i && a)),
                    [n.EncryptBackupPassword]
                  )
                );
            }
            ngOnDestroy() {
              this.sub.unsubscribe();
            }
            setValue(e) {
              this.form.patchValue(e);
            }
            save() {
              if (this.form.invalid) return void this.form.markAllAsTouched();
              if (this.saving) return;
              this.saving = !0;
              const e = this.form.value;
              e.Contents &&
                ((e.Contents.Prompts = !0),
                (e.Contents.FQDN = e.Contents.License)),
                this.backupService
                  .setBackupSettings({
                    backupsSetBackupSettingsRequestBody: { settings: e },
                  })
                  .subscribe({
                    next: () => {
                      (this.saving = !1), this.bsModalRef.hide();
                    },
                    error: (n) => {
                      (this.saving = !1),
                        this.xapiError.error(n, this.form, !1);
                    },
                  });
            }
            cancelClick() {
              this.bsModalRef.hide();
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)(
                d.Y36(et.UZ),
                d.Y36(q.qu),
                d.Y36(De.wn),
                d.Y36(jt.Y)
              );
            }),
            (t.ɵcmp = d.Xpm({
              type: t,
              selectors: [["app-backup-settings-modal"]],
              decls: 29,
              vars: 4,
              consts: [
                [3, "formGroup", "ngSubmit"],
                [1, "modal-content"],
                [1, "modal-header"],
                ["type", "button", 1, "close", 3, "click"],
                [
                  "translate",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP_SCHEDULE.TITLE",
                  1,
                  "modal-title",
                ],
                [1, "modal-body"],
                [
                  "formControlName",
                  "ScheduleEnabled",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP_SCHEDULE.ENABLE",
                ],
                [
                  "translate",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP_SCHEDULE.BACKUP_OPTIONS",
                ],
                [1, "line", "line-dashed", "b-b", "line-lg"],
                [
                  "translate",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP.SELECT_WHAT_TO_BACKUP",
                ],
                [
                  "translate",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP_SCHEDULE.BACKUP_NAME",
                ],
                [3, "contents"],
                [1, "form-group", "clear"],
                [
                  "translate",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP_SCHEDULE.SCHEDULE",
                ],
                [
                  "translate",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP_SCHEDULE.SPECIFY_NUMBER_OF_BACKUPS",
                ],
                [3, "form"],
                [
                  "translate",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP_SCHEDULE.CONFIGURE_ROTATION",
                ],
                ["formControlName", "Rotation"],
                [3, "control"],
                ["valError", "XapiTooManyBackups"],
                ["valError", "XapiInvalid"],
                ["valError", "XapiInvalidBackupsInHosted"],
                [1, "modal-footer"],
                [
                  "type",
                  "submit",
                  "translate",
                  "REPOS.BUTTONS.SAVE_BTN",
                  "id",
                  "btnSave",
                  1,
                  "btn",
                  "btn-default",
                ],
                [
                  "type",
                  "button",
                  "translate",
                  "REPOS.BUTTONS.CANCEL_BTN",
                  "id",
                  "btnCancel",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "click",
                ],
                ["text", "WARNINGS.TOO_MANY_BACKUPS"],
                ["text", "WARNINGS.ALLOWED_VALUES_FROM", 3, "args"],
              ],
              template: function (e, n) {
                1 & e &&
                  (d.TgZ(0, "form", 0),
                  d.NdJ("ngSubmit", function () {
                    return n.save();
                  }),
                  d.TgZ(1, "div", 1)(2, "div", 2)(3, "button", 3),
                  d.NdJ("click", function () {
                    return n.cancelClick();
                  }),
                  d._uU(4, "\xd7"),
                  d.qZA(),
                  d._UZ(5, "h4", 4),
                  d.qZA(),
                  d.TgZ(6, "div", 5),
                  d._UZ(7, "app-checkbox-control", 6)(8, "strong", 7)(
                    9,
                    "div",
                    8
                  ),
                  d.TgZ(10, "label"),
                  d._UZ(11, "span", 9)(12, "span", 10),
                  d.qZA(),
                  d._UZ(13, "app-backup-contents-control", 11),
                  d.TgZ(14, "div", 12),
                  d._UZ(15, "strong", 13)(16, "div", 8)(17, "label", 14)(
                    18,
                    "app-schedule-control",
                    15
                  ),
                  d.qZA(),
                  d.TgZ(19, "div", 12),
                  d._UZ(20, "label", 16),
                  d.TgZ(21, "app-number-control", 17)(22, "val-errors", 18),
                  d.YNc(23, Hh, 1, 0, "ng-template", 19),
                  d.YNc(24, jh, 1, 4, "ng-template", 20),
                  d.YNc(25, kh, 1, 4, "ng-template", 21),
                  d.qZA()()()(),
                  d.TgZ(26, "div", 22),
                  d._UZ(27, "button", 23),
                  d.TgZ(28, "button", 24),
                  d.NdJ("click", function () {
                    return n.cancelClick();
                  }),
                  d.qZA()()()()),
                  2 & e &&
                    (d.Q6J("formGroup", n.form),
                    d.xp6(13),
                    d.Q6J("contents", n.form.controls.Contents),
                    d.xp6(5),
                    d.Q6J("form", n.form.controls.Schedule),
                    d.xp6(4),
                    d.Q6J("control", n.form.controls.Rotation));
              },
              dependencies: [
                He.Pi,
                q._Y,
                q.JJ,
                q.JL,
                q.sg,
                q.u,
                bn,
                kt,
                ha,
                Xe.tM,
                Xe.HY,
                Sn.u,
                ga,
              ],
              encapsulation: 2,
            })),
            t
          );
        })(),
        An = (() => {
          class t {
            constructor(e, n, i) {
              (this.$http = e),
                (this.$q = n),
                (this.$rootScope = i),
                (this.authenticatedUser = null),
                (this.userRequestPerformed = !1);
            }
            getUser() {
              return this.authenticatedUser;
            }
            exists() {
              return null != this.authenticatedUser;
            }
            requestUser() {
              const e = this.$q.defer();
              return (
                this.getCurrentUser().then(
                  (n) => {
                    const i = n.data;
                    (this.userRequestPerformed = !0),
                      i &&
                        ((this.userRequestPerformed = !0),
                        (this.authenticatedUser = i)),
                      (this.$rootScope.User = this.authenticatedUser),
                      e.resolve(this.authenticatedUser);
                  },
                  (n) => {
                    (this.userRequestPerformed = !0), e.reject(n.data);
                  }
                ),
                e.promise
              );
            }
            login(e) {
              const n = this.$q.defer();
              function i(a) {
                const l = a.data;
                n.reject(
                  403 == a.status
                    ? {
                        errorMessage: "WARNINGS.IP_BLACKLISTED",
                        failedAdminLogiAttempt: !1,
                        blackListed: !0,
                        incorrectCredentials: !1,
                      }
                    : {
                        errorMessage: "WARNINGS.SERVER_ERROR",
                        failedAdminLogiAttempt: !1,
                        blackListed: !1,
                        incorrectCredentials: !1,
                      }
                ),
                  console.log("Server Error: " + l);
              }
              return (
                this.$http.post("api/login", e).then((a) => {
                  const l = a.data;
                  "AuthSuccess" === l
                    ? this.requestUser().then((s) => {
                        n.resolve(s);
                      }, i)
                    : n.reject({
                        errorMessage: "WARNINGS.INCORRECT_USERNAME_PASSWORD",
                        failedAdminLogiAttempt: "FailedAdminLoginAttempt" === l,
                        blackListed: !1,
                        incorrectCredentials: !0,
                      });
                }, i),
                n.promise
              );
            }
            logout() {
              (this.authenticatedUser = null),
                (this.$rootScope.lastRequestedMeaningfulState = void 0),
                this.$http.post("api/logout", {}).catch(() => u.noop());
            }
            getCurrentUser() {
              return this.$http.get("api/CurrentUser");
            }
            resetPassword() {
              const e = this.$q.defer();
              return (
                this.$http({
                  method: "POST",
                  url: "api/login/RestorePassword",
                  headers: { "X-3CX-Version": "To whom it may concern" },
                  data: null,
                }).then(
                  (n) => {
                    e.resolve(n.data);
                  },
                  (n) => {
                    e.reject(403 == n.status);
                  }
                ),
                e.promise
              );
            }
          }
          return (t.$inject = ["$http", "$q", "$rootScope"]), t;
        })();
      u.module("app").service("AuthenticationSvc", An);
      var zt = w(59294);
      let $h = (() => {
        class t {
          constructor(e, n, i, a, l) {
            (this.bsModalRef = n),
              (this.fb = i),
              (this.backupService = a),
              (this.xapiError = l),
              (this.saving = !1),
              (this.isProfessionalLicense = !1),
              (this.sub = new mt.w0()),
              (this.form = this.fb.group({
                Schedule: Vn(this.fb),
                ScheduleEnabled: [!1],
                EncryptBackup: [!1],
                EncryptBackupPassword: ["", la],
                NotRestart: [!1],
              })),
              (this.isProfessionalLicense = e.getUser().isProfessional);
          }
          ngOnInit() {
            const e = this.form.controls;
            this.sub.add(
              at(
                rt(e.ScheduleEnabled),
                Object.values(e).filter(
                  (n) =>
                    n !== e.ScheduleEnabled && n !== e.EncryptBackupPassword
                )
              )
            ),
              this.sub.add(
                at(
                  (0, It.a)([rt(e.ScheduleEnabled), rt(e.EncryptBackup)]).pipe(
                    (0, We.U)(([n, i]) => n && i)
                  ),
                  [e.EncryptBackupPassword]
                )
              );
          }
          ngOnDestroy() {
            this.sub.unsubscribe();
          }
          setValue(e) {
            this.form.patchValue(e);
          }
          save() {
            this.isProfessionalLicense &&
              (this.form.invalid
                ? this.form.markAllAsTouched()
                : this.saving ||
                  ((this.saving = !0),
                  this.backupService
                    .setRestoreSettings({
                      backupsSetRestoreSettingsRequestBody: {
                        settings: this.form.value,
                      },
                    })
                    .subscribe({
                      next: () => {
                        (this.saving = !1), this.bsModalRef.hide();
                      },
                      error: (n) => {
                        (this.saving = !1),
                          this.xapiError.error(n, this.form, !1);
                      },
                    })));
          }
          cancelClick() {
            this.bsModalRef.hide();
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(
              d.Y36(An),
              d.Y36(et.UZ),
              d.Y36(q.qu),
              d.Y36(De.wn),
              d.Y36(jt.Y)
            );
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["app-restore-settings-modal"]],
            decls: 23,
            vars: 9,
            consts: [
              [3, "formGroup", "ngSubmit"],
              [1, "modal-content"],
              [1, "modal-header"],
              ["type", "button", 1, "close", 3, "click"],
              [
                "translate",
                "BACKUP_AND_RESTORE.DIALOGS.RESTORE.TITLE",
                1,
                "modal-title",
              ],
              [1, "modal-body"],
              [
                "formControlName",
                "ScheduleEnabled",
                "mcTitle",
                "BACKUP_AND_RESTORE.DIALOGS.RESTORE.ENABLE",
              ],
              [
                "translate",
                "BACKUP_AND_RESTORE.DIALOGS.RESTORE.SCHEDULE_AUTOMATIC_MSG",
              ],
              [1, "form-group", "m-b"],
              [
                "translate",
                "BACKUP_AND_RESTORE.DIALOGS.RESTORE.IF_YOU_ARE_SCHEDULING",
              ],
              [
                "translate",
                "BACKUP_AND_RESTORE.DIALOGS.RESTORE.RESTORE_SCHEDULE",
              ],
              [1, "line", "line-dashed", "b-b", "line-lg"],
              [
                "translate",
                "BACKUP_AND_RESTORE.DIALOGS.RESTORE.CONFIGURE_RESTORE_SCHEDULE",
              ],
              [3, "form"],
              [1, "form-group", "clear"],
              [
                "formControlName",
                "NotRestart",
                "mcTitle",
                "BACKUP_AND_RESTORE.DIALOGS.RESTORE.DO_NOT_START_SERVICES",
              ],
              [3, "encryptBackup", "encryptBackupPassword", "encrypt"],
              [1, "modal-footer"],
              [
                "type",
                "submit",
                "data-dismiss",
                "modal",
                "translate",
                "REPOS.BUTTONS.SAVE_BTN",
                "id",
                "btnSave",
                1,
                "btn",
                "btn-default",
                3,
                "isDisabled",
                "tooltip",
              ],
              [
                "type",
                "button",
                "translate",
                "REPOS.BUTTONS.CANCEL_BTN",
                "id",
                "btnCancel",
                1,
                "btn",
                "btn-default",
                3,
                "click",
              ],
            ],
            template: function (e, n) {
              1 & e &&
                (d.TgZ(0, "form", 0),
                d.NdJ("ngSubmit", function () {
                  return n.save();
                }),
                d.TgZ(1, "div", 1)(2, "div", 2)(3, "button", 3),
                d.NdJ("click", function () {
                  return n.cancelClick();
                }),
                d._uU(4, "\xd7"),
                d.qZA(),
                d._UZ(5, "h4", 4),
                d.qZA(),
                d.TgZ(6, "div", 5),
                d._UZ(7, "app-checkbox-control", 6),
                d.TgZ(8, "div"),
                d._UZ(9, "label", 7),
                d.qZA(),
                d.TgZ(10, "div", 8),
                d._UZ(11, "label", 9),
                d.qZA(),
                d._UZ(12, "strong", 10)(13, "div", 11)(14, "label", 12)(
                  15,
                  "app-schedule-control",
                  13
                ),
                d.TgZ(16, "div", 14),
                d._UZ(17, "app-checkbox-control", 15),
                d.qZA(),
                d._UZ(18, "app-backup-password-control", 16),
                d.qZA(),
                d.TgZ(19, "div", 17),
                d._UZ(20, "button", 18),
                d.ALo(21, "translate"),
                d.TgZ(22, "button", 19),
                d.NdJ("click", function () {
                  return n.cancelClick();
                }),
                d.qZA()()()()),
                2 & e &&
                  (d.Q6J("formGroup", n.form),
                  d.xp6(15),
                  d.Q6J("form", n.form.controls.Schedule),
                  d.xp6(3),
                  d.Q6J("encryptBackup", n.form.controls.EncryptBackup)(
                    "encryptBackupPassword",
                    n.form.controls.EncryptBackupPassword
                  )("encrypt", !1),
                  d.xp6(2),
                  d.Q6J("isDisabled", n.isProfessionalLicense)(
                    "tooltip",
                    d.lcZ(21, 7, "REPOS.TEXT.PROFESSIONAL_REQUIRED")
                  ));
            },
            dependencies: [
              zt.i9,
              He.Pi,
              q._Y,
              q.JJ,
              q.JL,
              q.sg,
              q.u,
              bn,
              kt,
              fa,
              He.X$,
            ],
            encapsulation: 2,
          })),
          t
        );
      })();
      const Gh = [[["", 8, "input-group-btn"]], "*"],
        Bh = [".input-group-btn", "*"];
      let Fn = (() => {
        class t extends vt.Z {
          constructor(e) {
            super(e),
              (this.placeholder = ""),
              (this.maxlength = 50),
              (this.val = ""),
              (this.mcTitle = ""),
              (this.mute = null),
              (this.writeFn = (n) => n),
              (this.readFn = (n) => n);
          }
          get isDisabled() {
            return null != this.mute ? this.mute : this.disabled;
          }
          onBlur() {
            this.markAsTouched();
          }
          valueChange(e) {
            this.markAsTouched(), this.onChange(this.readFn(e));
          }
          writeValue(e) {
            this.val = this.writeFn(e);
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.Y36(d.sBO));
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["app-text-control"]],
            inputs: {
              placeholder: "placeholder",
              maxlength: "maxlength",
              val: "val",
              mcTitle: "mcTitle",
              mute: "mute",
              writeFn: "writeFn",
              readFn: "readFn",
            },
            features: [
              d._Bn([{ provide: q.JU, multi: !0, useExisting: t }]),
              d.qOj,
            ],
            ngContentSelectors: Bh,
            decls: 7,
            vars: 7,
            consts: [
              [1, "form-group"],
              [1, "k", 3, "translate"],
              [1, "input-group", "w-full", "bsp-xs"],
              [
                "type",
                "text",
                1,
                "form-control",
                3,
                "ngModel",
                "disabled",
                "maxlength",
                "placeholder",
                "ngModelChange",
                "blur",
              ],
            ],
            template: function (e, n) {
              1 & e &&
                (d.F$t(Gh),
                d.TgZ(0, "div", 0),
                d._UZ(1, "label", 1),
                d.TgZ(2, "div", 2)(3, "input", 3),
                d.NdJ("ngModelChange", function (a) {
                  return (n.val = a);
                })("ngModelChange", function (a) {
                  return n.valueChange(a);
                })("blur", function () {
                  return n.onBlur();
                }),
                d.ALo(4, "translate"),
                d.qZA(),
                d.Hsn(5),
                d.qZA(),
                d.Hsn(6, 1),
                d.qZA()),
                2 & e &&
                  (d.xp6(1),
                  d.Q6J("translate", n.mcTitle),
                  d.xp6(2),
                  d.Q6J("ngModel", n.val)("disabled", n.isDisabled)(
                    "maxlength",
                    n.maxlength
                  )("placeholder", d.lcZ(4, 5, n.placeholder)));
            },
            dependencies: [q.Fj, q.JJ, q.nD, q.On, He.Pi, He.X$],
            encapsulation: 2,
          })),
          t
        );
      })();
      function Vh(t, c) {
        1 & t && d._UZ(0, "error-template", 19);
      }
      function Fh(t, c) {
        1 & t && d._UZ(0, "error-template", 20);
      }
      function zh(t, c) {
        1 & t && d._UZ(0, "error-template", 21);
      }
      function Wh(t, c) {
        1 & t && d._UZ(0, "error-template", 22);
      }
      function Yh(t, c) {
        1 & t && d._UZ(0, "error-template", 22);
      }
      function Xh(t, c) {
        1 & t && d._UZ(0, "error-template", 23);
      }
      const qh = /^[0-9a-zA-Z_\-.]+$/,
        Qh = /^\./,
        Zh = /^(nul|prn|con|lpt[0-9]|com[0-9])(\.|$)/i,
        Kh = /\.$/;
      let Jh = (() => {
          class t {
            constructor(e, n, i, a) {
              (this.bsModalRef = e),
                (this.fb = n),
                (this.backupService = i),
                (this.xapiError = a),
                (this.saving = !1),
                (this.sub = new mt.w0()),
                (this.existingBackups = []),
                (this.backupCreated = !1),
                (this.canCreateBackup = !1),
                (this.form = this.fb.group({
                  Name: this.fb.control("", [
                    q.kI.required,
                    this.isFilenameValid.bind(this),
                  ]),
                  Contents: ra(this.fb),
                })),
                this.form.patchValue({ Contents: { License: !0 } });
            }
            ngOnInit() {
              const e = this.form.controls;
              this.sub.add(
                this.backupService.getCanCreateBackup().subscribe({
                  next: (n) => {
                    this.canCreateBackup = n.value;
                  },
                  error: () => {},
                })
              ),
                this.sub.add(
                  at(rt(e.Contents.controls.EncryptBackup), [
                    e.Contents.controls.EncryptBackupPassword,
                  ])
                );
            }
            isFilenameValid(e) {
              const n = e.value;
              if (!qh.test(n)) return { invalidChars: !0 };
              if (Qh.test(n) || Kh.test(n)) return { noDot: !0 };
              if (Zh.test(n)) return { forbidden: !0 };
              const i = (n + ".zip").toUpperCase();
              return this.existingBackups.some(
                (a) => a.FileName.toUpperCase() === i
              )
                ? { exists: !0 }
                : null;
            }
            createBackup() {
              if (!this.canCreateBackup) return;
              if (this.form.invalid) return void this.form.markAllAsTouched();
              if (this.saving) return;
              this.saving = !0;
              const e = this.form.value;
              (e.Contents.FQDN = e.Contents.License),
                this.backupService
                  .backup({ backupsBackupRequestBody: { description: e } })
                  .subscribe({
                    next: () => {
                      (this.saving = !1),
                        (this.backupCreated = !0),
                        this.bsModalRef.hide();
                    },
                    error: (n) => {
                      (this.saving = !1),
                        this.xapiError.error(n, this.form, !1);
                    },
                  });
            }
            cancelClick() {
              this.bsModalRef.hide();
            }
            ngOnDestroy() {
              this.sub.unsubscribe();
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)(
                d.Y36(et.UZ),
                d.Y36(q.qu),
                d.Y36(De.wn),
                d.Y36(jt.Y)
              );
            }),
            (t.ɵcmp = d.Xpm({
              type: t,
              selectors: [["app-create-backup-modal"]],
              decls: 21,
              vars: 7,
              consts: [
                ["novalidate", "", 3, "formGroup", "ngSubmit"],
                [1, "modal-content"],
                [1, "modal-header"],
                ["type", "button", 1, "close", 3, "click"],
                [
                  "translate",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP.TITLE",
                  1,
                  "modal-title",
                ],
                [1, "modal-body"],
                [
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP.BACKUP_NAME",
                  "formControlName",
                  "Name",
                ],
                [3, "control"],
                ["valError", "required"],
                ["valError", "invalidChars"],
                ["valError", "noDot"],
                ["valError", "forbidden"],
                ["valError", "XapiInvalid"],
                ["valError", "exists"],
                [
                  "translate",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP.SELECT_WHAT_TO_BACKUP",
                ],
                [3, "contents"],
                [1, "modal-footer"],
                [
                  "type",
                  "submit",
                  "translate",
                  "REPOS.BUTTONS.OK_BTN",
                  "id",
                  "btnOk",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "isDisabled",
                  "tooltip",
                ],
                [
                  "type",
                  "button",
                  "translate",
                  "REPOS.BUTTONS.CANCEL_BTN",
                  "id",
                  "btnCancel",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "click",
                ],
                ["text", "WARNINGS.FILENAME_CANNOT_EMPTY"],
                ["text", "WARNINGS.COPY_TEMPLATE_INVALID_CHARS"],
                ["text", "WARNINGS.FILENAME_CANNOT_START_WITH_DOT"],
                ["text", "WARNINGS.NAME_IS_FORBIDDEN"],
                ["text", "WARNINGS.BACKUP_ALREADY_EXISTS"],
              ],
              template: function (e, n) {
                1 & e &&
                  (d.TgZ(0, "form", 0),
                  d.NdJ("ngSubmit", function () {
                    return n.createBackup();
                  }),
                  d.TgZ(1, "div", 1)(2, "div", 2)(3, "button", 3),
                  d.NdJ("click", function () {
                    return n.cancelClick();
                  }),
                  d._uU(4, "\xd7"),
                  d.qZA(),
                  d._UZ(5, "h4", 4),
                  d.qZA(),
                  d.TgZ(6, "div", 5)(7, "app-text-control", 6)(
                    8,
                    "val-errors",
                    7
                  ),
                  d.YNc(9, Vh, 1, 0, "ng-template", 8),
                  d.YNc(10, Fh, 1, 0, "ng-template", 9),
                  d.YNc(11, zh, 1, 0, "ng-template", 10),
                  d.YNc(12, Wh, 1, 0, "ng-template", 11),
                  d.YNc(13, Yh, 1, 0, "ng-template", 12),
                  d.YNc(14, Xh, 1, 0, "ng-template", 13),
                  d.qZA()(),
                  d._UZ(15, "label", 14)(16, "app-backup-contents-control", 15),
                  d.qZA(),
                  d.TgZ(17, "div", 16),
                  d._UZ(18, "button", 17),
                  d.ALo(19, "translate"),
                  d.TgZ(20, "button", 18),
                  d.NdJ("click", function () {
                    return n.cancelClick();
                  }),
                  d.qZA()()()()),
                  2 & e &&
                    (d.Q6J("formGroup", n.form),
                    d.xp6(8),
                    d.Q6J("control", n.form.controls.Name),
                    d.xp6(8),
                    d.Q6J("contents", n.form.controls.Contents),
                    d.xp6(2),
                    d.Q6J("isDisabled", n.canCreateBackup)(
                      "tooltip",
                      d.lcZ(19, 5, "WARNINGS.TOO_MANY_BACKUPS")
                    ));
              },
              dependencies: [
                zt.i9,
                He.Pi,
                q._Y,
                q.JJ,
                q.JL,
                q.sg,
                q.u,
                Fn,
                Xe.tM,
                Xe.HY,
                Sn.u,
                ga,
                He.X$,
              ],
              encapsulation: 2,
            })),
            t
          );
        })(),
        ef = (() => {
          class t {
            constructor(e) {
              this.bsModalRef = e;
            }
            hide() {
              this.bsModalRef.hide();
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)(d.Y36(et.UZ));
            }),
            (t.ɵcmp = d.Xpm({
              type: t,
              selectors: [["app-refresh-message-modal"]],
              decls: 10,
              vars: 3,
              consts: [
                [1, "modal-content"],
                [1, "modal-header"],
                ["type", "button", 1, "close", 3, "click"],
                [
                  "translate",
                  "BACKUP_AND_RESTORE.DIALOGS.BACKUP.PROGRESS",
                  1,
                  "modal-title",
                ],
                [1, "modal-body"],
                [3, "innerHTML"],
                [1, "modal-footer"],
                [
                  "type",
                  "button",
                  "translate",
                  "REPOS.BUTTONS.OK_BTN",
                  "id",
                  "btnOk",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "click",
                ],
              ],
              template: function (e, n) {
                1 & e &&
                  (d.TgZ(0, "div", 0)(1, "div", 1)(2, "button", 2),
                  d.NdJ("click", function () {
                    return n.hide();
                  }),
                  d._uU(3, "\xd7"),
                  d.qZA(),
                  d._UZ(4, "h4", 3),
                  d.qZA(),
                  d.TgZ(5, "div", 4),
                  d._UZ(6, "span", 5),
                  d.ALo(7, "translate"),
                  d.qZA(),
                  d.TgZ(8, "div", 6)(9, "button", 7),
                  d.NdJ("click", function () {
                    return n.hide();
                  }),
                  d.qZA()()()),
                  2 & e &&
                    (d.xp6(6),
                    d.Q6J(
                      "innerHTML",
                      d.lcZ(
                        7,
                        1,
                        "BACKUP_AND_RESTORE.DIALOGS.BACKUP.REFRESH_PAGE_MESSAGE"
                      ),
                      d.oJD
                    ));
              },
              dependencies: [He.Pi, He.X$],
              encapsulation: 2,
            })),
            t
          );
        })();
      const Ta =
          (...t) =>
          (c) => {
            var e, n;
            return t.reduce(
              (a, l) => a.replaceAll(l, ""),
              null !==
                (n =
                  null === (e = null == c ? void 0 : c.value) || void 0 === e
                    ? void 0
                    : e.toLowerCase()) && void 0 !== n
                ? n
                : ""
            )
              ? {}
              : { required: !0 };
          },
        zn = (t) =>
          (null == t ? void 0 : t.value) &&
          /\s/g.test(null == t ? void 0 : t.value.trimEnd())
            ? { hasSpace: !0 }
            : {},
        tf =
          (...t) =>
          (c) =>
            (null == c ? void 0 : c.value) &&
            !t.find((e) =>
              null == c
                ? void 0
                : c.value.toLowerCase().startsWith(e.toLowerCase())
            )
              ? { startWithError: !0 }
              : {},
        ba = (t) => {
          if (null != t && t.value)
            try {
              new URL(t.value);
            } catch (c) {
              return { invalidUrl: !0 };
            }
        };
      function Sa(t) {
        return t.group({
          FileSystemType: [De.He.Local, q.kI.required],
          FtpPath: [
            "",
            [
              q.kI.required,
              Ta("ftp://", "ftps://", "ftpes://"),
              zn,
              tf("ftp://", "ftps://", "ftpes://"),
              ba,
            ],
          ],
          FtpUser: [""],
          FtpPassword: [""],
          GbJson: ["", q.kI.required],
          GbPath: ["", q.kI.required],
          GbJsonFileName: [""],
          LocalPath: ["", q.kI.required],
          NsPath: ["", [q.kI.required, zn]],
          NsDomain: [""],
          NsUser: [""],
          NsPassword: [""],
          SftpPath: ["", [q.kI.required, zn, Ta("sftp://"), ba]],
          SftpUser: [""],
          SftpPassword: [""],
          SftpPrivateKeyName: [""],
          SftpPrivateKey: [""],
        });
      }
      var Ea = w(34782);
      let Cn = (() => {
        class t {
          constructor(e) {
            this.systemParameters = e.getSystemParameters().pipe((0, Ea.d)(1));
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.LFG(De.Ai));
          }),
          (t.ɵprov = d.Yz7({ token: t, factory: t.ɵfac, providedIn: "root" })),
          t
        );
      })();
      var Nt = w(95698),
        qe = w(75321);
      let Wn = (() => {
        class t extends ft {
          constructor(e, n) {
            super("File", void 0, e), (this.$window = n);
          }
          download(e, n) {
            return this.$window.location.assign(
              "api/FileSystem/downloadFile?filesystem=" +
                n +
                "&path=" +
                encodeURIComponent(e)
            );
          }
          getDirectories(e, n, i) {
            return this.$http.getApi("api/FileSystem/directoryList", {
              params: { path: e, filesystem: n, json: i },
            });
          }
          getFiles(e, n, i) {
            return this.$http.getApi("api/FileSystem/fileList", {
              params: { path: e, pattern: n, filesystem: i },
            });
          }
        }
        return (t.$inject = ["$http", "$window"]), t;
      })();
      function nf(t, c) {
        if ((1 & t && (d.TgZ(0, "option", 6), d._uU(1), d.qZA()), 2 & t)) {
          const e = c.$implicit;
          d.Q6J("ngValue", e), d.xp6(1), d.Oqu(e);
        }
      }
      function af(t, c) {
        if ((1 & t && (d.TgZ(0, "div", 7), d._uU(1), d.qZA()), 2 & t)) {
          const e = d.oxw();
          d.xp6(1), d.hij(" ", e.error, "\n");
        }
      }
      function Aa(t) {
        let c = t.replace(/\\/g, "/");
        for (; c.endsWith("/") && c.length > 1; )
          c = c.substring(0, c.length - 1);
        return c;
      }
      function Ca(t, c) {
        return "." != c && ".." != c && c
          ? t
            ? `${(function sf(t) {
                return `${t}${t.endsWith("/") || t.endsWith("\\") ? "" : "/"}`;
              })(t)}${c}`
            : c
          : t;
      }
      u.module("app").service("FileManagerSvc", Wn);
      let of = (() => {
          class t extends vt.Z {
            constructor(e, n) {
              super(n),
                (this.FileManagerSvc = e),
                (this.dir = ""),
                (this.dirs = [""]);
            }
            readDirectories(e) {
              this.FileManagerSvc.getDirectories(e, this.filesystem, this.json)
                .then((n) => {
                  null == n.data.error
                    ? ((this.error = ""),
                      (this.basePath = Aa(n.data.path)),
                      n.data.list.sort(),
                      "" != this.basePath
                        ? (n.data.list.unshift(".."), (this.dir = ".."))
                        : (this.dir = n.data.list[0]),
                      (this.dirs = n.data.list),
                      this.valueChanged())
                    : (this.error = n.data.error);
                })
                .catch((n) => {});
            }
            onDirectoryDblClick(e) {
              let n;
              (n =
                ".." == e
                  ? this.basePath.substring(0, this.basePath.lastIndexOf("/")) +
                    "/"
                  : Ca(this.basePath, e)),
                this.readDirectories(n);
            }
            writeValue(e) {
              null != e &&
                ((this.basePath = Aa(e)),
                this.readDirectories(this.basePath),
                (this.dir = ""));
            }
            valueChanged() {
              this.onChange(Ca(this.basePath, this.dir));
            }
          }
          return (
            (t.$inject = ["FileManagerSvc"]),
            (t.ɵfac = function (e) {
              return new (e || t)(d.Y36(Wn), d.Y36(d.sBO));
            }),
            (t.ɵcmp = d.Xpm({
              type: t,
              selectors: [["location-path-component"]],
              inputs: { filesystem: "filesystem", json: "json" },
              features: [
                d._Bn([{ provide: q.JU, multi: !0, useExisting: t }]),
                d.qOj,
              ],
              decls: 8,
              vars: 5,
              consts: [
                [1, "m-b-xs"],
                [
                  "type",
                  "button",
                  1,
                  "btn",
                  "btn-sm",
                  "btn-default",
                  3,
                  "disabled",
                  "click",
                ],
                [1, "halflings", "halflings-arrow-up"],
                [
                  "size",
                  "10",
                  1,
                  "form-control",
                  "m-b",
                  3,
                  "ngModel",
                  "keydown",
                  "dblclick",
                  "ngModelChange",
                ],
                [3, "ngValue", 4, "ngFor", "ngForOf"],
                ["uib-alert", "", "class", "alert-danger", 4, "ngIf"],
                [3, "ngValue"],
                ["uib-alert", "", 1, "alert-danger"],
              ],
              template: function (e, n) {
                1 & e &&
                  (d.TgZ(0, "div", 0)(1, "button", 1),
                  d.NdJ("click", function () {
                    return n.onDirectoryDblClick("..");
                  }),
                  d._UZ(2, "i", 2),
                  d.qZA(),
                  d.TgZ(3, "label"),
                  d._uU(4),
                  d.qZA()(),
                  d.TgZ(5, "select", 3),
                  d.NdJ("keydown", function (a) {
                    return 13 === a.keyCode && n.onDirectoryDblClick(n.dir);
                  })("dblclick", function () {
                    return n.onDirectoryDblClick(n.dir);
                  })("ngModelChange", function (a) {
                    return (n.dir = a);
                  })("ngModelChange", function () {
                    return n.valueChanged();
                  }),
                  d.YNc(6, nf, 2, 2, "option", 4),
                  d.qZA(),
                  d.YNc(7, af, 2, 1, "div", 5)),
                  2 & e &&
                    (d.xp6(1),
                    d.Q6J("disabled", !n.basePath || "/" === n.basePath),
                    d.xp6(3),
                    d.Oqu(n.basePath),
                    d.xp6(1),
                    d.Q6J("ngModel", n.dir),
                    d.xp6(1),
                    d.Q6J("ngForOf", n.dirs),
                    d.xp6(1),
                    d.Q6J("ngIf", n.error));
              },
              dependencies: [q.YN, q.Kr, q.EJ, q.JJ, Ye.sg, Ye.O5, q.On],
              encapsulation: 2,
            })),
            t
          );
        })(),
        _a = (() => {
          class t {
            constructor(e) {
              (this.bsModalRef = e), (this.modalResult = qe.q.Cancel);
            }
            close() {
              this.bsModalRef.hide();
            }
            okButtonClick() {
              (this.modalResult = qe.q.Ok), this.close();
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)(d.Y36(et.UZ));
            }),
            (t.ɵcmp = d.Xpm({
              type: t,
              selectors: [["ng-component"]],
              decls: 10,
              vars: 3,
              consts: [
                [1, "modal-header"],
                ["type", "button", 1, "close", 3, "click"],
                [1, "modal-title"],
                [1, "modal-body"],
                [3, "ngModel", "filesystem", "json", "ngModelChange"],
                [1, "modal-footer"],
                [
                  "type",
                  "button",
                  "data-dismiss",
                  "modal",
                  "translate",
                  "REPOS.BUTTONS.OK_BTN",
                  "id",
                  "btnOk",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "click",
                ],
                [
                  "type",
                  "button",
                  "translate",
                  "REPOS.BUTTONS.CANCEL_BTN",
                  "id",
                  "btnCancel",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "click",
                ],
              ],
              template: function (e, n) {
                1 & e &&
                  (d.TgZ(0, "div", 0)(1, "button", 1),
                  d.NdJ("click", function () {
                    return n.close();
                  }),
                  d._uU(2, "\xd7"),
                  d.qZA(),
                  d.TgZ(3, "h4", 2),
                  d._uU(4, " Select directory "),
                  d.qZA()(),
                  d.TgZ(5, "div", 3)(6, "location-path-component", 4),
                  d.NdJ("ngModelChange", function (a) {
                    return (n.path = a);
                  }),
                  d.qZA()(),
                  d.TgZ(7, "div", 5)(8, "button", 6),
                  d.NdJ("click", function () {
                    return n.okButtonClick();
                  }),
                  d.qZA(),
                  d.TgZ(9, "button", 7),
                  d.NdJ("click", function () {
                    return n.close();
                  }),
                  d.qZA()()),
                  2 & e &&
                    (d.xp6(6),
                    d.Q6J("ngModel", n.path)("filesystem", n.filesystem)(
                      "json",
                      n.json
                    ));
              },
              dependencies: [q.JJ, q.On, He.Pi, of],
              encapsulation: 2,
            })),
            t
          );
        })();
      var N = w(40520);
      class Te {
        encodeKey(c) {
          return encodeURIComponent(c);
        }
        encodeValue(c) {
          return encodeURIComponent(c);
        }
        decodeKey(c) {
          return decodeURIComponent(c);
        }
        decodeValue(c) {
          return decodeURIComponent(c);
        }
      }
      const be = new d.OlP("basePath");
      class Z {
        constructor(c = {}) {
          (this.apiKeys = c.apiKeys),
            (this.username = c.username),
            (this.password = c.password),
            (this.accessToken = c.accessToken),
            (this.basePath = c.basePath),
            (this.withCredentials = c.withCredentials),
            (this.encoder = c.encoder),
            (this.encodeParam = c.encodeParam
              ? c.encodeParam
              : (e) => this.defaultEncodeParam(e)),
            (this.credentials = c.credentials ? c.credentials : {}),
            this.credentials.bearerAuth ||
              (this.credentials.bearerAuth = () =>
                "function" == typeof this.accessToken
                  ? this.accessToken()
                  : this.accessToken);
        }
        selectHeaderContentType(c) {
          if (0 === c.length) return;
          const e = c.find((n) => this.isJsonMime(n));
          return void 0 === e ? c[0] : e;
        }
        selectHeaderAccept(c) {
          if (0 === c.length) return;
          const e = c.find((n) => this.isJsonMime(n));
          return void 0 === e ? c[0] : e;
        }
        isJsonMime(c) {
          const e = new RegExp(
            "^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$",
            "i"
          );
          return (
            null !== c &&
            (e.test(c) || "application/json-patch+json" === c.toLowerCase())
          );
        }
        lookupCredential(c) {
          const e = this.credentials[c];
          return "function" == typeof e ? e() : e;
        }
        defaultEncodeParam(c) {
          const e =
            "date-time" === c.dataFormat ? c.value.toISOString() : c.value;
          return encodeURIComponent(String(e));
        }
      }
      let Ia = (() => {
          class t {
            constructor(e, n, i) {
              (this.httpClient = e),
                (this.basePath = "http://localhost"),
                (this.defaultHeaders = new N.WM()),
                (this.configuration = new Z()),
                i && (this.configuration = i),
                "string" != typeof this.configuration.basePath &&
                  (Array.isArray(n) && n.length > 0 && (n = n[0]),
                  "string" != typeof n && (n = this.basePath),
                  (this.configuration.basePath = n)),
                (this.encoder = this.configuration.encoder || new Te());
            }
            addToHttpParams(e, n, i) {
              return "object" != typeof n || n instanceof Date
                ? this.addToHttpParamsRecursive(e, n, i)
                : this.addToHttpParamsRecursive(e, n);
            }
            addToHttpParamsRecursive(e, n, i) {
              if (null == n) return e;
              if ("object" == typeof n)
                if (Array.isArray(n))
                  n.forEach(
                    (a) => (e = this.addToHttpParamsRecursive(e, a, i))
                  );
                else if (n instanceof Date) {
                  if (null == i)
                    throw Error("key may not be null if value is Date");
                  e = e.append(i, n.toISOString().substr(0, 10));
                } else
                  Object.keys(n).forEach(
                    (a) =>
                      (e = this.addToHttpParamsRecursive(
                        e,
                        n[a],
                        null != i ? `${i}.${a}` : a
                      ))
                  );
              else {
                if (null == i)
                  throw Error(
                    "key may not be null if value is not object or array"
                  );
                e = e.append(i, n);
              }
              return e;
            }
            backupAndRestoreListDeAuthenticateGBucket(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s && (s = this.configuration.selectHeaderAccept([])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/BackupAndRestoreList/deAuthenticateGBucket`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            backupAndRestoreListFailoverSettings(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s && (s = this.configuration.selectHeaderAccept([])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/BackupAndRestoreList/failover_settings`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            backupAndRestoreListGBucketAuthCallback(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s && (s = this.configuration.selectHeaderAccept([])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/BackupAndRestoreList/gBucketAuthCallback`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            backupAndRestoreListGBucketConnect(e, n = "body", i = !1, a) {
              const l = e.json;
              let s = new N.LE({ encoder: this.encoder });
              null != l && (s = this.addToHttpParams(s, l, "json"));
              let o,
                r = this.defaultHeaders;
              (o = this.configuration.lookupCredential("bearerAuth")),
                o && (r = r.set("Authorization", "Bearer " + o));
              let p = a && a.httpHeaderAccept;
              void 0 === p && (p = this.configuration.selectHeaderAccept([])),
                void 0 !== p && (r = r.set("Accept", p));
              let f = a && a.context;
              void 0 === f && (f = new N.qT());
              let m = "json";
              return (
                p &&
                  (m = p.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(p)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/BackupAndRestoreList/gBucketConnect`,
                  {
                    context: f,
                    params: s,
                    responseType: m,
                    withCredentials: this.configuration.withCredentials,
                    headers: r,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            backupAndRestoreListSettings(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s && (s = this.configuration.selectHeaderAccept([])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/BackupAndRestoreList/settings`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            backupAndRestoreListStopRestores(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s && (s = this.configuration.selectHeaderAccept([])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/BackupAndRestoreList/stopRestores`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)(d.LFG(N.eN), d.LFG(be, 8), d.LFG(Z, 8));
            }),
            (t.ɵprov = d.Yz7({
              token: t,
              factory: t.ɵfac,
              providedIn: "root",
            })),
            t
          );
        })(),
        va = (() => {
          class t {
            constructor(e, n, i) {
              (this.httpClient = e),
                (this.basePath = "http://localhost"),
                (this.defaultHeaders = new N.WM()),
                (this.configuration = new Z()),
                i && (this.configuration = i),
                "string" != typeof this.configuration.basePath &&
                  (Array.isArray(n) && n.length > 0 && (n = n[0]),
                  "string" != typeof n && (n = this.basePath),
                  (this.configuration.basePath = n)),
                (this.encoder = this.configuration.encoder || new Te());
            }
            addToHttpParams(e, n, i) {
              return "object" != typeof n || n instanceof Date
                ? this.addToHttpParamsRecursive(e, n, i)
                : this.addToHttpParamsRecursive(e, n);
            }
            addToHttpParamsRecursive(e, n, i) {
              if (null == n) return e;
              if ("object" == typeof n)
                if (Array.isArray(n))
                  n.forEach(
                    (a) => (e = this.addToHttpParamsRecursive(e, a, i))
                  );
                else if (n instanceof Date) {
                  if (null == i)
                    throw Error("key may not be null if value is Date");
                  e = e.append(i, n.toISOString().substr(0, 10));
                } else
                  Object.keys(n).forEach(
                    (a) =>
                      (e = this.addToHttpParamsRecursive(
                        e,
                        n[a],
                        null != i ? `${i}.${a}` : a
                      ))
                  );
              else {
                if (null == i)
                  throw Error(
                    "key may not be null if value is not object or array"
                  );
                e = e.append(i, n);
              }
              return e;
            }
            groupListDelete(e, n = "body", i = !1, a) {
              const l = e.int32DeleteEditorPhoneSystemArg;
              if (null == l)
                throw new Error(
                  "Required parameter int32DeleteEditorPhoneSystemArg was null or undefined when calling groupListDelete."
                );
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/GroupList/delete`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            groupListGet(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s &&
                (s = this.configuration.selectHeaderAccept([
                  "application/json",
                  "application/xml",
                  "text/plain",
                  "application/octet-stream",
                  "application/x-msgpack",
                  "text/json",
                ])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/GroupList`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            groupListNew(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s && (s = this.configuration.selectHeaderAccept([])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/GroupList/new`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            groupListSet(e, n = "body", i = !1, a) {
              const l = e.int32SetEditorPhoneSystemArg;
              if (null == l)
                throw new Error(
                  "Required parameter int32SetEditorPhoneSystemArg was null or undefined when calling groupListSet."
                );
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/GroupList/set`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)(d.LFG(N.eN), d.LFG(be, 8), d.LFG(Z, 8));
            }),
            (t.ɵprov = d.Yz7({
              token: t,
              factory: t.ɵfac,
              providedIn: "root",
            })),
            t
          );
        })(),
        Na = (() => {
          class t {
            constructor(e, n, i) {
              (this.httpClient = e),
                (this.basePath = "http://localhost"),
                (this.defaultHeaders = new N.WM()),
                (this.configuration = new Z()),
                i && (this.configuration = i),
                "string" != typeof this.configuration.basePath &&
                  (Array.isArray(n) && n.length > 0 && (n = n[0]),
                  "string" != typeof n && (n = this.basePath),
                  (this.configuration.basePath = n)),
                (this.encoder = this.configuration.encoder || new Te());
            }
            addToHttpParams(e, n, i) {
              return "object" != typeof n || n instanceof Date
                ? this.addToHttpParamsRecursive(e, n, i)
                : this.addToHttpParamsRecursive(e, n);
            }
            addToHttpParamsRecursive(e, n, i) {
              if (null == n) return e;
              if ("object" == typeof n)
                if (Array.isArray(n))
                  n.forEach(
                    (a) => (e = this.addToHttpParamsRecursive(e, a, i))
                  );
                else if (n instanceof Date) {
                  if (null == i)
                    throw Error("key may not be null if value is Date");
                  e = e.append(i, n.toISOString().substr(0, 10));
                } else
                  Object.keys(n).forEach(
                    (a) =>
                      (e = this.addToHttpParamsRecursive(
                        e,
                        n[a],
                        null != i ? `${i}.${a}` : a
                      ))
                  );
              else {
                if (null == i)
                  throw Error(
                    "key may not be null if value is not object or array"
                  );
                e = e.append(i, n);
              }
              return e;
            }
            tokenGet(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s &&
                (s = this.configuration.selectHeaderAccept([
                  "application/json",
                  "application/xml",
                  "text/plain",
                  "application/octet-stream",
                  "application/x-msgpack",
                  "text/json",
                ])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/Token`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)(d.LFG(N.eN), d.LFG(be, 8), d.LFG(Z, 8));
            }),
            (t.ɵprov = d.Yz7({
              token: t,
              factory: t.ɵfac,
              providedIn: "root",
            })),
            t
          );
        })(),
        ya = (() => {
          class t {
            constructor(e, n, i) {
              (this.httpClient = e),
                (this.basePath = "http://localhost"),
                (this.defaultHeaders = new N.WM()),
                (this.configuration = new Z()),
                i && (this.configuration = i),
                "string" != typeof this.configuration.basePath &&
                  (Array.isArray(n) && n.length > 0 && (n = n[0]),
                  "string" != typeof n && (n = this.basePath),
                  (this.configuration.basePath = n)),
                (this.encoder = this.configuration.encoder || new Te());
            }
            addToHttpParams(e, n, i) {
              return "object" != typeof n || n instanceof Date
                ? this.addToHttpParamsRecursive(e, n, i)
                : this.addToHttpParamsRecursive(e, n);
            }
            addToHttpParamsRecursive(e, n, i) {
              if (null == n) return e;
              if ("object" == typeof n)
                if (Array.isArray(n))
                  n.forEach(
                    (a) => (e = this.addToHttpParamsRecursive(e, a, i))
                  );
                else if (n instanceof Date) {
                  if (null == i)
                    throw Error("key may not be null if value is Date");
                  e = e.append(i, n.toISOString().substr(0, 10));
                } else
                  Object.keys(n).forEach(
                    (a) =>
                      (e = this.addToHttpParamsRecursive(
                        e,
                        n[a],
                        null != i ? `${i}.${a}` : a
                      ))
                  );
              else {
                if (null == i)
                  throw Error(
                    "key may not be null if value is not object or array"
                  );
                e = e.append(i, n);
              }
              return e;
            }
            trunkListCreateGateway(e, n = "body", i = !1, a) {
              const l = e.newGatewayArg;
              if (null == l)
                throw new Error(
                  "Required parameter newGatewayArg was null or undefined when calling trunkListCreateGateway."
                );
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/createGateway`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListCreateMasterBridge(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s && (s = this.configuration.selectHeaderAccept([])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/createMasterBridge`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            trunkListCreateMessaging(e, n = "body", i = !1, a) {
              const l = e.newProviderArg;
              if (null == l)
                throw new Error(
                  "Required parameter newProviderArg was null or undefined when calling trunkListCreateMessaging."
                );
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/createMessaging`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListCreateProvider(e, n = "body", i = !1, a) {
              const l = e.newProviderArg;
              if (null == l)
                throw new Error(
                  "Required parameter newProviderArg was null or undefined when calling trunkListCreateProvider."
                );
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/createProvider`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListCreateSbc(e, n = "body", i = !1, a) {
              const l = e.newSbcArg;
              if (null == l)
                throw new Error(
                  "Required parameter newSbcArg was null or undefined when calling trunkListCreateSbc."
                );
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/createSbc`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListCreateSlaveBridge(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s && (s = this.configuration.selectHeaderAccept([])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/createSlaveBridge`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            trunkListDelete(e, n = "body", i = !1, a) {
              const l = e.stringDeleteEditorPhoneSystemArg;
              if (null == l)
                throw new Error(
                  "Required parameter stringDeleteEditorPhoneSystemArg was null or undefined when calling trunkListDelete."
                );
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/delete`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListDisableAll(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s && (s = this.configuration.selectHeaderAccept([])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/disableAll`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            trunkListDisconnectCall(e, n = "body", i = !1, a) {
              const l = e.requestBody;
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/disconnectCall`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListEnableAll(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s && (s = this.configuration.selectHeaderAccept([])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/enableAll`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            trunkListExportTrunk(e, n = "body", i = !1, a) {
              const l = e.id;
              if (null == l)
                throw new Error(
                  "Required parameter id was null or undefined when calling trunkListExportTrunk."
                );
              let s = new N.LE({ encoder: this.encoder });
              null != l && (s = this.addToHttpParams(s, l, "Id"));
              let o,
                r = this.defaultHeaders;
              (o = this.configuration.lookupCredential("bearerAuth")),
                o && (r = r.set("Authorization", "Bearer " + o));
              let p = a && a.httpHeaderAccept;
              void 0 === p && (p = this.configuration.selectHeaderAccept([])),
                void 0 !== p && (r = r.set("Accept", p));
              let f = a && a.context;
              void 0 === f && (f = new N.qT());
              let m = "json";
              return (
                p &&
                  (m = p.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(p)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList/exportTrunk`,
                  {
                    context: f,
                    params: s,
                    responseType: m,
                    withCredentials: this.configuration.withCredentials,
                    headers: r,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListGenerateDeviceConfig(e, n = "body", i = !1, a) {
              const l = e.id;
              if (null == l)
                throw new Error(
                  "Required parameter id was null or undefined when calling trunkListGenerateDeviceConfig."
                );
              let s = new N.LE({ encoder: this.encoder });
              null != l && (s = this.addToHttpParams(s, l, "id"));
              let o,
                r = this.defaultHeaders;
              (o = this.configuration.lookupCredential("bearerAuth")),
                o && (r = r.set("Authorization", "Bearer " + o));
              let p = a && a.httpHeaderAccept;
              void 0 === p && (p = this.configuration.selectHeaderAccept([])),
                void 0 !== p && (r = r.set("Accept", p));
              let f = a && a.context;
              void 0 === f && (f = new N.qT());
              let m = "json";
              return (
                p &&
                  (m = p.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(p)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList/generateDeviceConfig`,
                  {
                    context: f,
                    params: s,
                    responseType: m,
                    withCredentials: this.configuration.withCredentials,
                    headers: r,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListGet(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s && (s = this.configuration.selectHeaderAccept([])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            trunkListGetGatewayBrands(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s && (s = this.configuration.selectHeaderAccept([])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList/gatewayBrands`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            trunkListGetGatewayConfiguration(e, n = "body", i = !1, a) {
              const l = e.filename;
              if (null == l)
                throw new Error(
                  "Required parameter filename was null or undefined when calling trunkListGetGatewayConfiguration."
                );
              let s = new N.LE({ encoder: this.encoder });
              null != l && (s = this.addToHttpParams(s, l, "filename"));
              let o,
                r = this.defaultHeaders;
              (o = this.configuration.lookupCredential("bearerAuth")),
                o && (r = r.set("Authorization", "Bearer " + o));
              let p = a && a.httpHeaderAccept;
              void 0 === p && (p = this.configuration.selectHeaderAccept([])),
                void 0 !== p && (r = r.set("Accept", p));
              let f = a && a.context;
              void 0 === f && (f = new N.qT());
              let m = "json";
              return (
                p &&
                  (m = p.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(p)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList/gateway`,
                  {
                    context: f,
                    params: s,
                    responseType: m,
                    withCredentials: this.configuration.withCredentials,
                    headers: r,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListGetGatewayList(e, n = "body", i = !1, a) {
              const l = e.brand;
              if (null == l)
                throw new Error(
                  "Required parameter brand was null or undefined when calling trunkListGetGatewayList."
                );
              let s = new N.LE({ encoder: this.encoder });
              null != l && (s = this.addToHttpParams(s, l, "brand"));
              let o,
                r = this.defaultHeaders;
              (o = this.configuration.lookupCredential("bearerAuth")),
                o && (r = r.set("Authorization", "Bearer " + o));
              let p = a && a.httpHeaderAccept;
              void 0 === p &&
                (p = this.configuration.selectHeaderAccept([
                  "application/json",
                  "application/xml",
                  "text/plain",
                  "application/octet-stream",
                  "application/x-msgpack",
                  "text/json",
                ])),
                void 0 !== p && (r = r.set("Accept", p));
              let f = a && a.context;
              void 0 === f && (f = new N.qT());
              let m = "json";
              return (
                p &&
                  (m = p.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(p)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList/gateways`,
                  {
                    context: f,
                    params: s,
                    responseType: m,
                    withCredentials: this.configuration.withCredentials,
                    headers: r,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListGetGatewayPreviewList(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s &&
                (s = this.configuration.selectHeaderAccept([
                  "application/json",
                  "application/xml",
                  "text/plain",
                  "application/octet-stream",
                  "application/x-msgpack",
                  "text/json",
                ])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList/gatewayPreviews`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            trunkListGetGatewayVoipProviderConfiguration(
              e,
              n = "body",
              i = !1,
              a
            ) {
              const l = e.filename;
              if (null == l)
                throw new Error(
                  "Required parameter filename was null or undefined when calling trunkListGetGatewayVoipProviderConfiguration."
                );
              let s = new N.LE({ encoder: this.encoder });
              null != l && (s = this.addToHttpParams(s, l, "filename"));
              let o,
                r = this.defaultHeaders;
              (o = this.configuration.lookupCredential("bearerAuth")),
                o && (r = r.set("Authorization", "Bearer " + o));
              let p = a && a.httpHeaderAccept;
              void 0 === p && (p = this.configuration.selectHeaderAccept([])),
                void 0 !== p && (r = r.set("Accept", p));
              let f = a && a.context;
              void 0 === f && (f = new N.qT());
              let m = "json";
              return (
                p &&
                  (m = p.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(p)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList/voipTemplate`,
                  {
                    context: f,
                    params: s,
                    responseType: m,
                    withCredentials: this.configuration.withCredentials,
                    headers: r,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListGetLatestSBCVersion(e, n = "body", i = !1, a) {
              const l = e.id;
              if (null == l)
                throw new Error(
                  "Required parameter id was null or undefined when calling trunkListGetLatestSBCVersion."
                );
              let s = new N.LE({ encoder: this.encoder });
              null != l && (s = this.addToHttpParams(s, l, "id"));
              let o,
                r = this.defaultHeaders;
              (o = this.configuration.lookupCredential("bearerAuth")),
                o && (r = r.set("Authorization", "Bearer " + o));
              let p = a && a.httpHeaderAccept;
              void 0 === p &&
                (p = this.configuration.selectHeaderAccept([
                  "application/json",
                ])),
                void 0 !== p && (r = r.set("Accept", p));
              let f = a && a.context;
              void 0 === f && (f = new N.qT());
              let m = "json";
              return (
                p &&
                  (m = p.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(p)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList/SbcUpdaterVersion`,
                  {
                    context: f,
                    params: s,
                    responseType: m,
                    withCredentials: this.configuration.withCredentials,
                    headers: r,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListGetProviderCountriesList(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s && (s = this.configuration.selectHeaderAccept([])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList/providerCountries`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            trunkListGetProviderList(e, n = "body", i = !1, a) {
              const l = e.country;
              if (null == l)
                throw new Error(
                  "Required parameter country was null or undefined when calling trunkListGetProviderList."
                );
              let s = new N.LE({ encoder: this.encoder });
              null != l && (s = this.addToHttpParams(s, l, "country"));
              let o,
                r = this.defaultHeaders;
              (o = this.configuration.lookupCredential("bearerAuth")),
                o && (r = r.set("Authorization", "Bearer " + o));
              let p = a && a.httpHeaderAccept;
              void 0 === p &&
                (p = this.configuration.selectHeaderAccept([
                  "application/json",
                  "application/xml",
                  "text/plain",
                  "application/octet-stream",
                  "application/x-msgpack",
                  "text/json",
                ])),
                void 0 !== p && (r = r.set("Accept", p));
              let f = a && a.context;
              void 0 === f && (f = new N.qT());
              let m = "json";
              return (
                p &&
                  (m = p.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(p)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList/providers`,
                  {
                    context: f,
                    params: s,
                    responseType: m,
                    withCredentials: this.configuration.withCredentials,
                    headers: r,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListGetSbcList(e, n = "body", i = !1, a) {
              const l = e.skipEmpty;
              let s = new N.LE({ encoder: this.encoder });
              null != l && (s = this.addToHttpParams(s, l, "skip_empty"));
              let o,
                r = this.defaultHeaders;
              (o = this.configuration.lookupCredential("bearerAuth")),
                o && (r = r.set("Authorization", "Bearer " + o));
              let p = a && a.httpHeaderAccept;
              void 0 === p && (p = this.configuration.selectHeaderAccept([])),
                void 0 !== p && (r = r.set("Accept", p));
              let f = a && a.context;
              void 0 === f && (f = new N.qT());
              let m = "json";
              return (
                p &&
                  (m = p.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(p)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList/getSbcList`,
                  {
                    context: f,
                    params: s,
                    responseType: m,
                    withCredentials: this.configuration.withCredentials,
                    headers: r,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListGetTrunk(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s && (s = this.configuration.selectHeaderAccept([])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList/GetTrunkList`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            trunkListHasIpSipTrunkInHosted(e = "body", n = !1, i) {
              let l,
                a = this.defaultHeaders;
              (l = this.configuration.lookupCredential("bearerAuth")),
                l && (a = a.set("Authorization", "Bearer " + l));
              let s = i && i.httpHeaderAccept;
              void 0 === s &&
                (s = this.configuration.selectHeaderAccept([
                  "application/json",
                  "application/xml",
                  "text/plain",
                  "application/octet-stream",
                  "application/x-msgpack",
                  "text/json",
                ])),
                void 0 !== s && (a = a.set("Accept", s));
              let r = i && i.context;
              void 0 === r && (r = new N.qT());
              let o = "json";
              return (
                s &&
                  (o = s.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(s)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList/hasIpSipTrunkInHosted`,
                  {
                    context: r,
                    responseType: o,
                    withCredentials: this.configuration.withCredentials,
                    headers: a,
                    observe: e,
                    reportProgress: n,
                  }
                )
              );
            }
            trunkListImportTrunkProvider(e, n = "body", i = !1, a) {
              const l = e.newProviderArg;
              if (null == l)
                throw new Error(
                  "Required parameter newProviderArg was null or undefined when calling trunkListImportTrunkProvider."
                );
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/importTrunkProvider`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListLoadSbc(e, n = "body", i = !1, a) {
              const l = e.id;
              if (null == l)
                throw new Error(
                  "Required parameter id was null or undefined when calling trunkListLoadSbc."
                );
              let s = new N.LE({ encoder: this.encoder });
              null != l && (s = this.addToHttpParams(s, l, "id"));
              let o,
                r = this.defaultHeaders;
              (o = this.configuration.lookupCredential("bearerAuth")),
                o && (r = r.set("Authorization", "Bearer " + o));
              let p = a && a.httpHeaderAccept;
              void 0 === p && (p = this.configuration.selectHeaderAccept([])),
                void 0 !== p && (r = r.set("Accept", p));
              let f = a && a.context;
              void 0 === f && (f = new N.qT());
              let m = "json";
              return (
                p &&
                  (m = p.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(p)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList/sbc`,
                  {
                    context: f,
                    params: s,
                    responseType: m,
                    withCredentials: this.configuration.withCredentials,
                    headers: r,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListLoadSbcStats(e, n = "body", i = !1, a) {
              const l = e.id;
              if (null == l)
                throw new Error(
                  "Required parameter id was null or undefined when calling trunkListLoadSbcStats."
                );
              let s = new N.LE({ encoder: this.encoder });
              null != l && (s = this.addToHttpParams(s, l, "id"));
              let o,
                r = this.defaultHeaders;
              (o = this.configuration.lookupCredential("bearerAuth")),
                o && (r = r.set("Authorization", "Bearer " + o));
              let p = a && a.httpHeaderAccept;
              void 0 === p && (p = this.configuration.selectHeaderAccept([])),
                void 0 !== p && (r = r.set("Accept", p));
              let f = a && a.context;
              void 0 === f && (f = new N.qT());
              let m = "json";
              return (
                p &&
                  (m = p.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(p)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "get",
                  `${this.configuration.basePath}/api/TrunkList/sbc_stats`,
                  {
                    context: f,
                    params: s,
                    responseType: m,
                    withCredentials: this.configuration.withCredentials,
                    headers: r,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListPushSbcSettings(e, n = "body", i = !1, a) {
              const l = e.requestBody;
              if (null == l)
                throw new Error(
                  "Required parameter requestBody was null or undefined when calling trunkListPushSbcSettings."
                );
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/push_sbc_settings`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListRefreshRegistration(e, n = "body", i = !1, a) {
              const l = e.requestBody;
              if (null == l)
                throw new Error(
                  "Required parameter requestBody was null or undefined when calling trunkListRefreshRegistration."
                );
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/refreshRegistration`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListSaveDeviceConfig(e, n = "body", i = !1, a) {
              const l = e.id;
              if (null == l)
                throw new Error(
                  "Required parameter id was null or undefined when calling trunkListSaveDeviceConfig."
                );
              let s = new N.LE({ encoder: this.encoder });
              null != l && (s = this.addToHttpParams(s, l, "id"));
              let o,
                r = this.defaultHeaders;
              (o = this.configuration.lookupCredential("bearerAuth")),
                o && (r = r.set("Authorization", "Bearer " + o));
              let p = a && a.httpHeaderAccept;
              void 0 === p && (p = this.configuration.selectHeaderAccept([])),
                void 0 !== p && (r = r.set("Accept", p));
              let f = a && a.context;
              void 0 === f && (f = new N.qT());
              let m = "json";
              return (
                p &&
                  (m = p.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(p)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/saveDeviceConfig`,
                  {
                    context: f,
                    params: s,
                    responseType: m,
                    withCredentials: this.configuration.withCredentials,
                    headers: r,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListSaveSbc(e, n = "body", i = !1, a) {
              const l = e.changeSbcArg;
              if (null == l)
                throw new Error(
                  "Required parameter changeSbcArg was null or undefined when calling trunkListSaveSbc."
                );
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/sbc`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListSet(e, n = "body", i = !1, a) {
              const l = e.stringSetEditorPhoneSystemArg;
              if (null == l)
                throw new Error(
                  "Required parameter stringSetEditorPhoneSystemArg was null or undefined when calling trunkListSet."
                );
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/set`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListSetMessaging(e, n = "body", i = !1, a) {
              const l = e.stringSetEditorPhoneSystemArg;
              if (null == l)
                throw new Error(
                  "Required parameter stringSetEditorPhoneSystemArg was null or undefined when calling trunkListSetMessaging."
                );
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/setMessaging`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListSetSbcRps(e, n = "body", i = !1, a) {
              const l = e.body;
              if (null == l)
                throw new Error(
                  "Required parameter body was null or undefined when calling trunkListSetSbcRps."
                );
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/set_sbc_rps`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
            trunkListUpdateSbc(e, n = "body", i = !1, a) {
              const l = e.body;
              if (null == l)
                throw new Error(
                  "Required parameter body was null or undefined when calling trunkListUpdateSbc."
                );
              let r,
                s = this.defaultHeaders;
              (r = this.configuration.lookupCredential("bearerAuth")),
                r && (s = s.set("Authorization", "Bearer " + r));
              let o = a && a.httpHeaderAccept;
              void 0 === o && (o = this.configuration.selectHeaderAccept([])),
                void 0 !== o && (s = s.set("Accept", o));
              let p = a && a.context;
              void 0 === p && (p = new N.qT());
              const m = this.configuration.selectHeaderContentType([
                "application/json",
                "application/xml",
                "text/plain",
              ]);
              void 0 !== m && (s = s.set("Content-Type", m));
              let g = "json";
              return (
                o &&
                  (g = o.startsWith("text")
                    ? "text"
                    : this.configuration.isJsonMime(o)
                    ? "json"
                    : "blob"),
                this.httpClient.request(
                  "post",
                  `${this.configuration.basePath}/api/TrunkList/sbc_update`,
                  {
                    context: p,
                    body: l,
                    responseType: g,
                    withCredentials: this.configuration.withCredentials,
                    headers: s,
                    observe: n,
                    reportProgress: i,
                  }
                )
              );
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)(d.LFG(N.eN), d.LFG(be, 8), d.LFG(Z, 8));
            }),
            (t.ɵprov = d.Yz7({
              token: t,
              factory: t.ɵfac,
              providedIn: "root",
            })),
            t
          );
        })();
      const xa = { Users: 0, SharedMailboxes: 1, LicensedUsers: 2 };
      let Ig = (() => {
        class t {
          constructor(e, n) {
            if (e)
              throw new Error(
                "ApiModule is already loaded. Import in your base AppModule only."
              );
            if (!n)
              throw new Error(
                "You need to import the HttpClientModule in your AppModule! \nSee also https://github.com/angular/angular/issues/20575"
              );
          }
          static forRoot(e) {
            return { ngModule: t, providers: [{ provide: Z, useFactory: e }] };
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.LFG(t, 12), d.LFG(N.eN, 8));
          }),
          (t.ɵmod = d.oAB({ type: t })),
          (t.ɵinj = d.cJS({})),
          t
        );
      })();
      var sn = w(87622);
      const vg = ["file"];
      let Ng = (() => {
        class t {
          constructor(e) {
            (this.cd = e),
              (this.accept = "*/*"),
              (this.mcTitle = "REPOS.BUTTONS.UPLOAD_BTN"),
              (this.files = new d.vpe());
          }
          upload() {
            (this.fileUpload.nativeElement.value = ""),
              this.fileUpload.nativeElement.click();
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.Y36(d.sBO));
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["app-select-file-button"]],
            viewQuery: function (e, n) {
              if ((1 & e && d.Gf(vg, 5), 2 & e)) {
                let i;
                d.iGM((i = d.CRH())) && (n.fileUpload = i.first);
              }
            },
            inputs: { accept: "accept", mcTitle: "mcTitle" },
            outputs: { files: "files" },
            decls: 4,
            vars: 4,
            consts: [
              [
                "type",
                "file",
                "hidden",
                "true",
                1,
                "hide",
                3,
                "accept",
                "change",
              ],
              ["file", ""],
              [
                "type",
                "button",
                1,
                "btn",
                "btn-default",
                3,
                "innerHTML",
                "click",
              ],
            ],
            template: function (e, n) {
              if (1 & e) {
                const i = d.EpF();
                d.TgZ(0, "input", 0, 1),
                  d.NdJ("change", function () {
                    d.CHM(i);
                    const l = d.MAs(1);
                    return d.KtG(n.files.emit(l.files));
                  }),
                  d.qZA(),
                  d.TgZ(2, "button", 2),
                  d.NdJ("click", function () {
                    return n.upload();
                  }),
                  d.ALo(3, "translate"),
                  d.qZA();
              }
              2 & e &&
                (d.Q6J("accept", n.accept),
                d.xp6(2),
                d.Q6J("innerHTML", d.lcZ(3, 2, n.mcTitle), d.oJD));
            },
            dependencies: [He.X$],
            encapsulation: 2,
          })),
          t
        );
      })();
      function yg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.LOCATION_SPECIFY"));
      }
      function Og(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t &&
            d.Oqu(d.lcZ(1, 1, "WARNINGS.PATH_SHOULD_NOT_CONTAIN_SPACES"));
      }
      function xg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.INVALID_CREDENTIALS"));
      }
      function Rg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.CANNOT_CONNECT_FTP"));
      }
      function Lg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.CANNOT_CONNECT_SMB"));
      }
      function Dg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.CANNOT_CONNECT_SFTP"));
      }
      function Mg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.CANNOT_CONNECT_GB"));
      }
      let Ra = (() => {
        class t {
          constructor() {}
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)();
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["app-location-errors"]],
            decls: 8,
            vars: 0,
            consts: [
              ["valError", "XapiInvalidPath"],
              ["valError", "XapiPathShouldNotContainSpaces"],
              ["valError", "XapiInvalidCredentials"],
              ["valError", "XapiCannotConnectFtp"],
              ["valError", "XapiCannotConnectSmb"],
              ["valError", "XapiCannotConnectSftp"],
              ["valError", "XapiCannotConnectGb"],
            ],
            template: function (e, n) {
              1 & e &&
                (d.TgZ(0, "val-default-errors"),
                d.YNc(1, yg, 2, 3, "ng-template", 0),
                d.YNc(2, Og, 2, 3, "ng-template", 1),
                d.YNc(3, xg, 2, 3, "ng-template", 2),
                d.YNc(4, Rg, 2, 3, "ng-template", 3),
                d.YNc(5, Lg, 2, 3, "ng-template", 4),
                d.YNc(6, Dg, 2, 3, "ng-template", 5),
                d.YNc(7, Mg, 2, 3, "ng-template", 6),
                d.qZA());
            },
            dependencies: [Xe.HY, Xe.h2, He.X$],
            encapsulation: 2,
          })),
          t
        );
      })();
      const wg = ["fileInput"],
        Pg = ["fileJsonInput"];
      function Hg(t, c) {
        if (
          (1 & t &&
            (d.TgZ(0, "option", 6), d._uU(1), d.ALo(2, "translate"), d.qZA()),
          2 & t)
        ) {
          const e = d.oxw();
          d.Q6J("ngValue", e.PbxFileSystemType.Local),
            d.xp6(1),
            d.Oqu(d.lcZ(2, 2, "enum.FileSystemType.Local"));
        }
      }
      function jg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.LOCATION_SPECIFY"));
      }
      function kg(t, c) {
        if (1 & t) {
          const e = d.EpF();
          d.TgZ(0, "div", 2)(1, "app-text-control", 10)(2, "span", 11)(
            3,
            "button",
            12
          ),
            d.NdJ("click", function () {
              d.CHM(e);
              const i = d.oxw();
              return d.KtG(i.onLocationPathClick());
            }),
            d._uU(4, " ... "),
            d.qZA()(),
            d.TgZ(5, "val-errors", 13),
            d.YNc(6, jg, 2, 3, "ng-template", 14),
            d.qZA()()();
        }
        if (2 & t) {
          const e = d.oxw();
          d.xp6(1),
            d.Q6J("maxlength", 250),
            d.xp6(2),
            d.Q6J("disabled", e.form.controls.LocalPath.disabled);
        }
      }
      function Ug(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.PATH_SHOULD_NOT_BE_EMPTY"));
      }
      function $g(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t &&
            d.Oqu(d.lcZ(1, 1, "WARNINGS.PATH_SHOULD_NOT_CONTAIN_SPACES"));
      }
      function Gg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.FTP_PATH_SUPPORTED_PROTOCOLS"));
      }
      function Bg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.INVALID_URL"));
      }
      function Vg(t, c) {
        1 & t &&
          (d.TgZ(0, "div", 2)(1, "app-text-control", 15)(2, "val-errors", 16),
          d.YNc(3, Ug, 2, 3, "ng-template", 14),
          d.YNc(4, $g, 2, 3, "ng-template", 17),
          d.YNc(5, Gg, 2, 3, "ng-template", 18),
          d.YNc(6, Bg, 2, 3, "ng-template", 19),
          d.qZA()(),
          d.TgZ(7, "app-text-control", 20),
          d._UZ(8, "val-errors", 21),
          d.qZA(),
          d.TgZ(9, "app-password-control", 22),
          d._UZ(10, "val-errors", 23),
          d.qZA()()),
          2 & t &&
            (d.xp6(1),
            d.Q6J("maxlength", 255),
            d.xp6(6),
            d.Q6J("maxlength", 255),
            d.xp6(2),
            d.Q6J("maxlength", 255));
      }
      function Fg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.PATH_SHOULD_NOT_BE_EMPTY"));
      }
      function zg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t &&
            d.Oqu(d.lcZ(1, 1, "WARNINGS.PATH_SHOULD_NOT_CONTAIN_SPACES"));
      }
      function Wg(t, c) {
        1 & t &&
          (d.TgZ(0, "div", 2)(1, "app-text-control", 24)(2, "val-errors", 25),
          d.YNc(3, Fg, 2, 3, "ng-template", 14),
          d.YNc(4, zg, 2, 3, "ng-template", 17),
          d.qZA()(),
          d.TgZ(5, "app-text-control", 26),
          d._UZ(6, "val-errors", 27),
          d.qZA(),
          d.TgZ(7, "app-text-control", 28),
          d._UZ(8, "val-errors", 29),
          d.qZA(),
          d.TgZ(9, "app-password-control", 30),
          d._UZ(10, "val-errors", 31),
          d.qZA()()),
          2 & t &&
            (d.xp6(1),
            d.Q6J("maxlength", 255),
            d.xp6(4),
            d.Q6J("maxlength", 255),
            d.xp6(2),
            d.Q6J("maxlength", 255),
            d.xp6(2),
            d.Q6J("maxlength", 255));
      }
      function Yg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.PATH_SHOULD_NOT_BE_EMPTY"));
      }
      function Xg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t &&
            d.Oqu(d.lcZ(1, 1, "WARNINGS.SMB_PATH_SHOULD_NOT_CONTAIN_SPACES"));
      }
      function qg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.INVALID_URL"));
      }
      function Qg(t, c) {
        if (1 & t) {
          const e = d.EpF();
          d.TgZ(0, "div", 2)(1, "app-text-control", 32)(2, "val-errors", 33),
            d.YNc(3, Yg, 2, 3, "ng-template", 14),
            d.YNc(4, Xg, 2, 3, "ng-template", 17),
            d.YNc(5, qg, 2, 3, "ng-template", 19),
            d.qZA()(),
            d.TgZ(6, "app-text-control", 34),
            d._UZ(7, "val-errors", 35),
            d.qZA(),
            d.TgZ(8, "app-password-control", 36),
            d._UZ(9, "val-errors", 37),
            d.qZA(),
            d.TgZ(10, "app-text-control", 38)(11, "span", 11)(
              12,
              "app-select-file-button",
              39
            ),
            d.NdJ("files", function (i) {
              d.CHM(e);
              const a = d.oxw();
              return d.KtG(a.fileSelected(i));
            }),
            d.qZA(),
            d.TgZ(13, "button", 40),
            d.NdJ("click", function () {
              d.CHM(e);
              const i = d.oxw();
              return d.KtG(i.onDeleteClick());
            }),
            d.ALo(14, "translate"),
            d.qZA()(),
            d.TgZ(15, "div", 41)(16, "ul")(17, "li", 42),
            d._UZ(18, "span", 43)(19, "span", 44),
            d._uU(20, "\xa0 "),
            d.TgZ(21, "a", 45),
            d.ALo(22, "translate"),
            d._uU(23, "here"),
            d.qZA()()()(),
            d._UZ(24, "val-errors", 46),
            d.qZA()();
        }
        if (2 & t) {
          const e = d.oxw();
          d.xp6(1),
            d.Q6J("maxlength", 255),
            d.xp6(5),
            d.Q6J("maxlength", 255),
            d.xp6(2),
            d.Q6J("maxlength", 255),
            d.xp6(2),
            d.Q6J("mute", !0),
            d.xp6(3),
            d.Q6J("disabled", !e.form.controls.SftpPrivateKey.value)(
              "innerHTML",
              d.lcZ(14, 7, "REPOS.BUTTONS.DELETE_BTN"),
              d.oJD
            ),
            d.xp6(8),
            d.s9C(
              "href",
              d.lcZ(22, 9, "LINKS.OPENSHH_KEY_CONVERT_LINK"),
              d.LSH
            );
        }
      }
      function Zg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.INVALID_JSON_FILE"));
      }
      function Kg(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.LOCATION_SPECIFY"));
      }
      function Jg(t, c) {
        if (1 & t) {
          const e = d.EpF();
          d.TgZ(0, "div", 2)(1, "app-text-control", 47)(2, "span", 11)(
            3,
            "app-select-file-button",
            48
          ),
            d.NdJ("files", function (i) {
              d.CHM(e);
              const a = d.oxw();
              return d.KtG(a.fileSelected(i));
            }),
            d.qZA()(),
            d.TgZ(4, "span", 11)(5, "button", 49),
            d.NdJ("click", function () {
              d.CHM(e);
              const i = d.oxw();
              return d.KtG(i.clearGoogleStorageSettings());
            }),
            d.ALo(6, "translate"),
            d.qZA()(),
            d.TgZ(7, "val-errors", 50),
            d.YNc(8, Zg, 2, 3, "ng-template", 51),
            d.qZA()(),
            d.TgZ(9, "app-text-control", 52)(10, "span", 11)(11, "button", 12),
            d.NdJ("click", function () {
              d.CHM(e);
              const i = d.oxw();
              return d.KtG(i.onGoogleStorageLocationPathClick());
            }),
            d._uU(12, " ... "),
            d.qZA()(),
            d.TgZ(13, "val-errors", 53),
            d.YNc(14, Kg, 2, 3, "ng-template", 14),
            d.qZA()()();
        }
        if (2 & t) {
          const e = d.oxw();
          d.xp6(1),
            d.Q6J("mute", !0),
            d.xp6(4),
            d.Q6J("disabled", !e.form.controls.GbJson.value)(
              "innerHTML",
              d.lcZ(6, 6, "REPOS.BUTTONS.DELETE_BTN"),
              d.oJD
            ),
            d.xp6(4),
            d.Q6J("mute", !0)("maxlength", 250),
            d.xp6(2),
            d.Q6J("disabled", e.form.controls.GbPath.disabled);
        }
      }
      let La = (() => {
          class t {
            constructor(e, n, i) {
              (this.bsModalService = e),
                (this.backupListApiService = n),
                (this.modalService = i),
                (this.PbxFileSystemType = De.He),
                (this.changesSub = new mt.w0());
            }
            isGBucketSelected() {
              return this.form.value.FileSystemType === De.He.GoogleBucket;
            }
            isFtpSelected() {
              return this.form.value.FileSystemType === De.He.Ftp;
            }
            isSMBSelected() {
              return this.form.value.FileSystemType === De.He.NetworkShare;
            }
            isSFTPSelected() {
              return this.form.value.FileSystemType === De.He.Sftp;
            }
            get path() {
              var e, n, i, a;
              if (this.isGBucketSelected())
                return null ===
                  (n =
                    null === (e = this.form) || void 0 === e
                      ? void 0
                      : e.value) || void 0 === n
                  ? void 0
                  : n.GbPath;
              let l =
                (null ===
                  (a =
                    null === (i = this.form) || void 0 === i
                      ? void 0
                      : i.value) || void 0 === a
                  ? void 0
                  : a.LocalPath) || "";
              return (
                3 === l.length &&
                  ":" == l[1] &&
                  "/" == l[2] &&
                  (l = l.substr(0, l.length - 1)),
                l
              );
            }
            get filesystem() {
              return this.isGBucketSelected()
                ? 6
                : this.isFtpSelected()
                ? 1
                : 0;
            }
            ngOnDestroy() {
              var e;
              null === (e = this.changesSub) || void 0 === e || e.unsubscribe();
            }
            ngOnChanges(e) {
              const n = this.form.controls,
                i = (a) => rt(n.FileSystemType).pipe((0, We.U)((l) => l === a));
              [
                at(this.hostingMode ? (0, Rt.of)(!1) : i(De.He.Local), [
                  n.LocalPath,
                ]),
                at(i(De.He.Ftp), [n.FtpPath, n.FtpPassword, n.FtpUser]),
                at(i(De.He.NetworkShare), [
                  n.NsDomain,
                  n.NsUser,
                  n.NsPath,
                  n.NsPassword,
                ]),
                at(i(De.He.GoogleBucket), [
                  n.GbJson,
                  n.GbJsonFileName,
                  n.GbPath,
                ]),
                at(i(De.He.Sftp), [
                  n.SftpPrivateKey,
                  n.SftpPrivateKeyName,
                  n.SftpPassword,
                  n.SftpPath,
                  n.SftpUser,
                ]),
                at(
                  (0, It.a)([rt(n.GbJson), i(De.He.GoogleBucket)]).pipe(
                    (0, We.U)(([a, l]) => a && l)
                  ),
                  [n.GbPath]
                ),
                da(n.GbJson, n.GbJsonFileName),
                da(n.SftpPrivateKey, n.SftpPrivateKeyName),
              ].forEach((a) => {
                this.changesSub.add(a);
              });
            }
            fileSelected(e) {
              const n = e.item(0),
                i = new FileReader();
              i.readAsText(n, "UTF-8"),
                (i.onload = (a) => {
                  if (this.isGBucketSelected()) {
                    const l = a.target.result;
                    let s = "";
                    try {
                      s = JSON.parse(l);
                    } catch (r) {
                      s = "";
                    }
                    this.form.patchValue({
                      GbJson: btoa(JSON.stringify(s)),
                      GbJsonFileName: n.name,
                      GbPath: "",
                    });
                  } else
                    this.isSFTPSelected() &&
                      this.form.patchValue({
                        SftpPrivateKeyName: n.name,
                        SftpPrivateKey: a.target.result,
                      });
                }),
                (i.onerror = () => {});
            }
            onGoogleStorageLocationPathClick() {
              var e, n;
              const i = () =>
                this.form.controls.GbJson.setErrors({ tokenInvalid: !0 });
              this.backupListApiService
                .backupAndRestoreListGBucketConnect({
                  json:
                    (null ===
                      (n =
                        null === (e = this.form) || void 0 === e
                          ? void 0
                          : e.value) || void 0 === n
                      ? void 0
                      : n.GbJson) || "",
                })
                .pipe((0, Nt.q)(1))
                .subscribe({
                  next: (a) => {
                    a.result ? this.onLocationPathClick() : i();
                  },
                  error: () => i(),
                });
            }
            onLocationPathClick() {
              var e, n;
              const i = this.bsModalService.show(_a, {
                initialState: {
                  path: this.path,
                  filesystem: this.filesystem,
                  json:
                    (null ===
                      (n =
                        null === (e = this.form) || void 0 === e
                          ? void 0
                          : e.value) || void 0 === n
                      ? void 0
                      : n.GbJson) || "",
                },
              });
              i.onHide.subscribe(() => {
                if (i.content.modalResult === qe.q.Ok) {
                  let a = i.content.path;
                  this.isGBucketSelected()
                    ? this.form.patchValue({ GbPath: a })
                    : (":" === a[1] && 2 === a.length && (a += "/"),
                      this.form.patchValue({ LocalPath: a }));
                }
              });
            }
            clearGoogleStorageSettings() {
              this.form.patchValue({
                GbJson: "",
                GbJsonFileName: "",
                GbPath: "",
              });
            }
            onDeleteClick() {
              this.modalService
                .confirmation(
                  "REPOS.CONFIRMATION.HEADER",
                  "REPOS.CONFIRMATION.DELETE_PRIVATE_KEY"
                )
                .subscribe((e) => {
                  e === qe.q.Ok &&
                    this.form.patchValue({
                      SftpPrivateKeyName: "",
                      SftpPrivateKey: "",
                    });
                });
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)(d.Y36(et.tT), d.Y36(Ia), d.Y36(sn.S));
            }),
            (t.ɵcmp = d.Xpm({
              type: t,
              selectors: [["location-settings"]],
              viewQuery: function (e, n) {
                if ((1 & e && (d.Gf(wg, 7), d.Gf(Pg, 7)), 2 & e)) {
                  let i;
                  d.iGM((i = d.CRH())) && (n.fileInput = i.first),
                    d.iGM((i = d.CRH())) && (n.fileJsonInput = i.first);
                }
              },
              inputs: {
                hostingMode: "hostingMode",
                mcTitle: "mcTitle",
                form: "form",
                mcType: "mcType",
              },
              features: [d.TTD],
              decls: 25,
              vars: 25,
              consts: [
                [3, "formGroup"],
                [3, "translate"],
                [1, "form-group", "m-b"],
                [
                  "translate",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.LOCATION_TYPE",
                ],
                ["formControlName", "FileSystemType", 1, "form-control"],
                [3, "ngValue", 4, "ngIf"],
                [3, "ngValue"],
                ["class", "form-group m-b", 4, "ngIf"],
                ["class", "form-group  m-b", 4, "ngIf"],
                [3, "control"],
                [
                  "formControlName",
                  "LocalPath",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.SELECT_FOLDER",
                  3,
                  "maxlength",
                ],
                [1, "input-group-btn"],
                [
                  "type",
                  "button",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "disabled",
                  "click",
                ],
                ["controlName", "LocalPath"],
                ["valError", "required"],
                [
                  "formControlName",
                  "FtpPath",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.SELECT_FTP_FOLDER",
                  3,
                  "maxlength",
                ],
                ["controlName", "FtpPath"],
                ["valError", "hasSpace"],
                ["valError", "startWithError"],
                ["valError", "invalidUrl"],
                [
                  "formControlName",
                  "FtpUser",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.FTP_TYPE_USERNAME",
                  "placeholder",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.FTP_TYPE_USERNAME",
                  3,
                  "maxlength",
                ],
                ["controlName", "FtpUser"],
                [
                  "formControlName",
                  "FtpPassword",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.FTP_TYPE_PASSWORD",
                  "placeholder",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.FTP_TYPE_PASSWORD",
                  3,
                  "maxlength",
                ],
                ["controlName", "FtpPassword"],
                [
                  "formControlName",
                  "NsPath",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.NETWORK_PATH",
                  "placeholder",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.NETWORK_PATH",
                  3,
                  "maxlength",
                ],
                ["controlName", "NsPath"],
                [
                  "formControlName",
                  "NsDomain",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.DOMAIN",
                  "placeholder",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.DOMAIN",
                  3,
                  "maxlength",
                ],
                ["controlName", "NsDomain"],
                [
                  "formControlName",
                  "NsUser",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.FTP_TYPE_USERNAME",
                  "placeholder",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.FTP_TYPE_USERNAME",
                  3,
                  "maxlength",
                ],
                ["controlName", "NsUser"],
                [
                  "formControlName",
                  "NsPassword",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.FTP_TYPE_PASSWORD",
                  "placeholder",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.FTP_TYPE_PASSWORD",
                  3,
                  "maxlength",
                ],
                ["controlName", "NsPassword"],
                [
                  "formControlName",
                  "SftpPath",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.SELECT_SFTP_FOLDER",
                  "placeholder",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.SELECT_SFTP_FOLDER",
                  3,
                  "maxlength",
                ],
                ["controlName", "SftpPath"],
                [
                  "formControlName",
                  "SftpUser",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.FTP_TYPE_USERNAME",
                  "placeholder",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.FTP_TYPE_USERNAME",
                  3,
                  "maxlength",
                ],
                ["controlName", "SftpUser"],
                [
                  "formControlName",
                  "SftpPassword",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.SFTP_TYPE_PASSWORD",
                  "placeholder",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.SFTP_TYPE_PASSWORD",
                  3,
                  "maxlength",
                ],
                ["controlName", "SftpPassword"],
                [
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.PRIVATE_KEY",
                  "formControlName",
                  "SftpPrivateKeyName",
                  3,
                  "mute",
                ],
                [3, "files"],
                [
                  "type",
                  "button",
                  "id",
                  "btnDelete",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "disabled",
                  "innerHTML",
                  "click",
                ],
                [1, "information"],
                [1, "ng-binding"],
                [1, "fa", "fa-info-circle", 2, "color", "#004085"],
                [
                  "translate",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.NOTE_OPENSSH_KEY",
                ],
                ["target", "_blank", 1, "dashed_link", 3, "href"],
                ["controlName", "SftpPrivateKeyName"],
                [
                  "formControlName",
                  "GbJsonFileName",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.GOOGLE_BUCKET_PRIVATE_KEY",
                  3,
                  "mute",
                ],
                ["accept", ".json", 3, "files"],
                [
                  "type",
                  "button",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "disabled",
                  "innerHTML",
                  "click",
                ],
                ["controlName", "GbJsonFileName"],
                ["valError", "tokenInvalid"],
                [
                  "formControlName",
                  "GbPath",
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.SELECT_FOLDER",
                  3,
                  "mute",
                  "maxlength",
                ],
                ["controlName", "GbPath"],
              ],
              template: function (e, n) {
                1 & e &&
                  (d._UZ(0, "app-location-errors"),
                  d.ynx(1, 0),
                  d._UZ(2, "strong", 1),
                  d.TgZ(3, "div", 2),
                  d._UZ(4, "label", 3),
                  d.TgZ(5, "select", 4),
                  d.YNc(6, Hg, 3, 4, "option", 5),
                  d.TgZ(7, "option", 6),
                  d._uU(8),
                  d.ALo(9, "translate"),
                  d.qZA(),
                  d.TgZ(10, "option", 6),
                  d._uU(11),
                  d.ALo(12, "translate"),
                  d.qZA(),
                  d.TgZ(13, "option", 6),
                  d._uU(14),
                  d.ALo(15, "translate"),
                  d.qZA(),
                  d.TgZ(16, "option", 6),
                  d._uU(17),
                  d.ALo(18, "translate"),
                  d.qZA()()(),
                  d.YNc(19, kg, 7, 2, "div", 7),
                  d.YNc(20, Vg, 11, 3, "div", 8),
                  d.YNc(21, Wg, 11, 4, "div", 8),
                  d.YNc(22, Qg, 25, 11, "div", 8),
                  d.YNc(23, Jg, 15, 8, "div", 7),
                  d._UZ(24, "val-errors", 9),
                  d.BQk()),
                  2 & e &&
                    (d.xp6(1),
                    d.Q6J("formGroup", n.form),
                    d.xp6(1),
                    d.Q6J("translate", n.mcTitle),
                    d.xp6(4),
                    d.Q6J("ngIf", "backupAndRestore" === n.mcType),
                    d.xp6(1),
                    d.Q6J("ngValue", n.PbxFileSystemType.Ftp),
                    d.xp6(1),
                    d.Oqu(d.lcZ(9, 17, "enum.FileSystemType.Ftp")),
                    d.xp6(2),
                    d.Q6J("ngValue", n.PbxFileSystemType.GoogleBucket),
                    d.xp6(1),
                    d.Oqu(d.lcZ(12, 19, "enum.FileSystemType.GoogleBucket")),
                    d.xp6(2),
                    d.Q6J("ngValue", n.PbxFileSystemType.NetworkShare),
                    d.xp6(1),
                    d.Oqu(d.lcZ(15, 21, "enum.FileSystemType.NetworkShare")),
                    d.xp6(2),
                    d.Q6J("ngValue", n.PbxFileSystemType.Sftp),
                    d.xp6(1),
                    d.Oqu(d.lcZ(18, 23, "enum.FileSystemType.Sftp")),
                    d.xp6(2),
                    d.Q6J(
                      "ngIf",
                      n.form.value.FileSystemType === n.PbxFileSystemType.Local
                    ),
                    d.xp6(1),
                    d.Q6J("ngIf", n.isFtpSelected()),
                    d.xp6(1),
                    d.Q6J("ngIf", n.isSMBSelected()),
                    d.xp6(1),
                    d.Q6J("ngIf", n.isSFTPSelected()),
                    d.xp6(1),
                    d.Q6J("ngIf", n.isGBucketSelected()),
                    d.xp6(1),
                    d.Q6J("control", n.form));
              },
              dependencies: [
                Xe.tM,
                Xe.HY,
                q.YN,
                q.Kr,
                q.EJ,
                q.JJ,
                q.JL,
                q.nD,
                q.sg,
                q.u,
                En,
                Ye.O5,
                He.Pi,
                Fn,
                Ng,
                Ra,
                He.X$,
              ],
              encapsulation: 2,
            })),
            t
          );
        })(),
        em = (() => {
          class t {
            constructor(e, n, i, a, l) {
              (this.bsModal = e),
                (this.fb = n),
                (this.backUpService = i),
                (this.sys = a),
                (this.xapiError = l),
                (this.saving = !1),
                (this.form = this.fb.group({ Location: Sa(this.fb) }));
            }
            save() {
              this.form.invalid
                ? this.form.markAllAsTouched()
                : this.saving ||
                  ((this.saving = !0),
                  this.backUpService
                    .setBackupRepositorySettings({
                      backupsSetBackupRepositorySettingsRequestBody: {
                        settings: this.form.value,
                      },
                    })
                    .subscribe({
                      next: () => {
                        (this.saving = !1), this.bsModal.hide();
                      },
                      error: (n) => {
                        (this.saving = !1),
                          this.xapiError.error(n, this.form, !1);
                      },
                    }));
            }
            cancelClick() {
              this.bsModal.hide();
            }
            ngOnInit() {
              this.form.patchValue(this.repo);
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)(
                d.Y36(et.UZ),
                d.Y36(q.qu),
                d.Y36(De.wn),
                d.Y36(Cn),
                d.Y36(jt.Y)
              );
            }),
            (t.ɵcmp = d.Xpm({
              type: t,
              selectors: [["ng-component"]],
              decls: 12,
              vars: 5,
              consts: [
                [3, "formGroup", "ngSubmit"],
                [1, "modal-content"],
                [1, "modal-header"],
                ["type", "button", 1, "close", 3, "click"],
                [
                  "translate",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.TITLE",
                  1,
                  "modal-title",
                ],
                [1, "modal-body"],
                [
                  "mcTitle",
                  "BACKUP_AND_RESTORE.DIALOGS.LOCATION.DESCRIPTION",
                  "mcType",
                  "backupAndRestore",
                  3,
                  "form",
                  "hostingMode",
                ],
                [1, "modal-footer"],
                [
                  "type",
                  "submit",
                  "translate",
                  "REPOS.BUTTONS.SAVE_BTN",
                  "id",
                  "btnSave",
                  1,
                  "btn",
                  "btn-default",
                ],
                [
                  "type",
                  "button",
                  "translate",
                  "REPOS.BUTTONS.CANCEL_BTN",
                  "id",
                  "btnCancel",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "click",
                ],
              ],
              template: function (e, n) {
                if (
                  (1 & e &&
                    (d.TgZ(0, "form", 0),
                    d.NdJ("ngSubmit", function () {
                      return n.save();
                    }),
                    d.TgZ(1, "div", 1)(2, "div", 2)(3, "button", 3),
                    d.NdJ("click", function () {
                      return n.cancelClick();
                    }),
                    d._uU(4, "\xd7"),
                    d.qZA(),
                    d._UZ(5, "h4", 4),
                    d.qZA(),
                    d.TgZ(6, "div", 5),
                    d._UZ(7, "location-settings", 6),
                    d.ALo(8, "async"),
                    d.qZA(),
                    d.TgZ(9, "div", 7),
                    d._UZ(10, "button", 8),
                    d.TgZ(11, "button", 9),
                    d.NdJ("click", function () {
                      return n.cancelClick();
                    }),
                    d.qZA()()()()),
                  2 & e)
                ) {
                  let i;
                  d.Q6J("formGroup", n.form),
                    d.xp6(7),
                    d.Q6J("form", n.form.controls.Location)(
                      "hostingMode",
                      null ===
                        (i =
                          null == (i = d.lcZ(8, 3, n.sys.systemParameters))
                            ? null
                            : i.IsHosted) ||
                        void 0 === i ||
                        i
                    );
                }
              },
              dependencies: [La, He.Pi, q._Y, q.JL, q.sg, Ye.Ov],
              encapsulation: 2,
            })),
            t
          );
        })();
      function tm(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t &&
            d.Oqu(
              d.lcZ(1, 1, "BACKUP_AND_RESTORE.DIALOGS.RESTORE.INVALID_PASSWORD")
            );
      }
      let nm = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.fb = e),
              (this.backupService = n),
              (this.bsModalRef = i),
              (this.xapiError = a),
              (this.proceed = !1),
              (this.result = qe.q.Cancel);
          }
          ngOnInit() {
            this.form = this.fb.group({
              password: this.fb.control("", q.kI.required),
              footprint: this.fb.control(this.footPrint),
            });
          }
          ok() {
            this.form.invalid
              ? this.form.markAllAsTouched()
              : this.proceed ||
                ((this.proceed = !0),
                this.backupService
                  .restore({
                    fileName: `'${this.fileName}'`,
                    backupsBackupRestoreRequestBody: this.form.value,
                  })
                  .subscribe({
                    next: () => {
                      (this.proceed = !1),
                        (this.result = qe.q.Ok),
                        this.bsModalRef.hide();
                    },
                    error: (e) => {
                      (this.proceed = !1),
                        this.xapiError.error(e, this.form, !1);
                    },
                  }));
          }
          cancel() {
            this.bsModalRef.hide();
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(
              d.Y36(q.qu),
              d.Y36(De.wn),
              d.Y36(et.UZ),
              d.Y36(jt.Y)
            );
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["ng-component"]],
            inputs: { footPrint: "footPrint", fileName: "fileName" },
            decls: 20,
            vars: 10,
            consts: [
              [3, "formGroup", "ngSubmit"],
              [1, "modal-content"],
              [1, "modal-header"],
              ["type", "button", 1, "close", 3, "click"],
              [
                "translate",
                "BACKUP_AND_RESTORE.DIALOGS.RESTORE.CONFIRM_RESTORE",
                1,
                "modal-title",
              ],
              [1, "modal-body"],
              [3, "innerHTML"],
              [1, "form-group"],
              ["formControlName", "password"],
              ["controlName", "password"],
              ["valError", "XapiInvalidPassword"],
              [1, "modal-footer"],
              [
                "id",
                "btnOk",
                "type",
                "submit",
                1,
                "btn",
                "btn-primary",
                3,
                "click",
              ],
              [
                "id",
                "btnCancel",
                "type",
                "button",
                1,
                "btn",
                "btn-default",
                3,
                "click",
              ],
            ],
            template: function (e, n) {
              1 & e &&
                (d.TgZ(0, "form", 0),
                d.NdJ("ngSubmit", function () {
                  return n.ok();
                }),
                d.TgZ(1, "div", 1)(2, "div", 2)(3, "button", 3),
                d.NdJ("click", function () {
                  return n.cancel();
                }),
                d._uU(4, "\xd7"),
                d.qZA(),
                d._UZ(5, "h4", 4),
                d.qZA(),
                d.TgZ(6, "div", 5),
                d._UZ(7, "label", 6),
                d.ALo(8, "translate"),
                d.TgZ(9, "div", 7)(10, "app-password-control", 8)(
                  11,
                  "val-errors",
                  9
                ),
                d.YNc(12, tm, 2, 3, "ng-template", 10),
                d.qZA()()()(),
                d.TgZ(13, "div", 11)(14, "button", 12),
                d.NdJ("click", function () {
                  return n.ok();
                }),
                d._uU(15),
                d.ALo(16, "translate"),
                d.qZA(),
                d.TgZ(17, "button", 13),
                d.NdJ("click", function () {
                  return n.cancel();
                }),
                d._uU(18),
                d.ALo(19, "translate"),
                d.qZA()()()()),
                2 & e &&
                  (d.Q6J("formGroup", n.form),
                  d.xp6(7),
                  d.Q6J(
                    "innerHTML",
                    d.lcZ(
                      8,
                      4,
                      "BACKUP_AND_RESTORE.DIALOGS.RESTORE.BACKUP_WILL_BE_RESTORED_ENCRYPTED"
                    ),
                    d.oJD
                  ),
                  d.xp6(8),
                  d.Oqu(d.lcZ(16, 6, "REPOS.BUTTONS.OK_BTN")),
                  d.xp6(3),
                  d.Oqu(d.lcZ(19, 8, "REPOS.BUTTONS.CANCEL_BTN")));
            },
            dependencies: [
              He.Pi,
              q._Y,
              q.JJ,
              q.JL,
              q.sg,
              q.u,
              En,
              Xe.tM,
              Xe.HY,
              He.X$,
            ],
            encapsulation: 2,
          })),
          t
        );
      })();
      var im = w(61531),
        am = w(94900);
      let sm = (() => {
        class t {
          constructor(e, n, i, a, l, s, r, o) {
            (this.backupService = e),
              (this.$state = n),
              (this.MyUtilsSvc = a),
              (this.MessageBoxSvc = l),
              (this.BackupAndRestoreSvc = s),
              (this.bsModal = r),
              (this.$rootScope = o),
              (this.itemsByPage = 10),
              (this.itemsLoaded = !1),
              (this.items = []),
              (this.displayedItems = []),
              (this.formatBytes = ah),
              (this.sub = new mt.w0()),
              (this.refresh$ = new xt.X(!0)),
              this.sub.add(
                this.refresh$
                  .pipe(
                    (0, it.w)(() =>
                      this.backupService.listBackup({
                        $orderby: ["CreationTime desc"],
                      })
                    )
                  )
                  .subscribe({
                    next: (p) => {
                      var f, m;
                      (this.items =
                        null !==
                          (m =
                            null === (f = p.value) || void 0 === f
                              ? void 0
                              : f.map((g) => ({
                                  backup: g,
                                  isSelected: !1,
                                }))) && void 0 !== m
                          ? m
                          : []),
                        (this.itemsLoaded = !0);
                    },
                    error: () => {},
                  })
              ),
              (this.user = o.User),
              i.SetBackup && ((i.SetBackup = !1), this.onBackupScheduleClick());
          }
          $onDestroy() {
            this.sub.unsubscribe();
          }
          isAnySelected() {
            return this.displayedItems.some((e) => e.isSelected);
          }
          restoreBackup(e, n) {
            let i;
            if (n.IsEncrypted) {
              const a = this.bsModal.show(nm, {
                class: "modal-md",
                initialState: { fileName: e, footPrint: n.Footprint },
              });
              i = a.onHide.pipe((0, We.U)(() => a.content.result));
            } else {
              const a = this.bsModal.show(im.W, {
                initialState: {
                  header: "BACKUP_AND_RESTORE.DIALOGS.RESTORE.CONFIRM_RESTORE",
                  text: "BACKUP_AND_RESTORE.DIALOGS.RESTORE.BACKUP_WILL_BE_RESTORED",
                  buttons: am.Z.OkCancel,
                  autoShow: !0,
                },
              });
              i = a.onHide.pipe(
                (0, it.w)(() =>
                  a.content.result === qe.q.Ok
                    ? this.backupService.restore({
                        fileName: `'${e}'`,
                        backupsBackupRestoreRequestBody: {
                          footprint: n.Footprint,
                          password: "",
                        },
                      })
                    : (0, Rt.of)("")
                ),
                (0, We.U)(() => a.content.result)
              );
            }
            i.subscribe({
              next: (a) => {
                a === qe.q.Ok && this.$state.go("login");
              },
              error: (a) => this.MessageBoxSvc.error(a),
            });
          }
          onRestoreClick(e) {
            var n, i;
            const a =
              null !== (n = null == e ? void 0 : e.backup) && void 0 !== n
                ? n
                : null ===
                    (i = this.displayedItems.find((l) => l.isSelected)) ||
                  void 0 === i
                ? void 0
                : i.backup;
            !a ||
              this.backupService
                .getBackupExtras({ fileName: `'${a.FileName}'` })
                .subscribe({
                  next: (l) => {
                    this.restoreBackup(a.FileName, l);
                  },
                  error: (l) => this.MessageBoxSvc.error(l),
                });
          }
          onBackupClick() {
            const e = this.bsModal.show(Jh, {
              class: "modal-lg",
              initialState: {
                existingBackups: this.items.map((n) => n.backup),
              },
            });
            e.onHide.subscribe(() => {
              e.content.backupCreated && this.bsModal.show(ef);
            });
          }
          onDownloadClick() {
            var e;
            const n =
              null === (e = this.displayedItems.find((i) => i.isSelected)) ||
              void 0 === e
                ? void 0
                : e.backup;
            !n || Bn(n.DownloadLink);
          }
          onDeleteClick(e) {
            var n, i;
            const a =
              null !== (n = null == e ? void 0 : e.backup) && void 0 !== n
                ? n
                : null ===
                    (i = this.displayedItems.find((l) => l.isSelected)) ||
                  void 0 === i
                ? void 0
                : i.backup;
            !a ||
              this.MessageBoxSvc.confirmDialog(
                "REPOS.CONFIRMATION.HEADER",
                "REPOS.CONFIRMATION.TEXT"
              )
                .then(() => {
                  this.backupService
                    .deleteBackup({ fileName: `'${a.FileName}'` })
                    .subscribe({
                      next: () => {
                        this.refresh$.next(!0);
                      },
                      error: (l) => this.MessageBoxSvc.error(l),
                    });
                })
                .catch(() => u.noop());
          }
          onLocationClick() {
            this.backupService.getBackupRepositorySettings().subscribe({
              next: (e) => {
                this.bsModal
                  .show(em, { initialState: { repo: e } })
                  .onHide.subscribe({ next: () => this.refresh$.next(!0) });
              },
              error: (e) => this.MessageBoxSvc.error(e),
            });
          }
          onFailoverClick() {
            this.BackupAndRestoreSvc.FailoverSettings()
              .then((e) => {
                if (e.data.FailoverIsNotAllowed)
                  return this.MessageBoxSvc.messageBox(
                    "BACKUP_AND_RESTORE.CAN_T_CONFIGURE_FAILOVER",
                    "BACKUP_AND_RESTORE.SPLIT_DNS_MSG",
                    "md"
                  );
                this.MyUtilsSvc.openModalEditor(
                  "js/app/backup_and_restore/dialogs/failover.html",
                  e,
                  "FailoverDialogCtrl"
                );
              })
              .catch(() => u.noop());
          }
          onRestoreScheduleClick() {
            this.backupService.getRestoreSettings().subscribe({
              next: (e) => {
                this.bsModal
                  .show($h, { class: "modal-lg" })
                  .content.setValue(e);
              },
              error: (e) => this.MessageBoxSvc.error(e),
            });
          }
          onBackupScheduleClick() {
            this.backupService.getBackupSettings().subscribe({
              next: (e) => {
                this.bsModal
                  .show(Uh, { class: "modal-lg" })
                  .content.setValue(e);
              },
              error: (e) => this.MessageBoxSvc.error(e),
            });
          }
        }
        return (
          (t.$inject = [
            "BackupsApiService",
            "$state",
            "$stateParams",
            "MyUtilsSvc",
            "MessageBoxSvc",
            "BackupAndRestoreSvc",
            "BsModalService",
            "$rootScope",
          ]),
          t
        );
      })();
      u
        .module("app")
        .component("backupComponent", {
          controller: sm,
          templateUrl: "js/app/backup_and_restore/backup_and_restore_list.html",
        }),
        u.module("app").controller("FailoverDialogCtrl", [
          "$scope",
          "EditSvc",
          "MyUtilsSvc",
          "MessageBoxSvc",
          "response",
          function (t, c, e, n, i) {
            e.initModalEditController(t, c, i.data).catch(() => u.noop()),
              (t.validationSuccesseful = function () {
                n.confirmDialog(
                  "BACKUP_AND_RESTORE.CONFIRM_SWITCHING_TO_PASSIVE_MODE_HEADER",
                  "BACKUP_AND_RESTORE.CONFIRM_SWITCHING_TO_PASSIVE_MODE_MSG",
                  "md"
                )
                  .then(t.saveClick)
                  .catch(() => u.noop());
              }),
              (t.askConfirm = function () {
                if (!t.activeObject.licenseRestricted) {
                  const l =
                    "FailoverMode.Passive" == t.activeObject.Mode.selected;
                  t.activeObject.Enabled._value && l
                    ? t.serverValidation()
                    : t.saveClick();
                }
              });
          },
        ]);
      var lm =
        '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="CALL_LOG.TITLE">Call Log</label> </div> <div class="wrapper-md" ng-controller="CallLogCtrl"> <div class="panel panel-default"> <div class="panel-heading" translate="CALL_LOG.CALL_LOG"> Call Log</div> <div class="panel-body" sticky-to-top> <button type="button" data-toggle="modal" ng-click="onClickFilter()" ng-disabled="isLoading" id="btnFilter" class="btn btn-sm btn-success btn-responsive" translate="CALL_LOG.FILTER_BTN"> <i class="fa fa-filter"></i> Filter </button> <button type="button" data-toggle="modal" ng-click="onClickExport()" ng-disabled="isLoading" mc-reports="" uib-tooltip="{{exportTooltip() | translate}}" class="btn btn-sm btn-default btn-responsive" translate="REPOS.BUTTONS.EXPORT_BTN" id="btnExport"></button> </div> <table id="callLogsTable" st-pipe="loadData" st-table="displayedCollection" class="table table-striped"> <thead> <tr> <td colspan="12"> <mc-search search-filter="searchFilter" on-search="searchCallLogs()" mc-disabled="isLoading"></mc-search> </td> </tr> <tr> <th translate="CALL_LOG.TBL_HEADING_CALL_TIME">Date/Time</th> <th translate="CALL_LOG.TBL_HEADING_CALLER_ID">From</th> <th translate="CALL_LOG.TBL_HEADING_DESTINATION">To</th> <th translate="CALL_LOG.TBL_HEADING_TALKING">Duration</th> </tr> </thead> <tbody ng-show="!isLoading"> <tr ng-repeat="row in displayedCollection"> <td>{{::row.CallTimeStr}}</td> <td>{{::row.CallerId}}</td> <td>{{::row.Destination}}</td> <td>{{::row.Duration}}</td> </tr> </tbody> <tfoot> <tr> <td colspan="4" class="text-center"> <div ng-show="!isLoading" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7" st-template="' +
        nt()(Ft) +
        '" st-page-change="onPageSwitch(newPage)"></div> </td> </tr> </tfoot> </table> </div> </div> </div> ';
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) => t.put("js/app/call_log/call_log.html", lm),
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/call_log/dialogs/call_log_export_modal.html",
                ' <form name="exportForm"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="CALL_LOG.DIALOGS.EXPORT.TITLE">Export Call Logs</h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="REPORTS_UI.NAME">Name</label> <input type="text" class="form-control" ng-model="ExportParams.Name" maxlength="128" name="Name" prop="" placeholder="{{\'REPORTS_UI.NAME\' | translate}}" required> <div class="errors"> <ul> <li ng-show="submitted && exportForm.Name.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> </ul> </div> </div> <div class="form-group"> <label translate="CALL_REPORTS.DIALOGS.SCHEDULE_REPORT.SEND_REPORT_TO">Send report to</label> <input type="text" multiple-emails="" class="form-control" ng-model="ExportParams.Email" name="Email" prop="" ng-required="true" placeholder="{{\'REPORTS_UI.EMAIL_ADDRESS\' | translate}}" maxlength="254"> <div class="errors control-errors"> <ul> <li ng-show="submitted && exportForm.Email.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> <li ng-show="submitted && exportForm.Email.$error.multipleEmails"> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_EMAIL_LIST"></span> </li> </ul> </div> </div> <div class="modal-footer clear"> <button type="button" class="btn btn-default" ng-click="export()" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">OK</button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </div> </form> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/call_log/dialogs/call_log_filter_modal.html",
                ' <form name="filterForm"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="CALL_LOG.DIALOGS.FILTER.TITLE">Filter Call Logs</h4> </div> <div class="modal-body"> <date-range selected-range="modalCurrentFilter.dateRangeFilter" show-time="false" submitted="submitted" show-days90="true"></date-range> <numbers-filter selected-filter="modalCurrentFilter.fromNumberFilter" header-text-key="REPOS.TEXT.FROM" submitted="submitted" extension-length="ExtensionNumberLength"></numbers-filter> <numbers-filter selected-filter="modalCurrentFilter.toNumbersFilter" header-text-key="REPOS.TEXT.TO" submitted="submitted" extension-length="ExtensionNumberLength"></numbers-filter> <div class="form-group"> <label translate="CALL_LOG.DIALOGS.FILTER.CALL_STATE">Filter answered or unanswered calls</label> <select class="form-control" ng-model="modalCurrentFilter.callState"> <option value="All" translate="CALL_LOG.DIALOGS.FILTER.ANSWERED_AND_UNANSWERED">Answered & Unanswered</option> <option value="OnlyAnswered" translate="CALL_LOG.DIALOGS.FILTER.ANSWERED">Answered Only</option> <option value="OnlyUnanswered" translate="CALL_LOG.DIALOGS.FILTER.NOT_ANSWERED">Unanswered Only</option> </select> </div> <div class="modal-footer clear"> <button type="button" class="btn btn-default" ng-click="filter()" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">OK</button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </div> </form> '
              ),
          ]),
        u.module("app").controller("CallLogCtrl", [
          "$scope",
          "$q",
          "CallLogSvc",
          "$filter",
          "$translate",
          "$window",
          "MessageBoxSvc",
          "$uibModal",
          function (t, c, e, n, i, a, l, s) {
            (t.isLoading = !0),
              (t.itemsByPage = 50),
              (t.isExportAllowed = !1),
              (t.exportTooltip = function () {
                return t.isExportAllowed
                  ? ""
                  : "REPOS.TEXT.PROFESSIONAL_REQUIRED";
              });
            let p,
              o = z().extend(
                {
                  startRow: void 0,
                  numberOfRows: void 0,
                  TimeZoneName: void 0,
                },
                {
                  dateRangeType: "Today",
                  fromFilterType: "Any",
                  fromFilter: "",
                  toFilterType: "Any",
                  toFilter: "",
                  callState: "All",
                  searchFilter: "",
                }
              ),
              f = null,
              m = 0,
              g = !1;
            function S() {
              f && ((f.promise.userCancelled = !0), f.resolve(), (f = null));
            }
            const O = function () {
                const K = z()("#callLogsTable").data("$stTableController");
                return K ? K.tableState() : null;
              },
              j = function () {
                return t.searchFilter
                  ? t.searchFilter.trim().toLowerCase()
                  : "";
              };
            function te(K) {
              (o = K), t.updateCallLog(!0);
            }
            function X(K) {
              (p = K), (o.searchFilter = j());
              const Q = z().extend(
                {
                  name: K.Name,
                  email: K.Email,
                  TimeZoneName:
                    Intl.DateTimeFormat().resolvedOptions().timeZone,
                },
                o
              );
              e.exportRecords(Q);
            }
            (t.onPageSwitch = function () {
              _t();
            }),
              (t.searchCallLogs = function () {
                t.updateCallLog(!0);
              }),
              (t.loadData = function (K) {
                (o.startRow = K.pagination.start || 0),
                  (o.numberOfRows = t.itemsByPage),
                  t.updateCallLog();
              }),
              (t.updateCallLog = function (K) {
                if (
                  ((t.isLoading = !0),
                  (t.displayedCollection = []),
                  S(),
                  (o.searchFilter = j()),
                  K)
                ) {
                  (o.startRow = 0),
                    (o.numberOfRows = t.itemsByPage),
                    (m = 0),
                    (g = !1);
                  const Q = O();
                  if (Q) {
                    const _e = Q.pagination;
                    (_e.numberOfPages = 0),
                      (_e.start = 0),
                      (_e.number = t.itemsByPage);
                  }
                }
                (o.TimeZoneName =
                  Intl.DateTimeFormat().resolvedOptions().timeZone),
                  (f = c.defer()),
                  e
                    .getRecords(o, f)
                    .then(function (Q) {
                      u.forEach(Q.data.CallLogRows, function (Me) {
                        (Me.CallTimeStr = n("mcDateFormat")(Me.CallTime)),
                          (Me.Duration = Me.Answered
                            ? Me.Duration
                            : i.instant("REPORTS.filter_callsgrp_notansw"));
                      }),
                        (t.displayedCollection = Q.data.CallLogRows),
                        (t.isExportAllowed = Q.data.IsExportAllowed);
                      const _e = o.startRow + Q.data.CallLogRows.length;
                      _e >= m && ((m = _e), (g = !Q.data.HasMoreRows));
                      const Le = O();
                      if (Le) {
                        const Me = Le.pagination;
                        (Me.numberOfPages =
                          Math.floor(m / t.itemsByPage) +
                          (m % t.itemsByPage == 0 ? 0 : 1)),
                          g || Me.numberOfPages++,
                          (Me.start = o.startRow),
                          (Me.number = t.itemsByPage);
                      }
                      (t.isLoading = !1), (f = null);
                    })
                    .catch(() => u.noop());
              }),
              t.$on("$destroy", function () {
                S();
              }),
              (t.onClickFilter = function () {
                s.open({
                  size: "lg",
                  templateUrl:
                    "js/app/call_log/dialogs/call_log_filter_modal.html",
                  keyboard: !0,
                  controller: "CallLogFilterController",
                  backdrop: "static",
                  resolve: { currentFilter: o },
                }).result.then(te);
              }),
              (t.onClickExport = function () {
                !t.isExportAllowed ||
                  s
                    .open({
                      size: "lg",
                      backdrop: "static",
                      templateUrl:
                        "js/app/call_log/dialogs/call_log_export_modal.html",
                      keyboard: !0,
                      controller: "CallLogExportController",
                      resolve: { currentExportParams: p },
                    })
                    .result.then(X);
              });
          },
        ]),
        u.module("app").controller("CallLogExportController", [
          "$scope",
          "$rootScope",
          "MessageBoxSvc",
          "currentExportParams",
          function (t, c, e, n) {
            (t.ExportParams =
              void 0 === n ? { Name: "CallLog", Email: c.User.email } : n),
              (t.export = function () {
                return (
                  (t.submitted = !0),
                  !!t.exportForm.$valid &&
                    (t.$close(t.ExportParams),
                    e
                      .messageBox(
                        "CALL_LOG.DIALOGS.EXPORT.TITLE",
                        "CALL_LOG.DIALOGS.EXPORT.PROGRESS",
                        "md"
                      )
                      .catch(() => u.noop()),
                    !0)
                );
              });
          },
        ]),
        u.module("app").controller("CallLogFilterController", [
          "$scope",
          "currentFilter",
          "ReportsValidationSvc",
          function (t, c, e) {
            (t.submitted = !1),
              (t.modalCurrentFilter = {
                dateRangeFilter: {
                  RangeType: c.dateRangeType,
                  CustomDateFrom: c.fromDate,
                  CustomDateTo: c.toDate,
                },
                fromNumberFilter: {
                  NumberFilterType: c.fromFilterType,
                  Filter: c.fromFilter,
                },
                toNumbersFilter: {
                  NumberFilterType: c.toFilterType,
                  Filter: c.toFilter,
                },
                callState: c.callState,
              }),
              (t.dateOptions = z().extend({}, t.$parent.dateOptions)),
              (t.dateOptions.dateDisabled = null),
              (t.examplePlaceholder = ""),
              t.$watch(
                function () {
                  return e.getValidationParams();
                },
                function (n) {
                  (t.ExtensionNumberLength = n.ExtensionNumberLength),
                    (t.examplePlaceholder = n.placeholderExample);
                }
              ),
              (t.filter = function () {
                if (((t.submitted = !0), !t.filterForm.$valid)) return !1;
                t.$close({
                  dateRangeType: t.modalCurrentFilter.dateRangeFilter.RangeType,
                  fromDate: t.modalCurrentFilter.dateRangeFilter.CustomDateFrom,
                  toDate: t.modalCurrentFilter.dateRangeFilter.CustomDateTo,
                  fromFilterType:
                    t.modalCurrentFilter.fromNumberFilter.NumberFilterType,
                  fromFilter: t.modalCurrentFilter.fromNumberFilter.Filter,
                  toFilterType:
                    t.modalCurrentFilter.toNumbersFilter.NumberFilterType,
                  toFilter: t.modalCurrentFilter.toNumbersFilter.Filter,
                  callState: t.modalCurrentFilter.callState,
                });
              });
          },
        ]);
      let hm = (() => {
        class t {
          constructor(e) {
            this.$http = e;
          }
          getRecords(e, n) {
            const i = { params: e, timeout: void 0 };
            return (
              null != n && (i.timeout = n.promise),
              this.$http.getApi("api/CallLog", i)
            );
          }
          exportRecords(e) {
            this.$http.postApi("api/CallLog/Export", e).catch(() => u.noop());
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("CallLogSvc", hm),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/contacts/contact-editor.html",
                '<div class="hbox hbox-auto-xs hbox-auto-sm" ng-controller="ContactEditorCtrl"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" ng-if="activeObject.IsNew" translate="CONTACTS.EDITOR.ADD_PHONEBOOK_ENTRY_TITLE">Add Company Contact</label> <label class="m-n font-thin h3" ng-if="!activeObject.IsNew"><span translate="CONTACTS.EDITOR.EDIT_PHONEBOOK_ENTRY_TITLE">Edit</span> {{activeObject.FirstName.value()}} {{activeObject.LastName.value()}}</label> <button class="btn m-l-lg m-b-xs w-xs btn-success" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button">Save</button> <button class="btn m-b-xs w-xs btn-dark" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button">Cancel</button> <help-button url="{{\'LINKS.CONTACTS_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="CONTACTS.EDITOR.COMPANY_PHONEBOOK_TITLE">Company Phonebook</div> <div class="panel-body"> <text-control prop="activeObject.FirstName" mc-title="CONTACTS.EDITOR.FIRST_NAME" placeholder="CONTACTS.EDITOR.FIRST_NAME"></text-control> <text-control prop="activeObject.LastName" mc-title="CONTACTS.EDITOR.LAST_NAME" placeholder="CONTACTS.EDITOR.LAST_NAME"></text-control> <text-control prop="activeObject.Company" mc-title="CONTACTS.EDITOR.COMPANY" placeholder="CONTACTS.EDITOR.COMPANY"></text-control> <text-control prop="activeObject.MobileNumber" mc-title="CONTACTS.EDITOR.MOBILE" placeholder="CONTACTS.EDITOR.MOBILE"></text-control> <text-control prop="activeObject.Mobile2" mc-title="CONTACTS.EDITOR.MOBILE2" placeholder="CONTACTS.EDITOR.MOBILE2"></text-control> <text-control prop="activeObject.Home" mc-title="CONTACTS.EDITOR.HOME" placeholder="CONTACTS.EDITOR.HOME"></text-control> <text-control prop="activeObject.Home2" mc-title="CONTACTS.EDITOR.HOME2" placeholder="CONTACTS.EDITOR.HOME2"></text-control> <text-control prop="activeObject.Business" mc-title="CONTACTS.EDITOR.BUSINESS" placeholder="CONTACTS.EDITOR.BUSINESS"></text-control> <text-control prop="activeObject.Business2" mc-title="CONTACTS.EDITOR.BUSINESS2" placeholder="CONTACTS.EDITOR.BUSINESS2"></text-control> <text-control prop="activeObject.Email" mc-title="CONTACTS.EDITOR.EMAIL_ADDRESS" placeholder="CONTACTS.EDITOR.EMAIL_ADDRESS" maxlength="254"></text-control> <text-control prop="activeObject.Other" mc-title="CONTACTS.EDITOR.OTHER" placeholder="CONTACTS.EDITOR.OTHER"></text-control> <text-control prop="activeObject.BusinessFax" mc-title="CONTACTS.EDITOR.BUSINESS_FAX" placeholder="CONTACTS.EDITOR.BUSINESS_FAX"></text-control> <text-control prop="activeObject.HomeFax" mc-title="CONTACTS.EDITOR.HOME_FAX" placeholder="CONTACTS.EDITOR.HOME_FAX"></text-control> <text-control prop="activeObject.Pager" mc-title="CONTACTS.EDITOR.PAGER" placeholder="CONTACTS.EDITOR.PAGER"></text-control> </div> </div> </div> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/contacts/dialogs/company_phonebook_import.html",
                ' <div id="companyPbonebookImport" class="modal fade" role="dialog"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title" translate="CONTACTS.IMPORT.SELECT_FILES_TO_UPLOAD">Select files to upload</h4> </div> <div class="modal-body"> <div class="form-group m-b"> <div class="input-group w-full"> <input ui-jq="filestyle" type="file" data-icon="false" data-classButton="btn btn-default" data-classInput="form-control"> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.UPLOAD_BTN" id="btnUpload">Upload</button> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </div> </div> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/contacts/dialogs/company_phonebook_options.html",
                ' <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="CONTACTS.DIALOGS.MATCHING.PHONEBOOK_OPTIONS_TITLE">Contact Options</h4> </div> <div class="modal-body"> <div class="form-group"> <strong translate="CONTACTS.DIALOGS.MATCHING.CONFIGURE_HOW_MATCH_CALLER_ID_TITLE">Match Caller ID\'s to a contact entry</strong> <div class="line line-dashed b-b line-lg"></div> </div> <radio-enum-control prop="activeObject.ResolvingType" name="ResolvingType"></radio-enum-control> <number-control prop="activeObject.ResolvingLength"></number-control> <div class="form-group m-b"> <strong translate="CONTACTS.DIALOGS.MATCHING.CONTROL_DISPLAY_CALLER_NAME_TITLE">Order Matching Caller Names</strong> <div class="line line-dashed b-b line-lg"></div> <radio-enum-control prop="activeObject.DisplayType" name="DisplayType" mc-title="CONTACTS.DIALOGS.MATCHING.CONFIGURE_HOW_DISPLAY_PHONEBOOK_ENTRIES_INFO"></radio-enum-control> </div> <div class="form-group m-b"> <strong translate="CONTACTS.DIALOGS.MATCHING.INBOUND_NAME_TO_CALLER_ID_TITLE">Add Group, Queue or DID/DDI Names to Caller ID</strong> <div class="line line-dashed b-b line-lg"></div> <radio-enum-control prop="activeObject.AddQueueName" name="AddQueueName"></radio-enum-control> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" ng-click="saveClick()">Save</button> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" ng-click="cancelClick()">Close</button> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/contacts/dialogs/exchange.html",
                ' <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="CONTACTS.DIALOGS.EXCHANGE.EXCHANGE_TITLE_SYNCH_CONTACTS"> Sync Microsoft 365 contacts to 3CX Phonebooks </h4> </div> <div class="modal-body" style="padding-bottom:0"> <p> <span translate="CONTACTS.DIALOGS.EXCHANGE.EXCHANGE_INFO"> This module allows you to sync contacts from Microsoft 365 to 3CX Company and Personal directories. User can view company and personal contacts from the webclient, or mobile 3CX Apps. </span> <a href="{{\'LINKS.EXCHANGE_SYCHRONIZE_CONTACTS_URL\' | translate}}" target="_blank" class="dashed_link"> <span translate="REPOS.TEXT.CLICK_HERE_MORE_INFO">Click here for more information.</span> </a> </p> <div> <div> <strong translate="CONTACTS.DIALOGS.EXCHANGE.EXCHANGE_OPTIONS">Exchange Options </strong> <div class="line line-dashed b-b line-lg"></div> </div> <text-control prop="activeObject.ExchangeURL" mc-title="CONTACTS.DIALOGS.EXCHANGE.OWA_LINK_MS_EXCHANGE_SERVER" maxlength="500" placeholder="CONTACTS.DIALOGS.EXCHANGE.OWA_LINK_MS_EXCHANGE_SERVER"></text-control> <text-control prop="activeObject.ExchangeUser" mc-title="CONTACTS.DIALOGS.EXCHANGE.IMPERSONATED_USER_ACCOUNT" placeholder="CONTACTS.DIALOGS.EXCHANGE.IMPERSONATED_USER_ACCOUNT" maxlength="255" information-link="LINKS.EXCHANGE_IMPERSONATED_USER_ACCOUNT"></text-control> <password-control prop="activeObject.ExchangePassword" maxlength="255" mc-title="CONTACTS.DIALOGS.EXCHANGE.USER_ACCOUNT_PASSWORD" placeholder="CONTACTS.DIALOGS.EXCHANGE.USER_ACCOUNT_PASSWORD"></password-control> <hr> <div class="m-t-md"> <strong translate="CONTACTS.DIALOGS.EXCHANGE.PUBLIC_CONTACTS"> Public Contacts to Company Phonebook </strong> <div class="line line-dashed b-b line-lg"></div> <p><span translate="CONTACTS.DIALOGS.EXCHANGE.PUBLIC_CONTACTS_INFO"> Configure which Public Folders you want to sync with the 3CX Company Phonebook. All current Microsoft 365 contacts will be imported and a nightly sync will import new ones and remove deleted ones. This is a one way sync, 3CX Phonebook will be updated with any changes to the Microsoft 365 Public folders, not vice versa. </span> </p> </div> <button type="button" ng-click="onExchangePublicFoldersClick()" class="btn btn-sm btn-success"> <span translate="REPOS.BUTTONS.SELECT_FOLDERS" id="btnAddFolder">Add Folder</span> </button> <div class="m-t-md"> <strong translate="CONTACTS.DIALOGS.EXCHANGE.PRIVATE_CONTACTS"> Private Contacts to Personal Phonebooks </strong> <div class="line line-dashed b-b line-lg"></div> <p> <span translate="CONTACTS.DIALOGS.EXCHANGE.PRIVATE_CONTACTS_INFO"> You can configure that Private Contacts of users are imported to 3CX Personal Phonebooks. All current Microsoft 365 contacts will be imported and a nightly sync will import new ones and remove deleted ones. Any changes made to the contacts in 3CX Personal Phonebook will be lost! Select All Users or individual users. </span> </p> </div> <set-control prop="activeObject.ExchangeEmailAddresses" mc-title="CONTACTS.DIALOGS.EXCHANGE.EMAILS_TITLE" button-title="CONTACTS.DIALOGS.EXCHANGE.ADD_EMAIL_BTN"> <set-control-email></set-control-email> </set-control> <checkbox-control prop="activeObject.ExchangeCalendarProfileSwitching" mc-title="CONTACTS.DIALOGS.EXCHANGE.EXCHANGE_STATUS" information-link="LINKS.EXCHANGE_CALENDAR_CONTACTS"></checkbox-control> </div> </div> <div class="modal-footer"> <button uib-tooltip="{{(activeObject.licenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}" type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-click="saveClick()">Upload </button> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" ng-click="cancelClick()">Close </button> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/contacts/dialogs/exchange_dirs.html",
                ' <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" ng-click="$close()">&times;</button> <h4 class="modal-title" translate="CONTACTS.DIALOGS.EXCHANGE.ADD_PUBLIC_FOLDERS"> Add Public Folders</h4> </div> <div class="modal-body"> <div class="form-group"> <div class="form-group"> <strong translate="CONTACTS.DIALOGS.EXCHANGE.SPECIFY_FOLDERS_TO_SYNC">Specify Public Folders to Synchronize (Example: FOLDER1/FOLDER2)</strong> <div class="line line-dashed b-b line-lg"></div> </div> <array-control prop="activeObject.ExchangeFolders"> <button type="button" ng-click="onAddClick()" ng-disabled="items.length > 5" class="btn btn-sm btn-success"> <i class="halflings halflings-plus"></i> <span translate="REPOS.BUTTONS.ADD_FOLDER_BTN" id="btnAddFolder">Add Folder</span> </button> <table class="table table-striped m-t-xs"> <tbody> <tr ng-repeat="item in items track by $index"> <td ng-click="itemForm.$show()" class="full-width-xeditor"> <form blur="submit" editable-form buttons="no" name="itemForm" shown="inserted == item" onaftersave="push()"> <span e-ng-keydown="keypress($event, itemForm)" editable-text="item._str" e-form="itemForm" style="width:100%" e-style="width:100%;"> {{item._str}} </span> <div class="errors"> <ul> <li ng-show="invalidFolderChars(item._str)"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.EXCHANGE_INVALID_FOLDER_CHARS"></span> </li> </ul> </div> </form> </td> <td style="width:50px"> <button type="button" mc-stop-event ng-click="onItemDeleteClick(item)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button></td> </tr> </tbody> </table> </array-control> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-click="$close(true)" ng-disabled="activeObject.ExchangeFolders.class==\'has-error\'">Ok </button> <button type="button" class="btn btn-default" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" ng-click="$close()">Cancel </button> </div> </div> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/contacts/dialogs/ldap.html",
                ' <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="CONTACTS.DIALOGS.LDAP.LDAP_TITLE">LDAP Server Integration</h4> </div> <div class="modal-body"> <div class="form-group"> <p> <span translate="CONTACTS.DIALOGS.LDAP.LDAP_INFO"></span> <a href="{{\'LINKS.LDAP_HELP_BTN\' | translate}}" target="_blank" class="dashed_link"> <span translate="REPOS.TEXT.CLICK_HERE_MORE_INFO"></span> </a> </p> <text-control prop="activeObject.LdapFQDN" mc-title="CONTACTS.DIALOGS.LDAP.LDAP_SERVER_FQDN" placeholder="CONTACTS.DIALOGS.LDAP.LDAP_SERVER_FQDN" maxlength="255"></text-control> <text-control prop="activeObject.LdapPort" mc-title="CONTACTS.DIALOGS.LDAP.LDAP_SERVER_PORT" placeholder="CONTACTS.DIALOGS.LDAP.LDAP_SERVER_PORT"></text-control> <text-control prop="activeObject.LdapUser" mc-title="CONTACTS.DIALOGS.LDAP.LDAP_USER" placeholder="CONTACTS.DIALOGS.LDAP.LDAP_USER" maxlength="255"></text-control> <password-control prop="activeObject.LdapPassword" mc-title="CONTACTS.DIALOGS.LDAP.LDAP_USER_PASSWORD" placeholder="CONTACTS.DIALOGS.LDAP.LDAP_USER_PASSWORD" maxlength="255"></password-control> <text-control prop="activeObject.LdapSearchBase" mc-title="CONTACTS.DIALOGS.LDAP.SEARCH_BASE" placeholder="CONTACTS.DIALOGS.LDAP.SEARCH_BASE" maxlength="255"></text-control> <text-control prop="activeObject.LdapTTL" mc-title="CONTACTS.DIALOGS.LDAP.TTL_IN_DAYS" placeholder="CONTACTS.DIALOGS.LDAP.TTL_IN_DAYS"></text-control> </div> </div> <div class="modal-footer"> <button uib-tooltip="{{(activeObject.licenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}" type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-click="saveClick()">OK</button> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" ng-click="cancelClick()">Close</button> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/contacts/dialogs/odbc.html",
                ' <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="CONTACTS.DIALOGS.ODBC.ODBC_TITLE">ODBC Integration</h4> </div> <div class="modal-body clear"> <p> <span translate="CONTACTS.DIALOGS.ODBC.ODBC_INFO"></span> <a href="{{\'LINKS.ODBC_HELP_BTN\' | translate}}" target="_blank" class="dashed_link"> <span translate="REPOS.TEXT.CLICK_HERE_MORE_INFO"></span> </a> </p> <text-control prop="activeObject.SQLDSNName" mc-title="CONTACTS.DIALOGS.ODBC.DNS_NAME" placeholder="CONTACTS.DIALOGS.ODBC.DNS_NAME" maxlength="255"></text-control> <text-control prop="activeObject.SQLQuery" maxlength="1000" mc-title="CONTACTS.DIALOGS.ODBC.QUERY_STRINGS" placeholder="CONTACTS.DIALOGS.ODBC.QUERY_STRINGS"></text-control> <text-control prop="activeObject.SQLTTL" mc-title="CONTACTS.DIALOGS.ODBC.TTL_IN_DAYS" placeholder="CONTACTS.DIALOGS.ODBC.TTL_IN_DAYS"></text-control> <div class="form-group"> <div class="col-sm-3">&nbsp;</div> <div class="col-sm-3"><label translate="CONTACTS.DIALOGS.ODBC.TBL_HEADING_DB_COLUMN_NUMBER">DB Column Number</label></div> <div class="col-sm-3">&nbsp;</div> <div class="col-sm-3"><label translate="CONTACTS.DIALOGS.ODBC.TBL_HEADING_DB_COLUMN_NUMBER">DB Column Number</label></div> </div> <div class="form-group"> <div class="col-sm-3" translate="CONTACTS.DIALOGS.ODBC.FIRST_NAME">First Name</div> <div class="col-sm-3"><text-control prop="activeObject.SQLColumnFirstName" placeholder="CONTACTS.DIALOGS.ODBC.FIRST_NAME"></text-control></div> <div class="col-sm-3" translate="CONTACTS.DIALOGS.ODBC.BUSINESS">Business</div> <div class="col-sm-3"><text-control prop="activeObject.SQLColumnBusiness" placeholder="CONTACTS.DIALOGS.ODBC.BUSINESS"></text-control></div> </div> <div class="form-group"> <div class="col-sm-3" translate="CONTACTS.DIALOGS.ODBC.LAST_NAME">Last Name</div> <div class="col-sm-3"><text-control prop="activeObject.SQLColumnLastName" placeholder="CONTACTS.DIALOGS.ODBC.LAST_NAME"></text-control></div> <div class="col-sm-3" translate="CONTACTS.DIALOGS.ODBC.BUSINESS2">Business 2</div> <div class="col-sm-3"><text-control prop="activeObject.SQLColumnBusiness2" placeholder="CONTACTS.DIALOGS.ODBC.BUSINESS2"></text-control></div> </div> <div class="form-group"> <div class="col-sm-3" translate="CONTACTS.DIALOGS.ODBC.MOBILE">Mobile</div> <div class="col-sm-3"><text-control prop="activeObject.SQLColumnMobile" placeholder="CONTACTS.DIALOGS.ODBC.MOBILE"></text-control></div> <div class="col-sm-3" translate="CONTACTS.DIALOGS.ODBC.EMAIL_ADDRESS">Email Address</div> <div class="col-sm-3"><text-control prop="activeObject.SQLColumnEMail" placeholder="CONTACTS.DIALOGS.ODBC.EMAIL_ADDRESS" maxlength="255"></text-control></div> </div> <div class="form-group"> <div class="col-sm-3" translate="CONTACTS.DIALOGS.ODBC.COMPANY">Company</div> <div class="col-sm-3"><text-control prop="activeObject.SQLColumnCompany" placeholder="CONTACTS.DIALOGS.ODBC.COMPANY"></text-control></div> <div class="col-sm-3" translate="CONTACTS.DIALOGS.ODBC.OTHER">Other</div> <div class="col-sm-3"><text-control prop="activeObject.SQLColumnOther" placeholder="CONTACTS.DIALOGS.ODBC.OTHER"></text-control></div> </div> <div class="form-group"> <div class="col-sm-3" translate="CONTACTS.DIALOGS.ODBC.MOBILE2">Mobile 2</div> <div class="col-sm-3"><text-control prop="activeObject.SQLColumnMobile2" placeholder="CONTACTS.DIALOGS.ODBC.MOBILE2"></text-control></div> <div class="col-sm-3" translate="CONTACTS.DIALOGS.ODBC.BUSINESS_FAX">Business Fax</div> <div class="col-sm-3"><text-control prop="activeObject.SQLColumnBusinessFax" placeholder="CONTACTS.DIALOGS.ODBC.BUSINESS_FAX"></text-control></div> </div> <div class="form-group"> <div class="col-sm-3" translate="CONTACTS.DIALOGS.ODBC.HOME">Home</div> <div class="col-sm-3"><text-control prop="activeObject.SQLColumnHome" placeholder="CONTACTS.DIALOGS.ODBC.HOME"></text-control></div> <div class="col-sm-3" translate="CONTACTS.DIALOGS.ODBC.HOME_FAX">Home Fax</div> <div class="col-sm-3"><text-control prop="activeObject.SQLColumnHomeFax" placeholder="CONTACTS.DIALOGS.ODBC.HOME_FAX"></text-control></div> </div> <div class="form-group"> <div class="col-sm-3" translate="CONTACTS.DIALOGS.ODBC.HOME2">Home 2</div> <div class="col-sm-3"><text-control prop="activeObject.SQLColumnHome2" placeholder="CONTACTS.DIALOGS.ODBC.HOME2"></text-control></div> <div class="col-sm-3" translate="CONTACTS.DIALOGS.ODBC.PAGER">Pager</div> <div class="col-sm-3"><text-control prop="activeObject.SQLColumnPager" placeholder="CONTACTS.DIALOGS.ODBC.PAGER"></text-control></div> </div> <label translate="CONTACTS.DIALOGS.ODBC.ODBC_NOTE">Note: Leave "DB Column Number" empty if not included in database structure</label> <checkbox-control prop="activeObject.SQLPrefer" mc-title="CONTACTS.DIALOGS.ODBC.PREFER_ODBC_OVER_LDAP"></checkbox-control> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" translate="CONTACTS.DIALOGS.ODBC.REMOVE_ALL_SQL_ODBC_ENTRIES_BTN" ng-click="onRemoveAllSQLEntriesClick()">Remove ALL SQL/ODBC Entries</button> <button uib-tooltip="{{(activeObject.licenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}" type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-click="saveClick()">OK</button> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" ng-click="cancelClick()">Close</button> </div> </div> '
              ),
          ]);
      let Om = (() => {
        class t {
          constructor(e) {
            this.$http = e;
          }
          Settings() {
            return this.$http.edit("api/PhoneBookEntryList/settings");
          }
          DirSearchSettings() {
            return this.$http.edit("api/PhoneBookEntryList/dirSearchSettings");
          }
          DeleteAll() {
            return this.$http.post("api/PhoneBookEntryList/deleteAll", {});
          }
          ODBCClearEntries() {
            return this.$http.postApi(
              "api/PhoneBookEntryList/odbcClearEntries",
              {}
            );
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("ContactSvc", Om),
        u.module("app").controller("ContactEditorCtrl", [
          "$scope",
          "$rootScope",
          "EditSvc",
          "MyUtilsSvc",
          function (t, c, e, n) {
            n.initEditController(t, e, "app.contacts").catch(() => u.noop());
          },
        ]);
      var St = w(4707),
        Lt = w(50457);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/contacts/contact-list.component.html",
            '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="CONTACTS.TITLE">Contacts</label> <help-button url="{{\'LINKS.CONTACTS_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="CONTACTS.TITLE">Contacts</div> <div class="panel-body" sticky-to-top> <button type="button" ng-click="$ctrl.list.onAddClick()" class="btn btn-sm btn-success btn-responsive" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"> <i class="halflings halflings-plus"></i> Add </button> <button type="button" ng-disabled="!$ctrl.select.isOneSelected" class="btn btn-sm btn-default btn-responsive" ng-click="$ctrl.onEditClick()" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"> <i class="halflings halflings-pencil"></i> Edit </button> <button type="button" ng-disabled="$ctrl.select.isNothingSelected" class="btn btn-sm btn-default btn-responsive" ng-click="$ctrl.onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i> Delete </button> <import-control mc-import-finished="$ctrl.refresh()" no-refresh="true" url="PhoneBookEntryList"></import-control> <export-control url="PhoneBookEntryList" search="$ctrl.search" select="$ctrl.select"></export-control> <button id="brnOptions" type="button" ng-click="$ctrl.onOptionsClick()" class="btn btn-sm btn-default btn-responsive"> <i class="halflings halflings-cog"></i> <span translate="EXTENSIONS.EDITOR.OPTIONS.OPTIONS_BTN"> Options</span> </button> <button id="btnExchange" mc-prof type="button" ng-click="$ctrl.onExchangeClick()" class="btn btn-sm btn-default btn-responsive" translate="CONTACTS.LIST_BUTTONS.EXCHANGE_BTN"> <i class="fa fa-database"></i> Exchange </button> <div class="btn-group dropdown btn-responsive"> <button type="button" class="btn btn-default btn-sm btn-responsive" data-toggle="dropdown" aria-expanded="false" id="btnOptionsDelete"> <span translate="REPOS.BUTTONS.BULK_DELETE"> <i class="halflings halflings-remove"></i> Bulk Delete </span> <span class="caret"></span> </button> <ul class="dropdown-menu"> <li> <a ng-click="$ctrl.onDeleteAllClick()" id="btnDeleteAll"> <span translate="REPOS.BUTTONS.DELETE_ALL_CONTACTS_BTN"> <i class="halflings halflings-remove"></i> Delete All </span> </a> </li> <li> <a ng-click="$ctrl.deleteContactsClick()" id="btnDeleteCrmContacts"> <span translate="REPOS.BUTTONS.DELETE_CONTACTS_CRM_BTN"> Delete CRM Contacts </span> </a> </li> <li> <a ng-click="$ctrl.deleteOfficeContactsClick()" id="btnDeleteOffice365Contacts"> <span translate="REPOS.BUTTONS.DELETE_CONTACTS_OFFICE365_BTN"> Delete CRM Contacts </span> </a> </li> </ul> </div> </div> <div st-table="$ctrl.displayedItems" st-pipe="$ctrl.loadData()"> <div class="b-t b-b wrapper-tbl"> <input ng-model="$ctrl.search" ng-model-options="{getterSetter: true}" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped table-fixed"> <thead> <tr> <th class="col-btn"> <label class="mc-select"> <input type="checkbox" ng-model="$ctrl.select.highlightIsAllSelected" ng-model-options="{getterSetter: true}"> <i></i> </label> </th> <th st-sort="FirstName" translate="CONTACTS.TBL_HEADING_CONTACTS_FIRST_NAME">First Name</th> <th st-sort="LastName" translate="CONTACTS.TBL_HEADING_CONTACTS_LAST_NAME">Last Name</th> <th st-sort="Company" translate="CONTACTS.TBL_HEADING_CONTACTS_COMPANYE">Company</th> <th st-sort="MobileNumber" translate="CONTACTS.TBL_HEADING_CONTACTS_MOBILE">Mobile</th> <th class="col-responsive" st-sort="Email" translate="CONTACTS.TBL_HEADING_CONTACTS_MAIL_ADDRESS">Email Address</th> <th class="col-responsive" st-sort="Home" translate="CONTACTS.TBL_HEADING_CONTACTS_HOME">Home</th> <th class="col-responsive" st-sort="Business" translate="CONTACTS.TBL_HEADING_CONTACTS_BUSINESS">Business</th> <th class="col-responsive" st-sort="BusinessFax" translate="CONTACTS.TBL_HEADING_CONTACTS_BUSINESS_FAX">Business Fax</th> <th class="col-responsive" st-sort="ContactType" translate="CONTACTS.TBL_HEADING_CONTACT_TYPE">Contact Type</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="item in $ctrl.displayedItems track by item.Id" ng-click="$ctrl.list.onItemEditClick(item)"> <td class="col-btn" mc-paged-select-row="item" mc-select="$ctrl.select"> </td> <td>{{$ctrl.list.limitLength(item.FirstName)}}</td> <td>{{$ctrl.list.limitLength(item.LastName)}}</td> <td>{{$ctrl.list.limitLength(item.Company)}}</td> <td>{{$ctrl.list.limitLength(item.MobileNumber)}}</td> <td class="col-responsive">{{$ctrl.list.limitLength(item.Email)}}</td> <td class="col-responsive">{{$ctrl.list.limitLength(item.Home)}}</td> <td class="col-responsive">{{$ctrl.list.limitLength(item.Business)}}</td> <td class="col-responsive">{{$ctrl.list.limitLength(item.BusinessFax)}}</td> <td class="col-responsive">{{$ctrl.list.limitLength(item.ContactType)}}</td> <td class="col-btn"><button type="button" mc-stop-event ng-click="$ctrl.onItemDeleteClick(item)" class="btn btn-xs btn-default"><i class="fa fa-times"></i></button></td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="$ctrl.list.itemsByPage" st-displayed-pages="7"></div> </div> </div> </div> </div> '
          ),
      ]);
      let Ma = (() => {
        class t {
          constructor(e, n, i, a, l, s = !1) {
            (this.$state = e),
              (this.messageBoxService = n),
              (this.service = i),
              (this.editorState = a),
              (this.editorBulkState = l),
              (this.confirmDeletion = s),
              (this.isRefreshTrunksRegistrationProhibited = !1),
              (this.isLicenceStandard = !1),
              (this.licenseRestricted = !1),
              (this.selected = void 0),
              (this.itemsByPage = 50),
              (this.items = []),
              (this.itemsLoaded = !1),
              (this.displayedItems = []),
              (this.isAnySelected = !1),
              (this.isOneSelected = !1),
              (this.isAllSelected = !1),
              (this.allowDelete = !1),
              (this.moveUpEnabled = !1),
              (this.moveDownEnabled = !1);
          }
          edit(e) {
            this.$state.go(this.editorState, e.data);
          }
          bulkEdit(e) {
            this.$state.go(this.editorBulkState, e.data);
          }
          limitLength(e) {
            return e.length > 22 ? e.substring(0, 20) + "..." : e;
          }
          selectionChanged() {
            const e = this.getSelectedItems();
            (this.isAnySelected = 0 != e.length),
              (this.isOneSelected = 1 === e.length),
              (this.isAllSelected = !1),
              (this.allowDelete = 0 != e.filter(ia).length),
              1 != e.length &&
                ((this.moveUpEnabled = !1), (this.moveDownEnabled = !1));
          }
          goToEditPage(e) {
            this.service
              .set(e)
              .then((n) => {
                this.edit(n);
              })
              .catch(() => u.noop());
          }
          goToBulkEditPage(e) {
            const n = e.map((i) => i.Id);
            this.service
              .setBulk(n)
              .then((i) => {
                this.bulkEdit(i);
              })
              .catch(() => u.noop());
          }
          setItems(e) {
            (this.items = e), (this.itemsLoaded = !0), this.selectionChanged();
          }
          onAddClick(e) {
            this.service
              .new(e)
              .then((n) => {
                this.edit(n);
              })
              .catch(() => u.noop());
          }
          onEditClick() {
            const e = this.getSelectedItems();
            1 === e.length
              ? ((this.selected = e[0]), this.goToEditPage(e[0].Id))
              : this.goToBulkEditPage(e);
          }
          getSelectedItems() {
            return this.items.filter((e) => e.isSelected);
          }
          clearSelection() {
            for (const e of this.items) e.isSelected = !1;
            this.selectionChanged();
          }
          deleteItems() {
            let e = this.getSelectedItems();
            e = e.filter(ia);
            const n = e.map(function (i) {
              return i.Id;
            });
            this.service
              .delByIds(n)
              .then(() => {
                this.clearSelection();
              })
              .catch(() => u.noop());
          }
          onDeleteClick() {
            this.confirmDeletion
              ? this.messageBoxService
                  .confirmDialog(
                    "REPOS.CONFIRMATION.HEADER",
                    this.getSelectedItems().length > 1
                      ? "REPOS.CONFIRMATION.TEXT_MANY"
                      : "REPOS.CONFIRMATION.TEXT"
                  )
                  .then(() => {
                    this.deleteItems();
                  })
                  .catch(() => u.noop())
              : this.deleteItems();
          }
          onItemEditClick(e) {
            (this.selected = e), this.goToEditPage(e.Id);
          }
          deleteItem(e) {
            this.service.delByIds([e.Id]).catch(() => u.noop());
          }
          onItemDeleteClick(e) {
            this.confirmDeletion
              ? this.messageBoxService
                  .confirmDialog()
                  .then(() => {
                    this.deleteItem(e);
                  })
                  .catch(() => u.noop())
              : this.deleteItem(e);
          }
          onMoveUpClick() {
            const e = Ht(this.items);
            e && this.service.up(e.Id).catch(() => u.noop());
          }
          onMoveDownClick() {
            const e = Ht(this.items);
            e && this.service.down(e.Id).catch(() => u.noop());
          }
        }
        return (t.$inject = ["$state", "MessageBoxSvc"]), t;
      })();
      class on {
        constructor() {
          (this._current = { IsAllSelected: !1, Ids: new Set() }),
            (this._highlightAllSelected = !1);
        }
        get current() {
          return this._current;
        }
        set current(c) {
          this._current = c;
        }
        get isOneSelected() {
          return !this.isAllSelected && 1 == this.current.Ids.size;
        }
        get isNothingSelected() {
          return !this.isAllSelected && 0 == this.current.Ids.size;
        }
        get isAllSelected() {
          return this.current.IsAllSelected;
        }
        get highlightIsAllSelected() {
          return this._highlightAllSelected;
        }
        set highlightIsAllSelected(c) {
          (this._current = { IsAllSelected: c, Ids: new Set() }),
            (this._highlightAllSelected = c);
        }
        isSelected(c) {
          const e = this.current.Ids.has(c);
          return this.isAllSelected != e;
        }
        select(c, e) {
          const n = this.current.Ids;
          e != (this.isAllSelected != n.has(c)) &&
            (e == this.isAllSelected
              ? (n.delete(c),
                0 === n.size &&
                  !this.isAllSelected &&
                  (this._highlightAllSelected = !1))
              : (n.add(c), (this._highlightAllSelected = !0)),
            (this._current = {
              Ids: n,
              IsAllSelected: this.current.IsAllSelected,
            }));
        }
        selectAllById(c) {
          (this._highlightAllSelected = !0),
            (this._current = {
              Ids: new Set([...this._current.Ids, ...c]),
              IsAllSelected: !1,
            });
        }
        toggleItemSelection(c, e) {
          const n = this.items || [];
          let i = n.indexOf(this.lastItemClicked);
          const a = !this.isSelected(c.Id);
          if (-1 != i && e) {
            let l = n.indexOf(c);
            if (-1 == l) return;
            i > l && ([i, l] = [l, i]);
            for (let s = i; s <= l; ++s) this.select(n[s].Id, a);
          } else this.select(c.Id, a);
          this.lastItemClicked = c;
        }
      }
      var Lm = w(97272),
        wa = w(78372),
        Dm = w(71884);
      const Wt = (t) => (c) =>
        (0, Lm.z)(
          c.pipe((0, Nt.q)(1)),
          c.pipe((0, wa.b)(null != t ? t : 300))
        ).pipe((0, Dm.x)());
      let Mm = (() => {
        class t {
          constructor(e, n, i, a, l, s, r, o) {
            (this.$http = n),
              (this.$window = i),
              (this.myUtilsService = a),
              (this.contactService = l),
              (this.messageBoxService = s),
              (this.crmService = r),
              (this.$timeout = o),
              (this.select = new on()),
              (this.stTableState$ = new St.t(1)),
              (this.search$ = new xt.X("")),
              (this.itemsByPage = 50),
              (this.contactsService = new ft("PhoneBookEntryList", void 0, n)),
              (this.list = new Ma(
                e,
                s,
                this.contactsService,
                "app.contact_editor",
                ""
              )),
              (this.loadDataImpl = (p) => {
                _t(), (this.stTableState = p), this.stTableState$.next(p);
              });
          }
          get search() {
            return this.search$.getValue();
          }
          set search(e) {
            this.search$.next(e);
          }
          onEditClick() {
            const e = Array.from(this.select.current.Ids)[0];
            void 0 !== e && this.list.goToEditPage(e);
          }
          onDeleteClick() {
            this.messageBoxService
              .confirmDialog()
              .then(() => {
                const e = this.$http.postApi("api/PhoneBookEntryList/delete", {
                  IsAllSelected: this.select.current.IsAllSelected,
                  Search: this.search,
                  Ids: Array.from(this.select.current.Ids),
                });
                return (this.select.highlightIsAllSelected = !1), e;
              })
              .then(() => this.refresh())
              .catch(() => u.noop());
          }
          onItemDeleteClick(e) {
            this.messageBoxService
              .confirmDialog()
              .then(() => {
                const n = this.$http.postApi("api/PhoneBookEntryList/delete", {
                  IsAllSelected: !1,
                  Search: "",
                  Ids: [e.Id],
                });
                return (this.select.highlightIsAllSelected = !1), n;
              })
              .then(() => this.refresh())
              .catch(() => u.noop());
          }
          loadData() {
            return this.loadDataImpl;
          }
          $onInit() {
            this.searchSubscription = this.search$
              .pipe(
                Wt(),
                (0, it.w)((e) =>
                  this.stTableState$.pipe(
                    (0, it.w)(
                      (n, i) => (
                        0 === i && (n.pagination.start = 0),
                        (0, Lt.D)(
                          this.$http.getApi("api/PhoneBookEntryList", {
                            params: {
                              sortBy: n.sort.predicate,
                              reverse: n.sort.reverse,
                              from: n.pagination.start,
                              count: this.itemsByPage,
                              filter: e,
                            },
                          })
                        )
                      )
                    )
                  )
                )
              )
              .subscribe((e) => {
                this.$timeout(() => {
                  (this.displayedItems = e.data.list),
                    (this.select.items = this.displayedItems),
                    (this.stTableState.pagination.totalItemCount =
                      e.data.count),
                    (this.stTableState.pagination.numberOfPages = Math.ceil(
                      e.data.count / this.itemsByPage
                    ));
                });
              });
          }
          $onDestroy() {
            this.searchSubscription.unsubscribe();
          }
          onExportClick() {
            this.$window.location.assign("api/PhoneBookEntryList/export");
          }
          refresh() {
            (this.stTableState.pagination.start = 0),
              this.stTableState$.next(this.stTableState);
          }
          deleteContactsClick() {
            this.messageBoxService
              .confirmDialog(
                "REPOS.CONFIRMATION.HEADER",
                "REPOS.CONFIRMATION.DELETE_CRM_CONTACTS"
              )
              .then(() => this.crmService.deleteCrmContacts())
              .then(() => this.refresh())
              .catch(() => u.noop());
          }
          deleteOfficeContactsClick() {
            this.messageBoxService
              .confirmDialog(
                "REPOS.CONFIRMATION.HEADER",
                "REPOS.CONFIRMATION.DELETE_OFFICE365_CONTACTS"
              )
              .then(() =>
                this.$http.postApi("api/office365/deleteOffice365Contacts", {})
              )
              .then(() => this.refresh())
              .catch(() => u.noop());
          }
          onOptionsClick() {
            this.contactService
              .Settings()
              .then(
                (e) =>
                  this.myUtilsService.openModalEditor(
                    "js/app/contacts/dialogs/company_phonebook_options.html",
                    e
                  ).result
              )
              .then(() => this.refresh())
              .catch(() => u.noop());
          }
          onExchangeClick() {
            this.contactService
              .DirSearchSettings()
              .then(
                (e) =>
                  this.myUtilsService.openModalEditor(
                    "js/app/contacts/dialogs/exchange.html",
                    e,
                    "ExchangeSettingsCtrl"
                  ).result
              )
              .then(() => this.refresh())
              .catch(() => u.noop());
          }
          onDeleteAllClick() {
            this.messageBoxService
              .confirmDialog("REPOS.CONFIRMATION.HEADER", "CONTACTS.DELETE_ALL")
              .then(() => {
                const e = this.messageBoxService.openProgressDialog(
                  "REPOS.PROGRESS.DELETING",
                  "REPOS.PROGRESS.WAIT"
                );
                this.contactService.DeleteAll().then(
                  () => {
                    this.refresh(), e.close();
                  },
                  () => {
                    e.close();
                  }
                );
              })
              .catch(() => u.noop());
          }
        }
        return (
          (t.$inject = [
            "$state",
            "$http",
            "$window",
            "MyUtilsSvc",
            "ContactSvc",
            "MessageBoxSvc",
            "CrmSvc",
            "$timeout",
          ]),
          t
        );
      })();
      u
        .module("app")
        .component("contactCtrl", {
          controller: Mm,
          templateUrl: "js/app/contacts/contact-list.component.html",
        }),
        u.module("app").controller("OdbcModalEditCtrl", [
          "$scope",
          "EditSvc",
          "MyUtilsSvc",
          "ContactSvc",
          "response",
          function (t, c, e, n, i) {
            e.initModalEditController(t, c, i.data).catch(() => u.noop()),
              (t.onRemoveAllSQLEntriesClick = function () {
                n.ODBCClearEntries().catch(() => u.noop());
              });
          },
        ]),
        u.module("app").controller("ExchangeFoldersCtrl", [
          "$scope",
          "activeObject",
          function (t, c) {
            t.activeObject = c;
          },
        ]),
        u.module("app").controller("ExchangeSettingsCtrl", [
          "$scope",
          "$uibModal",
          "MyUtilsSvc",
          "EditSvc",
          "response",
          function (t, c, e, n, i) {
            e.initModalEditController(t, n, i.data).catch(() => u.noop()),
              (t.addExchangeFolder = function () {
                const a = t.activeObject.ExchangeFolders.value();
                t.activeObject.ExchangeFolders.value(a.concat([""]));
              }),
              (t.onExchangePublicFoldersClick = function () {
                const a = t.activeObject.ExchangeFolders.value();
                return c
                  .open({
                    size: "lg",
                    templateUrl: "js/app/contacts/dialogs/exchange_dirs.html",
                    controller: "ExchangeFoldersCtrl",
                    keyboard: !0,
                    backdrop: "static",
                    resolve: { activeObject: () => t.activeObject },
                  })
                  .result.then(
                    function (l) {
                      l || t.activeObject.ExchangeFolders.value(a);
                    },
                    function () {
                      t.activeObject.ExchangeFolders.value(a);
                    }
                  );
              });
          },
        ]),
        u.module("app").filter("contacts", [
          function () {
            return function (t, c) {
              if (!c.$ || "" == c.$.trim()) return t;
              const e = c.$.toLowerCase().split(/\s+/);
              return t.filter(function (n) {
                for (const i in e) {
                  let a = !1;
                  for (const l in n)
                    if (u.isString(n[l]) && n[l].toLowerCase().includes(e[i])) {
                      a = !0;
                      break;
                    }
                  if (!a) return !1;
                }
                return !0;
              });
            };
          },
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/call_flow_apps/call_flow_apps_list.html",
                '<div ng-controller="CallFlowCtrl"> <list-control api_url="CallFlowApps"> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="CALL_FLOW_APPS.TITLE">Call Flow Apps</label> <help-button url="{{\'LINKS.CALL_FLOW_APPS_GUIDE_LINK\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="LEFT_MENU.CALL_FLOW_APPS">Call Flow Apps</div> <div class="panel-body" sticky-to-top> <call-flow-import></call-flow-import> <button type="button" ng-disabled="!isAnySelected" class="btn btn-sm btn-default btn-responsive" ng-click="onMyDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"><i class="halflings halflings-remove"></i> Delete </button> <button type="button" ng-disabled="!isOneSelected" class="btn btn-sm btn-default btn-responsive" ng-click="showTemplate(getSelectedItems()[0])" id="btnShow" translate="REPOS.BUTTONS.SHOW_BTN"><i class="fa fa-eye"></i> Show </button> </div> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table st-set-filter="contacts" class="table table-striped table-fixed" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th class="col-ext"></th> <th class="col-ext" st-sort="ExtensionNumber" translate="REPOS.TEXT.EXTENSION">Extension</th> <th st-sort="ProjectName" translate="CALL_FLOW_APPS.TBL_HEADING_CALLFLOW_PROJECTNAME">Name </th> <th class="col-responsive" st-sort="ScriptName" translate="CALL_FLOW_APPS.TBL_HEADING_CALLFLOW_SCRIPTNAME">Name </th> <th class="col-responsive" st-sort="LastSuccess" translate="CALL_FLOW_APPS.TBL_HEADING_CALLFLOW_LASTSUCCESS">Last Success</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="item in displayedItems" ng-click="showTemplate(item)"> <td class="col-btn" mc-select-row="item"></td> <td class="col-ext"> <i ng-if="isSuccessful(item)" class="fa fa-circle green-color-text" uib-tooltip="{{getTranslation(item)}}"></i> <i ng-if="hasWarning(item)" class="fa fa-exclamation-triangle yellow-color-text" uib-tooltip="{{getTranslation(item)}}"></i> <i ng-if="hasError(item)" class="fa fa-circle red-color-text" uib-tooltip="{{getTranslation(item)}}"></i> <span ng-if="isCompiling(item)" style="color:#00f;font-size:12px"> {{getTranslation(item)}} </span> </td> <td class="col-ext">{{item.Number}}</td> <td>{{item.ProjectName}}</td> <td class="col-responsive">{{item.ScriptName}}</td> <td class="col-responsive">{{item.CompilationLastSuccess | mcDateFormat}}</td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="onMyItemDeleteClick(item)" class="btn btn-xs btn-default"><i class="fa fa-times"></i></button> </td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7" st-page-change="onPageSwitch(newPage)"></div> </div> </div> </div> </div> </list-control> </div> '
              ),
          ]);
      var Hm = w(23601);
      u.module("app").controller("CallFlowCtrl", [
        "$scope",
        "$http",
        "$uibModal",
        "MessageBoxSvc",
        "ChannelRSvc",
        "$translate",
        function (t, c, e, n, i, a) {
          (t.brunchSubscription$ = i
            .sendBranch(
              {
                subName: "subscribeCallFlow",
                unSubName: "unSubscribeCallFlow",
              },
              i.sub("SetCallFlowStatus").pipe(
                (0, Hm.e)(2e3),
                (0, We.U)(() => {
                  t.refreshList();
                })
              )
            )
            .subscribe()),
            t.$on("$destroy", function () {
              t.brunchSubscription$.unsubscribe();
            }),
            (t.showTemplate = (l) =>
              c
                .getApi(`api/callFlowApps/${l.Id}`)
                .then((s) => {
                  const r = s.data;
                  return e.open({
                    size: "lg",
                    backdrop: "static",
                    component: "showScriptModal",
                    resolve: { item: () => r },
                    keyboard: !0,
                  }).result;
                })
                .catch(() => u.noop())),
            (t.onMyDeleteClick = () => {
              const l = t.getSelectedItems();
              n.confirmDialog(
                "REPOS.CONFIRMATION.HEADER",
                l.length > 1
                  ? "REPOS.CONFIRMATION.TEXT_MANY"
                  : "REPOS.CONFIRMATION.TEXT"
              )
                .then(function () {
                  t.onDeleteClick();
                })
                .catch(() => u.noop());
            }),
            (t.onMyItemDeleteClick = (l) => {
              n.confirmDialog()
                .then(function () {
                  t.onItemDeleteClick(l);
                })
                .catch(() => u.noop());
            }),
            (t.hasError = (l) =>
              !l.IsRegistered ||
              !l.IsCallFlowServiceRunning ||
              (!l.CompilationSucceeded && l.InvalidScript)),
            (t.isCompiling = (l) =>
              l.IsRegistered &&
              l.IsCallFlowServiceRunning &&
              !l.CompilationResult &&
              !l.CompilationSucceeded &&
              !l.InvalidScript),
            (t.hasWarning = (l) =>
              l.IsRegistered &&
              l.IsCallFlowServiceRunning &&
              l.CompilationResult &&
              !l.CompilationSucceeded &&
              !l.InvalidScript),
            (t.isSuccessful = (l) =>
              l.IsRegistered &&
              l.IsCallFlowServiceRunning &&
              l.CompilationSucceeded &&
              !l.InvalidScript),
            (t.getTranslation = function (l) {
              return a.instant(
                l.IsCallFlowServiceRunning
                  ? l.IsRegistered
                    ? l.CompilationResult ||
                      l.CompilationSucceeded ||
                      l.InvalidScript
                      ? l.CompilationSucceeded || l.InvalidScript
                        ? !l.CompilationSucceeded && l.InvalidScript
                          ? "CALL_FLOW_APPS.COMPILATION_ERROR_ON_LOADING"
                          : "CALL_FLOW_APPS.CFD_APP_IS_FUNCTIONAL"
                        : "CALL_FLOW_APPS.COMPILATION_ERROR_ON_UPDATE"
                      : "CALL_FLOW_APPS.CFD_APP_IS_LOADING"
                    : "CALL_FLOW_APPS.CFD_APP_NOT_REGISTERED"
                  : "CALL_FLOW_APPS.CALLFLOW_SERVICE_NOT_RUNNING"
              );
            });
        },
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/call_flow_apps/call-flow-import.component.html",
            '<input id="fileInput" name="fileInput" type="file" class="hide" accept=".zip"> <button type="button" ng-click="$ctrl.onAddClick()" class="btn btn-sm btn-success btn-responsive" translate="CALL_FLOW_APPS.BUTTONS.ADD" id="btnAdd"> <i class="halflings halflings-plus"></i> Add/Update </button> '
          ),
      ]);
      let Um = (() => {
        class t {
          constructor(e, n) {
            (this.fileInput = e.find("input[type=file]")[0]),
              z()(this.fileInput).change(() => {
                const i = new FormData();
                i.append("fileInput", this.fileInput.files[0]),
                  n
                    .postFormData("api/CallFlowApps", i)
                    .then(() => {
                      this.onUpload();
                    })
                    .catch(() => u.noop());
              });
          }
          onAddClick() {
            setTimeout(() => {
              z()(this.fileInput).val(""), z()(this.fileInput).trigger("click");
            });
          }
        }
        return (t.$inject = ["$element", "$http"]), t;
      })();
      u.module("app").component("callFlowImport", {
        templateUrl: "js/app/call_flow_apps/call-flow-import.component.html",
        bindings: { onUpload: "&" },
        controller: Um,
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/call_flow_apps/show-script-modal.component.html",
            '<div class="modal-header"> <button type="button" class="close" ng-click="$ctrl.close()">&times;</button> <h4 class="modal-title">{{$ctrl.item.Number}}</h4> </div> <div class="modal-body" ui-ace-lazy-load=""> <div ng-show="$ctrl.HasCompilationErrorOnValidScript()"> <div ui-ace="{mode: \'csharp\', onLoad: aceLoaded, showPrintMargin: false}" mc-ace-suppess-warning="" ng-model="$ctrl.item.RejectedCode"></div> </div> <div ng-show="!$ctrl.HasCompilationErrorOnValidScript()"> <div ui-ace="{mode: \'csharp\', onLoad: aceLoaded, showPrintMargin: false}" mc-ace-suppess-warning="" ng-model="$ctrl.item.ScriptCode"></div> </div> <pre style="min-height:100px;height:auto;max-height:200px" ng-if="!$ctrl.item.CompilationSucceeded" class="m-t-xs alert-danger">\r\n        {{$ctrl.item.CompilationResult}}\r\n    </pre> <pre ng-if="$ctrl.item.CompilationSucceeded" class="m-t-xs alert-info" translate="CALL_FLOW_APPS.COMPILATION_SUCCEEDED">Compilation Succeeded</pre> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-disabled="!$ctrl.item.IsCallFlowServiceRunning" ng-click="$ctrl.save()" translate="REPOS.BUTTONS.SAVE_CONTENT_BTN" id="btnSave">OK</button> <button type="button" class="btn btn-default" ng-click="$ctrl.close()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel</button> </div> '
          ),
      ]);
      let Bm = (() => {
        class t {
          constructor(e) {
            this.$http = e;
          }
          save() {
            this.$http
              .postApi(
                `api/callFlowApps/${this.item.Id}`,
                this.HasCompilationErrorOnValidScript()
                  ? this.item.RejectedCode
                  : this.item.ScriptCode,
                { headers: { "Content-Type": "text/plain" } }
              )
              .then(() => {
                this.close();
              })
              .catch(() => u.noop());
          }
          HasCompilationErrorOnValidScript() {
            return !this.item.CompilationSucceeded && !this.item.InvalidScript;
          }
          $onInit() {
            this.item = this.resolve.item;
          }
          $postLink() {
            this.item = this.resolve.item;
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u
        .module("app")
        .component("showScriptModal", {
          templateUrl: "js/app/call_flow_apps/show-script-modal.component.html",
          bindings: { resolve: "<", close: "&", dismiss: "&" },
          controller: Bm,
        }),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/hotdesking/hotdesking_editor.html",
                '<div ng-controller="HotdeskingEditorCtrl"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3"> <span> {{::activeObject.Number.value()}} </span> </label> <button uib-tooltip="{{(activeObject.licenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}" class="btn m-l-lg m-b-xs w-xs btn-success" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button">Save</button> <button class="btn m-b-xs w-xs btn-dark" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button">Cancel</button> <help-button url="{{\'LINKS.HOTDESKING_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <panel mc-title="EXTENSIONS.EDITOR.GENERAL.USERINFO"> <form class="bs-example ng-pristine ng-valid"> <text-control prop="activeObject.Number" mc-title="EXTENSIONS.EDITOR.GENERAL.EXT_NUMBER" placeholder="EXTENSIONS.EDITOR.GENERAL.EXT_NUMBER"></text-control> </form> </panel> <panel mc-title="EXTENSIONS.EDITOR.GENERAL.AUTH_HEADER"> <p class="m-b" translate="EXTENSIONS.EDITOR.GENERAL.AUTH_TITLE">Authentication details used by phones & client. Reprovision after a change.</p> <text-control prop="activeObject.AuthId" mc-title="EXTENSIONS.EDITOR.GENERAL.AUTH_ID" placeholder="EXTENSIONS.EDITOR.GENERAL.AUTH_ID"></text-control> <password-control prop="activeObject.AuthPassword" mc-title="EXTENSIONS.EDITOR.GENERAL.AUTH_PASS" placeholder="EXTENSIONS.EDITOR.GENERAL.AUTH_PASS"></password-control> </panel> <phone-device active-object="activeObject.PhoneDevices._value[0]"></phone-device> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/hotdesking/hotdesking_list.html",
                '<div ng-controller="HotdeskingListCtrl"> <list-control api_url="HotdeskingList" editor_state="app.hotdesking_editor" confirm-deletion> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="HOTDESKING.TITLE">Hotdesking</label> <help-button url="{{\'LINKS.HOTDESKING_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="HOTDESKING.TITLE"> Hotdesking </div> <div class="panel-body" sticky-to-top> <button type="button" ng-click="AddClick()" class="btn btn-sm btn-success btn-responsive" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"> <i class="halflings halflings-plus"></i> Add </button> <button type="button" ng-disabled="!isOneSelected" class="btn btn-sm btn-default btn-responsive" ng-click="onEditClick()" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"> <i class="halflings halflings-pencil"></i> Edit </button> <button type="button" ng-disabled="!isAnySelected" class="btn btn-sm btn-default btn-responsive" ng-click="onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i> Delete </button> <button type="button" ng-disabled="!isAnySelected" class="btn btn-sm btn-default btn-responsive" ng-click="onLogoutClick()" translate="HOTDESKING.LOGOUT_BTN" id="btnLogout"> <i class="halflings halflings-remove"></i> Logout </button> </div> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table id="hotdeskingTable" class="table table-striped table-fixed" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th class="col-ext" translate="REPOS.TEXT.EXTENSION">Extension</th> <th translate="HOTDESKING.TBL_HEADING_DEVICE">Device</th> <th translate="HOTDESKING.TBL_HEADING_MAC">MAC Address</th> <th class="col-responsive" translate="HOTDESKING.TBL_HEADING_STATUS">Status</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="item in displayedItems track by item.Id" ng-click="onItemEditClick(item)"> <td class="col-btn" mc-select-row="item"></td> <td class="col-ext">{{item.MyNumber}}</td> <td>{{item.Device}}</td> <td>{{item.Mac}}</td> <td class="col-responsive"> <span ng-show="item.Number === \'\'" translate="HOTDESKING.AVALIABLE_PHONE"></span> <div ng-hide="item.Number === \'\'"> <span translate="HOTDESKING.LOGGED_IN"></span> {{item.Number}} ({{item.Name}}) </div> </td> <td class="col-btn"><button type="button" mc-stop-event ng-click="onItemDeleteClick(item)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button></td> </tr> </tbody> </table> </div> </div> </div> </div> </list-control> </div> '
              ),
          ]);
      let Ym = (() => {
        class t extends ft {
          constructor(e, n) {
            super("HotdeskingList", void 0, e), (this.PhoneTemplatesSvc = n);
          }
          getModels() {
            return this.$http
              .getApi("api/HotdeskingList/getModels")
              .then((e) => this.PhoneTemplatesSvc.parsePhoneModels(e.data));
          }
          newExtension(e, n) {
            return this.$http.postApi("api/HotdeskingList/new", {
              model: e,
              mac: n,
            });
          }
          logout(e) {
            return this.$http.postApi("api/HotdeskingList/logout", e);
          }
        }
        return (t.$inject = ["$http", "PhoneTemplatesSvc"]), t;
      })();
      u.module("app").service("HotdeskingSvc", Ym),
        u.module("app").controller("HotdeskingListCtrl", [
          "$scope",
          "$state",
          "MyUtilsSvc",
          "HotdeskingSvc",
          "MessageBoxSvc",
          "$uibModal",
          function (t, c, e, n, i, a) {
            function s(o) {
              (t.items = o.data.list), (t.displayedItems = [].concat(t.items));
            }
            function r(o) {
              const p = u.extend(o.data);
              c.go("app.hotdesking_editor", p);
            }
            (t.AddClick = function () {
              n.getModels()
                .then(function (o) {
                  a.open({
                    size: "lg",
                    backdrop: "static",
                    templateUrl:
                      "js/app/extensions/tpl/dialogs/new_phone_device.html",
                    keyboard: !0,
                    controller: "HotdeskingNewPhoneDeviceCtrl",
                    resolve: { data: () => o },
                  }).result.then(r);
                })
                .catch(() => u.noop());
            }),
              (t.onLogoutClick = function () {
                const o = (function l() {
                  return e.getAllSelected(t.displayedItems);
                })().map(function (p) {
                  return p.Id;
                });
                n.logout(o)
                  .then(s)
                  .catch(() => u.noop());
              });
          },
        ]),
        u.module("app").controller("HotdeskingNewPhoneDeviceCtrl", [
          "$scope",
          "$translate",
          "HotdeskingSvc",
          "data",
          function (t, c, e, n) {
            (t.templates = n), (t.templatesLoaded = !0);
            const i = n.find((a) => !a.disabled);
            (t.activeObject = {
              Model: { value: i ? i.label : "" },
              MacAddress: { value: "" },
            }),
              (t.saveProxy = function () {
                if ("" == t.activeObject.MacAddress.value.toLowerCase())
                  return (
                    (t.activeObject.MacAddress.class = "has-error"),
                    void (t.activeObject.MacAddress.errorMsg = c.instant(
                      "WARNINGS.STRING_PROPERTY_INVALID_MAC_ADDRESS"
                    ))
                  );
                e.newExtension(
                  t.activeObject.Model.value,
                  t.activeObject.MacAddress.value
                ).then(
                  function (l) {
                    t.$close(l);
                  },
                  function (l) {
                    (t.activeObject.MacAddress.class = "has-error"),
                      (t.activeObject.MacAddress.errorMsg = l.data.Message);
                  }
                );
              }),
              (t.cancelClick = function () {
                t.$dismiss();
              });
          },
        ]),
        u.module("app").controller("HotdeskingEditorCtrl", [
          "$scope",
          "$stateParams",
          "MyUtilsSvc",
          "EditSvc",
          function (t, c, e, n) {
            (t.Id = c.Id),
              e
                .initEditController(t, n, "app.hotdesking")
                .catch(() => u.noop());
          },
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/emergency_numbers/emergency_numbers_new.html",
                '<div class="modal-header"> <button type="button" class="close" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="SETTINGS.PBX.DIALOGS.ADD.TITLE" ng-if="activeObject.IsNew">New Fax Extension</h4> <h4 class="modal-title" translate="SETTINGS.PBX.DIALOGS.ADD.TITLE" ng-if="!activeObject.IsNew">Edit Fax</h4> </div> <div class="modal-body"> <label translate="SETTINGS.PBX.DIALOGS.ADD.CREATE_EMERGENCY_NUMBER_MSG">When this number is dialed, the callw ill be passed on to the telco irrespective of In or Out of Office times.</label> <text-control prop="activeObject.Name" mc-title="SETTINGS.PBX.DIALOGS.ADD.NAME" placeholder="SETTINGS.PBX.DIALOGS.ADD.NAME"></text-control> <div class="form-group m-b"> <text-control prop="activeObject.Prefix" mc-title="SETTINGS.PBX.DIALOGS.ADD.NUMBER" placeholder="SETTINGS.PBX.DIALOGS.ADD.NUMBER"></text-control> </div> <text-control prop="activeObject.DnRanges" mc-title="OUTBOUND_RULES.EDITOR.CALLS_FROM_EXTENSION" placeholder="OUTBOUND_RULES.EDITOR.CALLS_FROM_EXTENSION" maxlength="255"></text-control> <div class="form-group"> <label translate="OUTBOUND_RULES.EDITOR.CALLS_FROM_EXTENSION_GROUP">Calls from extension group(s)</label> <set-control prop="activeObject.FromGroups" mc-title="OUTBOUND_RULES.EDITOR.SELECT_GROUPS" button-title="REPOS.BUTTONS.OK_BTN"> <set-control-groups></set-control-groups> </set-control> </div> <div class="form-group"> <div class="row row-mb"> <div class="col-sm-3"> <label>{{\'REPOS.TEXT.ROUTE\' | translate : {param: 1} }}</label> <select-control prop="activeObject.Route1Destination" display="Name"></select-control> </div> <div class="col-sm-3"> <label>{{\'OUTBOUND_RULES.EDITOR.TBL_HEADING_STRIP_DIGITS\' | translate}}</label> <select-control prop="activeObject.Route1StripDigits" options="stripDigitsPossibleValues"></select-control> </div> <div class="col-sm-3"> <label>{{\'OUTBOUND_RULES.EDITOR.TBL_HEADING_PREPEND\' | translate}}</label> <text-control prop="activeObject.Route1Prepends"></text-control> </div> <div class="col-sm-3"> <label>{{\'OUTBOUND_RULES.EDITOR.OUTBOUND_CALLER_ID_OPTIONAL\'| translate }}</label> <text-control prop="activeObject.Route1CallerID"></text-control> </div> </div> <div class="row row-mb"> <div class="col-sm-3"> <label>{{\'REPOS.TEXT.ROUTE\' | translate : {param: 2} }}</label> <select-control prop="activeObject.Route2Destination" display="Name"></select-control> </div> <div class="col-sm-3"> <label>{{\'OUTBOUND_RULES.EDITOR.TBL_HEADING_STRIP_DIGITS\' | translate}}</label> <select-control prop="activeObject.Route2StripDigits" options="stripDigitsPossibleValues"></select-control> </div> <div class="col-sm-3"> <label>{{\'OUTBOUND_RULES.EDITOR.TBL_HEADING_PREPEND\' | translate}}</label> <text-control prop="activeObject.Route2Prepends"></text-control> </div> <div class="col-sm-3"> <label>{{\'OUTBOUND_RULES.EDITOR.OUTBOUND_CALLER_ID_OPTIONAL\'| translate }}</label> <text-control prop="activeObject.Route2CallerID"></text-control> </div> </div> <div class="row row-mb"> <div class="col-sm-3"> <label>{{\'REPOS.TEXT.ROUTE\' | translate : {param: 3} }}</label> <select-control prop="activeObject.Route3Destination" display="Name"></select-control> </div> <div class="col-sm-3"> <label>{{\'OUTBOUND_RULES.EDITOR.TBL_HEADING_STRIP_DIGITS\' | translate}}</label> <select-control prop="activeObject.Route3StripDigits" options="stripDigitsPossibleValues"></select-control> </div> <div class="col-sm-3"> <label>{{\'OUTBOUND_RULES.EDITOR.TBL_HEADING_PREPEND\' | translate}}</label> <text-control prop="activeObject.Route3Prepends"></text-control> </div> <div class="col-sm-3"> <label>{{\'OUTBOUND_RULES.EDITOR.OUTBOUND_CALLER_ID_OPTIONAL\'| translate }}</label> <text-control prop="activeObject.Route3CallerID"></text-control> </div> </div> <div class="row row-mb"> <div class="col-sm-3"> <label>{{\'REPOS.TEXT.ROUTE\' | translate : {param: 4} }}</label> <select-control prop="activeObject.Route4Destination" display="Name"></select-control> </div> <div class="col-sm-3"> <label>{{\'OUTBOUND_RULES.EDITOR.TBL_HEADING_STRIP_DIGITS\' | translate}}</label> <select-control prop="activeObject.Route4StripDigits" options="stripDigitsPossibleValues"></select-control> </div> <div class="col-sm-3"> <label>{{\'OUTBOUND_RULES.EDITOR.TBL_HEADING_PREPEND\' | translate}}</label> <text-control prop="activeObject.Route4Prepends"></text-control> </div> <div class="col-sm-3"> <label>{{\'OUTBOUND_RULES.EDITOR.OUTBOUND_CALLER_ID_OPTIONAL\'| translate }}</label> <text-control prop="activeObject.Route4CallerID"></text-control> </div> </div> <div class="row row-mb"> <div class="col-sm-3"> <label>{{\'REPOS.TEXT.ROUTE\' | translate : {param: 5} }}</label> <select-control prop="activeObject.Route5Destination" display="Name"></select-control> </div> <div class="col-sm-3"> <label>{{\'OUTBOUND_RULES.EDITOR.TBL_HEADING_STRIP_DIGITS\' | translate}}</label> <select-control prop="activeObject.Route5StripDigits" options="stripDigitsPossibleValues"></select-control> </div> <div class="col-sm-3"> <label>{{\'OUTBOUND_RULES.EDITOR.TBL_HEADING_PREPEND\' | translate}}</label> <text-control prop="activeObject.Route5Prepends"></text-control> </div> <div class="col-sm-3"> <label>{{\'OUTBOUND_RULES.EDITOR.OUTBOUND_CALLER_ID_OPTIONAL\'| translate }}</label> <text-control prop="activeObject.Route5CallerID"></text-control> </div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-primary" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave"> Save </button> <button type="button" class="btn btn-default" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel"> Cancel </button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/emergency_numbers/emergency_rule_list.html",
                '<div class="panel panel-default" ng-controller="EmergencyRulesCtrl"> <div class="panel-heading" translate="SETTINGS.PBX.EMERGENCY_NUMBERS"> Emergency numbers </div> <div class="panel-body"> <div><label translate="SETTINGS.PBX.EMERGENCY_NUMBERS_INFO">When dialled, this number will ignore outbound in office or out of office rules</label></div> <button type="button" ng-click="onAddClick({\'Type\' : \'emergency\'})" class="btn btn-sm btn-success" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"> <i class="halflings halflings-plus"></i> Add </button> <button type="button" ng-disabled="!isOneSelected" class="btn btn-sm btn-default" ng-click="onEditClick()" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"> <i class="halflings halflings-pencil"></i> Edit </button> <button type="button" ng-disabled="!isAnySelected" class="btn btn-sm btn-default" ng-click="onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i> Delete </button> <button type="button" class="btn btn-sm btn-default" ng-click="onMoveUpClick()" ng-disabled="!moveUpEnabled" translate="REPOS.BUTTONS.MOVE_UP_BTN" id="btnMoveUp"> <i class="fa fa-level-up"></i> Move Up </button> <button type="button" class="btn btn-sm btn-default" ng-click="onMoveDownClick()" ng-disabled="!moveDownEnabled" translate="REPOS.BUTTONS.MOVE_DOWN_BTN" id="btnMoveDown"> <i class="fa fa-level-down"></i> Move Down </button> <button type="button" class="btn btn-sm btn-default" ng-click="CustomizeEmailTemplate(\'MAILTEMPLATE_EMERGENCYCALL_\')" translate="REPOS.BUTTONS.TEMPLATE_BTN" id="templateBtn">Template</button> <button type="button" class="btn btn-sm btn-default" ng-click="OpenNotification()" translate="REPOS.BUTTONS.NOTIFICATION_BTN" id="notificationBtn">Template</button> </div> <div st-table="displayedItems" st-safe-src="items"> <table class="table table-striped" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th translate="SETTINGS.PBX.TBL_HEADING_NAME">Outbound Rule Name</th> <th translate="SETTINGS.PBX.TBL_HEADING_NUMBER">Prefix</th> <th>{{\'REPOS.TEXT.ROUTE\' | translate : {param: \'1\'} }}</th> <th class="col-responsive">{{\'REPOS.TEXT.ROUTE\' | translate : {param: \'2\'} }}</th> <th class="col-responsive">{{\'REPOS.TEXT.ROUTE\' | translate : {param: \'3\'} }}</th> <th class="col-responsive">{{\'REPOS.TEXT.ROUTE\' | translate : {param: \'4\'} }}</th> <th class="col-responsive">{{\'REPOS.TEXT.ROUTE\' | translate : {param: \'5\'} }}</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-click="onItemEditClick(item)" ng-repeat="item in displayedItems"> <td class="col-btn" mc-select-row="item"> </td> <td>{{item.DisplayName}}</td> <td>{{item.Prefix}}</td> <td> {{item.Route1}} <p ng-if="!item.Route1" translate="OUTBOUND_RULES.BLOCK_CALLS"></p> </td> <td class="col-responsive"> {{item.Route2}} <p ng-if="!item.Route2" translate="OUTBOUND_RULES.BLOCK_CALLS"></p> </td> <td class="col-responsive"> {{item.Route3}} <p ng-if="!item.Route3" translate="OUTBOUND_RULES.BLOCK_CALLS"></p> </td> <td class="col-responsive"> {{item.Route4}} <p ng-if="!item.Route4" translate="OUTBOUND_RULES.BLOCK_CALLS"></p> </td> <td class="col-responsive"> {{item.Route5}} <p ng-if="!item.Route5" translate="OUTBOUND_RULES.BLOCK_CALLS"></p> </td> <td class="col-btn"><button type="button" mc-stop-event ng-click="onItemDeleteClick(item)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button></td> </tr> </tbody> </table> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/emergency_numbers/dialogs/emergency_email_template_modal.html",
                '<div class="modal-content"> <div class="modal-header"> <div class="bs-example ng-pristine ng-valid"> <button type="button" class="close" data-dismiss="modal" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="SETTINGS.CONFERENCING.EDIT_TEMPLATE">Edit Template</h4> </div> </div> <div class="modal-body"> <div class="form-group" ui-ace-lazy-load> <text-control-design mc-title="{{fromTitle}}" prop="template.From"></text-control-design> <text-control-design mc-title="{{subjectTitle}}" prop="template.Subject" maxlength="255"></text-control-design> <div class="form-group"> <label translate="SETTINGS.EMAIL.EMAIL_TEMPLATES.BODY"></label> <div ui-ace="{mode: \'html\', onLoad: aceLoaded, showPrintMargin: false}" mc-ace-suppress-warning ng-model="template.Body" style="height:500px"></div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" ng-click="saveAndClose()">Save </button> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" ng-click="$dismiss()">Close </button> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/emergency_numbers/dialogs/emergency_notifications.html",
                ' <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="SETTINGS.PBX.DIALOGS.NOTIFICATIONS.TITLE">Notifications</h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="SETTINGS.PBX.DIALOGS.NOTIFICATIONS.INFO"></label> </div> <div class="form-group"> <checkbox-control mc-title="SETTINGS.PBX.DIALOGS.NOTIFICATIONS.SEND_EMAIL_SPECIFIC_EMAILS" prop="activeObject.SendSpecifiedList"></checkbox-control> <text-control prop="activeObject.SpecifiedList" maxlength="255"></text-control> </div> <div class="form-group"> <checkbox-control mc-title="SETTINGS.PBX.DIALOGS.NOTIFICATIONS.SEND_CHAT_NOTIFICATION_TO" prop="activeObject.SendChatRecipients"></checkbox-control> <select class="form-control" ng-model="activeObject.ChatRecipients.value" ng-model-options="{getterSetter: true}" ng-disabled="activeObject.ChatRecipients.disabled"> <option value="TypeOfChatRecipients.MyGroupManagers" translate="enum.TypeOfChatRecipients.MyGroupManagers"></option> <option value="TypeOfChatRecipients.MyGroupAllMembers" translate="enum.TypeOfChatRecipients.MyGroupAllMembers"></option> <option value="TypeOfChatRecipients.AllGroupsManagers" translate="enum.TypeOfChatRecipients.AllGroupsManagers"></option> </select> <div class="errors" ng-if="activeObject.ChatRecipients.errorMsg"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> {{activeObject.ChatRecipients.errorMsg}} </li> </ul> </div> <div class="information ng-scope" aria-hidden="false" style="" ng-hide="!activeObject.SendChatRecipients._value"> <ul> <li class="ng-binding"><span class="fa fa-info-circle" style="color:#004085"></span> {{\'WARNINGS.EMERGENCY_CHAT_NOTE_FOR_GENERAL_CHAT_OPTION\' | translate}} </li> </ul> </div> </div> <div class="form-group"> <checkbox-control mc-title="SETTINGS.PBX.DIALOGS.NOTIFICATIONS.PLAY_ANNOUNCEMENT" prop="activeObject.PlayAnnouncement"></checkbox-control> <select-control prop="activeObject.EmergencyDestinationPrompt"></select-control> <select-file-media-control prop="activeObject.EmergencyPlayPrompt" mc-title="REPOS.TEXT.PROMPT_FORMAT_WAV"></select-file-media-control> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-click="saveClick()">Save </button> <button type="button" class="btn btn-default" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" ng-click="cancelClick()">Close </button> </div> </div> '
              ),
          ]),
        u.module("app").controller("EmergencyRulesCtrl", [
          "$scope",
          "$http",
          "MyUtilsSvc",
          "$uibModal",
          function (t, c, e, n) {
            function i() {
              c.getApi("api/OutboundRuleList/getEmergencyList")
                .then(function (l) {
                  t.setItems(l.data.list);
                })
                .catch(() => u.noop());
            }
            (t.CustomizeEmailTemplate = function (l) {
              return n.open({
                size: "lg",
                backdrop: "static",
                templateUrl:
                  "js/app/emergency_numbers/dialogs/emergency_email_template_modal.html",
                controller: "EmergencyEmailTemplateEditCtrl",
                keyboard: !0,
                resolve: { templateName: () => l },
              });
            }),
              (t.OpenNotification = function () {
                c.edit("api/OutboundRuleList/emergency_notifications")
                  .then(function (l) {
                    e.openModalEditor(
                      "js/app/emergency_numbers/dialogs/emergency_notifications.html",
                      l,
                      "EmergencyNotificationsDialogCtrl"
                    );
                  })
                  .catch(() => u.noop());
              });
            const a = e.BaseCollectionServiceMethods("OutboundRuleList");
            e.initCollectionController(t, a, {
              edit(l) {
                e.openModalEditor(
                  "js/app/emergency_numbers/emergency_numbers_new.html",
                  l,
                  "EmergencyNewModalEditCtrl"
                )
                  .result.then(function () {
                    i();
                  })
                  .catch(() => u.noop());
              },
              refresh: i,
            }),
              i();
          },
        ]),
        u.module("app").controller("EmergencyNewModalEditCtrl", [
          "$scope",
          "$http",
          "$uibModal",
          "EditSvc",
          "MyUtilsSvc",
          "response",
          function (t, c, e, n, i, a) {
            i.initModalEditController(t, n, a.data).catch(() => u.noop()),
              (t.stripDigitsPossibleValues = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]),
              (t.emergencyNumberChanged = function () {
                t.activeObject.Route1StripDigits.value(
                  t.activeObject.Prefix._value.length
                );
              });
          },
        ]),
        u.module("app").controller("EmergencyEmailTemplateEditCtrl", [
          "$scope",
          "$http",
          "$translate",
          "templateName",
          function (t, c, e, n) {
            (t.template = {}),
              (t.fromTitle = e.instant("SETTINGS.EMAIL.EMAIL_TEMPLATES.FROM")),
              (t.subjectTitle = e.instant(
                "SETTINGS.EMAIL.EMAIL_TEMPLATES.SUBJECT"
              )),
              (t.saveAndClose = function () {
                c.postApi("api/emailTemplate", t.template)
                  .then(function () {
                    t.$close();
                  })
                  .catch(() => u.noop());
              }),
              c
                .getApi("api/emailTemplate", { params: { templatePath: n } })
                .then(function (i) {
                  t.template = i.data;
                })
                .catch(() => u.noop());
          },
        ]),
        u.module("app").controller("EmergencyNotificationsDialogCtrl", [
          "$scope",
          "EditSvc",
          "MyUtilsSvc",
          "MessageBoxSvc",
          "response",
          function (t, c, e, n, i) {
            e.initModalEditController(t, c, i.data).catch(() => u.noop());
          },
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/directives/phone-vlan.html",
                '<checkbox-control prop="activeObject.EnabledVlan" mc-title="{{captionEnabled}}"></checkbox-control> <text-control maxlength="20" mc-title="{{captionId}}" prop="activeObject.VlanId"></text-control> <select-enum-control prop="activeObject.VlanPriority" mc-title="EXTENSIONS.EDITOR.PROVISIONING.VLAN_PRIORITY" mc-no-translate> </select-enum-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/directives/phone-lldp.html",
                '<div class="form-group"> <label translate="EXTENSIONS.EDITOR.PROVISIONING.LLDP">LLDP - Enable or disable Link Layer Discovery Protocol</label> <select class="form-control" ng-model="activeObject.LldpValue.value" ng-model-options="{getterSetter: true}" ng-options="o.v as o.n | translate for o in [{ n: \'REPOS.TEXT.DISABLE\', v: false }, { n: \'REPOS.TEXT.ENABLE\', v: true }]"> </select> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/blf.html",
                '<property-list-control prop="activeObject.BLFConfiguration" object-id="::Id" extra="{activeObject,customLabelAvailable2,customLabelOutOfOffice2}"> <div class="panel panel-default"> <div class="panel-heading font-bold"> <span translate="EXTENSIONS.EDITOR.BLF.BLF_FIELD">BLF (Busy Lamp Fields)</span> </div> <div class="panel-body"> <p class="b-m" translate="EXTENSIONS.EDITOR.BLF.BLF_INFO"> Assign BLF buttons to presence of other extensions, speed dials, shared parking or other functions. These settings are applied for both the IP phone & the 3CX App. </p> <div class="form-group"> <div dnd-list="" style="width:100%" dnd-drop="prop.reorder(index, item)"> <blf-control ng-repeat="blf in items track by blf.Id" dnd-draggable="blf" class="blf-grid" dnd-nodrag blf="blf" index="$index" supported="extra.activeObject.SupportedBlfTypes._value" on-item-delete-click="onItemDeleteClick(blf)" custom-label-available2="{{::extra.customLabelAvailable2}}" custom-label-outofoffice2="{{::extra.customLabelOutOfOffice2}}"></blf-control> <div class="dndPlaceholder" style="line-height:20px"> &nbsp; </div> </div> <div class="blf-grid"> <button type="button" class="btn btn-default pull-right" ng-click="prop.newItem()" style="grid-column-end:5;justify-self:end" translate="EXTENSIONS.EDITOR.BLF.ADD_MORE_BLF_BTN"> <span class="halflings halflings-plus"></span> Add more BLF\'s </button> </div> </div> </div> </div> </property-list-control> '
              ),
          ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/extensions/tpl/dialogs/add_exception_modal.html",
              '<div class="modal-header"> <button type="button" class="close" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="EXTENSIONS.EDITOR.DIALOGS.FORWARDING_RULES_EXCEPTION.ADD_EXCEPTIONS_TITLE"> Add Exceptions </h4> </div> <div class="modal-body"> <text-control mc-title="EXTENSIONS.EDITOR.DIALOGS.FORWARDING_RULES_EXCEPTION.CALLS_FROM_CALLER_ID" prop="activeObject.CallerID"></text-control> <select-enum-control mc-title="EXTENSIONS.EDITOR.DIALOGS.FORWARDING_RULES_EXCEPTION.RECEIVED_DURING" prop="activeObject.TimeType"></select-enum-control> <time-ranges-control prop="activeObject.TimeRanges"></time-ranges-control> <select-enum-control mc-title="EXTENSIONS.EDITOR.DIALOGS.FORWARDING_RULES_EXCEPTION.FORWARD_TO" prop="activeObject.Forwarding._value.ForwardType"></select-enum-control> <select-control prop="activeObject.Forwarding._value.ForwardDN"></select-control> <select-control prop="activeObject.Forwarding._value.VMailDN"></select-control> <text-control prop="activeObject.Forwarding._value.ExternalNumber"></text-control> <div class="alert alert-info" role="alert" ng-if="activeObject.Forwarding.value.ForwardType.selected === \'TypeOfExtensionForward.ExtensionVoiceMail\' && (activeObject.Forwarding._value.VMailDN.selected.Type === \'RingGroup\' || activeObject.Forwarding._value.VMailDN.selected.Type === \'Queue\')"> <span class="halflings halflings-info-sign"></span> {{\'EXTENSIONS.EDITOR.FORWARDING_RULES.RING_GROUP_VMAIL\'|translate}} </div> <checkbox-control prop="activeObject.Forwarding._value.Rebound" mc-title="EXTENSIONS.EDITOR.DIALOGS.FORWARDING_RULES_EXCEPTION.REBOUND"></checkbox-control> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave"> Save </button> <button type="button" class="btn btn-default" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel"> Close </button> </div> '
            ),
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/dialogs/new_phone_device.html",
                '<div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="EXTENSIONS.EDITOR.DIALOGS.ADD_PHONE_PROVISIONING.ADD_PHONE"> Add Phone </h4> </div> <div class="modal-body"> <form name="new_device" class="bs-example ng-pristine ng-valid"> <label translate="{{\'EXTENSIONS.EDITOR.DIALOGS.ADD_PHONE_PROVISIONING.CHOOSE_AVAILABLE_MODELS\'| translate}}"></label> <select class="form-control" ng-model="activeObject.Model.value" ng-model-options="{getterSetter: true}" ng-options="item.label as item.label group by item.category for item in templates"> </select> <text-control mc-title="EXTENSIONS.EDITOR.DIALOGS.ADD_PHONE_PROVISIONING.MAC_ADDRESS" placeholder="EXTENSIONS.EDITOR.DIALOGS.ADD_PHONE_PROVISIONING.MAC_ADDRESS" maxlength="12" pattern="[^0-9a-f]" prop="activeObject.MacAddress"></text-control> </form> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="saveProxy()" ng-disabled="!activeObject.Model.value" translate="REPOS.BUTTONS.SAVE_BTN" ng-disabled="!templatesLoaded" id="btnSave">Save</button> <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/dialogs/edit_template_modal.html",
                '<div class="modal-content" ui-ace-lazy-load> <div class="modal-header"> <div class="bs-example ng-pristine ng-valid"> <button type="button" class="close" data-dismiss="modal" ng-click="$dismiss()">&times;</button> <h4 class="modal-title"><span translate="SETTINGS.CONFERENCING.EDIT_TEMPLATE">Edit Template</span></h4> </div> </div> <div ui-ace="{mode: \'xml\', onLoad: aceLoaded, showPrintMargin: false}" style="height:60vh" mc-ace-suppress-warning ng-model="xmlText" readonly="readonly"></div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="$dismiss()">Close</button> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/dialogs/import_csv_modal.html",
                ' <div id="importCSV" class="modal fade" role="dialog" nv-file-drop="" uploader="uploader" filters="queueLimit, customFilter"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title">Import CSV</h4> </div> <div class="modal-body"> <div ng-show="uploader.isHTML5" class="m-b-md"> <div class="b-a b-2x b-dashed wrapper-lg bg-white text-center m-b" nv-file-over="" over-class="b-info" uploader="uploader"> Drag and drop CSV file to upload </div> </div> <div class="wrapper-md bg-light dk b-b"><span class="pull-right m-t-xs">Queue length: <b class="badge bg-info">{{ uploader.queue.length }}</b></span> <h3 class="m-n font-thin">Upload queue</h3> </div> <div class="wrapper-md"> <table class="table bg-white-only b-a"> <thead> <tr> <th width="50%">Name</th> <th ng-show="uploader.isHTML5">Size</th> <th ng-show="uploader.isHTML5">Progress</th> <th>Status</th> <th>Actions</th> </tr> </thead> <tbody> <tr ng-repeat="item in uploader.queue"> <td><strong>{{ item.file.name }}</strong></td> <td ng-show="uploader.isHTML5" nowrap="nowrap">{{ item.file.size/1024/1024|number:2 }} MB</td> <td ng-show="uploader.isHTML5"> <div class="progress progress-sm m-b-none m-t-xs"> <div class="progress-bar bg-info" role="progressbar" ng-style="{ \'width\': item.progress + \'%\' }"></div> </div> </td> <td class="text-center"><span ng-show="item.isSuccess" class="text-success"><i class="halflings halflings-ok"></i></span> <span ng-show="item.isCancel" class="text-warning"><i class="halflings halflings-ban-circle"></i></span> <span ng-show="item.isError" class="text-danger"><i class="halflings halflings-remove"></i></span></td> <td nowrap="nowrap"> <button type="button" class="btn btn-default btn-xs" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess"> Upload </button> <button type="button" class="btn btn-default btn-xs" ng-click="item.cancel()" ng-disabled="!item.isUploading"> Cancel </button> <button type="button" class="btn btn-default btn-xs" ng-click="item.remove()"> Remove </button> </td> </tr> </tbody> </table> <div></div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">Upload</button> <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> </div> </div> </div> </div> </div> </div>'
              ),
          ]);
      const ka = "js/directives/time-ranges-control/break-times-control.html";
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            ka,
            '<div class="row padder-md" ng-if="!prop.hide"> <div class="row padder-md"> <label class="font-bold col-sm-2 m-t-sm no-padder" translate="REPOS.TEXT.BREAK_TIMES">Break times</label> <div class="line line-dashed b-b line-lg padder-md"></div> </div> <div class="row m-t-sm seven-cols"> <div class="col-sm-1" ng-repeat="wd in WeekDays"> <label class="clear font-bold" translate="enum.DayOfWeek.{{wd.Name}}">wd.Name</label> <div ng-repeat="tr in prop._value | filter : {Day:wd.Index} | orderBy : \'From\'"> <label class="dashed_link" ng-click="Edit(tr, wd.Index)"> {{tr.From}} - {{tr.To}} </label> </div> <label ng-click="Add(wd.Index)" class="dashed_link" translate="REPOS.CONFIGURE"> Configure </label> </div> </div> </div>'
          ),
      ]);
      const Ua = ka;
      var bT =
        ' <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="SETTINGS.OFFICE_HOURS.TITLE_OFFICE_HOURS">Configure Office Hours</h4> </div> <div class="modal-body"> <div class="form-group"> <div class="radio"> <label class="i-checks active"> <input type="radio" name="a" data-ng-model="useGlobalScheduling" data-ng-value="true"> <i></i><span translate="EXTENSIONS.EDITOR.DIALOGS.SET_OFFICE_HOURS.EXTENSION_GLOBAL_OFFICE_HOURS"> This extension uses Global Office Hours </span> </label> </div> </div> <div class="form-group"> <div class="radio"> <label class="i-checks"> <input type="radio" name="a" data-ng-model="useGlobalScheduling" data-ng-value="false"> <i></i><span translate="EXTENSIONS.EDITOR.DIALOGS.SET_OFFICE_HOURS.EXTENSION_SPECIFIC_OFFICE_HOURS"> This extension uses Specific Office Hours </span> </label> </div> </div> <div ng-hide="useGlobalScheduling"> <time-ranges-control prop="OfficeHoursSpecific"></time-ranges-control> </div> <div class="line line-dashed b-b line-lg"></div> <div class="m-t-sm"> <label class="i-checks"> <input type="checkbox" name="a" ng-model="useBreakTimes"> <i></i><span translate="EXTENSIONS.EDITOR.DIALOGS.SET_OFFICE_HOURS.CONFIGURE_BREAK_TIME"> Configure Break Times</span> </label> </div> <div ng-show="useBreakTimes" class="m-b-sm"> <time-ranges-control prop="OfficeHoursBreaks" template-url="' +
        nt()(Ua) +
        '"> </time-ranges-control> </div> <div class="m-t-sm"> <label class="i-checks"> <input type="checkbox" ng-model="includeHolidays"> <i></i><span translate="EXTENSIONS.EDITOR.DIALOGS.SET_OFFICE_HOURS.APPLY_EVEN_IF_PUBLIC_HOLIDAY"> Apply these office hours even if it\'s a global holiday</span> </label> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="save()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save </button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close </button> </div> </div> ';
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put("js/app/extensions/tpl/dialogs/office_hours_dialog.html", bT),
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/dialogs/set_extensions_status_modal.html",
                '<div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="EXTENSIONS.DIALOGS.SET_STATUS.USER_STATUS_HEADER"> Set Status </h4> </div> <div class="modal-body"> <label translate="EXTENSIONS.DIALOGS.SET_STATUS.CURRENT_STATUS_DDM"></label> <select ng-model="currentProfile" ng-change="onCurrentProfileChange(currentProfile)" class="form-control m-b"> <option value="" ng-hide="currentProfile">{{\'REPOS.TEXT.KEEP_CURRENT_VALUE\' | translate}}</option> <option value="Available" translate="ProfileType.Available"> Available</option> <option value="Away" translate="ProfileType.Away"> Away</option> <option value="Out of office" translate="ProfileType.OutOfOffice">Do Not Disturb (DND)</option> <option value="Custom 1">{{customLabelAvailable2 | translate}}</option> <option value="Custom 2">{{customLabelOutOfOffice2 | translate}}</option> <option value="temporary" ng-hide="!profileOverride">{{profileOverride | translate}} - {{profileOverrideExpiration | mcDateFormat}}</option> </select> <label translate="EXTENSIONS.DIALOGS.SET_STATUS.QUEUES_STATUS_DDM"></label> <select ng-model="queueStatus" ng-change="onQueueStatusChange(queueStatus)" class="form-control m-b"> <option value="" ng-hide="queueStatus">{{\'REPOS.TEXT.KEEP_CURRENT_VALUE\' | translate}}</option> <option value="0" translate="AgentStatus.LoggedOut"> LoggedOut</option> <option value="1" translate="AgentStatus.LoggedIn"> LoggedIn</option> </select> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/extension_editor.html",
                '<div ng-controller="ExtensionsEditorCtrl" extension-after-save=""> <div class="bg-light lter b-b wrapper-md" style="display:flex;align-items:center"> <span class="m-n font-thin h3" ng-if="activeObject.IsBulk" style="overflow:hidden;white-space:nowrap;text-overflow:ellipsis"> {{::activeObject._str}} </span> <span class="m-n font-thin h3" ng-if="!(activeObject.IsBulk)" style="overflow:hidden;white-space:nowrap;text-overflow:ellipsis"> {{::activeObject.IsBulk}} {{::activeObject.Number.value()}} {{::activeObject.FirstName.value()}} {{::activeObject.LastName.value()}} </span> <button style="flex:0 0 auto;margin-right:3px" class="btn m-l-lg w-xs btn-success" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button">Save</button> <button style="flex:0 0 auto;margin-right:3px" class="btn w-xs btn-dark" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button">Cancel</button> <help-button style="flex:1 0 auto" url="{{\'LINKS.EXTENSIONS_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md tab-container"> <ul class="nav nav-tabs"> <li role="presentation" ui-sref-active="active" ng-if="!activeObject.IsBulk"> <a ui-sref=".general" translate="EXTENSIONS.EDITOR.GENERAL.GENERAL_BTN">General</a></li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".voicemail" translate="EXTENSIONS.EDITOR.VOICEMAIL.VOICEMAIL_BTN">Voicemail</a></li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".forwarding_rules" translate="EXTENSIONS.EDITOR.FORWARDING_RULES.FORWARDING_RULES_BTN">Forwarding rules</a></li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".phone_provisioning" translate="EXTENSIONS.EDITOR.PROVISIONING.PHONE_PROVISIONING_BTN">Phone Provisioning</a></li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".blf" translate="EXTENSIONS.EDITOR.BLF.BLF_BTN">BLF</a></li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".options" translate="EXTENSIONS.EDITOR.OPTIONS.OPTIONS_BTN">Options</a></li> <li role="presentation" ui-sref-active="active" ng-if="!activeObject.IsBulk"> <a ui-sref=".rights" translate="EXTENSIONS.EDITOR.RIGHTS.RIGHTS_BTN">Rights</a></li> </ul> <div class="tab-content" ui-view=""></div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/forwarding_rules/available.html",
                '<div class="form-group"> <label translate="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AVAILABLE.INTERNAL_CALLS_TITLE" class="font-bold m-t-sm"> Internal Calls </label> <div class="line line-dashed b-b line-lg"></div> <div class="form-inline"> <label class="m-b" translate="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AVAILABLE.INTERNAL_IF_NOT_ANSWER_CALL_WITHIN"> If I do not answer calls within: </label> <span ng-class="profile.NoAnswerTimeout.class"><input type="number" class="form-control" style="width:5em!important;padding-top:2px!important;margin-left:5px!important;margin-right:5px!important" min="0" max="1000000000" placeholder="{{placeholder}}" ng-model="profile.NoAnswerTimeout.value" ng-model-options="{getterSetter: true, updateOn: \'blur\'}" required undefined-number=""></span> <label translate="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AVAILABLE.FORWARD_INTERNAL_TO">seconds. forward internal calls to:</label> </div> <fwd-type-control fwd="profile.NoAnswerInternalForwarding._value"></fwd-type-control> <label translate="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AVAILABLE.INTERNAL_IF_BUSY_FORWARD_CALL_TO">If I am busy or my phone is unregistered forward calls to:</label> <fwd-type-control fwd="profile.BusyInternalForwarding._value"></fwd-type-control> </div> <div class="form-group"> <label translate="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AVAILABLE.EXTERNAL_CALLS_TITLE" class="font-bold m-t-sm"> External Calls </label> <div class="line line-dashed b-b line-lg"></div> <div class="form-inline"> <label class="m-b-xs m-t-xs" translate="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AVAILABLE.AFTER_TIMEOUT_FORWARD_EXTERNAL_CALLS_TO"> If I do not answer calls within:</label> </div> <fwd-type-control fwd="profile.NoAnswerForwarding._value"></fwd-type-control> <label translate="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AVAILABLE.EXTERNAL_IF_BUSY_FORWARD_CALL_TO">If I am busy or my phone is unregistered forward calls to:</label> <fwd-type-control fwd="profile.BusyForwarding._value"></fwd-type-control> </div> <strong translate="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AVAILABLE.STATUS_AVAILABLE_OPTIONS_TITLE">Options</strong> <div class="line line-dashed b-b line-lg"></div> <div class="form-group"> <checkbox-control prop="profile.RingExtensionAndMobile" mc-title="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AVAILABLE.RING_MY_MOBILE_SIMULTANEOUSLY"></checkbox-control> </div> <div class="form-group"> <checkbox-control prop="profile.AcceptMultipleCalls" mc-title="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AVAILABLE.ACCEPT_MULTIPLE_CALLS_SIMULTANEOUSLY"></checkbox-control> </div> <div class="form-group"> <checkbox-control prop="profile.OfficeHoursAutoQueueLogOut" mc-title="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AWAY.LOG_OUT_FROM_QUEUES"></checkbox-control> </div> <div class="form-group"> <checkbox-control prop="profile.AcceptRingGroupCalls" mc-title="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AVAILABLE.ACEEPT_CALLS_FROM_RING_GROUPS"></checkbox-control> </div> <div class="form-group"> <checkbox-control prop="profile.BlockPushCalls" mc-title="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AVAILABLE.ACCEPT_PUSH_NOTIFICATIONS"></checkbox-control> </div> <div class="form-group"> <strong translate="EXTENSIONS.EDITOR.FORWARDING_RULES.GREETING">Greeting</strong> <div class="line line-dashed b-b line-lg"></div> <label translate="EXTENSIONS.EDITOR.FORWARDING_RULES.IN_THIS_STATUS_USE_CUSTOM_GREETING">When in this status, use this custom voice mail greeting</label> <select-file-media-control extension="{{::extension}}" prop="greeting"></select-file-media-control> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/forwarding_rules/away.html",
                '<label translate="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AWAY.INTERNAL_CALLS_TITLE" class="font-bold m-t-sm"> Internal Calls </label> <div class="line line-dashed b-b line-lg"></div> <div class="form-group"> <label translate="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AWAY.INTERNAL_IF_AWAY_FORWARD_CALL_TO"> If i am away forward internal calls to: </label> <fwd-type-control fwd="profile.InternalForwarding._value"></fwd-type-control> </div> <label translate="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AWAY.EXTERNAL_CALLS_TITLE" class="font-bold m-t-sm"> External Calls </label> <div class="line line-dashed b-b line-lg"></div> <div class="form-group"> <label translate="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AWAY.EXTERNAL_IF_AWAY_FORWARD_CALL_TO">If i am way forward external calls to:</label> <fwd-type-control fwd="profile.ExternalForwarding._value"></fwd-type-control> </div> <strong translate="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AWAY.STATUS_AWAY_OPTIONS_TITLE">Options</strong> <div class="line line-dashed b-b line-lg"></div> <div class="form-group m-b"> <checkbox-control prop="profile.OfficeHoursAutoQueueLogOut" mc-title="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AWAY.LOG_OUT_FROM_QUEUES"></checkbox-control> </div> <div class="form-group"> <checkbox-control prop="profile.AcceptRingGroupCalls" mc-title="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AVAILABLE.ACEEPT_CALLS_FROM_RING_GROUPS"></checkbox-control> </div> <div class="form-group"> <checkbox-control prop="profile.BlockPushCalls" mc-title="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AVAILABLE.ACCEPT_PUSH_NOTIFICATIONS"></checkbox-control> </div> <div class="form-group"> <strong translate="EXTENSIONS.EDITOR.FORWARDING_RULES.GREETING">Greeting</strong> <div class="line line-dashed b-b line-lg"></div> <label translate="EXTENSIONS.EDITOR.FORWARDING_RULES.IN_THIS_STATUS_USE_CUSTOM_GREETING">When in this status, use this custom voice mail greeting</label> <select-file-media-control extension="{{::extension}}" prop="greeting"></select-file-media-control> </div> '
              ),
          ]);
      var xT =
        '<property-list-control move-disabled="$ctrl.activeObject.IsBulk" prop="$ctrl.activeObject.ForwardingExceptions" object-id="$ctrl.id" modal-editor-url="' +
        nt()("js/app/extensions/tpl/dialogs/add_exception_modal.html") +
        '"> <div> <button type="button" ng-click="onAddClick()" class="btn btn-sm btn-success"> <i class="halflings halflings-plus"></i> <span translate="EXTENSIONS.EDITOR.FORWARDING_RULES.EXCEPTIONS_LIST.ADD_EXCEPTION_BTN"> Add Rule </span> </button> <button type="button" id="btnDelete" class="btn btn-sm btn-default" ng-disabled="!isAnySelected" ng-click="onDeleteClick()"><i class="halflings halflings-remove"></i><span translate="EXTENSIONS.EDITOR.FORWARDING_RULES.EXCEPTIONS_LIST.DELETE_EXCEPTION_BTN"> Delete</span> </button> <button type="button" ng-if="!moveDisabled" id="btnMoveUp" class="btn btn-sm btn-default" ng-disabled="!moveUpEnabled" ng-click="onMoveUpClick()"><i class="fa fa-level-up"></i><span translate="EXTENSIONS.EDITOR.FORWARDING_RULES.EXCEPTIONS_LIST.MOVE_UP_EXCEPTION_BTN">Move Up</span></button> <button type="button" ng-if="!moveDisabled" id="btnMoveDown" class="btn btn-sm btn-default" ng-disabled="!moveDownEnabled" ng-click="onMoveDownClick()"><i class="fa fa-level-down"></i> <span translate="EXTENSIONS.EDITOR.FORWARDING_RULES.EXCEPTIONS_LIST.MOVE_DOWN_EXCEPTION_BTN">Move Down</span></button> </div> <table st-table="displayedItems" st-safe-src="items" class="table table-striped" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="CallerId._value" translate="EXTENSIONS.EDITOR.FORWARDING_RULES.EXCEPTIONS_LIST.CALLER_ID_EXCEPTION">Caller ID</th> <th st-sort="TimeType.selected" translate="EXTENSIONS.EDITOR.FORWARDING_RULES.EXCEPTIONS_LIST.HOURS_EXCEPTION">Hours</th> <th st-sort="Forwarding._value.ForwardType.selected" translate="EXTENSIONS.EDITOR.FORWARDING_RULES.EXCEPTIONS_LIST.ACTION_EXCEPTION">Action</th> <th st-sort="Forwarding._value.Rebound" translate="EXTENSIONS.EDITOR.FORWARDING_RULES.EXCEPTIONS_LIST.REBOUND">Rebound</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="item in displayedItems" ng-click="onItemEditClick(item)"> <td class="col-btn" mc-select-row="item"></td> <td>{{item.CallerID._value}}</td> <td translate="enum.{{item.TimeType.selected}}"></td> <td><label translate="enum.{{item.Forwarding._value.ForwardType.selected}}"></label> {{ item.Forwarding._value.ForwardType.selected == \'TypeOfExtensionForward.DN\' ? item.Forwarding._value.ForwardDN.selected._str : item.Forwarding._value.ForwardType.selected == \'TypeOfExtensionForward.ExternalNumber\' ? item.Forwarding._value.ExternalNumber._value : item.Forwarding._value.ForwardType.selected == \'TypeOfExtensionForward.ExtensionVoiceMail\' ? item.Forwarding._value.VMailDN.selected._str : \'\'}}</td> <td translate="{{item.Forwarding._value.Rebound._value ? \'REPOS.TEXT.YES\' : \'REPOS.TEXT.NO\'}}"></td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="onItemDeleteClick(item)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> <tfoot> <tr> <td colspan="9" class="text-center"> <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </td> </tr> </tfoot> </table> </property-list-control> ';
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put("js/app/extensions/tpl/forwarding_rules/exceptions.html", xT),
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/forwarding_rules/fwd-type-control.html",
                '<select-enum-control prop="fwd.ForwardType"></select-enum-control> <div ng-if="fwd.ForwardType.selected==\'TypeOfExtensionForward.DN\'"> <select-control prop="fwd.ForwardDN"> </select-control> </div> <div ng-if="fwd.ForwardType.selected==\'TypeOfExtensionForward.ExtensionVoiceMail\'"> <select-control prop="fwd.VMailDN"> </select-control> </div> <div ng-if="fwd.ForwardType.selected==\'TypeOfExtensionForward.ExternalNumber\'"> <div class="form-group"> <text-control prop="fwd.ExternalNumber" placeholder="EXTENSIONS.EDITOR.FORWARDING_RULES.EXTERNAL_NUMBER"></text-control> </div> </div> <div class="form-group"> <checkbox-control mc-title="EXTENSIONS.EDITOR.FORWARDING_RULES.ANNOUNCE_CALLER" prop="fwd.Rebound"></checkbox-control> </div> <div class="form-group"> <checkbox-control mc-title="EXTENSIONS.EDITOR.FORWARDING_RULES.DEFLECT_USING_302_HEADER" prop="fwd.Deflect"></checkbox-control> </div> <div class="alert alert-info" role="alert" ng-if="fwd.ForwardType.selected === \'TypeOfExtensionForward.ExtensionVoiceMail\' && (fwd.VMailDN.selected.Type === \'RingGroup\' || fwd.VMailDN.selected.Type === \'Queue\')"> <span class="halflings halflings-info-sign"></span> {{\'EXTENSIONS.EDITOR.FORWARDING_RULES.RING_GROUP_VMAIL\'|translate}} </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/forwarding_rules.html",
                '<div class="panel panel-default"> <div class="panel-heading font-bold" translate="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUSES">Statuses</div> <div class="panel-body"> <div> <label translate="EXTENSIONS.EDITOR.FORWARDING_RULES.SELECT_STATUS">Select status</label> <select name="status" class="form-control m-b-xs" ng-model="profile"> <option value="Available" translate="EXTENSIONS.EDITOR.FORWARDING_RULES.OPTION_AVAILABLE">Available </option> <option value="Away" translate="EXTENSIONS.EDITOR.FORWARDING_RULES.OPTION_AWAY">Away</option> <option value="Out of office" translate="EXTENSIONS.EDITOR.FORWARDING_RULES.OPTION_DND">Do Not Disturb (DND) </option> <option value="Custom 1">{{customLabelAvailable2 || \'Lunch\'}}</option> <option value="Custom 2">{{customLabelOutOfOffice2 || \'Business Trip\'}}</option> </select> </div> <div ng-if="profile==\'Available\'"> <available-profile-control profile="activeObject.ForwardingAvailable._value" greeting="activeObject.GreetingAvailable" extension="{{activeObject.Number.value()}}" auto-office-hours-switch="activeObject.OfficeHoursAutoSwitchProfiles"> </available-profile-control> </div> <div ng-if="profile==\'Away\'"> <away-profile-control profile="activeObject.ForwardingAway._value" greeting="activeObject.GreetingAway" extension="{{activeObject.Number.value()}}" auto-office-hours-switch="activeObject.OfficeHoursAutoSwitchProfiles"></away-profile-control> </div> <div ng-if="profile==\'Out of office\'"> <away-profile-control profile="activeObject.ForwardingAway2._value" greeting="activeObject.GreetingOutOfOffice" extension="{{activeObject.Number.value()}}" auto-office-hours-switch="activeObject.OfficeHoursAutoSwitchProfiles"></away-profile-control> </div> <div ng-if="profile==\'Custom 1\'"> <available-profile-control profile="activeObject.ForwardingAvailable2._value" greeting="activeObject.GreetingAvailable2" extension="{{activeObject.Number.value()}}" auto-office-hours-switch="activeObject.OfficeHoursAutoSwitchProfiles"></available-profile-control> </div> <div ng-if="profile==\'Custom 2\'"> <away-profile-control profile="activeObject.ForwardingAway3._value" greeting="activeObject.GreetingOutOfOffice2" extension="{{activeObject.Number.value()}}" auto-office-hours-switch="activeObject.OfficeHoursAutoSwitchProfiles"> </away-profile-control> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading font-bold" translate="EXTENSIONS.EDITOR.FORWARDING_RULES.EXCEPTIONS_LIST.EXCEPTIONS"> Exceptions </div> <div class="panel-body"> <label translate="EXTENSIONS.EDITOR.FORWARDING_RULES.EXCEPTIONS_LIST.APPLY_RULES_DIFF_FOR_CALLS_FROM_CALLER_IDS">Apply rules differently for calls from these caller IDs</label> <exceptions active-object="activeObject" id="Id"></exceptions> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/general.html",
                ' <panel mc-title="EXTENSIONS.EDITOR.GENERAL.USERINFO"> <div style="display:flex"> <form style="flex:1 1 auto" class="m-r"> <text-control prop="activeObject.Number" mc-title="EXTENSIONS.EDITOR.GENERAL.EXT_NUMBER" placeholder="EXTENSIONS.EDITOR.GENERAL.EXT_NUMBER"></text-control> <text-control prop="activeObject.FirstName" mc-title="EXTENSIONS.EDITOR.GENERAL.FIRSTNAME" placeholder="EXTENSIONS.EDITOR.GENERAL.FIRSTNAME"></text-control> <text-control prop="activeObject.LastName" mc-title="EXTENSIONS.EDITOR.GENERAL.LASTNAME" placeholder="EXTENSIONS.EDITOR.GENERAL.LASTNAME"></text-control> <text-control prop="activeObject.Email" mc-title="EXTENSIONS.EDITOR.GENERAL.EMAIL_ADDRESS" placeholder="EXTENSIONS.EDITOR.GENERAL.EMAIL_ADDRESS" maxlength="254"></text-control> <text-control prop="activeObject.MobileNumber" mc-title="EXTENSIONS.EDITOR.GENERAL.MOBILE_NUMBER" placeholder="EXTENSIONS.EDITOR.GENERAL.MOBILE_NUMBER"></text-control> <text-control prop="activeObject.OutboundCallerId" mc-title="EXTENSIONS.EDITOR.GENERAL.OUTBOUND_CALLER_ID" placeholder="EXTENSIONS.EDITOR.GENERAL.OUTBOUND_CALLER_ID"></text-control> </form> <prov-link style="flex:0 1 0" active-object="activeObject"></prov-link> </div> </panel> <panel mc-title="EXTENSIONS.EDITOR.GENERAL.WEB_AUTH_HEADER"> <div class="form-group"> <span translate="EXTENSIONS.EDITOR.GENERAL.WEB_AUTH_DESCRIPTION"></span> <link-to-clipboard mc-url="WebClientLink"></link-to-clipboard> </div> <checkbox-control prop="activeObject.AccessWebClient" mc-title="EXTENSIONS.EDITOR.GENERAL.WEB_AUTH_ENABLED"></checkbox-control> <password-control hide-eye="true" mc-title="EXTENSIONS.EDITOR.RIGHTS.PASS_MANAGEMENT_CONSOLE" prop="activeObject.AccessPassword" placeholder="EXTENSIONS.EDITOR.RIGHTS.PASS_INPUT"></password-control> </panel> <did-control prop="activeObject.ExtensionDID"></did-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/nav.html",
                '<div class="bg-light lter b-b wrapper-md ng-scope"> <h1 class="m-n font-thin h3 autowidth">Add Extension</h1> <div class="centered-pills"> <ul class="nav nav-pills tpmmenu"> <li><a ui-sref="app.extension_editor.general">General</a></li> <li><a ui-sref="app.extension_editor.voicemail">Voice Mail</a></li> <li><a ui-sref="app.extension_editor.forwarding_rules">Forwarding Rules</a></li> <li><a ui-sref="app.extension_editor.phone_provisioning">Phone Provisioning</a></li> <li><a ui-sref="app.extension_editor.blf">BLF</a></li> <li><a ui-sref="app.extension_editor.3cxphone">3CXPhone</a></li> <li><a ui-sref="app.extension_editor.other">Other</a></li> <li><a ui-sref="app.extension_editor.options">Options</a></li> <li><a ui-sref="app.extension_editor.office_hours_scheduling">Office Hours Scheduling</a></li> <li><a ui-sref="app.extension_editor.rights">Rights</a></li> </ul> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/options.html",
                '<panel mc-title="EXTENSIONS.EDITOR.OPTIONS.RESTRICTIONS_TITLE"> <checkbox-control prop="activeObject.Disabled" mc-title="EXTENSIONS.EDITOR.OPTIONS.DISALLOW_EXT"></checkbox-control> <checkbox-control prop="activeObject.InternalCallsOnly" mc-title="EXTENSIONS.EDITOR.OPTIONS.DISABLE_EXTERNAL"></checkbox-control> <div class="form-group form-inline clear"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="activeObject.PinProtected.value" ng-model-options="{getterSetter: true}" ng-disabled="activeObject.PinProtected.disabled" ng-indeterminate="activeObject.PinProtected"> <i></i><span translate="EXTENSIONS.EDITOR.OPTIONS.ENABLE_PIN_PROTECT">Enable PIN Protect</span></label> <span translate="REPOS.TEXT.FOR" ng-hide="activeObject.PinProtectTimeout.hide">For</span> <input type="text" class="form-control" placeholder="00" style="width:4em!important;padding-top:2px!important;margin-left:5px!important;margin-right:5px!important" ng-disabled="activeObject.PinProtectTimeout.disabled" ng-hide="activeObject.PinProtectTimeout.hide" ng-model="activeObject.PinProtectTimeout.value" short-keep-current-value="" ng-model-options="{getterSetter: true, updateOn: \'blur\'}"> <span ng-hide="activeObject.PinProtectTimeout.hide" translate="REPOS.TEXT.SECONDS">seconds</span> </div> <checkbox-control prop="activeObject.AllowLanOnly" mc-title="EXTENSIONS.EDITOR.OPTIONS.DISALLOW_USE_OUTSIDE_LAN"> </checkbox-control> <div class="information" ng-show="(hasPhoneWithStunProvMethod() && activeObject.AllowLanOnly.value()) || (!activeObject.MyPhoneUseTunnel.value() && activeObject.AllowLanOnly.value())"> <ul> <li> <span class="fa fa-info-circle" style="color:#004085"></span> {{\'WARNINGS.NOTE_IP_PHONES_WORK_DIRECT_SIP_MODE\' | translate}} </li> </ul> </div> <checkbox-control prop="activeObject.BlockRemoteTunnel" mc-title="EXTENSIONS.EDITOR.OPTIONS.BLOCK_REMOTE_TUNNEL_CONN"> </checkbox-control> <div class="information" ng-show="((activeObject.MyPhoneUseTunnel.value() || hasPhoneWithSBCProvMethod() )&& activeObject.BlockRemoteTunnel.value())"> <ul> <li> <span class="fa fa-info-circle" style="color:#004085"></span> {{\'WARNINGS.NOTE_3CXAPP_WORK_TUNNEL_MODE\' | translate}} </li> </ul> </div> </panel> <panel mc-title="EXTENSIONS.EDITOR.CALL_RECORDING.TITLE" available-pro-enterprise="true"> <radio-enum-control prop="activeObject.RecordCalls" mc-title="EXTENSIONS.EDITOR.CALL_RECORDING.RECORD_CALLS"></radio-enum-control> <checkbox-control prop="activeObject.AllowOwnRecordings" mc-title="EXTENSIONS.EDITOR.CALL_RECORDING.ALLOW_OWN_RECORDINGS"></checkbox-control> </panel> <panel mc-title="EXTENSIONS.EDITOR.OPTIONS.OPTIONS_HEADER"> <form class="bg-white"> <checkbox-control prop="activeObject.AllowToUseHotdesking" mc-title="EXTENSIONS.EDITOR.OPTIONS.ALLOW_TO_USE_HOTDESKING" available-pro-enterprise="true"></checkbox-control> <checkbox-control prop="activeObject.CallScreening" mc-title="EXTENSIONS.EDITOR.OPTIONS.CALL_SCREENING_ON"></checkbox-control> <checkbox-control prop="activeObject.SendEmailMissedCalls" mc-title="EXTENSIONS.EDITOR.OPTIONS.MAIL_IF_MISSED_CALL"></checkbox-control> <checkbox-control prop="activeObject.HideInPhonebook" mc-title="EXTENSIONS.EDITOR.OPTIONS.NOT_SHOW_PHONEBOOK"></checkbox-control> <text-control ng-hide="activeObject.IsBulk" prop="activeObject.SIPId" mc-title="EXTENSIONS.EDITOR.OPTIONS.SIPID_TITLE"></text-control> </form> </panel> <panel mc-title="EXTENSIONS.EDITOR.OPTIONS.TROUBLESHOOTING_TITLE"> <p class="b-m" translate="EXTENSIONS.EDITOR.OPTIONS.TROUBLESHOOTING_INFO">Potentially overcome compatibility issues with old/incompatible phones with these options</p> <checkbox-control prop="activeObject.CapabilityPBXDeliversAudio" mc-title="EXTENSIONS.EDITOR.OPTIONS.DELIVERS_AUDIO"></checkbox-control> <checkbox-control prop="activeObject.CapabilityReInvite" mc-title="EXTENSIONS.EDITOR.OPTIONS.SUPPORT_REINVITE"></checkbox-control> <checkbox-control prop="activeObject.CapabilityReplacesHeader" mc-title="EXTENSIONS.EDITOR.OPTIONS.SUPPORT_REPLACE"></checkbox-control> </panel> <div class="panel panel-default"> <checkbox-control-header prop="activeObject.IntegrationEnabled" mc-title="EXTENSIONS.EDITOR.INTEGRATION.ENABLE_INTEGRATION"> </checkbox-control-header> <fieldset class="panel-body"> <select-enum-control mc-title="EXTENSIONS.EDITOR.INTEGRATION.DESCRIPTION" mc-no-translate="true" prop="activeObject.Integration"></select-enum-control> </fieldset> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/phone_provisioning.html",
                '<div ng-controller="ExtensionEditorPhoneProvisioningTabCtrl"> <panel mc-title="EXTENSIONS.EDITOR.PROVISIONING.PHONE"> <div> <button type="button" class="btn btn-sm btn-success" ng-click="AddClick()" ng-disabled="::activeObject.IsBulk" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"> <i class="halflings halflings-plus"></i> Add </button> <p></p> <label translate="EXTENSIONS.EDITOR.PROVISIONING.LIST_OF_PHONES">Your phones</label> <div class="input-group"> <div class="form-group"> <select class="form-control m-b-xs" ng-model="vm.selectedPhone" ng-options="device.label for device in yourPhones"></select> </div> <span class="input-group-btn"> <button type="button" ng-click="DeleteClick()" ng-disabled="vm.selectedPhone===tcxPhone" class="btn btn-default ng-scope" style="margin-left:4px" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> </button> </span> </div> <div ng-if="vm.selectedPhone!==tcxPhone" class="m-l-xs m-t-xs"> <span translate="EXTENSIONS.EDITOR.PROVISIONING.MORE_INFO_ABOUT_PHONE_PROVISIONING"></span> <a target="_blank" class="dashed_link" href="{{vm.selectedPhone.label | PhoneHelpLinkTranslationTag | translate | PhoneHelpLinkDefaultValue | translate}}"> <span translate="EXTENSIONS.EDITOR.PROVISIONING.HERE">here.</span> </a> </div> </div> </panel> <panel mc-title="EXTENSIONS.EDITOR.GENERAL.AUTH_HEADER"> <p class="m-b" translate="EXTENSIONS.EDITOR.GENERAL.AUTH_TITLE">Authentication details used by phones & client. Reprovision after a change.</p> <text-control prop="activeObject.AuthId" mc-title="EXTENSIONS.EDITOR.GENERAL.AUTH_ID" placeholder="EXTENSIONS.EDITOR.GENERAL.AUTH_ID"></text-control> <password-control prop="activeObject.AuthPassword" mc-title="EXTENSIONS.EDITOR.GENERAL.AUTH_PASS" placeholder="EXTENSIONS.EDITOR.GENERAL.AUTH_PASS"></password-control> </panel> <tcx-phone-device ng-if="vm.selectedPhone===tcxPhone" active-object="activeObject"></tcx-phone-device> <phone-device ng-if="vm.selectedPhone!==tcxPhone" active-object="vm.selectedPhone" ext="activeObject.Number.value()" allow-lan-only="activeObject.AllowLanOnly.value()" block-remote-tunnel="activeObject.BlockRemoteTunnel.value()"></phone-device> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/rights.html",
                '<panel mc-title="EXTENSIONS.EDITOR.RIGHTS.GROUP_DDM"> <extension-rights-control grp="activeObject.GroupMembers"></extension-rights-control> </panel> <div class="panel panel-default"> <checkbox-control-header prop="activeObject.ExtensionRights._value.AccessEnabled" mc-title="EXTENSIONS.EDITOR.RIGHTS.ALLOWACCESS_MC"> </checkbox-control-header> <fieldset class="panel-body"> <div class="form-group"> <strong translate="EXTENSIONS.EDITOR.DIALOGS.ACCESS_PERMISSIONS.EXTENSIONS_MANAGEMENT_TITLE">Extensions Management</strong> <p></p><div class="line line-dashed b-b line-lg pull-in"></div><p></p> <radio-enum-control prop="activeObject.ExtensionRights._value.AccessRole"> </radio-enum-control> </div> <div class="form-group"> <strong translate="EXTENSIONS.EDITOR.DIALOGS.ACCESS_PERMISSIONS.SYSTEM_MANAGEMENT_TITLE">System management</strong> <p> </p><div class="line line-dashed b-b line-lg pull-in"></div> <p></p> <checkbox-control prop="activeObject.ExtensionRights._value.AccessGateways" mc-title="{{\'EXTENSIONS.EDITOR.DIALOGS.ACCESS_PERMISSIONS.VOIP_TRUNK_ADMIN\' | translate}} ({{\'EXTENSIONS.EDITOR.DIALOGS.ACCESS_PERMISSIONS.VOIP_TRUNK_ADMIN_DESCRIPTION\' | translate}})"> </checkbox-control> <checkbox-control prop="activeObject.ExtensionRights._value.AccessAdmin" mc-title="{{\'EXTENSIONS.EDITOR.DIALOGS.ACCESS_PERMISSIONS.SYSTEM_ADMIN\'| translate}} ({{\'EXTENSIONS.EDITOR.DIALOGS.ACCESS_PERMISSIONS.SYSTEM_ADMIN_DESCRIPTION\'| translate}})"> </checkbox-control> <checkbox-control prop="activeObject.ExtensionRights._value.AccessPhoneSystemAdmin" mc-title="{{\'EXTENSIONS.EDITOR.DIALOGS.ACCESS_PERMISSIONS.PHONE_SYSTEM_ADMIN\'| translate}} ({{\'EXTENSIONS.EDITOR.DIALOGS.ACCESS_PERMISSIONS.PHONE_SYSTEM_ADMIN_DESCRIPTION\'| translate}})"> </checkbox-control> <checkbox-control prop="activeObject.ExtensionRights._value.AccessReporter" mc-title="{{\'EXTENSIONS.EDITOR.RIGHTS.ALLOW_GENERATOR_CALLREPORTS\'| translate}} ({{\'EXTENSIONS.EDITOR.RIGHTS.ALLOW_GENERATOR_CALLREPORTS_DESCRIPTION\'| translate}})"> </checkbox-control> <div class="col-sm-12"> <checkbox-control prop="activeObject.ExtensionRights._value.AccessReporterRecording" mc-title="EXTENSIONS.EDITOR.RIGHTS.ALLOW_DOWNLOADS_CALLREPORTS"> </checkbox-control> </div> </div> </fieldset> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/extensions/tpl/voicemail.html",
                '<div class="panel panel-default"> <checkbox-control-header prop="activeObject.VMEnabled" mc-title="EXTENSIONS.EDITOR.VOICEMAIL.ENABLE_VOICEMAIL_CHBX"> </checkbox-control-header> <fieldset class="panel-body"> <select-control prop="activeObject.VMLanguage" mc-title="EXTENSIONS.EDITOR.VOICEMAIL.VOICEMAIL_LANG"></select-control> <text-control prop="activeObject.VMPin" maxlength="10" mc-title="EXTENSIONS.EDITOR.VOICEMAIL.PIN_NUMBER" placeholder="EXTENSIONS.EDITOR.VOICEMAIL.PIN_NUMBER"> </text-control> <select-enum-control prop="activeObject.VMReadDateTimeMessage" mc-title="EXTENSIONS.EDITOR.VOICEMAIL.READ_DATETIME_MSG"></select-enum-control> <select-enum-control prop="activeObject.VMEmailOptions" mc-title="EXTENSIONS.EDITOR.VOICEMAIL.EMAIL_OPTIONS"></select-enum-control> <checkbox-control prop="activeObject.VMDisablePinAuth" mc-title="EXTENSIONS.EDITOR.VOICEMAIL.DISABLE_AUTH_CHBX"></checkbox-control> <checkbox-control prop="activeObject.VMPlayCallerId" mc-title="EXTENSIONS.EDITOR.VOICEMAIL.PLAY_CALLER_ID_CHBX"></checkbox-control> </fieldset> </div> <panel mc-title="EXTENSIONS.EDITOR.VOICEMAIL.MANAGE_VMAIL_GREETINGS_INFO"> <select-file-media-control mc-title="EXTENSIONS.EDITOR.VOICEMAIL.DEFAULT_VOICEMAIL_INFO" prop="activeObject.GreetingDefault" extension="{{activeObject.Number.value()}}" forbid="activeObject.IsNew"> </select-file-media-control> </panel> '
              ),
          ]),
        u.module("app").filter("extSearch", [
          "$filter",
          function (t) {
            return function (c, e) {
              var n, i;
              const a =
                null !==
                  (i =
                    null === (n = e.$) || void 0 === n
                      ? void 0
                      : n.toLowerCase()) && void 0 !== i
                  ? i
                  : "";
              return t("filter")(
                c,
                (l) =>
                  !a ||
                  [
                    l.Number,
                    l.Email,
                    l.MobileNumber,
                    l.DisplayName,
                    l.DisplayNameReverse,
                    l.OutboundCallerId,
                    l.Membership,
                    l.MacAddress,
                  ].some((s) =>
                    null == s ? void 0 : s.toLowerCase().includes(a)
                  )
              );
            };
          },
        ]);
      var Yt = w(15861),
        XT =
          ' <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="EXTENSIONS.EXTENSIONS_MAIN_TITLE">Extensions</label> <help-button url="{{\'LINKS.EXTENSIONS_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="EXTENSIONS.EXTENSIONS_TITLE"> Extensions</div> <div class="panel-body" sticky-to-top> <button type="button" class="btn btn-sm btn-success btn-responsive" mc-group-manager ng-click="$ctrl.list.onAddClick()" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"> <i class="halflings halflings-plus"></i> Add </button> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-disabled="!$ctrl.list.isAnySelected" ng-click="$ctrl.list.onEditClick()" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"> <i class="halflings halflings-pencil"></i> Edit </button> <button type="button" ng-disabled="!$ctrl.list.allowDelete" class="btn btn-sm btn-default btn-responsive" mc-admin ng-click="$ctrl.list.onDeleteClick(row)" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"><i class="halflings halflings-remove"></i> Delete </button> <a mc-group-manager ui-sref="app.groups" class="btn btn-sm btn-default btn-responsive"> <span translate="REPOS.BUTTONS.GROUPS_BTN"> <i class="fa fa-users"></i> Groups </span> </a> <div class="btn-group dropdown btn-responsive" mc-admin> <button type="button" class="btn btn-default btn-sm btn-responsive" data-toggle="dropdown" aria-expanded="false" translate="REPOS.BUTTONS.IMPORT_BTN" id="btnImport"> <span class="halflings halflings-save"></span> Import <span class="caret"></span> </button> <ul class="dropdown-menu"> <li import-control url="ExtensionList" no-refresh="true" template-url="' +
          nt()("tpl/controls/import-control-inline.html") +
          '"></li> <li ng-show="$root.User.exchangeServicesEnabled"> <a ng-click="$ctrl.importActiveDirectory()"> <span translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_AD.IMPORT_AD">Import AD</span> </a> </li> <li mc-prof> <a ui-sref="app.settings.office365"> <span translate="EXTENSIONS.DIALOGS.IMPORT_EXTENSIONS.IMPORT_OFFICE365">Import Microsoft 365</span> </a> </li> </ul> </div> <export-control url="ExtensionList" items="$ctrl.list.getSelectedItems()"></export-control> <span class="btn-group btn-responsive"> <button type="button" ng-click="$ctrl.onRegenerateClick()" ng-disabled="!$ctrl.list.isAnySelected" class="btn btn-sm btn-default btn-responsive" translate="REPOS.BUTTONS.REGENERATE_BTN" id="btnRegenerate"> <i class="fa fa-retweet"></i> Regenerate </button> </span> <button type="button" ng-click="$ctrl.onSendWelcomeEmailClick()" ng-disabled="!$ctrl.list.isAnySelected" class="btn btn-sm btn-default btn-responsive" translate="REPOS.BUTTONS.SEND_WELCOME_EMAIL_BTN" id="btnSendWelcomeEmail"><i class="fa fa-mail-forward"></i> Send Welcome Email </button> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnStatus" ng-disabled="!$ctrl.list.isAnySelected" ng-click="$ctrl.StatusButtonClick()" translate="EXTENSIONS.LIST_BUTTONS.STATUS_BTN"> <i class="fa fa-circle"></i> Status </button> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnCopyExtension" mc-group-manager ng-disabled="!$ctrl.list.isOneSelected" ng-click="$ctrl.CopyExtensionButtonClick()" translate="REPOS.BUTTONS.COPY_EXTENSION_BTN"> <i class="fa fa-copy"></i> Copy Extension </button> </div> <div st-table="$ctrl.list.displayedItems" st-safe-src="$ctrl.list.items" st-set-filter="extSearch"> <div class="b-t b-b wrapper-tbl"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table st-set-filter="ExtensionFilter" class="table table-striped table-fixed" mc-select-items mc-select-changed="$ctrl.list.selectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th class="col-btn" st-sort="IsRegistered"></th> <th st-sort="Number" class="col-ext" translate="REPOS.TEXT.EXTENSION">Extension</th> <th st-sort="FirstName" translate="REPOS.TEXT.FIRST_NAME">First</th> <th st-sort="LastName" translate="REPOS.TEXT.LAST_NAME">Last</th> <th st-sort="Email" class="col-responsive" translate="EXTENSIONS.TBL_HEADING_EMAIL_ADDRESS">Email</th> <th st-sort="MobileNumber" class="col-responsive" translate="EXTENSIONS.TBL_HEADING_MOBILE_NUMBER">Mobile</th> <th st-sort="OutboundCallerId" class="col-responsive" translate="EXTENSIONS.TBL_HEADING_OUTBOUND_CALLER_ID"> Caller ID </th> <th st-sort="Phones" class="col-responsive" translate="EXTENSIONS.TBL_HEADING_PHONES">Phones</th> <th st-sort="IsOffice365" class="col-responsive" translate="EXTENSIONS.TBL_HEADING_SYNCED_WITH">Synced with</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="item in $ctrl.list.displayedItems track by item.Id" ng-click="$ctrl.list.onItemEditClick(item)"> <td mc-select-row="item" class="col-btn"> </td> <td class="col-btn"> <i ng-if="item.IsRegistered" class="fa fa-circle" style="color:green"></i> <i ng-if="!item.IsRegistered" class="fa fa-circle" style="color:red"></i> </td> <td> {{item.Number}} </td> <td> <weak-warning warning="item.Warning"></weak-warning> {{item.FirstName}} </td> <td>{{item.LastName}}</td> <td class="col-responsive">{{item.Email}}</td> <td class="col-responsive">{{item.MobileNumber}}</td> <td class="col-responsive">{{item.OutboundCallerId}}</td> <td class="col-responsive">{{item.Phones}}</td> <td class="col-responsive">{{$ctrl.getSyncedWith(item)}}</td> <td class="col-btn"> <button mc-admin type="button" mc-stop-event ng-click="$ctrl.list.onItemDeleteClick(item)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i></button> </td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="$ctrl.list.itemsByPage" st-displayed-pages="7" st-page-change="$ctrl.onPageSwitch(newPage)"></div> </div> </div> </div> </div> <style>.tooltip.customClass .tooltip-inner{color:red;font-weight:400;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.tooltip.customClass .tooltip-arrow{display:none}</style> ';
      u.module("ng").run([
        "$templateCache",
        (t) => t.put("js/app/extensions/extension-list.component.html", XT),
      ]);
      let QT = (() => {
        class t {
          constructor(e, n, i, a, l, s, r, o, p, f, m) {
            (this.extensionListService = e),
              (this.$state = n),
              (this.$window = i),
              (this.$http = a),
              (this.$timeout = l),
              (this.$uibModal = s),
              (this.$translate = r),
              (this.extensionService = o),
              (this.activeDirectoryService = p),
              (this.customParametersService = f),
              (this.messageBoxService = m),
              (this.showPasswords = !1),
              (this.isTeamsEnabled = !1),
              (this.list = new Ma(
                n,
                m,
                o,
                "app.extension_editor.general",
                "app.extension_editor.voicemail",
                !0
              ));
          }
          $onInit() {
            this.$http({
              method: "GET",
              url: "/api/ExtensionList/IsTeamsEnabled",
            })
              .then((e) => {
                this.isTeamsEnabled = e.data;
              })
              .catch(() => {}),
              (this.extensionSubscription =
                this.extensionListService.extensions$.subscribe((e) => {
                  this.$timeout(() => {
                    this.list.setItems(e);
                  });
                }));
          }
          getSyncedWith(e) {
            return e.IsOffice365
              ? this.isTeamsEnabled && e.IsTeamsEnabled
                ? "MS 365+Teams"
                : "Microsoft 365"
              : "";
          }
          $onDestroy() {
            this.extensionSubscription.unsubscribe(),
              this.list.clearSelection();
          }
          onPageSwitch() {
            _t();
          }
          onRegenerateClick() {
            var e = this;
            return (0, Yt.Z)(function* () {
              try {
                const n = yield e.messageBoxService.regenerateBoxDialog();
                n.ConfigurationLink &&
                  (yield e.messageBoxService.confirmDialog(
                    "REPOS.CONFIRMATION.HEADER",
                    "EXTENSIONS.DIALOGS.REGENERATE.CONFIGURATION_LINK_CONFIRM"
                  )),
                  yield e.extensionService.regenerate({
                    ids: e.getSelectedIds(),
                    Options: n,
                  });
              } catch (n) {}
            })();
          }
          onSendWelcomeEmailClick() {
            this.extensionService
              .sendWelcomeEmail(this.getSelectedIds())
              .catch(() => u.noop());
          }
          importActiveDirectory() {
            this.activeDirectoryService
              .importActiveDirectory()
              .then((e) => {
                this.activeDirectoryService.gotoActiveDirectory(e);
              })
              .catch(() => u.noop());
          }
          getSelectedIds() {
            return this.list.getSelectedItems().map((e) => e.Id);
          }
          StatusButtonClick() {
            const e = this.getSelectedIds();
            this.extensionService
              .getExtensionStatus(e)
              .then((n) => {
                this.customParametersService
                  .getCustomProfileNames()
                  .then((i) => {
                    const a =
                        "Lunch" === i.data[0] ? "ProfileType.Lunch" : i.data[0],
                      l =
                        "Business Trip" === i.data[1]
                          ? "ProfileType.BusinessTrip"
                          : i.data[1];
                    return this.$uibModal.open({
                      size: "md",
                      controller: "ExtensionStatusDialogCtrl",
                      templateUrl:
                        "js/app/extensions/tpl/dialogs/set_extensions_status_modal.html",
                      backdrop: "static",
                      resolve: {
                        selectedRows: () => n.data.list,
                        customLabelAvailable2: () =>
                          a ||
                          this.$translate.instant(
                            "REPOS.TEXT.CUSTOM_PROFILE_1"
                          ),
                        customLabelOutOfOffice2: () =>
                          l ||
                          this.$translate.instant(
                            "REPOS.TEXT.CUSTOM_PROFILE_2"
                          ),
                      },
                      keyboard: !0,
                    });
                  })
                  .catch(() => u.noop());
              })
              .catch(() => u.noop());
          }
          CopyExtensionButtonClick() {
            this.$http
              .getApi("api/copyExtension")
              .then(
                (e) => (
                  (e.data.sourceExtension = this.list
                    .getSelectedItems()
                    .map((n) => n.Number)[0]),
                  this.$uibModal.open({
                    size: "md",
                    component: "copyExtensionDialogCtrl",
                    backdrop: "static",
                    resolve: { params: () => e.data },
                    keyboard: !0,
                  }).result
                )
              )
              .catch(() => u.noop());
          }
        }
        return (
          (t.$inject = [
            "ExtensionListSvc",
            "$state",
            "$window",
            "$http",
            "$timeout",
            "$uibModal",
            "$translate",
            "ExtensionSvc",
            "ActiveDirectorySvc",
            "CustomParametersSvc",
            "MessageBoxSvc",
          ]),
          t
        );
      })();
      u.module("app").component("extensionList", {
        templateUrl: "js/app/extensions/extension-list.component.html",
        controller: QT,
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/extensions/controllers/regenerate-dialog.component.html",
              '<div class="modal-content"> <div class="modal-header"> <button type="button" class="close" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="EXTENSIONS.DIALOGS.REGENERATE.REGENERATE_PASSWORDS"></h4> </div> <div class="modal-body" style="padding-bottom:0"> <label translate="EXTENSIONS.DIALOGS.REGENERATE.SELECT_WHAT_YOU_WANT_TO_RESET"> In case the selected extensions got compromised or you suspect that the credentials have leaked, regenerating the passwords will secure your extensions. Select from the below options which passwords you with 3CX to regenerate for you. </label> <br> <div> <checkbox-control-design prop="$ctrl.options.SipAuth" mc-title="EXTENSIONS.DIALOGS.REGENERATE.SIP_ID_AUTH_PASSWORD"></checkbox-control-design> <checkbox-control-design prop="$ctrl.options.WebclientPassword" mc-title="EXTENSIONS.DIALOGS.REGENERATE.WEBCLIENT_PASSWORD"></checkbox-control-design> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="$ctrl.configurationLink" ng-model-options="{getterSetter: true}"> <i></i> <span translate="EXTENSIONS.DIALOGS.REGENERATE.CONFIGURATION_LINK"></span></label> </div> <checkbox-control-design prop="$ctrl.options.VoicemailPIN" mc-title="EXTENSIONS.DIALOGS.REGENERATE.VOICEMAIL_PIN"></checkbox-control-design> <checkbox-control-design prop="$ctrl.options.DeskphonePassword" mc-title="EXTENSIONS.DIALOGS.REGENERATE.IP_PHONE_WEB_PASSWORD"></checkbox-control-design> <checkbox-control-design prop="$ctrl.options.SendWelcomeEmail" mc-disabled="$ctrl.options.ConfigurationLink" mc-title="EXTENSIONS.DIALOGS.REGENERATE.RESEND_WELCOME_EMAIL_SELECTED_EXTENSIONS"></checkbox-control-design> </div> </div> <div class="modal-footer"> <button type="submit" class="btn btn-success" ng-click="$ctrl.close({$value: $ctrl.options})" ng-disabled="!$ctrl.options.SipAuth\r\n                && !$ctrl.options.WebclientPassword\r\n                && !$ctrl.options.VoicemailPIN\r\n                && !$ctrl.options.ConfigurationLink\r\n                && !$ctrl.options.DeskphonePassword\r\n                && !$ctrl.options.SendWelcomeEmail" translate="REPOS.BUTTONS.PROCEED_BTN" id="btnOk">Proceed </button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel </button> </div> </div> '
            ),
        ]),
        u.module("app").component("regenerateDialog", {
          bindings: { resolve: "<", close: "&", dismiss: "&" },
          controller: class JT {
            constructor() {}
            get configurationLink() {
              return this.options.ConfigurationLink;
            }
            set configurationLink(c) {
              (this.options.ConfigurationLink = c),
                c && (this.options.SendWelcomeEmail = !0);
            }
            $onInit() {
              this.options = this.resolve.options;
            }
          },
          templateUrl:
            "js/app/extensions/controllers/regenerate-dialog.component.html",
        });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/extensions/controllers/click2talk.component.html",
            '<call-us-panel is-queue="$ctrl.type" active-object="$ctrl.activeObject.ExternalAccess._value"></call-us-panel> '
          ),
      ]);
      class nb {
        constructor(c, e) {
          (this.$parentScope = c),
            c.$watch(
              "activeObject",
              (n) => (this.activeObject = n),
              (this.type = e)
            );
        }
      }
      function Va(t) {
        const c = u.copy(t);
        return (c.value = function () {}), c;
      }
      function ib(t, c) {
        (this.label = t), (this.data = c);
      }
      u
        .module("app")
        .component("click2talk", {
          controller: [
            "$scope",
            "$stateParams",
            (t, c) => new nb(t.$parent, c.Type),
          ],
          templateUrl:
            "js/app/extensions/controllers/click2talk.component.html",
        }),
        u.module("app").controller("ExtensionsEditorCtrl", [
          "$scope",
          "$stateParams",
          "MyUtilsSvc",
          "EditSvc",
          "CustomParametersSvc",
          function (t, c, e, n, i) {
            (t.Id = c.Id),
              (t.WebClientLink =
                location.protocol +
                "//" +
                location.hostname +
                (location.port ? ":" + location.port : "") +
                "/webclient"),
              e
                .initEditController(t, n, "app.extensions")
                .catch(() => u.noop()),
              i
                .getCustomProfileNames()
                .then(function (a) {
                  (t.customLabelAvailable2 = a.data[0]),
                    (t.customLabelOutOfOffice2 = a.data[1]);
                })
                .catch(() => u.noop());
          },
        ]),
        u.module("app").controller("ExtensionEditorBlfTabCtrl", [
          "$scope",
          function (t) {
            t.addNew = function () {
              t.activeObject.BLFConfiguration.newItem();
            };
          },
        ]),
        u.module("app").controller("ExtensionEditorForwardingRulesTabCtrl", [
          "$scope",
          "$uibModal",
          "$translate",
          "$stateParams",
          function (t, c, e, n) {
            if (((t.profile = "Available"), void 0 !== n.RejectPath)) {
              const i = n.RejectPath[0].Name;
              "ForwardingAvailable" == i
                ? (t.profile = "Available")
                : "ForwardingAway" == i
                ? (t.profile = "Away")
                : "ForwardingAway2" == i
                ? (t.profile = "Out of office")
                : "ForwardingAvailable2" == i
                ? (t.profile = "Custom 1")
                : "ForwardingAway3" == i && (t.profile = "Custom 2");
            }
            t.openOfficeHoursDialog = function (i) {
              c.open({
                size: "lg",
                controller: [
                  "$scope",
                  "activeObject",
                  function (a, l) {
                    const s = l.OfficeHoursScheduleType.selected;
                    (a.useGlobalScheduling =
                      "ScheduleType.Global" == s ||
                      "ScheduleType.GlobalIncludeHolidays" == s),
                      (a.includeHolidays =
                        "ScheduleType.GlobalIncludeHolidays" == s ||
                        "ScheduleType.SpecificIncludeHolidays" == s),
                      (a.OfficeHoursSpecific = Va(l.OfficeHoursSpecific)),
                      (a.OfficeHoursBreaks = Va(l.OfficeHoursBreaks)),
                      (a.useBreakTimes = l.OfficeHoursBreaks._value.length > 0),
                      (a.save = function () {
                        if (a.useGlobalScheduling)
                          l.OfficeHoursScheduleType.value(
                            a.includeHolidays
                              ? "ScheduleType.GlobalIncludeHolidays"
                              : "ScheduleType.Global"
                          );
                        else {
                          if (!a.OfficeHoursSpecific._value.length)
                            return void (a.OfficeHoursSpecific.errorMsg =
                              e.instant(
                                "WARNINGS.SPECIFIC_OFFICE_HOURS_EMPTY"
                              ));
                          (a.OfficeHoursSpecific.errorMsg = void 0),
                            l.OfficeHoursScheduleType.value(
                              a.includeHolidays
                                ? "ScheduleType.SpecificIncludeHolidays"
                                : "ScheduleType.Specific"
                            );
                        }
                        l.OfficeHoursSpecific.value(
                          a.OfficeHoursSpecific._value
                        ),
                          l.OfficeHoursBreaks.value(
                            a.useBreakTimes ? a.OfficeHoursBreaks._value : []
                          ),
                          a.$close();
                      });
                  },
                ],
                templateUrl:
                  "js/app/extensions/tpl/dialogs/office_hours_dialog.html",
                keyboard: !0,
                resolve: { activeObject: () => i },
              }).result.catch(() => u.noop());
            };
          },
        ]),
        u.module("app").controller("ExtensionEditorGeneralTabCtrl", [
          "$scope",
          "$translate",
          function (t, c) {
            t.mytestprop = "testing";
          },
        ]),
        u.module("app").controller("ExtensionEditorOptionsTabCtrl", [
          "$scope",
          function (t) {
            (t.hasPhoneWithStunProvMethod = function () {
              if (void 0 === t.activeObject) return;
              let c = !1;
              return (
                t.activeObject.PhoneDevices._value.forEach((n) => {
                  "PROVISIONING_METHOD_STUN" ===
                    n.ProvisioningMethod.selected && (c = !0);
                }),
                c
              );
            }),
              (t.hasPhoneWithSBCProvMethod = function () {
                if (void 0 === t.activeObject) return;
                let c = !1;
                return (
                  t.activeObject.PhoneDevices._value.forEach((n) => {
                    "PROVISIONING_METHOD_SBC" ===
                      n.ProvisioningMethod.selected && (c = !0);
                  }),
                  c
                );
              });
          },
        ]),
        u.module("app").controller("ExtensionEditorPhoneProvisioningTabCtrl", [
          "$scope",
          "$stateParams",
          "$uibModal",
          "MyUtilsSvc",
          function (t, c, e, n) {
            t.$watch("activeObject.PhoneDevices._value", function (l) {
              void 0 !== t.activeObject &&
                (l &&
                  (function i(l) {
                    (t.tcxPhone = new ib("3CX App")),
                      (t.yourPhones = [t.tcxPhone]),
                      l.forEach(function (s) {
                        s.label = s.Model.value();
                        for (const r in s);
                        t.yourPhones.push(s);
                      }),
                      (t.vm = { selectedPhone: t.tcxPhone });
                  })(l),
                !0 !== t.activeObject.TCXPhoneIsSelected._value) &&
                (t.vm.selectedPhone = t.yourPhones[t.yourPhones.length - 1]);
            });
            const a = n.BaseCollectionServiceMethods("EditorList", function () {
              return {
                ObjectId: c.Id,
                PropertyPath: t.activeObject.PhoneDevices._path,
              };
            });
            (t.AddClick = function () {
              a.new()
                .then(function (s) {
                  e.open({
                    size: "lg",
                    templateUrl:
                      "js/app/extensions/tpl/dialogs/new_phone_device.html",
                    controller: "NewPhoneDeviceCtrl",
                    backdrop: "static",
                    keyboard: !0,
                    resolve: {
                      response: () => s,
                      macsOfExistedPhoneDevices: () =>
                        t.activeObject.PhoneDevices._value.map(function (o) {
                          return o.MacAddress._value;
                        }),
                    },
                  })
                    .result.then(function () {
                      t.activeObject.PhoneDevices.collectChanges();
                    })
                    .catch(() => u.noop());
                })
                .catch(() => u.noop());
            }),
              c.OpenNewDeviceEditor && t.AddClick(),
              (t.DeleteClick = function () {
                a.delByIds([t.vm.selectedPhone.Id])
                  .then(function () {
                    t.activeObject.PhoneDevices.collectChanges();
                  })
                  .catch(() => u.noop());
              });
          },
        ]),
        u.module("app").controller("ExtensionEditorVoicemailTabCtrl", [
          "$scope",
          "$stateParams",
          function (t, c) {
            t.Id = c.Id;
          },
        ]),
        u.module("app").filter("ExtensionFilter", [
          function () {
            return function (t, c) {
              if (!c.$ || "" === c.$.trim()) return t;
              const e = c.$.toLowerCase();
              return t.filter(function (n) {
                for (const i in n)
                  if (
                    n.hasOwnProperty(i) &&
                    "Password" !== i &&
                    "MacAddress" !== i
                  ) {
                    let a = n[i];
                    if ("Membership" === i) {
                      let l = "";
                      a.split(",").forEach((r) => {
                        r.includes("___FAVORITES___") || (l = l + r + " ");
                      }),
                        (a = l);
                    }
                    if (u.isString(a) && a.toLowerCase().includes(e)) return !0;
                  }
                return !1;
              });
            };
          },
        ]),
        u.module("app").controller("ExtensionStatusDialogCtrl", [
          "$scope",
          "$http",
          "selectedRows",
          "customLabelAvailable2",
          "customLabelOutOfOffice2",
          function (t, c, e, n, i) {
            var a;
            let l;
            (t.customLabelAvailable2 = n),
              (t.customLabelOutOfOffice2 = i),
              (t.onCurrentProfileChange = function (s) {
                for (const r in e) e[r].CurrentProfile = s;
                c
                  .postApi("api/ExtensionList/setCurrentProfile", {
                    Ids: e.map(function (r) {
                      return r.Id;
                    }),
                    Value: s,
                  })
                  .catch(() => u.noop()),
                  (t.profileOverride = ""),
                  (t.profileOverrideExpiration = "");
              }),
              (t.onQueueStatusChange = function (s) {
                for (const r in e) e[r].QueueStatus = s;
                c.postApi("api/ExtensionList/setQueueStatus", {
                  Ids: e.map(function (r) {
                    return r.Id;
                  }),
                  Value: s,
                }).catch(() => u.noop());
              }),
              (t.getTemporaryLabel = function (s) {
                switch (s.toLowerCase()) {
                  case "away":
                    return "ProfileType.Away";
                  case "out of office":
                    return "ProfileType.OutOfOffice";
                  case "custom 1":
                    return t.customLabelAvailable2;
                  case "custom 2":
                    return t.customLabelOutOfOffice2;
                }
              });
            for (const s in e)
              if (null != l || e[s].OverrideActiveNow) {
                if (l != e[s].CurrentProfile) {
                  l = "";
                  break;
                }
              } else l = e[s].CurrentProfile;
            (t.currentProfile =
              null !== (a = null == l ? void 0 : l.toString()) && void 0 !== a
                ? a
                : ""),
              1 === e.length &&
                e[0].OverrideProfile &&
                e[0].OverrideActiveNow &&
                ((t.profileOverride = t.getTemporaryLabel(
                  e[0].OverrideProfile
                )),
                (t.profileOverrideExpiration = e[0].ExpireOverride),
                (t.currentProfile = "temporary")),
              (l = void 0);
            for (const s in e)
              if (null != l) {
                if (l != e[s].QueueStatus) {
                  l = "";
                  break;
                }
              } else l = e[s].QueueStatus.toString();
            t.queueStatus = l.toString();
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/extensions/controllers/copy-extension-dialog.component.html",
            '<form ng-submit="$ctrl.copyExtension()" autocomplete="off" name="copyExtensionForm"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="EXTENSIONS.DIALOGS.COPY_EXTENSION.TITLE"> Copy Extension </h4> </div> <div class="modal-body" style="display:grid;grid-template-columns:auto auto;grid-column-gap:10px"> <div class="panel-body"> <div class="form-group"> <label> {{"EXTENSIONS.DIALOGS.COPY_EXTENSION.CLONE_OF_EXTENSION_WILL_BE_MADE" | translate:{extensionNumber: $ctrl.params.sourceExtension, copiedExt: $ctrl.params.extension} }} </label> </div> <uib-tabset class="tab-container" active="$ctrl.active"> <uib-tab index="0" heading="{{\'EXTENSIONS.DIALOGS.COPY_EXTENSION.CONFIGURATIONS_TAB\' | translate}}"> <div class="form-group"> <div class="form-group"> <label translate="EXTENSIONS.EDITOR.GENERAL.EXT_NUMBER"></label> <input type="text" class="form-control" placeholder="{{\'EXTENSIONS.EDITOR.GENERAL.EXT_NUMBER\'|translate}}" maxlength="50" name="extension" ng-change="copyExtensionForm.extension.$error = {}" ng-model="$ctrl.params.extension"> <div class="errors"> <ul ng-messages="copyExtensionForm.extension.$error"> <li ng-message="serverError"> <span class="halflings halflings-exclamation-sign"></span> <span>{{copyExtensionForm.extension.serverError|translate}}</span> </li> </ul> </div> </div> <div class="form-group"> <label translate="EXTENSIONS.EDITOR.GENERAL.FIRSTNAME"></label> <input type="text" class="form-control m-b" placeholder="{{\'EXTENSIONS.EDITOR.GENERAL.FIRSTNAME\'|translate}}" maxlength="50" name="firstName" ng-change="copyExtensionForm.firstName.$error = {}" ng-model="$ctrl.params.firstName"> </div> <div class="form-group"> <label translate="EXTENSIONS.EDITOR.GENERAL.LASTNAME"></label> <input type="text" class="form-control m-b" placeholder="{{\'EXTENSIONS.EDITOR.GENERAL.LASTNAME\'|translate}}" maxlength="50" name="lastName" ng-change="copyExtensionForm.lastName.$error = {}" ng-model="$ctrl.params.lastName"> </div> <div class="form-group"> <label translate="EXTENSIONS.EDITOR.GENERAL.EMAIL_ADDRESS"></label> <input type="text" class="form-control" placeholder="{{\'EXTENSIONS.EDITOR.GENERAL.EMAIL_ADDRESS\'|translate}}" maxlength="255" name="email" ng-change="copyExtensionForm.email.$error = {}" ng-model="$ctrl.params.email"> <div class="errors"> <ul ng-messages="copyExtensionForm.email.$error"> <li ng-message="serverError"> <span class="halflings halflings-exclamation-sign"></span> <span>{{copyExtensionForm.email.serverError|translate}}</span> </li> </ul> </div> </div> <div class="form-group"> <label translate="EXTENSIONS.EDITOR.GENERAL.MOBILE_NUMBER"></label> <input type="text" class="form-control" placeholder="{{\'EXTENSIONS.EDITOR.GENERAL.MOBILE_NUMBER\'|translate}}" maxlength="50" name="mobile" ng-change="copyExtensionForm.mobile.$error = {}" ng-model="$ctrl.params.mobile"> <div class="errors"> <ul ng-messages="copyExtensionForm.mobile.$error"> <li ng-message="serverError"> <span class="halflings halflings-exclamation-sign"></span> <span>{{copyExtensionForm.mobile.serverError|translate}}</span> </li> </ul> </div> </div> <div class="form-group"> <label translate="EXTENSIONS.EDITOR.GENERAL.OUTBOUND_CALLER_ID"></label> <input type="text" class="form-control m-b" placeholder="{{\'EXTENSIONS.EDITOR.GENERAL.OUTBOUND_CALLER_ID\'|translate}}" maxlength="50" name="outboundCallerId" ng-change="copyExtensionForm.outboundCallerId.$error = {}" ng-model="$ctrl.params.outboundCallerId"> </div> </div> </uib-tab> <uib-tab index="1" heading="{{\'EXTENSIONS.DIALOGS.COPY_EXTENSION.OPTIONS_TAB\' | translate}}"> <div class="form-group"> <label> {{"EXTENSIONS.DIALOGS.COPY_EXTENSION.WHICH_OPTIONS_YOU_WANT_TO_COPY" | translate:{extensionNumber: $ctrl.params.sourceExtension} }} </label> </div> <div class="form-group"> <checkbox-control-design prop="$ctrl.params.copyVoicemail" mc-title="EXTENSIONS.DIALOGS.COPY_EXTENSION.VOICEMAIL_PASSWORD_WILL_AUTO_GENERATED"></checkbox-control-design> <checkbox-control-design prop="$ctrl.params.copyForwardingRules" mc-title="EXTENSIONS.DIALOGS.COPY_EXTENSION.FORWARDING_RULES"></checkbox-control-design> <div class="col-sm-12"> <checkbox-control-design prop="$ctrl.params.copyExceptions" mc-disabled="!$ctrl.params.copyForwardingRules" mc-title="EXTENSIONS.DIALOGS.COPY_EXTENSION.INCLUDE_EXCEPTION_RULES"></checkbox-control-design> </div> <checkbox-control-design prop="$ctrl.params.copyBlf" mc-title="EXTENSIONS.DIALOGS.COPY_EXTENSION.BLF_OPTION"></checkbox-control-design> <checkbox-control-design prop="$ctrl.params.copyOptions" mc-title="EXTENSIONS.DIALOGS.COPY_EXTENSION.OPTIONS_RESTRICTIONS_RECORDINGS_OPTIONS"></checkbox-control-design> <checkbox-control-design prop="$ctrl.params.copyRights" mc-title="EXTENSIONS.DIALOGS.COPY_EXTENSION.RIGHTS_OPTION"></checkbox-control-design> </div> </uib-tab> </uib-tabset> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" id="btnNext" ng-if="$ctrl.active === 0" ng-click="$ctrl.active = 1" translate="REPOS.BUTTONS.NEXT_BTN">Next </button> <button type="submit" class="btn btn-default" data-dismiss="modal" id="btnFinish" ng-if="$ctrl.active === 1" translate="REPOS.BUTTONS.FINISH_BTN">Finish </button> <button type="button" class="btn btn-default" data-dismiss="modal" id="btnCancel" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN">Cancel </button> </div> </div> </form> '
          ),
      ]);
      let ob = (() => {
        class t {
          constructor(e, n) {
            (this.$http = e), (this.$scope = n), (this.active = 0);
          }
          copyExtension() {
            this.$http
              .postApi("api/copyExtension", this.params)
              .then(() => {
                this.close();
              })
              .catch((e) => {
                e.status == Je.Status522ValidationError &&
                  (this.$scope.copyExtensionForm[e.data.Field].$setValidity(
                    "serverError",
                    !1
                  ),
                  (this.$scope.copyExtensionForm[e.data.Field].serverError =
                    e.data.Message),
                  (this.active = 0));
              });
          }
          $onInit() {
            this.params = this.resolve.params;
          }
        }
        return (t.$inject = ["$http", "$scope"]), t;
      })();
      u
        .module("app")
        .component("copyExtensionDialogCtrl", {
          templateUrl:
            "js/app/extensions/controllers/copy-extension-dialog.component.html",
          bindings: { resolve: "<", close: "&", dismiss: "&" },
          controller: ob,
        }),
        u.module("app").controller("NewPhoneDeviceCtrl", [
          "$scope",
          "EditSvc",
          "MyUtilsSvc",
          "$translate",
          "response",
          "macsOfExistedPhoneDevices",
          "PhoneTemplatesSvc",
          function (t, c, e, n, i, a, l) {
            e.initModalEditController(t, c, i.data).catch(() => u.noop()),
              l.getParsedPhoneModels().then(
                (s) => {
                  (t.templates = s), (t.templatesLoaded = !0);
                },
                () => u.noop()
              ),
              (t.saveProxy = () => {
                const s = t.activeObject.MacAddress._value.toLowerCase();
                return "" == s
                  ? ((t.activeObject.MacAddress.class = "has-error"),
                    void (t.activeObject.MacAddress.errorMsg = n.instant(
                      "WARNINGS.STRING_PROPERTY_INVALID_MAC_ADDRESS"
                    )))
                  : a.find((o) => o.toLowerCase() === s)
                  ? ((t.activeObject.MacAddress.class = "has-error"),
                    void (t.activeObject.MacAddress.errorMsg = n.instant(
                      "WARNINGS.MAC_BELONGS_TO_ANOTHER_PHONE"
                    )))
                  : void t.saveClick();
              });
          },
        ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/extensions/controllers/prov-link.component.html",
              '<div class="panel panel-default" style="height:100%"> <div class="panel-body"> <div> <label translate="EXTENSIONS.EDITOR.CLIENT.SCAN_QR_CODE"></label> </div> <qrcode error-correction-level="\'H\'" data="$ctrl.getProvLink()"></qrcode> </div> </div> '
            ),
        ]),
        u.module("app").component("provLink", {
          controller: class cb {
            constructor() {}
            getProvLink() {
              return this.activeObject
                ? (
                    window.location.protocol +
                    "//" +
                    window.location.host +
                    this.activeObject.MyPhoneProvLink._value
                  ).toUpperCase()
                : "";
            }
          },
          bindings: { activeObject: "<" },
          templateUrl: "js/app/extensions/controllers/prov-link.component.html",
        }),
        u
          .module("app")
          .component("exceptions", {
            templateUrl:
              "js/app/extensions/tpl/forwarding_rules/exceptions.html",
            bindings: { activeObject: "<", id: "<" },
          });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/extensions/directives/custom-queue-ringtones.component.html",
            '<div class="form-group m-b" ng-if="!$ctrl.prop.hide && ($ctrl.queues.length > 0)"> <label translate="EXTENSIONS.EDITOR.PROVISIONING.CUSTOM_QUEUE_RINGTONES"></label> <button class="btn btn-primary" ng-click="$ctrl.selectRingTones()" type="button"> <i class="halflings halflings-plus"></i> {{\'EXTENSIONS.EDITOR.PROVISIONING.CUSTOM_QUEUE_RINGTONES_BTN\'|translate}} </button> </div> '
          ),
      ]);
      let hb = (() => {
        class t {
          constructor(e, n, i) {
            (this.$uibModal = e),
              (this.$http = n),
              (this.PhoneTemplatesSvc = i),
              (this.queues = []);
          }
          $onChanges(e) {
            e.ext &&
              this.ext &&
              this.getQueues().then((n) => {
                this.queues = n;
              });
          }
          getQueues() {
            return this.$http
              .getApi("api/queueList/getQueuesByAgent", {
                params: { extensionNumber: this.ext },
              })
              .then((e) => e.data);
          }
          selectRingTones() {
            this.PhoneTemplatesSvc.getTemplateByName(this.templateName)
              .then((e) => this.showEditorDialog(this.queues, e.data))
              .catch(() => u.noop());
          }
          showEditorDialog(e, n) {
            return this.$uibModal
              .open({
                component: "customQueueRingtonesModal",
                backdrop: "static",
                resolve: {
                  queueRingTones: () => n.QueueRingTones,
                  queues() {
                    const i = [];
                    return (
                      e.forEach((a) => {
                        i.push({
                          queueNumber: a.Number,
                          name: `${a.Number} ${a.Name}`,
                        });
                      }),
                      i
                    );
                  },
                  vm: () =>
                    (function ub(t, c, e) {
                      const n = [];
                      if (0 === c.length) return n;
                      for (const i in t) {
                        if (n.length >= e.MaxQueueCustomRingTones) break;
                        !c.some((a) => a.Number === i) ||
                          n.push({ queueNumber: i, ringTone: t[i] });
                      }
                      for (
                        ;
                        n.length < e.MaxQueueCustomRingTones &&
                        n.length < c.length;

                      )
                        n.push({
                          queueNumber: void 0,
                          ringTone: e.DefaultQueueRingTone,
                        });
                      return n;
                    })(this.prop.value(), e, n),
                },
              })
              .result.then((i) => {
                const a = {};
                i.forEach((l) => {
                  !l.ringTone ||
                    !l.queueNumber ||
                    (a[l.queueNumber] = l.ringTone);
                }),
                  this.prop.value(a);
              });
          }
        }
        return (t.$inject = ["$uibModal", "$http", "PhoneTemplatesSvc"]), t;
      })();
      u.module("app").component("customQueueRingtones", {
        bindings: { prop: "<", templateName: "<", ext: "<" },
        controller: hb,
        templateUrl:
          "js/app/extensions/directives/custom-queue-ringtones.component.html",
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/extensions/directives/custom-queue-ringtones-modal.component.html",
              '<div class="modal-header" data-backdrop="static"> <button type="button" class="close" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="EXTENSIONS.EDITOR.PROVISIONING.CUSTOM_QUEUE_RINGTONES_BTN">Customize queue ringtones</h4> </div> <div class="modal-body"> <div class="form-group"> <table class="table table-striped"> <thead> <tr> <th style="width:50%">Queue</th> <th style="width:50%">Custom ringtone</th> </tr> </thead> <tbody> <tr ng-repeat="item in $ctrl.resolve.vm"> <td> <select class="form-control" ng-options="queue.queueNumber as queue.name for queue in $ctrl.queues(item.queueNumber)" ng-model="item.queueNumber"> <option value="" label="{{\'CALL_REPORTS.STATISTICS.SELECT_QUEUE\'|translate}}"></option> </select> </td> <td> <select class="form-control" ng-options="ringTone for ringTone in $ctrl.resolve.queueRingTones" ng-model="item.ringTone"> </select> </td> </tr> </tbody> </table> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$ctrl.close({$value: $ctrl.resolve.vm})" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save </button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close </button> </div> '
            ),
        ]),
        u.module("app").component("customQueueRingtonesModal", {
          bindings: { resolve: "<", close: "&", dismiss: "&" },
          controller: class mb {
            constructor() {}
            queues(c) {
              const e = this.resolve.vm.map((n) => n.queueNumber);
              return this.resolve.queues.filter(
                (n) => c === n.queueNumber || !e.includes(n.queueNumber)
              );
            }
          },
          templateUrl:
            "js/app/extensions/directives/custom-queue-ringtones-modal.component.html",
        }),
        u.module("app").directive("availableProfileControl", [
          function () {
            return {
              restrict: "E",
              scope: { profile: "=", greeting: "=", extension: "@" },
              templateUrl:
                "js/app/extensions/tpl/forwarding_rules/available.html",
            };
          },
        ]),
        u.module("app").directive("awayProfileControl", [
          function () {
            return {
              restrict: "E",
              scope: { profile: "=", greeting: "=" },
              templateUrl: "js/app/extensions/tpl/forwarding_rules/away.html",
            };
          },
        ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/extensions/components/blf-control.html",
              '<i dnd-handle class="fa fa-ellipsis-v m-r-sm" style="cursor:grab;font-size:20px;flex:0 0 10px;margin-top:8px;align-self:start"></i> <span class="m-r-sm" style="flex:0 0 30px">{{$ctrl.index+1}}</span> <select-enum-control class="m-r-sm" prop="$ctrl.blf.BlfType" mc-inline="true" style="flex:1"></select-enum-control> <div style="flex:1;min-width:0" class="m-r-sm" ng-switch="$ctrl.blf.BlfType.selected"> <div ng-if="$ctrl.blf.BlfType.selected == \'BlfType.Blf\' || $ctrl.blf.BlfType.selected == \'BlfType.SpeedDial\'"> <select-control mc-inline="true" prop="$ctrl.blf.Extension"></select-control> </div> <div ng-switch-when="BlfType.SharedParking"> <select-control mc-inline="true" prop="$ctrl.blf.SPExtension"></select-control> </div> <div ng-switch-when="BlfType.CustomSpeedDial" style="margin-bottom:-15px"> <text-control prop="$ctrl.blf.CustomNumber" placeholder="SETTINGS.PBX.TBL_HEADING_NUMBER"></text-control> <text-control prop="$ctrl.blf.CustomFirstName" placeholder="EXTENSIONS.EDITOR.GENERAL.FIRSTNAME"></text-control> <text-control prop="$ctrl.blf.CustomLastName" placeholder="EXTENSIONS.EDITOR.GENERAL.LASTNAME"></text-control> </div> <div ng-switch-when="BlfType.QueueLogin"> <select-enum-control mc-inline="true" prop="$ctrl.blf.QueueStatus"></select-enum-control> </div> <div ng-switch-when="BlfType.ProfileStatus"> <select class="form-control" ng-model="$ctrl.blf.Profile.value" ng-model-options="{getterSetter: true}"> <option value="ProfileType.Available" translate="ProfileType.Available"></option> <option value="ProfileType.Away" translate="ProfileType.Away"></option> <option value="ProfileType.DND" translate="ProfileType.OutOfOffice"></option> <option value="ProfileType.Available2" translate="{{$ctrl.customLabelAvailable2 || \'ProfileType.Lunch\'}}"></option> <option value="ProfileType.OutOfOffice2" translate="{{$ctrl.customLabelOutOfOffice2 || \'ProfileType.BusinessTrip\'}}"></option> </select> </div> <div style="vertical-align:middle;padding-top:6px" ng-if="!$ctrl.isLineKeySupported($ctrl.blf.BlfType.selected)"> <span class="halflings halflings-info-sign"></span> {{\'EXTENSIONS.EDITOR.BLF.NOT_SUPPORTED\'|translate}} </div> </div> <button type="button" class="btn btn-default" style="justify-self:left" ng-click="$ctrl.onItemDeleteClick()"> <i class="fa fa-times"></i> </button> '
            ),
        ]),
        u.module("app").component("blfControl", {
          bindings: {
            index: "<",
            blf: "=",
            supported: "=",
            onItemDeleteClick: "&",
          },
          controller: class Sb {
            isLineKeySupported(c) {
              return (
                "BlfType.None" === c ||
                !1 === c.Defined ||
                this.supported.some((e) => "BlfType." + e === c)
              );
            }
          },
          templateUrl: "js/app/extensions/components/blf-control.html",
        });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/extensions/components/extension-rights-control.html",
            '<uib-tabset> <uib-tab heading="{{grp.GroupName._value}}" ng-repeat="grp in $ctrl.grp._value"> <select-control prop="grp.RoleType"></select-control> <rights-panel rights="grp.MemberRights._value"></rights-panel> </uib-tab> </uib-tabset> '
          ),
      ]);
      let Cb = (() => {
        class t {
          constructor(e) {
            this.defaultValue = e.getDifferentValue();
          }
          filterRoles(e) {
            return null == e
              ? void 0
              : e.filter((n) => "UserRoleType.System" !== n);
          }
          getLabel(e) {
            return e.GroupName._value;
          }
          $onChanges(e) {
            var n;
            this.selectedGroup =
              null === (n = this.grp) || void 0 === n ? void 0 : n._value[0];
          }
        }
        return (t.$inject = ["WrapperSvc"]), t;
      })();
      u
        .module("app")
        .component("extensionRightsControl", {
          controller: Cb,
          bindings: { grp: "=" },
          templateUrl:
            "js/app/extensions/components/extension-rights-control.html",
        }),
        u.module("app").directive("fwdTypeControl", [
          function () {
            return {
              restrict: "E",
              scope: { fwd: "=" },
              controller: [function () {}],
              templateUrl:
                "js/app/extensions/tpl/forwarding_rules/fwd-type-control.html",
            };
          },
        ]),
        u.module("app").directive("phoneVlan", [
          function () {
            return {
              restrict: "E",
              scope: { activeObject: "=", captionEnabled: "@", captionId: "@" },
              templateUrl: "js/app/extensions/directives/phone-vlan.html",
            };
          },
        ]),
        u.module("app").directive("phoneLldp", [
          function () {
            return {
              restrict: "E",
              scope: { activeObject: "=", captionEnabled: "@", captionId: "@" },
              templateUrl: "js/app/extensions/directives/phone-lldp.html",
            };
          },
        ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/extensions/directives/phone-device.html",
              '<panel mc-title="EXTENSIONS.EDITOR.PROVISIONING.IP_PHONE"> <provisioning-method device="$ctrl.activeObject" allow-lan="$ctrl.allowLanOnly" block-remote="$ctrl.blockRemoteTunnel"></provisioning-method> </panel> <panel mc-title="EXTENSIONS.EDITOR.FORWARDING_RULES.STATUS_AVAILABLE.STATUS_AVAILABLE_OPTIONS_TITLE"> <select-enum-control prop="$ctrl.activeObject.Language" mc-title="EXTENSIONS.EDITOR.PROVISIONING.PHONE_DISPLAY_LANGUAGE" mc-no-translate></select-enum-control> <select-enum-control prop="$ctrl.activeObject.TimeZone" mc-title="EXTENSIONS.EDITOR.PROVISIONING.TIMEZONE" mc-no-translate></select-enum-control> <select-enum-control prop="$ctrl.activeObject.DateFormat" mc-title="EXTENSIONS.EDITOR.PROVISIONING.DATE_FORMAT" mc-no-translate></select-enum-control> <select-enum-control prop="$ctrl.activeObject.TimeFormat" mc-title="EXTENSIONS.EDITOR.PROVISIONING.TIME_FORMAT" mc-no-translate></select-enum-control> <password-control mc-title="EXTENSIONS.EDITOR.PROVISIONING.PHONE_WEB_PAGE_PASS" prop="$ctrl.activeObject.DeskphonePassword"></password-control> <select-enum-control prop="$ctrl.activeObject.Srtp" mc-title="EXTENSIONS.EDITOR.PROVISIONING.SRTP" mc-no-translate></select-enum-control> <select-enum-control prop="$ctrl.activeObject.XferType" mc-title="EXTENSIONS.EDITOR.PROVISIONING.XFER_TYPE"></select-enum-control> <phone-lldp active-object="$ctrl.activeObject.PhoneLldp._value" ng-if="!$ctrl.activeObject.PhoneLldp.hide"> </phone-lldp> <select-enum-control prop="$ctrl.activeObject.RingTone" mc-title="EXTENSIONS.EDITOR.PROVISIONING.RING_TONE" mc-no-translate></select-enum-control> <custom-queue-ringtones template-name="$ctrl.activeObject.TemplateName.value()" ext="$ctrl.ext" prop="$ctrl.activeObject.CustomQueueRingtones"></custom-queue-ringtones> <select-enum-control prop="$ctrl.activeObject.QueueRingTone" mc-title="EXTENSIONS.EDITOR.PROVISIONING.QUEUE_RING_TONE" mc-no-translate></select-enum-control> <select-enum-control prop="$ctrl.activeObject.PowerLed" mc-title="EXTENSIONS.EDITOR.PROVISIONING.POWER_LED" mc-no-translate></select-enum-control> <select-enum-control prop="$ctrl.activeObject.BacklightTimeout" mc-title="EXTENSIONS.EDITOR.PROVISIONING.BACKLIGHT_TIMEOUT" mc-no-translate></select-enum-control> <select-enum-control prop="$ctrl.activeObject.ScreensaverTimeout" mc-title="EXTENSIONS.EDITOR.PROVISIONING.SCREENSAVER_TIMEOUT" mc-no-translate></select-enum-control> <div ng-if="!$ctrl.activeObject.EnableMulticastRingGroups.hide && $ctrl.activeObject.EnableMulticastRingGroups._value"> <ring-groups-control prop="$ctrl.activeObject.MulticastRingGroups"></ring-groups-control> </div> </panel> <panel mc-title="EXTENSIONS.EDITOR.PROVISIONING.SELECT_LOGO" ng-if="!$ctrl.activeObject.PhoneLogo.hide"> <strong>{{$ctrl.activeObject.LogoDescription._value}}</strong> <select-file-media-control mc-manage-title="SYSTEM_STATUS.DIALOGS.MANAGE.TITLE_IMAGE" mc-is-audio="false" mc-no-items-title="WARNINGS.NO_IMAGES_UPLOADED" mc-accept="$ctrl.activeObject.LogoFileExtensionAllowed.value()" prop="$ctrl.activeObject.PhoneLogo"></select-file-media-control> </panel> <panel ng-if="$ctrl.activeObject.Codecs.possibleValues && ($ctrl.activeObject.Codecs.possibleValues.length > 0)" mc-title="EXTENSIONS.EDITOR.PROVISIONING.CODECS"> <strong translate="BRIDGES.EDITOR.ADVANCED.CODEC_PRIORITIES">Codec priorities</strong> <set-control move-disabled="activeObject.IsBulk" prop="$ctrl.activeObject.Codecs" mc-title="BRIDGES.EDITOR.DIALOGS.ADD_CODECS.TITLE" button-title="REPOS.BUTTONS.OK_BTN"> <set-control-codecs></set-control-codecs> </set-control> </panel> <panel mc-title="EXTENSIONS.EDITOR.PROVISIONING.VLAN_CONFIGURATION" ng-if="$ctrl.activeObject.VlanWan !== undefined && (!$ctrl.activeObject.VlanWan.hide || !$ctrl.activeObject.VlanPc.hide)"> <phone-vlan active-object="$ctrl.activeObject.VlanWan._value" ng-if="!$ctrl.activeObject.VlanWan.hide" caption-enabled="EXTENSIONS.EDITOR.PROVISIONING.VLAN_WAN_ENABLED" caption-id="EXTENSIONS.EDITOR.PROVISIONING.VLAN_WAN_ID"> </phone-vlan> <phone-vlan active-object="$ctrl.activeObject.VlanPc._value" ng-if="!$ctrl.activeObject.VlanPc.hide" caption-enabled="EXTENSIONS.EDITOR.PROVISIONING.VLAN_PC_ENABLED" caption-id="EXTENSIONS.EDITOR.PROVISIONING.VLAN_PC_ID"> </phone-vlan> </panel> '
            ),
        ]),
        u
          .module("app")
          .component("phoneDevice", {
            bindings: {
              activeObject: "=",
              ext: "<",
              allowLanOnly: "<",
              blockRemoteTunnel: "<",
            },
            controller: class vb {},
            templateUrl: "js/app/extensions/directives/phone-device.html",
          });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/extensions/directives/tcx-phone-device.html",
              '<panel mc-title="EXTENSIONS.EDITOR.PROVISIONING.NETWORK"> <div class="form-group"> <select-enum-control prop="activeObject.MyPhoneLocalInterface" mc-title="EXTENSIONS.EDITOR.PROVISIONING.NI_REGISTR_PROV" mc-no-translate> </select-enum-control> <select-enum-control prop="activeObject.MyPhoneSipTransport" mc-title="EXTENSIONS.EDITOR.PROVISIONING.SIP_TRANSPORT"></select-enum-control> <select-enum-control prop="activeObject.MyPhoneRtpMode" mc-title="EXTENSIONS.EDITOR.PROVISIONING.RTP_MODE"></select-enum-control> <select-enum-control prop="activeObject.MyPhoneDtmf" mc-title="EXTENSIONS.EDITOR.PROVISIONING.DTMF"></select-enum-control> <checkbox-control prop="activeObject.MyPhonePush" mc-title="EXTENSIONS.EDITOR.PROVISIONING.ENABLE_PUSH"></checkbox-control> <checkbox-control prop="activeObject.MyPhoneReprovisionOnStartup" mc-title="EXTENSIONS.EDITOR.PROVISIONING.REPROVISION_ON_STARTUP"></checkbox-control> <checkbox-control prop="activeObject.MyPhoneUseTunnel" mc-title="EXTENSIONS.EDITOR.PROVISIONING.USE_3CX_TUNNEL"></checkbox-control> <div class="information" ng-show="activeObject.MyPhoneUseTunnel.value() && activeObject.BlockRemoteTunnel.value()"> <ul> <li> <span class="fa fa-info-circle" style="color:#004085"></span> {{\'WARNINGS.NOTE_IF_3CXAPP_WORK_TUNNEL_MODE\' | translate}} </li> </ul> </div> <div class="information" ng-show="!activeObject.MyPhoneUseTunnel.value() && activeObject.AllowLanOnly.value()"> <ul> <li> <span class="fa fa-info-circle" style="color:#004085"></span> {{\'WARNINGS.NOTE_IF_3CXAPP_BLOCK_TUNNEL_MODE\' | translate}} </li> </ul> </div> </div> </panel> <panel mc-title="EXTENSIONS.EDITOR.PROVISIONING.PREFERENCES"> <select-enum-control prop="activeObject.MyPhoneUseIn3cxPhoneMode" mc-title="EXTENSIONS.EDITOR.PROVISIONING.DEFAULT_PHONE_DDM"></select-enum-control> </panel> <panel mc-title="EXTENSIONS.EDITOR.RIGHTS.ACCESS_TITLE"> <checkbox-control prop="activeObject.MyPhoneDisallowUse" mc-title="EXTENSIONS.EDITOR.PROVISIONING.BLOCK_USE_OF_3CX_CLIENT"></checkbox-control> <checkbox-control prop="activeObject.MyPhoneHideForwardings" mc-title="EXTENSIONS.EDITOR.PROVISIONING.HIDE_FORWARD_RULES"></checkbox-control> <checkbox-control prop="activeObject.MyPhoneShowRecordings" mc-title="EXTENSIONS.EDITOR.PROVISIONING.SHOW_CALL_RECORDINGS"></checkbox-control> <div class="col-sm-12"> <checkbox-control prop="activeObject.MyPhoneAllowDeleteRecordings" mc-title="EXTENSIONS.EDITOR.PROVISIONING.ALLOW_DELETETION_REC"></checkbox-control> </div> </panel> '
            ),
        ]),
        u.module("app").directive("tcxPhoneDevice", [
          function () {
            return {
              restrict: "E",
              scope: { activeObject: "=" },
              templateUrl: "js/app/extensions/directives/tcx-phone-device.html",
            };
          },
        ]);
      let Ob = (() => {
        class t {
          constructor(e) {
            this.$translate = e;
          }
          $onChanges() {
            this.warning && this.warning.invalidPasswords.length > 0
              ? this.$translate([
                  "WARNINGS.WEAK_PASSWORD_CHECK_AREAS",
                  ...this.warning.invalidPasswords,
                  this.warning.highAlert,
                ])
                  .then((e) => {
                    const n = e["WARNINGS.WEAK_PASSWORD_CHECK_AREAS"];
                    delete e["WARNINGS.WEAK_PASSWORD_CHECK_AREAS"];
                    const i = e[this.warning.highAlert];
                    delete e[this.warning.highAlert],
                      (this.translatedWarning = `${i} ${n}: ${Object.values(
                        e
                      ).join(", ")}`);
                  })
                  .catch(() => u.noop())
              : (this.translatedWarning = "");
          }
        }
        return (t.$inject = ["$translate"]), t;
      })();
      u.module("app").component("weakWarning", {
        controller: Ob,
        bindings: { warning: "<" },
        template:
          '<warning-tooltip alert="$ctrl.translatedWarning"></warning-tooltip>',
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/extensions/directives/sbc-select.component.html",
            '<div class="form-group m-b"> <label>{{\'EXTENSIONS.EDITOR.PROVISIONING.IP_ADDRESS_OF_3CX_SESSION_BORDER_CONTROLLER\'|translate}}</label> <ui-select ng-model="$ctrl.prop.value" ng-model-options="{getterSetter: true}" search-enabled="false"> <ui-select-match> <span ng-bind="$ctrl.getSbcById($ctrl.prop.value())"></span> </ui-select-match> <ui-select-choices repeat="sbc in $ctrl.getSbcList($select.search)"> <span ng-bind="$ctrl.getSbcById(sbc)"></span> </ui-select-choices> </ui-select> <div class="errors"> <ul> <li ng-show="$ctrl.prop.errorMsg"> <span class="halflings halflings-exclamation-sign"></span> {{$ctrl.prop.errorMsg}} </li> </ul> </div> </div> '
          ),
      ]);
      let Lb = (() => {
        class t {
          constructor(e) {
            (this.$http = e), (this.sbcList = []);
          }
          getSbcById(e) {
            const n = this.sbcList.filter((i) => i.Id === e);
            return n.length > 0 ? n[0].Name : "";
          }
          getSbcList(e) {
            const n = this.sbcList.map((i) => i.Id);
            return e && !n.includes(e) && n.unshift(e), n;
          }
          $onInit() {
            this.$http
              .getApi("api/trunkList/getSbcList?skip_empty=true")
              .then((e) => {
                this.sbcList = e.data;
              });
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u
        .module("app")
        .component("sbcSelect", {
          bindings: { prop: "<" },
          controller: Lb,
          templateUrl: "js/app/extensions/directives/sbc-select.component.html",
        }),
        u.module("app").directive("stLoadSelectRow", [
          "stConfig",
          function (t) {
            return {
              restrict: "A",
              require: "^stTable",
              scope: { row: "=stLoadSelectRow" },
              link(c, e, n, i) {
                const a = n.stSelectMode || t.select.mode;
                c.row.isSelected &&
                  (delete c.row.isSelected, i.select(c.row, a)),
                  e.bind("click", function () {
                    c.$apply(function () {
                      i.select(c.row, a);
                    });
                  }),
                  c.$watch("row.isSelected", function (l) {
                    !0 === l
                      ? e.addClass(t.select.selectedClass)
                      : e.removeClass(t.select.selectedClass);
                  });
              },
            };
          },
        ]),
        u.module("app").directive("extensionAfterSave", [
          "SystemStatusSvc",
          (t) => ({
            controller: [
              "$scope",
              function (c) {
                c.$on("afterSave", (e, n) => {
                  t.userChanged$.next(!0);
                });
              },
            ],
          }),
        ]);
      var Db = w(14818),
        Mb = w(85363),
        Ja = w(34986),
        Ut = (() => {
          return (
            ((t = Ut || (Ut = {}))[(t.Reset = 0)] = "Reset"),
            (t[(t.Update = 1)] = "Update"),
            (t[(t.Delete = 2)] = "Delete"),
            Ut
          );
          var t;
        })(),
        $t = (() => {
          return (
            ((t = $t || ($t = {}))[(t.AuthId = 0)] = "AuthId"),
            (t[(t.AuthPass = 1)] = "AuthPass"),
            (t[(t.ManagementConsole = 2)] = "ManagementConsole"),
            (t[(t.Deskphone = 3)] = "Deskphone"),
            $t
          );
          var t;
        })(),
        _n = (() => {
          return (
            ((t = _n || (_n = {}))[(t.None = 0)] = "None"),
            (t[(t.ExternalExt = 1)] = "ExternalExt"),
            _n
          );
          var t;
        })();
      function wb(t) {
        if (t)
          return {
            invalidPasswords: t[0]
              ? t[0].map((c) => {
                  switch (c) {
                    case $t.AuthId:
                      return "EXTENSIONS.WEAK.AUTH_ID";
                    case $t.AuthPass:
                      return "EXTENSIONS.WEAK.AUTH_PASS";
                    case $t.Deskphone:
                      return "EXTENSIONS.WEAK.DESKPHONE_PASS";
                    case $t.ManagementConsole:
                      return "EXTENSIONS.WEAK.PASS_MANAGEMENT_CONSOLE";
                  }
                })
              : [],
            highAlert:
              t[1] == _n.ExternalExt
                ? "EXTENSIONS.WEAK.EXTERNAL_EXT_ALERT"
                : "",
          };
      }
      function es(t) {
        if (t)
          return {
            Id: t[0],
            IsRegistered: t[2],
            Number: t[4],
            FirstName: t[5],
            LastName: t[6],
            Email: t[7],
            Password: t[8],
            MobileNumber: t[9],
            OutboundCallerId: t[10],
            Phones: t[11],
            MacAddress: t[12],
            Membership: t[13],
            CurrentProfile: t[14],
            DND: t[15],
            Warning: wb(t[16]),
            DisplayName: (t[5] + " " + t[6]).trim(),
            DisplayNameReverse: (t[6] + " " + t[5]).trim(),
            IsOffice365: t[17],
            IsTeamsEnabled: t[18],
          };
      }
      class Pb {
        constructor(c, e) {
          (this.zone = c), (this.scheduler = e);
        }
        schedule(...c) {
          return this.zone.runOutsideAngular(() =>
            this.scheduler.schedule.apply(this.scheduler, c)
          );
        }
        now() {
          return this.scheduler.now();
        }
      }
      class Hb {
        constructor(c, e) {
          (this.zone = c), (this.scheduler = e);
        }
        schedule(...c) {
          return this.zone.run(() =>
            this.scheduler.schedule.apply(this.scheduler, c)
          );
        }
        now() {
          return this.scheduler.now();
        }
      }
      let Ub = (() => {
        class t {
          constructor(e, n, i) {
            (this.channelR = e),
              (this.zone = i),
              (this._extensions$ = new St.t(1)),
              (this.extensions = {}),
              n.$on("$stateChangeStart", (a, l) => {
                var s;
                "login" === l.name &&
                  (null === (s = this.branch$) ||
                    void 0 === s ||
                    s.unsubscribe(),
                  (this.branch$ = void 0),
                  this._extensions$.next([]));
              });
          }
          get extensions$() {
            return (
              this.branch$ ||
                (this.branch$ = this.channelR
                  .sendBranch(
                    { subName: "SubscribeExtensions" },
                    this.channelR.sub("UpdateExtensions").pipe(
                      (0, Db.e)(
                        200,
                        (function jb(t, c) {
                          return new Pb(t, c);
                        })(this.zone, Ja.z)
                      ),
                      (0, mn.h)((e) => e.length > 0),
                      (0, Mb.Q)(
                        (function kb(t, c) {
                          return new Hb(t, c);
                        })(this.zone, Ja.z)
                      ),
                      (0, We.U)((e) => this.updateExtensions(e))
                    )
                  )
                  .subscribe()),
              this._extensions$
            );
          }
          updateExtensions(e) {
            e.forEach(([n, i]) => {
              switch (n) {
                case Ut.Reset:
                case Ut.Update:
                  this.extensions = i.reduce(
                    (a, l) => {
                      const s = es(l);
                      return (a[s.Id] = Object.assign(a[s.Id] || {}, s)), a;
                    },
                    n === Ut.Update ? this.extensions : {}
                  );
                  break;
                case Ut.Delete:
                  i.map((a) => es(a)).forEach((a) => {
                    delete this.extensions[a.Id];
                  });
              }
            }),
              this._extensions$.next(
                Object.values(this.extensions).sort((n, i) =>
                  n.Number.localeCompare(i.Number)
                )
              );
          }
        }
        return (t.$inject = ["ChannelRSvc", "$rootScope", "NgZone"]), t;
      })();
      u.module("app").service("ExtensionListSvc", Ub);
      let $b = (() => {
        class t extends ft {
          constructor(e) {
            super("ExtensionList", void 0, e);
          }
          exportByNumbers(e) {
            return this.$http.postApi(this.url + "/export", e);
          }
          regenerate(e) {
            return this.$http.postApi(this.url + "/regenerate", e);
          }
          sendWelcomeEmail(e) {
            return this.$http.postApi(this.url + "/sendWelcomeEmail", e);
          }
          getExtensionStatus(e) {
            return this.$http.postApi(
              this.url + "/getSelectedExtensionStatus",
              e
            );
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("ExtensionSvc", $b),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/faxes/add_fax_dialog.html",
                '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="FAX.NEW_FAX_EXTENSION" ng-if="activeObject.IsNew">New Fax Extension</h4> <h4 class="modal-title" translate="FAX.EDITOR.EDIT_FAX" ng-if="!activeObject.IsNew">Edit Fax</h4> </div> <div class="modal-body"> <text-control prop="activeObject.Number" mc-title="FAX.EDITOR.FAX_EXTENSION_NUMBER" placeholder="FAX.EDITOR.FAX_EXTENSION_NUMBER"></text-control> <text-control prop="activeObject.AuthId" mc-title="FAX.EDITOR.FAX_EXTENSION_AUTHENTICATION_ID" placeholder="FAX.EDITOR.FAX_EXTENSION_AUTHENTICATION_ID"></text-control> <password-control prop="activeObject.AuthPassword" mc-title="FAX.EDITOR.FAX_EXTENSION_AUTHENTICATION_PASSWORD" placeholder="FAX.EDITOR.FAX_EXTENSION_AUTHENTICATION_PASSWORD"></password-control> <text-control prop="activeObject.OutboundCallerId" mc-title="FAX.EDITOR.OUTBOUND_CALLER_ID" placeholder="FAX.EDITOR.OUTBOUND_CALLER_ID"></text-control> </div> <div class="modal-footer"> <button type="button" class="btn btn-primary" ng-click="saveClick()" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">OK</button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/faxes/fax_editor.html",
                '<editor-control mc-title="SETTINGS.FAX_SERVER" help-url="LINKS.SETTINGS_FAX_SERVER_HELP_BTN"> <panel mc-title="SETTINGS.FAX_SERVER"> <div class="form-group"> <label translate="FAX.CALLS_TO_THIS_NUMBER_WILL_BE_ASSUMED_TO_BE_FAXES"></label> </div> <text-control prop="activeObject.Email" mc-title="FAX.DEFAULT_EMAIL_ADDRESS" maxlength="255"></text-control> <label translate="FAX.FAX_SERVER_EXTENSION">Fax Server Extension</label> <select name="status" class="form-control m-b-xs" ng-disabled="true"> <option value="main">{{activeObject._str}}</option> </select> <text-control prop="activeObject.AuthId" mc-title="FAX.FAX_EXTENSION_AUTHENTICATION_ID"></text-control> <password-control prop="activeObject.AuthPassword" mc-title="FAX.FAX_EXTENSION_AUTHENTICATION_PASSWORD"></password-control> <checkbox-control prop="activeObject.G711ToT38Failback" mc-title="FAX.G711_TO_T38_FAILBACK"> </checkbox-control></panel> <did-control prop="activeObject.ExtensionDID"></did-control> <mc-fax-cleanup></mc-fax-cleanup> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/faxes/fax_list.html",
                '<div class="hbox hbox-auto-xs hbox-auto-sm" ng-controller="FaxListCtrl"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="LEFT_MENU.FAX">Fax</label> <help-button url="{{\'LINKS.FAX_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="FAX.FAX_EXTENSIONS">Fax Extensions</div> <div class="panel-body" sticky-to-top> <label translate="FAX.INFORMATION"></label> <div class="btn-group- m-b-sm"> <button type="button" ng-click="onAddClick()" class="btn btn-sm btn-success btn-responsive" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"> <i class="halflings halflings-plus"></i> Add </button> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="onEditClick()" ng-disabled="!isOneSelected" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"> <i class="halflings halflings-pencil"></i> Edit </button> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="onDeleteClick()" ng-disabled="!isAnySelected" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i> Delete </button> </div> </div> <table st-table="displayedItems" st-safe-src="items" class="table table-striped" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th class="col-ext" st-sort="Number" translate="REPOS.TEXT.EXTENSION">Number</th> <th st-sort="faxType" translate="FAX.TBL_HEADING_TYPE">Type</th> <th st-sort="CallerId" translate="FAX.EDITOR.OUTBOUND_CALLER_ID">Default Caller ID</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="item in displayedItems" ng-click="onItemEditClick(item)"> <td class="col-btn" mc-select-row="item"></td> <td class="col-ext">{{item.Number}}</td> <td>{{item.FaxServer ? "3CX Fax Server" : "Fax"}}</td> <td>{{item.CallerId}}</td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="onItemDeleteClick(item)" class="btn btn-xs btn-default"><i class="fa fa-times"></i></button> </td> </tr> </tbody> <tfoot> <tr> <td colspan="5" class="text-center"> <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </td> </tr> </tfoot> </table> </div> </div> </div> '
              ),
          ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/faxes/fax-cleanup.component.html",
            '<panel mc-title="FAX.SETTINGS" ng-if="$ctrl.totalSize"> <div class="form-group m-b form-inline"> <strong translate="FAX.CLEANUP_FAX">Cleanup FAX</strong> <div class="line line-dashed b-b line-lg"></div> <span> <span>{{\'REPOS.USED_SPACE\'|translate:{size: ($ctrl.totalSize|bytes)} }}</span> <button class="btn btn-success btn-sm" style="margin-left:5px" translate="REPOS.BUTTONS.CLEANUP" ng-click="$ctrl.cleanup()"></button> </span> </div> </panel> '
          ),
      ]);
      let qb = (() => {
        class t {
          constructor(e, n) {
            (this.$http = e),
              (this.messageBoxService = n),
              (this.totalSize = 0);
          }
          cleanup() {
            this.messageBoxService
              .confirmDialog(
                "REPOS.CONFIRMATION.HEADER",
                "FAX.CLEANUP_FAX_CONFIRMATION"
              )
              .then(() => this.$http.postApi("api/FaxFiles", {}))
              .then(() => this.refresh())
              .catch(() => u.noop());
          }
          refresh() {
            return this.$http.getApi("api/FaxFiles").then((e) => {
              this.totalSize = e.data;
            });
          }
          $onInit() {
            this.refresh().catch(() => u.noop());
          }
        }
        return (t.$inject = ["$http", "MessageBoxSvc"]), t;
      })();
      u
        .module("app")
        .component("mcFaxCleanup", {
          controller: qb,
          templateUrl: "js/app/faxes/fax-cleanup.component.html",
        }),
        u.module("app").factory("FaxSvc", [
          "MyUtilsSvc",
          function (t) {
            return t.BaseCollectionServiceMethods("FaxList");
          },
        ]),
        u.module("app").controller("FaxListCtrl", [
          "$scope",
          "$timeout",
          "MyUtilsSvc",
          function (t, c, e) {
            const n = e.BaseCollectionServiceMethods("FaxList");
            function i() {
              n.getAll()
                .then(function (a) {
                  const l = a.data.list.filter(function (s) {
                    return !s.FaxServer;
                  });
                  t.setItems(l);
                })
                .catch(() => u.noop());
            }
            e.initCollectionController(t, n, {
              edit(a) {
                e.openModalEditor("js/app/faxes/add_fax_dialog.html", a)
                  .result.then(i)
                  .catch(() => u.noop());
              },
              refresh: i,
              confirmDeletion: !0,
            }),
              i();
          },
        ]),
        u.module("app").controller("FaxEditorCtrl", [
          "$scope",
          "EditSvc",
          "MyUtilsSvc",
          function (t, c, e) {
            e.initEditController(t, c, "app.faxes").catch(() => u.noop());
          },
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/fxses/add_fxs_modal.html",
                ' <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="FXS.DIALOGS.ADD_FXS.TITLE">Add FXS/DECT</h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="FXS.DIALOGS.ADD_FXS.SELECT_BRAND">Select Brand</label> <select class="form-control m-b" ng-model="stub.selectFxsBrand" ng-options="brand for brand in brands"> </select> </div> <div class="form-group"> <label translate="FXS.DIALOGS.ADD_FXS.SELECT_MODEL_DEVICE">Select model/device</label> <select class="form-control m-b" ng-model="stub.selectFxsModel" ng-disabled="!stub.selectFxsBrand" ng-options="fxs.ModelName group by getCategory(fxs) for fxs in fxses"> </select> </div> <div class="form-group"> <label translate="EXTENSIONS.EDITOR.PROVISIONING.MAC_ADDRESS">MAC Address</label> <input type="text" class="form-control" maxlength="12" live-pattern="[^0-9a-f]" placeholder="{{\'EXTENSIONS.EDITOR.PROVISIONING.MAC_ADDRESS\' | translate}}" ng-model="stub.macAddress"> </div> <div class="errors"> <ul> <li ng-show="stub.macAddress_Invalid"> <span class="halflings halflings-exclamation-sign"></span> <span>{{stub.macAddress_Invalid}}</span> </li> </ul> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="stub.validateMac(stub.macAddress)" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save</button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/fxses/extensions.html",
                ' <div class="panel panel-default"> <div class="panel-heading font-bold"> <span translate="FXS.EDITOR.EXTENSIONS.INFORMATION_TITLE">Extensions</span> </div> <div class="panel-body"> <div class="form-group"> <table style="width:100%"> <tr ng-repeat="line in activeObject.FxsLineConfiguration._value"> <td> <select-control prop="line.Extension"></select-control> </td> </tr> </table> <div class="col-sm-12"> <button type="button" class="btn btn-default pull-right" ng-show="activeObject.FxsLineConfiguration._value.length < activeObject.LineCount._value" ng-click="addNewLine()" translate="FXS.EDITOR.EXTENSIONS.ADD_MORE_EXT_BTN"> <span class="halflings halflings-plus"></span> Add more lines </button> </div> </div> </div> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/fxses/fxs_editor.html",
                '<div ng-controller="FxsEditorCtrl"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3">{{::activeObject.Name.value()}}</label> <button uib-tooltip="{{(activeObject.licenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}" class="btn m-b-xs w-xs btn-success" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button">Save </button> <button class="btn m-b-xs w-xs btn-dark" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button">Cancel </button> <help-button url="{{stub.DeviceName | PhoneHelpLinkTranslationTag | translate | PhoneHelpLinkDefaultValue | translate}}"></help-button> </div> <div class="wrapper-md tab-container"> <ul class="nav nav-tabs"> <li role="presentation" ui-sref-active="active"> <a ui-sref=".general" translate="FXS.EDITOR.LIST_BUTTONS.GENERAL_BTN"> General </a> </li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".extensions" translate="FXS.EDITOR.LIST_BUTTONS.EXTENSIONS_BTN"> DID </a> </li> </ul> <div class="tab-content"> <ui-view></ui-view> </div> </div> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/fxses/fxs_list.html",
                '<div ng-controller="FxsListCtrl"> <list-control api_url="FxsList" editor_state="app.fxs_editor.general" confirm-deletion> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="FXS.FXS_MAIN_TITLE">FXS / DECT</label> <help-button url="{{\'LINKS.FXS_HELP_BTN\' | translate }}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="FXS.FXS_TITLE">FXS / DECT</div> <div class="panel-body" sticky-to-top> <span ng-controller="FxsWizardCtrl"> <button type="button" ng-click="onAddFxsClick()" class="btn btn-sm btn-success btn-responsive" id="btnAddFxs"> <i class="halflings halflings-plus"></i> <span translate="FXS.LIST_BUTTONS.ADD_FXS_BTN">FXS / DECT</span> </button> </span> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="onEditClick()" ng-disabled="!isOneSelected" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"> <i class="halflings halflings-pencil"></i> Edit </button> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="onDeleteClick()" ng-disabled="!isAnySelected" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i> Delete </button> </div> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped table-fixed" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="Name" translate="FXS.TBL_HEADING_NAME">Name</th> <th st-sort="Brand" translate="FXS.TBL_HEADING_BRAND">Brand</th> <th st-sort="Model" translate="FXS.TBL_HEADING_MODEL">Model</th> <th class="col-responsive" st-sort="LineCount" translate="FXS.TBL_HEADING_LINE_COUNT">Lines</th> <th class="col-responsive" st-sort="MacAddress" translate="FXS.TBL_HEADING_MAC_ADDRESS">MAC</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-click="onItemEditClick(item)" ng-repeat="item in displayedItems"> <td class="col-btn" mc-select-row="item"></td> <td>{{::item.Name}}</td> <td>{{::item.Brand}}</td> <td>{{::item.ModelName}}</td> <td class="col-responsive">{{::item.LineCount}}</td> <td class="col-responsive">{{::item.MacAddress}}</td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="onItemDeleteClick(item)" ng-disabled="!item.CanBeDeleted" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> </div> </div> </div> </div> </list-control> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/fxses/general.html",
                '<panel mc-title="FXS.EDITOR.GENERAL.INFORMATION_TITLE"> <text-control prop="activeObject.Name" mc-title="FXS.EDITOR.GENERAL.ENTER_NAME_OF_FXS"></text-control> <provisioning-method device="activeObject"></provisioning-method> <select-enum-control prop="activeObject.Language" mc-title="FXS.EDITOR.GENERAL.LANGUAGE" mc-no-translate> </select-enum-control> <select-enum-control prop="activeObject.TimeZone" mc-title="FXS.EDITOR.GENERAL.TIMEZONE" mc-no-translate> </select-enum-control> <password-control mc-title="FXS.EDITOR.GENERAL.PASSWORD" prop="activeObject.DeskphonePassword"> </password-control> <variable-control ng-repeat="variable in stub.variables" variable="variable"></variable-control> <panel mc-title="FXS.EDITOR.GENERAL.CODEC_PRIORITY" ng-if="!activeObject.Codecs.hide"> <set-control prop="activeObject.Codecs" mc-title="BRIDGES.EDITOR.DIALOGS.ADD_CODECS.TITLE" button-title="REPOS.BUTTONS.OK_BTN"> <set-control-codecs></set-control-codecs> </set-control> </panel> </panel> '
              ),
          ]);
      class oS extends ft {
        getFxsBrandList() {
          return this.$http.getApi("api/FxsList/fxsBrands");
        }
        getFxsTemplates() {
          return this.$http.getApi("api/FxsList/fxsTemplates");
        }
        getFxsList(c) {
          return this.$http.getApi("api/FxsList/fxses", {
            params: { brand: c },
          });
        }
        getFxs(c, e) {
          return this.$http.getApi("api/FxsList/fxs", {
            params: { brand: c, model: e },
          });
        }
        createFxs(c) {
          return this.$http.postApi("api/FxsList/createFxs", c);
        }
        generateDeviceConfig(c) {
          return this.$http.getApi("api/FxsList/generateDeviceConfig?id=" + c);
        }
        validateMacAddress(c) {
          return this.$http.getApi(
            "api/FxsList/validateMacAddress?macAddress=" + c
          );
        }
      }
      u.module("app").factory("FxsSvc", [
        "$http",
        function (c) {
          return new oS("FxsList", void 0, c);
        },
      ]),
        u.module("app").controller("FxsEditorCtrl", [
          "$scope",
          "$rootScope",
          "$stateParams",
          "$window",
          "$http",
          "$translate",
          "MyUtilsSvc",
          "EditSvc",
          "FxsSvc",
          "bowser",
          "WrapperSvc",
          function (t, c, e, n, i, a, l, s, r, o, p) {
            t.Id = e.Id;
            const f = e.Id;
            (t.stub = { DeviceName: "link_to_phone_doc.default" }),
              t.$watch("activeObject", function (m) {
                if (void 0 === m) return;
                const g = m;
                r.getFxs(g.Brand.value(), g.Model.value())
                  .then(function (S) {
                    if (null === S.data || "" === S.data) return;
                    t.stub.generateDeviceConfig = function () {
                      n.open("http://" + t.gateway.Host.value(), "_blank"),
                        t.stub.hasDeviceConfig &&
                          (o.chrome
                            ? r.generateDeviceConfig(f).then(
                                function (j) {
                                  const te = j.headers("Content-Disposition"),
                                    X =
                                      /filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(
                                        te
                                      )[1];
                                  !(function lS(t, c, e) {
                                    e || (e = "application/octet-stream");
                                    const n = document.createElement("a"),
                                      i = new Blob([t], { type: e });
                                    (n.href = window.URL.createObjectURL(i)),
                                      (n.download = c),
                                      n.click();
                                  })(j.data, X);
                                },
                                function (j) {
                                  p.invalidateObject(t.activeObject, j);
                                }
                              )
                            : n.open(
                                "api/TrunkList/generateDeviceConfig?id=" + f,
                                "_blank"
                              ));
                    };
                    const O = S.data.Variables;
                    (t.stub.DeviceName = S.data.Name),
                      (g.VariableChoices.stub = t.stub),
                      O.forEach(function (j) {
                        (j._value = g.VariableChoices.value()[j.Name]),
                          (j.value = function (te) {
                            if (!arguments.length) return j._value;
                            {
                              j._value = te;
                              const X = g.VariableChoices.value();
                              (X[j.Name] = te),
                                g.VariableChoices.value(X),
                                (j.errorMsg = null);
                            }
                          });
                      }),
                      (t.stub.variables = O);
                  })
                  .catch(() => u.noop());
              }),
              (t.addNewLine = function () {
                t.activeObject.FxsLineConfiguration.newItem();
              }),
              l.initEditController(t, s, "app.fxses").catch(() => u.noop());
          },
        ]),
        u.module("app").controller("FxsListCtrl", [function () {}]);
      const rS = {
        0: "TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.PREFERRED",
        1: "TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.SUPPORTED",
        3: "TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.THIRD_PARTY",
        2: "TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.DEDICATED",
      };
      u.module("app").controller("FxsIntWizardCtrl", [
        "$scope",
        "FxsSvc",
        "$translate",
        function (t, c, e) {
          (t.stub = { lineCount: 1 }),
            (t.maxLineCount = 1),
            t.$watch("stub.selectFxsModel", function (n) {
              void 0 !== n && (t.maxLineCount = n.MaxLineCount);
            }),
            (t.stub.validateMac = function (n) {
              c.validateMacAddress(n).then(
                function () {
                  t.$close(t.stub);
                },
                function (i) {
                  t.stub.macAddress_Invalid = i.data.Message;
                }
              );
            }),
            (t.getCategory = (n) => e.instant(rS[n.ProviderType])),
            t.$watch("stub.selectFxsBrand", function (n) {
              void 0 !== n &&
                ((t.fxses = t.templates[n]),
                (t.stub.selectFxsModel = t.fxses[0]));
            }),
            c
              .getFxsTemplates()
              .then(function (n) {
                (t.templates = n.data
                  .sort(
                    (i, a) =>
                      i.ProviderType - a.ProviderType ||
                      i.ModelName.localeCompare(a.ModelName)
                  )
                  .reduce(
                    (i, a) =>
                      4 === a.ProviderType
                        ? i
                        : Object.assign(i, {
                            [a.Brand]: (i[a.Brand] || []).concat([a]),
                          }),
                    {}
                  )),
                  (t.brands = Object.keys(t.templates).sort()),
                  (t.stub.selectFxsBrand = t.brands[0]);
              })
              .catch(() => u.noop());
        },
      ]),
        u.module("app").controller("FxsWizardCtrl", [
          "$scope",
          "$state",
          "$uibModal",
          "FxsSvc",
          function (t, c, e, n) {
            t.onAddFxsClick = function () {
              e.open({
                backdrop: "static",
                templateUrl: "js/app/fxses/add_fxs_modal.html",
                controller: "FxsIntWizardCtrl",
              })
                .result.then(function (a) {
                  n.createFxs({
                    Brand: a.selectFxsBrand,
                    Model: a.selectFxsModel.ModelValue,
                    LineCount: a.lineCount,
                    MacAddress: a.macAddress,
                  })
                    .then(function (s) {
                      !(function i(a) {
                        c.go("app.fxs_editor.general", a.data);
                      })(s);
                    })
                    .catch(() => u.noop());
                })
                .catch(() => u.noop());
            };
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/console/console.component.html",
            ' <div class="terminal" style="height:100%;position:fixed;width:100%"> </div> '
          ),
      ]);
      let pS = (() => {
        class t {
          constructor(e, n) {
            (this.$element = e), (this.$http = n), (this.timerId = 0);
          }
          $onDestroy() {
            this.socket && this.socket.close();
          }
          keepAlive() {
            this.socket.readyState == this.socket.OPEN && this.socket.send(""),
              (this.timerId = setTimeout(() => this.keepAlive(), 2e4));
          }
          cancelKeepAlive() {
            this.timerId && (clearTimeout(this.timerId), (this.timerId = 0));
          }
          $postLink() {
            w.e(910)
              .then(w.t.bind(w, 41122, 23))
              .then(() => this.$http.getApi("api/console/commands"))
              .then((e) => {
                this.initializeTerminal(e.data);
              })
              .catch(() => u.noop());
          }
          initializeTerminal(e) {
            const n = window.location.protocol.replace("http", "ws") + "//";
            (this.socket = new WebSocket(
              n + window.location.host + "/api/console"
            )),
              (this.socket.binaryType = "arraybuffer"),
              (this.socket.onopen = () => {
                (this.terminal = this.$element
                  .find(".terminal")
                  .terminal((a) => this.sendCommand(a), {
                    greetings:
                      "\n[[;BLUE;]    _____ ]_______  __\n[[;BLUE;]   |__  /]/ ____/ |/ /\n[[;BLUE;]    /_ <]/ /    |   /\n[[;BLUE;]  ___/ /] /___ /   |\n[[;BLUE;] /____/]\\____//_/|_| PhoneSystem Terminal v1.0\r\n",
                    convertLinks: !1,
                    pauseEvents: !1,
                    completion: e,
                    historyFilter: (a) => !!a,
                    onClear: () => this.sendCommand("help"),
                    memory: !0,
                    outputLimit: 2e4,
                    prompt: `phonesystem@${window.location.hostname}$ `,
                    keydown: (a) => {
                      67 == a.keyCode &&
                        a.ctrlKey &&
                        this.terminal.paused() &&
                        this.socket.send(new ArrayBuffer(0));
                    },
                  })),
                  this.keepAlive();
              }),
              (this.socket.onmessage = (a) => this.onMessageReceived(a.data)),
              (this.socket.onclose = () => this.onChannelClosed());
          }
          sendCommand(e) {
            (e = e.trim()) && (this.terminal.pause(), this.socket.send(e));
          }
          onMessageReceived(e) {
            !this.terminal ||
              ("string" == typeof e
                ? this.terminal.echo(e)
                : this.terminal.resume());
          }
          onChannelClosed() {
            !this.terminal ||
              (this.terminal.freeze(!0),
              this.terminal.error(
                "Connection terminated. Please refresh browser page to continue."
              ),
              (this.terminal = void 0),
              this.cancelKeepAlive());
          }
        }
        return (t.$inject = ["$element", "$http"]), t;
      })();
      u
        .module("app")
        .component("consoleComponent", {
          templateUrl: "js/app/console/console.component.html",
          controller: pS,
        }),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/groups/group_editor.html",
                ' <div ng-controller="GroupEditorCtrl"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3">{{activeObject.Name._value}}</label> <button class="btn m-l-lg m-b-xs w-xs btn-success btn-md" ng-model="saveGroup" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button"> Save</button> <button class="btn m-b-xs w-xs btn-dark btn-md" ng-model="cancelGroup" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button"> Cancel</button> <help-button url="{{\'LINKS.EXT_GROUPS_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md tab-container"> <ul class="nav nav-tabs"> <li role="presentation" ui-sref-active="active"> <a ui-sref=".general({Id:Id})" translate="EXTENSION_GROUPS.LIST_BUTTONS.GENERAL_BTN">General</a> </li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".group_rights({Id:Id})" translate="EXTENSION_GROUPS.LIST_BUTTONS.GROUP_RIGHTS_BTN">Group Rights</a> </li> </ul> <form name="outerForm"> <div class="tab-content"> <ui-view></ui-view> </div> </form> </div> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/groups/group_editor_members.html",
                '<div> <panel mc-title="EXTENSION_GROUPS.EDITOR.GENERAL.GROUP_NAME_TITLE"> <div class="form-group"> <text-control placeholder="EXTENSION_GROUPS.EDITOR.GENERAL.GROUP_NAME_TITLE" prop="activeObject.Name"></text-control> </div> </panel> <panel mc-title="EXTENSION_GROUPS.EDITOR.GENERAL.MEMBERS_TITLE"> <mc-extensions prop="activeObject.Members" show-role="true" dialog-title="EXTENSION_GROUPS.EDITOR.GENERAL.DIALOGS.ADD_MEMBERS.SELECT_GROUP_MEMBERS_TO_ADD"> </mc-extensions> </panel> <panel mc-title="EXTENSION_GROUPS.EDITOR.GENERAL.SYSTEM_TITLE" ng-if="!activeObject.System.hide"> <mc-extensions prop="activeObject.System" show-role="false" show-name="true" dialog-title="EXTENSION_GROUPS.EDITOR.GENERAL.DIALOGS.ADD_MEMBERS.SELECT_GROUP_MEMBERS_TO_ADD"> </mc-extensions> </panel> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/groups/group_list.html",
                '<list-control api_url="GroupList" editor_state="app.group_editor.general" confirm-deletion> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="EXTENSION_GROUPS.GROUPS_MAIN_TITLE">{{selectRights}}</label> <help-button url="{{\'LINKS.EXT_GROUPS_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="EXTENSION_GROUPS.EXTENSION_GROUPS_TITLE">Extension Groups</div> <div class="panel-body" sticky-to-top> <div class="btn-group- m-b-sm"> <button type="button" ng-click="onAddClick()" class="btn btn-sm btn-success btn-responsive" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd" mc-all-extensions><i class="halflings halflings-plus"></i> Add </button> <button type="button" ng-disabled="!isOneSelected" class="btn btn-sm btn-default btn-responsive" ng-click="onEditClick()" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit" mc-all-extensions> <i class="halflings halflings-pencil"></i> Edit </button> <button type="button" ng-disabled="!allowDelete" class="btn btn-sm btn-default btn-responsive" ng-click="onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete" mc-all-extensions> <i class="halflings halflings-remove"></i> Delete </button> </div> </div> <table st-table="displayedItems" st-safe-src="items" class="table table-striped" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="Name" translate="EXTENSION_GROUPS.TBL_HEADING_GROUP_NAME">Group name</th> <th st-sort="ExtensionsCount" translate="EXTENSION_GROUPS.TBL_HEADING_TOTAL_EXTENSIONS">Total Extensions</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-click="onItemEditClick(item)" ng-repeat="item in displayedItems track by item.Id"> <td class="col-btn" mc-select-row="item"></td> <td>{{item.Name}}</td> <td>{{item.ExtensionsCount}}</td> <td class="col-btn"> <button type="button" mc-all-extensions ng-disabled="{{!item.CanBeDeleted}}" mc-stop-event ng-click="onItemDeleteClick(item)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> <tfoot> <tr> <td colspan="4" class="text-center"><div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div></td> </tr> </tfoot> </table> </div> </div> </div>  </list-control> '
              ),
          ]),
        u.module("app").factory("GroupSvc", [
          "MyUtilsSvc",
          function (t) {
            return t.BaseCollectionServiceMethods("GroupList");
          },
        ]),
        u.module("app").controller("GroupEditorCtrl", [
          "$scope",
          "$rootScope",
          "$stateParams",
          "EditSvc",
          "MyUtilsSvc",
          function (t, c, e, n, i) {
            (t.Id = e.Id),
              i.initEditController(t, n, "app.groups").catch(() => u.noop());
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/groups/group_editor_rights.html",
            '<div> <panel mc-title="EXTENSION_GROUPS.EDITOR.GROUP_RIGHTS.GLOBAL_RIGHTS_TITLE"> <div class="form-group"> <checkbox-control prop="$ctrl.activeObject.GloballyVisible" mc-title="EXTENSION_GROUPS.EDITOR.GROUP_RIGHTS.PRESENCE_INFO_IN_GROUP"> </checkbox-control> <checkbox-control prop="$ctrl.activeObject.AllowCallService" mc-title="EXTENSION_GROUPS.EDITOR.GROUP_RIGHTS.ALLOW_GROUP_MANAGERS_TO_CONFIGURE_OFFICE_DEPARTMENT_SETTINGS"> </checkbox-control> </div> </panel> <uib-tabset> <uib-tab heading="{{role._str | translate}}" ng-repeat="role in $ctrl.roles"> <rights-panel rights="role"></rights-panel> </uib-tab> </uib-tabset> </div> '
          ),
      ]);
      let ES = (() => {
        class t {
          constructor(e) {
            (this.roles = []),
              e.$parent.$watch("activeObject", (n) => {
                var i, a;
                (this.activeObject = n),
                  (this.roles =
                    null !==
                      (a =
                        null === (i = this.activeObject) || void 0 === i
                          ? void 0
                          : i.Roles._value.filter(
                              (l) => "UserRights.system" !== l._str
                            )) && void 0 !== a
                      ? a
                      : []);
              });
          }
        }
        return (t.$inject = ["$scope"]), t;
      })();
      u
        .module("app")
        .component("groupEditorRights", {
          controller: ES,
          templateUrl: "js/app/groups/group_editor_rights.html",
        }),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/inbound_rules/inbound_rules_list.html",
                '<list-control api_url="InboundRulesList" editor_state="app.inbound_rule_editor" confirm-deletion> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="INBOUND_RULES.TITLE">Inbound Rules</label> <help-button url="{{\'LINKS.INBOUND_RULES_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="INBOUND_RULES.INBOUND_RULES"> Inbound Rules </div> <div class="panel-body" sticky-to-top> <button id="btnAddDid" type="button" ng-click="onAddClick({\'Type\' : \'did\'})" class="btn btn-sm btn-success btn-responsive" translate="INBOUND_RULES.LIST_BUTTONS.ADD_DID_BTN"> <i class="halflings halflings-plus"></i> Add DID </button> <button id="btnAddCid" type="button" ng-click="onAddClick({\'Type\' : \'cid\'})" class="btn btn-sm btn-success btn-responsive" translate="INBOUND_RULES.LIST_BUTTONS.ADD_CID_BTN"> <i class="halflings halflings-plus"></i> Add CID</button> <button type="button" ng-disabled="!isOneSelected" class="btn btn-sm btn-default btn-responsive" ng-click="onEditClick()" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"> <i class="halflings halflings-pencil"></i> Edit </button> <button type="button" ng-disabled="!isAnySelected" class="btn btn-sm btn-default btn-responsive" ng-click="onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i> Delete </button> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="onMoveUpClick()" ng-disabled="!moveUpEnabled" translate="REPOS.BUTTONS.MOVE_UP_BTN" id="btnMoveUp"> <i class="fa fa-level-up"></i> Move Up </button> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="onMoveDownClick()" ng-disabled="!moveDownEnabled" translate="REPOS.BUTTONS.MOVE_DOWN_BTN" id="btnMoveDown"> <i class="fa fa-level-down"></i> Move Down </button> <import-control url="InboundRulesList"></import-control> <export-control url="InboundRulesList" items="getSelectedItems()"></export-control> </div> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table st-set-filter="InboundRules" class="table table-striped table-fixed" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th class="col-ext" translate="INBOUND_RULES.TBL_HEADING_TYPE">Type</th> <th translate="INBOUND_RULES.TBL_HEADING_NAME">Name</th> <th translate="INBOUND_RULES.TBL_HEADING_TRUNK">Trunk</th> <th class="col-responsive" translate="INBOUND_RULES.TBL_HEADING_DID_NUMBER">DID/DPI Number</th> <th class="col-responsive" translate="INBOUND_RULES.TBL_HEADING_IN_OFFICE_ROUTING">In Office Routing</th> <th class="col-responsive" translate="INBOUND_RULES.TBL_HEADING_OUT_OF_OFFICE">Out Of Office</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="item in displayedItems track by item.Id" ng-click="onItemEditClick(item)"> <td class="col-btn" mc-select-row="item"></td> <td class="col-ext">{{::item.Type}}{{::item.Priority}}</td> <td>{{::item.Name}}</td> <td>{{::item.Trunk}}</td> <td class="col-responsive">{{::item.DID}}</td> <td class="col-responsive">{{::item.InOfficeRouting}}</td> <td class="col-responsive">{{::item.OutOfOfficeRouting}}</td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="onItemDeleteClick(item)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7" st-page-change="onPageSwitch(newPage)"></div> </div> </div> </div> </div> </list-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/inbound_rules/inbound_rule_editor.html",
                '<div class="hbox hbox-auto-xs hbox-auto-sm" ng-controller="InboundRuleEditorCtrl"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" ng-if="activeObject.IsNew" translate="INBOUND_RULES.EDITOR.TITLE">Add Inbound Rule</label> <label class="m-n font-thin h3" ng-if="!activeObject.IsNew">{{activeObject.Name.value() ? activeObject.Name.value() : activeObject.Mask.value()}}</label> <button class="btn m-l-lg m-b-xs w-xs btn-success btn-md" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button"> Save </button> <button class="btn m-b-xs w-xs btn-dark btn-md" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button"> Cancel </button> <help-button url="{{\'LINKS.INBOUND_RULES_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <inbound-rule-editor-contents active-object="activeObject"></inbound-rule-editor-contents> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/inbound_rules/inbound_rule_editor_contents.html",
                '<panel mc-title="INBOUND_RULES.EDITOR.GENERAL"> <text-control mc-title="INBOUND_RULES.EDITOR.ENTER_NAME" prop="$ctrl.activeObject.Name" placeholder="INBOUND_RULES.EDITOR.INBOUND_RULE_NAME"></text-control> <text-control mc-title="{{$ctrl.activeObject.RuleType.selected === \'TypeOfInboundRule.DID\' ? \'INBOUND_RULES.EDITOR.ENTER_DIRECT_NUMBER\' : \'INBOUND_RULES.EDITOR.CALLER_ID\'}}" prop="$ctrl.activeObject.Mask" placeholder="INBOUND_RULES.EDITOR.ENTER_CALLER_ID_OR_MASK"></text-control> <select-control prop="$ctrl.activeObject.SelectMask" mc-title="INBOUND_RULES.EDITOR.ENTER_DIRECT_NUMBER"></select-control> </panel> <panel mc-title="INBOUND_RULES.EDITOR.CHOOSE_SIP_TRUNK" ng-if="!$ctrl.activeObject.SelectTrunk.hide"> <select-control prop="$ctrl.activeObject.SelectTrunk" display-fn="getExternalLineLabel"></select-control> </panel> <panel mc-title="TRUNKS_GATEWAY.EDITOR.GENERAL.ROUTING_TITLE"> <routing-control type="\'inbound\'" prop="$ctrl.activeObject.Routing._value"></routing-control> </panel> '
              ),
          ]),
        u.module("app").controller("InboundRuleEditorCtrl", [
          "$scope",
          "$rootScope",
          "$stateParams",
          "EditSvc",
          "MyUtilsSvc",
          function (t, c, e, n, i) {
            (t.Id = e.Id),
              (t.getExternalLineLabel = function (a) {
                return void 0 === a
                  ? ""
                  : "" != a.ExternalNumber._value
                  ? a.GatewayName._value + " (" + a.ExternalNumber._value + ")"
                  : a.GatewayName._value;
              }),
              i
                .initEditController(t, n, "app.inbound_rules")
                .catch(() => u.noop());
          },
        ]),
        u
          .module("app")
          .component("inboundRuleEditorContents", {
            templateUrl:
              "js/app/inbound_rules/inbound_rule_editor_contents.html",
            bindings: { activeObject: "<" },
          }),
        u.module("app").filter("InboundRules", [
          function () {
            return function (t, c) {
              if (!c.$ || "" === c.$.trim()) return t;
              const e = c.$.toLowerCase(),
                n = [
                  "Type",
                  "Name",
                  "Trunk",
                  "DID",
                  "InOfficeRouting",
                  "OutOfOfficeRouting",
                ];
              return t.filter(function (i) {
                for (const a in i)
                  if (i.hasOwnProperty(a) && n.includes(a)) {
                    const l = i[a];
                    if (u.isString(l) && l.toLowerCase().includes(e)) return !0;
                  }
                return !1;
              });
            };
          },
        ]);
      let yS = (() => {
        class t {
          constructor(e) {
            this.$http = e;
          }
          getAll(e, n, i, a, l, s, r, o, p, f) {
            const m = {
              params: {
                count: e,
                from: n,
                search: p,
                filter_type: i,
                filter_name: a,
                filter_from: l,
                filter_till: s,
                action_filter: r,
                user_name: o,
              },
              timeout: void 0,
            };
            return (
              null != f && (m.timeout = f.promise),
              this.$http.getApi("api/Audit/records", m)
            );
          }
          getSettings() {
            return this.$http.getApi("api/Audit/getSettings");
          }
          setSettings(e, n) {
            return this.$http.postApi("api/Audit/setSettings", {
              enabled: e,
              backlog: n,
            });
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("AuditSvc", yS);
      var ln = (() => {
          return (
            ((t = ln || (ln = {})).All = "0"),
            (t.Local = "1"),
            (t.External = "2"),
            ln
          );
          var t;
        })(),
        Xt = (() => {
          return (
            ((t = Xt || (Xt = {})).all = ""),
            (t.facebook = "facebook"),
            (t.sms = "sms"),
            (t.livechat = "livechat"),
            (t.rcs = "rcs"),
            (t.whatsapp = "whatsapp"),
            Xt
          );
          var t;
        })();
      class lt {
        constructor(c) {
          this.default = c;
        }
        get touched() {
          return this.default !== this.value && this.wasTouched;
        }
        set touched(c) {
          this.wasTouched = c;
        }
      }
      class Yn {
        constructor(c) {
          (this.chatFilterDirty = new lt(ln.All)),
            (this.fromDirty = new lt("")),
            (this.toDirty = new lt("")),
            (this.sourceFilterDirty = new lt(Xt.all)),
            (this.searchByDateDirty = new lt(!1)),
            (this.currentTime = ae()()),
            (this.dateDirty = new lt({
              endDate: this.currentTime.clone().endOf("day"),
              startDate: this.currentTime.clone().startOf("day"),
            })),
            (this.filterDirty = new lt("")),
            (this.startDirty = new lt(0)),
            (this.dateFormat = "YYYY-M-D H:m"),
            null != c &&
              c.get("chatFilter") &&
              (this.chatFilter = c.get("chatFilter")),
            null != c && c.get("from") && (this.from = c.get("from")),
            null != c && c.get("to") && (this.to = c.get("to")),
            null != c &&
              c.get("sourceFilter") &&
              (this.sourceFilter = c.get("sourceFilter")),
            null != c &&
              c.get("searchByDate") &&
              (this.searchByDate = JSON.parse(c.get("searchByDate"))),
            null != c && c.get("filter") && (this.filter = c.get("filter")),
            null != c &&
              c.get("start") &&
              (this.start = parseInt(null == c ? void 0 : c.get("start"), 10)),
            null != c &&
              c.get("endDate") &&
              (this.date.endDate = ae()(
                null == c ? void 0 : c.get("endDate"),
                this.dateFormat
              )),
            null != c &&
              c.get("startDate") &&
              (this.date.startDate = ae()(
                null == c ? void 0 : c.get("startDate"),
                this.dateFormat
              ));
        }
        get chatFilter() {
          return this.chatFilterDirty.value || this.chatFilterDirty.default;
        }
        set chatFilter(c) {
          (this.chatFilterDirty.touched = !0), (this.chatFilterDirty.value = c);
        }
        get from() {
          return this.fromDirty.value || this.fromDirty.default;
        }
        set from(c) {
          (this.fromDirty.touched = !0), (this.fromDirty.value = c);
        }
        get to() {
          return this.toDirty.value || this.toDirty.default;
        }
        set to(c) {
          (this.toDirty.touched = !0), (this.toDirty.value = c);
        }
        get sourceFilter() {
          return this.sourceFilterDirty.value || this.sourceFilterDirty.default;
        }
        set sourceFilter(c) {
          (this.sourceFilterDirty.touched = !0),
            (this.sourceFilterDirty.value = c);
        }
        get searchByDate() {
          return this.searchByDateDirty.value || this.searchByDateDirty.default;
        }
        set searchByDate(c) {
          (this.searchByDateDirty.touched = !0),
            (this.searchByDateDirty.value = c);
        }
        get date() {
          return this.dateDirty.value || this.dateDirty.default;
        }
        set date(c) {
          (this.dateDirty.touched = !0), (this.dateDirty.value = c);
        }
        get filter() {
          return this.filterDirty.value || this.filterDirty.default;
        }
        set filter(c) {
          (this.filterDirty.touched = !0), (this.filterDirty.value = c);
        }
        get start() {
          return this.startDirty.value || this.startDirty.default;
        }
        set start(c) {
          (this.startDirty.touched = !0), (this.startDirty.value = c);
        }
        toSearchParams() {
          const c = new URLSearchParams();
          return (
            this.chatFilterDirty.touched &&
              c.append("chatFilter", this.chatFilter),
            this.fromDirty.touched && c.append("from", this.from),
            this.toDirty.touched && c.append("to", this.to),
            this.sourceFilterDirty.touched &&
              c.append("sourceFilter", this.sourceFilter),
            this.searchByDateDirty.touched &&
              c.append("searchByDate", this.searchByDate.toString()),
            this.filterDirty.touched && c.append("filter", this.filter),
            this.startDirty.touched &&
              c.append("start", this.start.toString(10)),
            this.searchByDate &&
              (c.append(
                "startDate",
                this.date.startDate.format(this.dateFormat)
              ),
              c.append("endDate", this.date.endDate.format(this.dateFormat))),
            c
          );
        }
        toStringParams() {
          return this.toSearchParams().toString();
        }
      }
      const as = {
          id: void 0,
          translation: "AUDIT.CFGITEM.ANY",
          searchable: !0,
        },
        In = [
          as,
          { id: 0, translation: "AUDIT.CFGITEM.EMPTY", searchable: !1 },
          { id: 1, translation: "AUDIT.CFGITEM.WRAPPER", searchable: !1 },
          { id: 2, translation: "AUDIT.CFGITEM.ROOT", searchable: !1 },
          { id: 3, translation: "AUDIT.CFGITEM.DN", searchable: !1 },
          { id: 4, translation: "AUDIT.CFGITEM.SPECIALDN", searchable: !1 },
          { id: 5, translation: "AUDIT.CFGITEM.CONNECTION", searchable: !1 },
          { id: 6, translation: "AUDIT.CFGITEM.EXTERNALAGENT", searchable: !1 },
          { id: 7, translation: "AUDIT.CFGITEM.EXTENSION", searchable: !1 },
          { id: 8, translation: "AUDIT.CFGITEM.HOTDESKING", searchable: !0 },
          {
            id: 9,
            translation: "AUDIT.CFGITEM.EXTENSIONFORWARDING",
            searchable: !1,
          },
          {
            id: 10,
            translation: "AUDIT.CFGITEM.EXTENSIONAWAYRULE",
            searchable: !1,
          },
          {
            id: 11,
            translation: "AUDIT.CFGITEM.EXTENSIONAVAILABLERULE",
            searchable: !1,
          },
          {
            id: 12,
            translation: "AUDIT.CFGITEM.EXTENSIONEXCEPTIONRULE",
            searchable: !1,
          },
          {
            id: 13,
            translation: "AUDIT.CFGITEM.EMERGENCYNOTIFICATIONSSETTINGS",
            searchable: !0,
          },
          { id: 14, translation: "AUDIT.CFGITEM.GROUP", searchable: !0 },
          { id: 15, translation: "AUDIT.CFGITEM.GROUPMEMBER", searchable: !1 },
          { id: 16, translation: "AUDIT.CFGITEM.QUEUE", searchable: !0 },
          { id: 17, translation: "AUDIT.CFGITEM.RINGGROUP", searchable: !0 },
          { id: 18, translation: "AUDIT.CFGITEM.ROUTEPOINT", searchable: !0 },
          { id: 19, translation: "AUDIT.CFGITEM.CODEC", searchable: !1 },
          { id: 20, translation: "AUDIT.CFGITEM.USERRIGHTS", searchable: !1 },
          { id: 21, translation: "AUDIT.CFGITEM.DESTINATION", searchable: !1 },
          { id: 22, translation: "AUDIT.CFGITEM.PHONEVLAN", searchable: !1 },
          { id: 23, translation: "AUDIT.CFGITEM.PHONELLDP", searchable: !1 },
          { id: 24, translation: "AUDIT.CFGITEM.FAX", searchable: !0 },
          { id: 25, translation: "AUDIT.CFGITEM.IVR", searchable: !1 },
          { id: 27, translation: "AUDIT.CFGITEM.FXSDEVICE", searchable: !0 },
          { id: 30, translation: "AUDIT.CFGITEM.TRUNK", searchable: !0 },
          { id: 32, translation: "AUDIT.CFGITEM.INBOUNDRULE", searchable: !0 },
          { id: 33, translation: "AUDIT.CFGITEM.OUTBOUNDRULE", searchable: !0 },
          {
            id: 34,
            translation: "AUDIT.CFGITEM.RESETQUEUESTATISTICSSCHEDULE",
            searchable: !1,
          },
          {
            id: 36,
            translation: "AUDIT.CFGITEM.PHONEBOOKENTRY",
            searchable: !0,
          },
          {
            id: 37,
            translation: "AUDIT.CFGITEM.EXTENSIONEDITOR",
            searchable: !0,
          },
          {
            id: 38,
            translation: "AUDIT.CFGITEM.EXTERNALACCESS",
            searchable: !1,
          },
          { id: 39, translation: "AUDIT.CFGITEM.IVREDITOR", searchable: !0 },
          {
            id: 40,
            translation: "AUDIT.CFGITEM.BULKEXTENSIONEDITOR",
            searchable: !1,
          },
          {
            id: 41,
            translation: "AUDIT.CFGITEM.BULKEXTENSIONAWAYRULE",
            searchable: !1,
          },
          {
            id: 42,
            translation: "AUDIT.CFGITEM.BULKEXTENSIONAVAILABLERULE",
            searchable: !1,
          },
          {
            id: 43,
            translation: "AUDIT.CFGITEM.BULKEXTENSIONFORWARDING",
            searchable: !1,
          },
          { id: 44, translation: "AUDIT.CFGITEM.PROMPTSET", searchable: !0 },
          { id: 45, translation: "AUDIT.CFGITEM.PROMPT", searchable: !1 },
          {
            id: 46,
            translation: "AUDIT.CFGITEM.BLACKLISTENTRY",
            searchable: !0,
          },
          {
            id: 49,
            translation: "AUDIT.CFGITEM.SOURCEIDPARAMETER",
            searchable: !1,
          },
          { id: 50, translation: "AUDIT.CFGITEM.SETTINGS", searchable: !0 },
          { id: 51, translation: "AUDIT.CFGITEM.GCMSETTINGS", searchable: !0 },
          {
            id: 52,
            translation: "AUDIT.CFGITEM.NOTIFICATIONSETTINGS",
            searchable: !0,
          },
          {
            id: 53,
            translation: "AUDIT.CFGITEM.NETWORKSETTINGS",
            searchable: !0,
          },
          { id: 54, translation: "AUDIT.CFGITEM.CDRSETTINGS", searchable: !0 },
          {
            id: 55,
            translation: "AUDIT.CFGITEM.DIRSEARCHSETTINGS",
            searchable: !0,
          },
          { id: 56, translation: "AUDIT.CFGITEM.LDAPSETTINGS", searchable: !0 },
          {
            id: 57,
            translation: "AUDIT.CFGITEM.PHONEBOOKSETTINGS",
            searchable: !0,
          },
          {
            id: 58,
            translation: "AUDIT.CFGITEM.SECURITYSETTINGS",
            searchable: !0,
          },
          {
            id: 59,
            translation: "AUDIT.CFGITEM.RECORDINGSETTINGS",
            searchable: !0,
          },
          {
            id: 60,
            translation: "AUDIT.CFGITEM.RECORDINGPATHSETTINGS",
            searchable: !0,
          },
          { id: 61, translation: "AUDIT.CFGITEM.E164SETTINGS", searchable: !0 },
          {
            id: 62,
            translation: "AUDIT.CFGITEM.OFFICEHOURSSETTINGS",
            searchable: !0,
          },
          {
            id: 63,
            translation: "AUDIT.CFGITEM.CONFERENCESETTINGS",
            searchable: !0,
          },
          {
            id: 64,
            translation: "AUDIT.CFGITEM.MUSICONHOLDSETTINGS",
            searchable: !0,
          },
          {
            id: 65,
            translation: "AUDIT.CFGITEM.CALLPARKINGSETTINGS",
            searchable: !0,
          },
          { id: 66, translation: "AUDIT.CFGITEM.DIALSETTINGS", searchable: !0 },
          {
            id: 67,
            translation: "AUDIT.CFGITEM.VMAILSETTINGS",
            searchable: !0,
          },
          { id: 68, translation: "AUDIT.CFGITEM.STRINGITEM", searchable: !1 },
          {
            id: 69,
            translation: "AUDIT.CFGITEM.PHONEBLACKLISTENTRY",
            searchable: !0,
          },
          {
            id: 70,
            translation: "AUDIT.CFGITEM.BACKUPSETTINGS",
            searchable: !0,
          },
          {
            id: 72,
            translation: "AUDIT.CFGITEM.FAILOVERSETTINGS",
            searchable: !0,
          },
          {
            id: 74,
            translation: "AUDIT.CFGITEM.SCHEDULEDRESTORESETTINGS",
            searchable: !0,
          },
          {
            id: 75,
            translation: "AUDIT.CFGITEM.SCHEDULEDBACKUPSETTINGS",
            searchable: !0,
          },
          {
            id: 80,
            translation: "AUDIT.CFGITEM.CIDFORMATTING",
            searchable: !1,
          },
          { id: 81, translation: "AUDIT.CFGITEM.HOLIDAY", searchable: !0 },
          { id: 82, translation: "AUDIT.CFGITEM.PLAYLIST", searchable: !0 },
          { id: 83, translation: "AUDIT.CFGITEM.ROUTING", searchable: !1 },
          {
            id: 84,
            translation: "AUDIT.CFGITEM.GROUPMEMBERROLE",
            searchable: !1,
          },
          {
            id: 85,
            translation: "AUDIT.CFGITEM.FIXEDSTRINGITEM",
            searchable: !1,
          },
          { id: 86, translation: "AUDIT.CFGITEM.AUTOUPDATE", searchable: !0 },
          {
            id: 87,
            translation: "AUDIT.CFGITEM.HOTELSERVICES",
            searchable: !0,
          },
          {
            id: 88,
            translation: "AUDIT.CFGITEM.CRMINTEGRATION",
            searchable: !0,
          },
          { id: 90, translation: "AUDIT.CFGITEM.QUEUEAGENT", searchable: !1 },
          { id: 91, translation: "AUDIT.CFGITEM.IVRFORWARD", searchable: !1 },
          { id: 92, translation: "AUDIT.CFGITEM.GOOGLE", searchable: !0 },
          { id: 93, translation: "AUDIT.CFGITEM.ANTIHACKING", searchable: !0 },
          {
            id: 94,
            translation: "AUDIT.CFGITEM.ADMINCREDENTIALS",
            searchable: !0,
          },
          {
            id: 95,
            translation: "AUDIT.CFGITEM.CONSOLERESTRICTIONS",
            searchable: !0,
          },
          { id: 96, translation: "AUDIT.CFGITEM.SECURESIP", searchable: !0 },
          {
            id: 97,
            translation: "AUDIT.CFGITEM.ALLOWEDCOUNTRYCODES",
            searchable: !0,
          },
          { id: 98, translation: "AUDIT.CFGITEM.TUNNEL", searchable: !0 },
          { id: 100, translation: "AUDIT.CFGITEM.OPTIONS", searchable: !0 },
          { id: 101, translation: "AUDIT.CFGITEM.CODECS", searchable: !0 },
          {
            id: 102,
            translation: "AUDIT.CFGITEM.TEAMSINTEGRATION",
            searchable: !0,
          },
          { id: 1e3, translation: "AUDIT.CFGITEM.ACTIVITYLOG", searchable: !0 },
          { id: 1001, translation: "AUDIT.CFGITEM.EVENTLOG", searchable: !0 },
          {
            id: 1002,
            translation: "AUDIT.CFGITEM.CALLHISTORY",
            searchable: !0,
          },
          {
            id: 1003,
            translation: "AUDIT.CFGITEM.CHATMESSAGES",
            searchable: !0,
          },
          { id: 1004, translation: "AUDIT.CFGITEM.SERVICES", searchable: !0 },
          { id: 1005, translation: "AUDIT.CFGITEM.FIREWALL", searchable: !0 },
          { id: 1006, translation: "AUDIT.CFGITEM.LICENSE", searchable: !0 },
          { id: 1007, translation: "AUDIT.CFGITEM.MESSAGING", searchable: !0 },
          { id: 1008, translation: "AUDIT.CFGITEM.REPORT", searchable: !0 },
          { id: 1009, translation: "AUDIT.CFGITEM.PARAMETER", searchable: !0 },
          { id: 1010, translation: "AUDIT.CFGITEM.CALLLOG", searchable: !0 },
          { id: 1011, translation: "AUDIT.CFGITEM.WEBMEETING", searchable: !0 },
          { id: 1012, translation: "AUDIT.CFGITEM.OFFICE365", searchable: !0 },
          {
            id: 1013,
            translation: "AUDIT.CFGITEM.INSTANCEMANAGER",
            searchable: !0,
          },
          {
            id: 1014,
            translation: "AUDIT.CFGITEM.TENANTPROPERTY",
            searchable: !0,
          },
          {
            id: 1015,
            translation: "AUDIT.CFGITEM.GLOBALPARAMETERS",
            searchable: !0,
          },
          {
            id: 1e4,
            translation: "AUDIT.CFGITEM.AUDITSETTINGS",
            searchable: !0,
          },
        ],
        ss = { id: void 0, translation: "AUDIT.ACTION.ANY", searchable: !0 },
        rn = [
          ss,
          {
            id: 0,
            translation: "AUDIT.ACTION.CREATE",
            searchable: !0,
            details: !0,
            newDataOnly: !0,
          },
          {
            id: 1,
            translation: "AUDIT.ACTION.UPDATE",
            searchable: !0,
            details: !0,
          },
          { id: 2, translation: "AUDIT.ACTION.DELETE", searchable: !0 },
          {
            id: 3,
            translation: "AUDIT.ACTION.PURGE",
            searchable: !0,
            details: !0,
            newDataOnly: !0,
          },
          { id: 4, translation: "AUDIT.ACTION.START", searchable: !0 },
          { id: 5, translation: "AUDIT.ACTION.STOP", searchable: !0 },
          { id: 6, translation: "AUDIT.ACTION.RESTART", searchable: !0 },
          {
            id: 7,
            translation: "AUDIT.ACTION.IMPORT",
            searchable: !0,
            details: !0,
            newDataOnly: !0,
          },
          { id: 10, translation: "AUDIT.ACTION.RESTORE", searchable: !0 },
          { id: 11, translation: "AUDIT.ACTION.LOGOUT", searchable: !0 },
          { id: 12, translation: "AUDIT.ACTION.ARCHIVE", searchable: !0 },
          { id: 13, translation: "AUDIT.ACTION.WELCOME", searchable: !0 },
          { id: 14, translation: "AUDIT.ACTION.PUSH", searchable: !0 },
          { id: 16, translation: "AUDIT.ACTION.EXPORT", searchable: !0 },
          { id: 17, translation: "AUDIT.ACTION.RESET", searchable: !0 },
          { id: 18, translation: "AUDIT.ACTION.LOGIN", searchable: !0 },
          { id: 19, translation: "AUDIT.ACTION.CLEAR", searchable: !0 },
          {
            id: 20,
            translation: "AUDIT.ACTION.ASSIGN",
            searchable: !0,
            details: !0,
          },
          {
            id: 21,
            translation: "AUDIT.ACTION.REGENERATE",
            searchable: !0,
            details: !0,
          },
        ];
      class os {
        constructor(c) {
          (this.startDirty = new lt(0)),
            (this.typeDirty = new lt(as)),
            (this.searchDirty = new lt(void 0)),
            (this.nameDirty = new lt("")),
            (this.userDirty = new lt("")),
            (this.actionDirty = new lt(ss)),
            (this.currentTime = ae()()),
            (this.dateDirty = new lt({
              endDate: this.currentTime.clone().endOf("day"),
              startDate: this.currentTime.clone().startOf("day"),
            })),
            (this.searchByDateDirty = new lt(!1)),
            null != c &&
              c.get("start") &&
              (this.start = parseInt(null == c ? void 0 : c.get("start"), 10)),
            null != c &&
              c.get("type") &&
              (this.type = In.find(
                (e) => e.id === parseInt(null == c ? void 0 : c.get("type"), 10)
              )),
            null != c && c.get("name") && (this.name = c.get("name")),
            null != c && c.get("search") && (this.search = c.get("search")),
            null != c &&
              c.get("action") &&
              (this.action = rn.find(
                (e) =>
                  e.id === parseInt(null == c ? void 0 : c.get("action"), 10)
              )),
            null != c && c.get("user_name") && (this.user = c.get("user_name")),
            null != c &&
              c.get("searchByDate") &&
              (this.searchByDate = JSON.parse(c.get("searchByDate"))),
            null != c &&
              c.get("endDate") &&
              (this.date.endDate = ae()(null == c ? void 0 : c.get("endDate"))),
            null != c &&
              c.get("startDate") &&
              (this.date.startDate = ae()(
                null == c ? void 0 : c.get("startDate")
              ));
        }
        get start() {
          return this.startDirty.value || this.startDirty.default;
        }
        set start(c) {
          (this.startDirty.touched = !0), (this.startDirty.value = c);
        }
        get type() {
          return this.typeDirty.value;
        }
        set type(c) {
          (this.typeDirty.touched = !0), (this.typeDirty.value = c);
        }
        get search() {
          return this.searchDirty.value;
        }
        set search(c) {
          (this.searchDirty.touched = !0), (this.searchDirty.value = c);
        }
        get name() {
          return this.nameDirty.value || this.nameDirty.default;
        }
        set name(c) {
          (this.nameDirty.touched = !0), (this.nameDirty.value = c);
        }
        get user() {
          return this.userDirty.value || this.userDirty.default;
        }
        set user(c) {
          (this.userDirty.touched = !0), (this.userDirty.value = c);
        }
        get action() {
          return this.actionDirty.value;
        }
        set action(c) {
          (this.actionDirty.touched = !0), (this.actionDirty.value = c);
        }
        get date() {
          return this.dateDirty.value || this.dateDirty.default;
        }
        set date(c) {
          (this.dateDirty.touched = !0), (this.dateDirty.value = c);
        }
        get searchByDate() {
          return this.searchByDateDirty.value || this.searchByDateDirty.default;
        }
        set searchByDate(c) {
          (this.searchByDateDirty.touched = !0),
            (this.searchByDateDirty.value = c);
        }
        toSearchParams() {
          const c = new URLSearchParams();
          return (
            this.startDirty.touched &&
              c.append("start", this.start.toString(10)),
            this.typeDirty.touched &&
              void 0 !== this.type.id &&
              c.append("type", this.type.id.toString()),
            this.nameDirty.touched && c.append("name", this.name),
            this.searchDirty.touched && c.append("search", this.search),
            this.actionDirty.touched &&
              void 0 !== this.action.id &&
              c.append("action", this.action.id.toString()),
            this.userDirty.touched && c.append("user_name", this.user),
            this.searchByDateDirty.touched &&
              c.append("searchByDate", this.searchByDate.toString()),
            this.searchByDate &&
              (c.append("startDate", this.date.startDate.format()),
              c.append("endDate", this.date.endDate.format())),
            c
          );
        }
        toStringParams() {
          return this.toSearchParams().toString();
        }
      }
      u.module("app").controller("AuditController", [
        "$scope",
        "$state",
        "$q",
        "AuditSvc",
        "$filter",
        "$timeout",
        "$uibModal",
        "$window",
        "MessageBoxSvc",
        function (t, c, e, n, i, a, l, s, r) {
          (t.isLoading = !0),
            (t.itemsByPage = 50),
            (t.displayedItems = []),
            (t.currentFilter = new os(new URLSearchParams(c.params.filter)));
          let o = null,
            p = null,
            f = 0,
            m = !1;
          function g() {
            p && ((p.promise.userCancelled = !0), p.resolve(), (p = null));
          }
          (t.onPageSwitch = function (S) {
            (t.currentFilter.start = (S - 1) * t.itemsByPage),
              c.go("app.audit", { filter: t.currentFilter.toStringParams() }),
              _t();
          }),
            (t.onClickFilter = function () {
              l.open({
                size: "md",
                backdrop: "static",
                component: "auditFilterDialog",
                keyboard: !0,
                resolve: { currentFilter: t.currentFilter },
              }).result.then((S) => {
                (t.currentFilter = S),
                  (t.currentFilter.start = 0),
                  c.go("app.audit", { filter: S.toStringParams() }),
                  t.loadRecords(!0);
              });
            }),
            (t.onClickRow = function (S) {
              l.open({
                backdrop: "static",
                component: "auditDetailsComponent",
                size: "xl",
                resolve: {
                  data: () => S,
                  action: () => rn.find((O) => O.id === S.Action),
                  itemType: () => In.find((O) => O.id === S.ObjectType),
                },
              });
            }),
            (t.onClickSettings = function () {
              l.open({
                size: "md",
                backdrop: "static",
                component: "auditSettingsComponent",
                keyboard: !0,
                resolve: {},
              }).result.then(() => {
                (t.currentFilter.start = 0),
                  c.go("app.audit", {
                    filter: t.currentFilter.toStringParams(),
                  }),
                  t.loadRecords(!0);
              });
            }),
            (t.generateActionType = function (S) {
              var O;
              return null === (O = rn.find((j) => j.id === S)) || void 0 === O
                ? void 0
                : O.translation;
            }),
            (t.hasDetails = function (S) {
              var O;
              return (
                (null === (O = rn.find((j) => j.id === S.Action)) ||
                void 0 === O
                  ? void 0
                  : O.details) &&
                (S.NewData || S.PrevData)
              );
            }),
            (t.generateItemType = function (S) {
              var O;
              return null === (O = In.find((j) => j.id === S)) || void 0 === O
                ? void 0
                : O.translation;
            }),
            (t.rowEllipsisClick = function (S, O, j) {
              O.active &&
                l.open({
                  templateUrl: "tpl/call_reports/message.html",
                  size: "lg",
                  resolve: {
                    messageData: () => ({
                      headerTextKey: "AUDIT.TBL_OBJ_NAME",
                      messageText: j,
                    }),
                  },
                  controller: "MessageController",
                });
            }),
            (t.foldString = function (S, O) {
              return null == S || S.length < O ? S : S.substring(0, O) + "...";
            }),
            (t.loadData = function (S) {
              (t.isLoading = !0),
                (t.displayedItems = []),
                (o = S),
                t.loadRecords(!1);
            }),
            (t.textFilterChanged = function () {
              (t.currentFilter.start = 0),
                c.go("app.audit", { filter: t.currentFilter.toStringParams() }),
                t.loadRecords(!0);
            }),
            (t.onExportClick = function () {
              s.location.assign("api/audit/export");
            }),
            (t.loadRecords = function (S) {
              var O, j;
              if (!o) return;
              const te = t.currentFilter;
              g();
              const X = e.defer();
              if (S) {
                const _e = o.pagination;
                (_e.numberOfPages = 0),
                  (_e.start = 0),
                  (_e.number = t.itemsByPage),
                  (f = 0),
                  (m = !1);
              }
              let K, Q;
              return (
                te.searchByDate &&
                  te.date.startDate.isValid() &&
                  (K = t.currentFilter.date.startDate.toDate()),
                te.searchByDate &&
                  te.date.endDate.isValid() &&
                  (Q = te.date.endDate.toDate()),
                (p = e.defer()),
                n
                  .getAll(
                    t.itemsByPage,
                    te.start || 0,
                    null === (O = te.type) || void 0 === O ? void 0 : O.id,
                    te.name,
                    K,
                    Q,
                    null === (j = te.action) || void 0 === j ? void 0 : j.id,
                    te.user,
                    te.search,
                    p
                  )
                  .then(function (_e) {
                    const Le = _e.data;
                    u.forEach(Le.AuditRecords, function (pt) {
                      (pt.messageEllipsis = { active: !1 }),
                        (pt.toEllipsis = { active: !1 });
                    }),
                      (t.displayedItems = S
                        ? Le.AuditRecords
                        : t.displayedItems.concat(Le.AuditRecords)),
                      (p = null);
                    const Me = t.currentFilter.start + Le.AuditRecords.length;
                    Me >= f && ((f = Me), (m = !_e.data.HasMoreRows));
                    const Ze = o.pagination;
                    (Ze.numberOfPages =
                      Math.floor(f / t.itemsByPage) +
                      (f % t.itemsByPage == 0 ? 0 : 1)),
                      m || Ze.numberOfPages++,
                      (Ze.start = t.currentFilter.start),
                      (t.isLoading = !1),
                      X.resolve(Le);
                  })
                  .catch(() => u.noop()),
                X.promise
              );
            }),
            t.$on("$destroy", function () {
              g();
            });
        },
      ]);
      var xS =
        '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3">Audit Log</label> <help-button url="{{\'LINKS.AUDIT_LOG_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md" ng-controller="AuditController"> <div class="panel panel-default"> <div class="panel-heading" translate="AUDIT.TITLE">Audit Records</div> <div class="panel-body" sticky-to-top> <button type="button" data-toggle="modal" ng-click="onClickFilter()" ng-disabled="isLoading" id="btnFilter" class="btn btn-sm btn-success btn-responsive" translate="CALL_LOG.FILTER_BTN"> <i class="fa fa-filter"></i> Filter </button> <button mc-global-admin type="button" data-toggle="modal" ng-click="onClickSettings()" ng-disabled="isLoading" id="btnSettings" class="btn btn-sm btn-success btn-responsive" translate="AUDIT.SETTING_BUTTON"> Settings </button> <export-control disable="isLoading" mc-global-admin parameters="currentFilter" url="Audit"></export-control> </div> <div style="padding:8px;border-top:1px solid #ddd" class="panel-body"> <mc-search mc-disabled="isLoading" search-filter="currentFilter.search" on-search="textFilterChanged()" style="display:block"></mc-search> </div> <div st-table="displayedItems" st-pipe="loadData"> <table id="auditTable" class="table table-striped table-fixed"> <thead> <tr> <th translate="AUDIT.TBL_DATE" class="col-responsive">Date</th> <th translate="AUDIT.TBL_USER">User</th> <th translate="AUDIT.TBL_ADDRESS" class="col-responsive">Address</th> <th translate="AUDIT.TBL_OBJ_TYPE">Category</th> <th translate="AUDIT.TBL_OBJ_NAME" class="col-responsive">Item</th> <th translate="AUDIT.TBL_ACTION">Action</th> <th translate="AUDIT.TBL_DETAILS">Details</th> </tr> </thead> <tbody ng-show="!isLoading"> <tr ng-repeat="row in displayedItems track by row.Id" style="background-color:#f9f9f9" data-id="{{row.Id}}"> <td class="col-responsive">{{::row.Timestamp | mcDateFormat}}</td> <td>{{::row.User}}</td> <td class="col-responsive">{{::row.Ip}}</td> <td>{{generateItemType(row.ObjectType) | translate}}</td> <td class="col-responsive" is-ellipsis-active="row.toEllipsis" style="overflow:hidden;text-overflow:ellipsis;white-space:nowrap" ng-click="row.toEllipsis.active ? rowEllipsisClick(row, row.toEllipsis, row.ObjectName) : \'\'"> <a>{{row.ObjectName | translate }}</a> </td> <td>{{generateActionType(row.Action)| translate}}</td> <td> <label ng-if="hasDetails(row)" class="dashed_link" role="button" translate="AUDIT.TBL_DETAILS_MORE" ng-click="onClickRow(row)">More..</label> </td> </tr> </tbody> </table> <div class="b-t flex-centered compact-pagination modal-tfoot" ng-show="!isLoading" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="8" st-template="' +
        nt()(Ft) +
        '" st-page-change="onPageSwitch(newPage)"></div> </div> </div> </div> </div> ';
      u.module("ng").run([
        "$templateCache",
        (t) => t.put("js/app/audit/audit.html", xS),
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/audit/audit-filter-dialog.component.html",
            '<form ng-submit="$ctrl.search()" name="filterForm"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="AUDIT.DIALOGS.FILTER.TITLE"> Filter Audit Log </h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="AUDIT.DIALOGS.FILTER.CATEGORY">Category</label> <select class="form-control" ng-model="$ctrl.params.type" ng-options="section as section.translation for section in $ctrl.availableSectionList track by section.id"></select> </div> <div class="form-group"> <label translate="AUDIT.DIALOGS.FILTER.TYPE">Performed By</label> <select class="form-control" ng-model="$ctrl.params.action" ng-options="action as action.translation | translate for action in $ctrl.availableActionsList track by action.id"></select> </div> <div class="form-group"> <label translate="AUDIT.DIALOGS.FILTER.NAME">Item Name</label> <input name="name" ng-model="$ctrl.params.name" class="form-control" placeholder=""> </div> <div class="form-group"> <label translate="AUDIT.DIALOGS.FILTER.USER">Performed By</label> <input name="user" ng-model="$ctrl.params.user" class="form-control" placeholder=""> </div> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="$ctrl.params.searchByDate" ng-change="$ctrl.validateDate()"> <i></i> <span translate="AUDIT.DIALOGS.FILTER.SEARCH_BY_DATE">Search By Date</span></label> <input date-range-picker class="form-control date-picker m-b-md" type="text" name="date" ng-change="$ctrl.validateDate()" placeholder="{{\'SYSTEM_STATUS.DIALOGS.ACTIVITY_LOG.SELECT_RANGE\' | translate}}" ng-disabled="!$ctrl.params.searchByDate" ng-model="$ctrl.params.date" options="$ctrl.datePickerOptions"> </div> </div> <div class="modal-footer"> <button class="btn btn-primary" type="submit" ng-disabled="!filterForm.$valid" translate="REPOS.BUTTONS.SEARCH_BTN">Search</button> <button class="btn btn-default" type="button" ng-click="$ctrl.reset()" translate="REPOS.BUTTONS.RESET_BTN">Reset</button> <button class="btn btn-default" type="button" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel</button> </div> </form> '
          ),
      ]);
      const cn = (t) => ({
        Today: [t.clone().startOf("day"), t.clone().endOf("day")],
        Yesterday: [
          t.clone().subtract(1, "days").startOf("day"),
          t.clone().clone().subtract(1, "days").endOf("day"),
        ],
        "Last 7 Days": [
          t.clone().subtract(6, "days").startOf("day"),
          t.clone().endOf("day"),
        ],
        "Last 30 Days": [
          t.clone().subtract(29, "days").startOf("day"),
          t.clone().endOf("day"),
        ],
        "This Month": [t.clone().startOf("month"), t.clone().endOf("month")],
        "Last Month": [
          t.clone().subtract(1, "month").startOf("month"),
          t.clone().subtract(1, "month").endOf("month"),
        ],
      });
      let MS = (() => {
        class t {
          constructor(e, n) {
            (this.$scope = e),
              (this.$translate = n),
              (this.availableActionsList = rn
                .filter((i) => i.searchable)
                .map((i) => this.translatedMap(i))
                .sort((i, a) => this.topTranslationSort(i, a))),
              (this.availableSectionList = In.filter((i) => i.searchable)
                .map((i) => this.translatedMap(i))
                .sort((i, a) => this.topTranslationSort(i, a))),
              (this.datePickerOptions = {
                showCustomRangeLabel: !1,
                ranges: cn(ae()()),
                timePicker: !0,
                alwaysShowCalendars: !0,
                locale: { format: "L LT" },
              });
          }
          translatedMap(e) {
            return {
              translation: this.$translate.instant(e.translation),
              id: e.id,
              searchable: e.searchable,
            };
          }
          topTranslationSort(e, n) {
            return void 0 === n.id
              ? 1
              : e.translation.localeCompare(n.translation);
          }
          search() {
            !this.$scope.filterForm.$valid ||
              this.close({ $value: this.params });
          }
          reset() {
            this.params = new os();
          }
          $onInit() {
            this.params = this.resolve.currentFilter;
          }
        }
        return (t.$inject = ["$scope", "$translate"]), t;
      })();
      u.module("app").component("auditFilterDialog", {
        templateUrl: "js/app/audit/audit-filter-dialog.component.html",
        controller: MS,
        bindings: { resolve: "<", close: "&", dismiss: "&" },
      });
      function Xn(t, c) {
        if (t)
          if ("object" == typeof t)
            for (const [e, n] of Object.entries(t)) t[e] = Xn(t[e], c);
          else if (t && "string" == typeof t) {
            let e = c.instant(t);
            if (e !== t) return e;
            const n = `enum.${t}`;
            return (e = c.instant(n)), e === n ? t : e;
          }
        return t;
      }
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/audit/audit-details.component.html",
            '<form name="detailsForm"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="AUDIT.DIALOGS.DETAILS.TITLE">Modification Details</h4> </div> <div class="modal-body"> <div class="form-group text-ellipsis"> <h4 class="inline-text">{{$ctrl.category.translation | translate}}</h4> <h4 class="inline-text" ng-if="$ctrl.row.ObjectName"> - {{$ctrl.row.ObjectName}}</h4> <br><label>{{$ctrl.action.translation | translate}}</label> </div> <div style="overflow-y:auto;max-height:50vh"> <div ng-if="$ctrl.action.newDataOnly"> <label class="font-bold" translate="AUDIT.DIALOGS.DETAILS.CONFIGURED_VALUE_HEADER"></label> <json-tree object="$ctrl.newData" start-expanded="\'recursive\'"></json-tree> </div> <div ng-if="!$ctrl.action.newDataOnly"> <div ng-if="$ctrl.newData && !$ctrl.oldData"> <label class="font-bold" translate="AUDIT.DIALOGS.DETAILS.CONFIGURED_VALUE_HEADER"></label> <json-tree object="$ctrl.newData" start-expanded="\'recursive\'"></json-tree> </div> <div ng-if="!$ctrl.newData && $ctrl.oldData" class="form-group"> <div class="col-sm-6 col-lg-6 col-md-6 col-xs-12"> <label class="font-bold" translate="AUDIT.DIALOGS.DETAILS.PREV_VALUE_HEADER"></label> <json-tree object="$ctrl.oldData" start-expanded="\'recursive\'"></json-tree> </div> <div class="col-sm-6 col-lg-6 col-md-6 col-xs-12"> <label class="font-bold" translate="AUDIT.DIALOGS.DETAILS.UPDATED_VALUE_HEADER"></label> </div> </div> <div ng-if="$ctrl.newData && $ctrl.oldData" class="form-group"> <div class="col-sm-6 col-lg-6 col-md-6 col-xs-12"> <label class="font-bold" translate="AUDIT.DIALOGS.DETAILS.PREV_VALUE_HEADER"></label> <json-tree object="$ctrl.oldData" start-expanded="\'recursive\'"></json-tree> </div> <div class="col-sm-6 col-lg-6 col-md-6 col-xs-12"> <label class="font-bold" translate="AUDIT.DIALOGS.DETAILS.UPDATED_VALUE_HEADER"></label> <json-tree object="$ctrl.newData" start-expanded="\'recursive\'"></json-tree> </div> </div> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-default" type="button" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CLOSE_BTN" id="btnCancel">Close</button> </div> </form> '
          ),
      ]);
      let HS = (() => {
        class t {
          constructor(e, n) {
            (this.$scope = e), (this.$translate = n);
          }
          $onInit() {
            (this.row = this.resolve.data),
              (this.oldData = Xn(
                JSON.parse(this.row.PrevData),
                this.$translate
              )),
              (this.newData = Xn(
                JSON.parse(this.row.NewData),
                this.$translate
              )),
              (this.action = this.resolve.action),
              (this.category = this.resolve.itemType);
          }
        }
        return (t.$inject = ["$scope", "$translate"]), t;
      })();
      u.module("app").component("auditDetailsComponent", {
        templateUrl: "js/app/audit/audit-details.component.html",
        controller: HS,
        bindings: { resolve: "<", close: "&", dismiss: "&" },
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/audit/audit-settings.component.html",
            ' <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="AUDIT.DIALOGS.SETTINGS.TITLE">Audit Log Settings</h4> </div> <div class="modal-body"> <div class="form-group"> <label class="inline i-checks"> <input type="checkbox" ng-model="$ctrl.settings.enabled"> <i></i><span translate="AUDIT.DIALOGS.SETTINGS.ENABLE">Enable Audit Log</span> </label> </div> <div class="form-group"> <strong translate="AUDIT.DIALOGS.SETTINGS.OPTIONS_SUB_TITLE">Auto Cleaning Options</strong> <div class="line line-dashed b-b line-lg"></div> <div class="form-inline"> <span translate="AUDIT.DIALOGS.SETTINGS.DUR_PREPOSITION"></span> <select class="form-control" ng-model="$ctrl.settings.backlog" ng-init="$ctrl.settings.backlog" ng-disabled="!$ctrl.settings.enabled"> <option ng-repeat="item in [1, 3, 6, 12]" ng-selected="$ctrl.settings.backlog === item" ng-value="item"> {{item}} </option> </select> <span class="m-l-xs" translate="AUDIT.DIALOGS.SETTINGS.KEEP_LOG_DUR"></span> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$ctrl.saveSettings();$ctrl.dismiss();" translate="REPOS.BUTTONS.OK_BTN"></button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CLOSE_BTN"></button> </div> </div> '
          ),
      ]);
      let US = (() => {
        class t {
          constructor(e, n) {
            (this.$scope = e), (this.AuditSvc = n);
          }
          $onInit() {
            this.AuditSvc.getSettings().then((e) => {
              this.settings = e.data;
            });
          }
          saveSettings() {
            console.log("sending ", this.settings),
              this.AuditSvc.setSettings(
                this.settings.enabled,
                this.settings.backlog
              );
          }
        }
        return (t.$inject = ["$scope", "AuditSvc"]), t;
      })();
      u.module("app").component("auditSettingsComponent", {
        templateUrl: "js/app/audit/audit-settings.component.html",
        controller: US,
        bindings: { resolve: "<", close: "&", dismiss: "&" },
      });
      let $S = (() => {
        class t {
          constructor(e) {
            this.$http = e;
          }
          getAll(e, n, i, a, l, s, r, o, p, f, m) {
            const g = {
              params: {
                from: e,
                count: n,
                chat_filter: i,
                from_filter: a,
                to_filter: l,
                provider_filter: s,
                search_date: r,
                start_date: o,
                end_date: p,
                filter: f,
              },
              timeout: void 0,
            };
            return (
              null != m && (g.timeout = m.promise),
              this.$http.getApi("api/Chat/messages", g)
            );
          }
          exportConversationMessages(e, n, i, a, l, s) {
            const r = {
              ids: e,
              conversation_id: Number(n),
              search_date: i,
              start_date: a,
              end_date: l,
              filter: s,
            };
            return this.$http.postApi("api/Chat/conversationExport", r);
          }
          getConversationAllMessages(e, n, i, a, l, s, r, o) {
            const p = {
              params: {
                from: e,
                count: n,
                conversation_id: i,
                search_date: a,
                start_date: l,
                end_date: s,
                filter: r,
              },
              timeout: void 0,
            };
            return (
              null != o && (p.timeout = o.promise),
              this.$http.getApi("api/Chat/conversation_messages", p)
            );
          }
          deleteMessages(e) {
            return this.$http.post("api/Chat/delete", e);
          }
          deleteAllMessages() {
            return this.$http.post("api/Chat/deleteAll", {});
          }
          deleteAllMessagesByConversation(e) {
            return this.$http.post("api/Chat/deleteAllChatConversation", e);
          }
          exportByIds(e) {
            return this.$http.post("api/Chat/Export", e);
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("ChatSvc", $S);
      var Qe = (() => {
        return (
          ((t = Qe || (Qe = {})).All = "All"),
          (t.Month = "Month"),
          (t.Year = "Year"),
          (t.FilterByDate = "FilterByDate"),
          Qe
        );
        var t;
      })();
      function vn() {
        return Tt()().subtract(1, "year").startOf("day").toDate();
      }
      function Nn() {
        return Tt()().subtract(1, "month").startOf("day").toDate();
      }
      const BS = (t) => {
        const c = t.value;
        if (c.option !== Qe.FilterByDate) return null;
        const e = c.custom.start,
          n = c.custom.stop,
          i = Math.floor(e.getTime() / 1e3),
          a = Math.floor(n.getTime() / 1e3);
        return !e || !n || isNaN(i) || isNaN(a)
          ? { invalidTime: !0 }
          : i < a
          ? null
          : { stopDateBeforeStart: !0 };
      };
      function ds(t) {
        const c = (function GS() {
          return {
            start: Tt()().subtract(24, "hour").toDate(),
            stop: Tt()().toDate(),
          };
        })();
        return t.group(
          {
            option: [Qe.All],
            custom: t.group({ start: [c.start], stop: [c.stop] }),
          },
          { validator: BS }
        );
      }
      var ze = w(23062);
      (0, ze.Wf)("en-gb", ze.Yj),
        (0, ze.Wf)("en"),
        (0, ze.Wf)("de", ze.hg),
        (0, ze.Wf)("fr", ze.cn),
        (0, ze.Wf)("es", ze.D_),
        (0, ze.Wf)("it", ze.vy),
        (0, ze.Wf)("pt", ze.a4),
        (0, ze.Wf)("br", ze.a4),
        (0, ze.Wf)("nl", ze.Mz),
        (0, ze.Wf)("ru", ze.DP),
        (0, ze.Wf)("pl", ze.DW),
        (0, ze.Wf)("zh-cn", ze.I_),
        (0, ze.Wf)("ja", ze.b7),
        (0, ze.Wf)("tr", ze.Pk),
        (0, ze.Wf)("cs", ze.rp),
        (0, ze.Wf)("nb", ze.xG);
      var qt = w(99919);
      const FS = ["dateInput"],
        zS = ["timeInput"];
      let WS = (() => {
        class t extends class VS {
          constructor(c) {
            (this.cd = c),
              (this.changed = new Array()),
              (this.touched = new Array());
          }
          get value() {
            return this.innerValue;
          }
          set value(c) {
            this.innerValue !== c &&
              ((this.innerValue = c), this.changed.forEach((e) => e(c)));
          }
          touch() {
            this.touched.forEach((c) => c());
          }
          writeValue(c) {
            (this.innerValue = c), this.cd.markForCheck();
          }
          registerOnChange(c) {
            this.changed.push(c);
          }
          registerOnTouched(c) {
            this.touched.push(c);
          }
        } {
          constructor(e) {
            super(e),
              (this.disabled = !1),
              (this.bsConfig = {
                isAnimated: !0,
                showWeekNumbers: !1,
                containerClass: "theme-default",
              }),
              (this.textTimeFormat = Tt().localeData().longDateFormat("LT")),
              (this.useAmPmFormat =
                -1 !== this.textTimeFormat.indexOf("A") ||
                -1 !== this.textTimeFormat.indexOf("a"));
          }
          get timeFormat() {
            return this.textTimeFormat;
          }
          focus() {
            this.dateInput.nativeElement.focus();
          }
          writeValue(e) {
            super.writeValue(e),
              e
                ? ((this._timeValue = new Date(e.getTime())),
                  (this._dateValue = new Date(e.getTime())))
                : ((this._timeValue = null), (this._dateValue = null));
          }
          get dateValue() {
            return this._dateValue;
          }
          set dateValue(e) {
            (this._dateValue = e), this.valuesToModel();
          }
          get timeValue() {
            return this._timeValue;
          }
          set timeValue(e) {
            (this._timeValue = e), this.valuesToModel();
          }
          valuesToModel() {
            var e;
            if (
              !this._dateValue ||
              isNaN(this._dateValue.getTime()) ||
              !this._timeValue ||
              isNaN(this._timeValue.getTime())
            )
              this.value = new Date(NaN);
            else {
              const n = new Date();
              n.setFullYear(
                this._dateValue.getFullYear(),
                this._dateValue.getMonth(),
                this._dateValue.getDate()
              ),
                n.setHours(this._timeValue.getHours()),
                n.setMinutes(this._timeValue.getMinutes()),
                n.setSeconds(0),
                n.getTime() !==
                  (null === (e = this.value) || void 0 === e
                    ? void 0
                    : e.getTime()) && (this.value = n);
            }
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.Y36(d.sBO));
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["date-time-picker"]],
            viewQuery: function (e, n) {
              if ((1 & e && (d.Gf(FS, 7), d.Gf(zS, 7)), 2 & e)) {
                let i;
                d.iGM((i = d.CRH())) && (n.dateInput = i.first),
                  d.iGM((i = d.CRH())) && (n.timeInput = i.first);
              }
            },
            inputs: { disabled: "disabled" },
            features: [
              d._Bn([{ provide: q.JU, multi: !0, useExisting: t }]),
              d.qOj,
            ],
            decls: 5,
            vars: 6,
            consts: [
              [1, "d-flex", "align-items-center", "justify-content-center"],
              [
                "id",
                "dateInput",
                "type",
                "text",
                "bsDatepicker",
                "",
                1,
                "form-control",
                "m-r",
                2,
                "margin-right",
                "5px",
                "padding",
                "6px 3px",
                3,
                "ngModel",
                "disabled",
                "bsConfig",
                "ngModelChange",
              ],
              ["dateInput", ""],
              [
                "ngDefaultControl",
                "",
                1,
                "time-picker",
                3,
                "ngModel",
                "disabled",
                "showMeridian",
                "ngModelChange",
              ],
              ["timeInput", ""],
            ],
            template: function (e, n) {
              1 & e &&
                (d.TgZ(0, "div", 0)(1, "input", 1, 2),
                d.NdJ("ngModelChange", function (a) {
                  return (n.dateValue = a);
                })("ngModelChange", function () {
                  return n.touch();
                }),
                d.qZA(),
                d.TgZ(3, "timepicker", 3, 4),
                d.NdJ("ngModelChange", function (a) {
                  return (n.timeValue = a);
                })("ngModelChange", function () {
                  return n.touch();
                }),
                d.qZA()()),
                2 & e &&
                  (d.xp6(1),
                  d.Q6J("ngModel", n.dateValue)("disabled", n.disabled)(
                    "bsConfig",
                    n.bsConfig
                  ),
                  d.xp6(2),
                  d.Q6J("ngModel", n.timeValue)("disabled", n.disabled)(
                    "showMeridian",
                    n.useAmPmFormat
                  ));
            },
            dependencies: [q.Fj, q.JJ, q.On, Tn.EV, qt.Np, qt.Y5],
            encapsulation: 2,
          })),
          t
        );
      })();
      function YS(t, c) {
        1 & t &&
          (d.TgZ(0, "div", 9)(1, "div", 10)(2, "label", 11),
          d._uU(3),
          d.ALo(4, "translate"),
          d.qZA(),
          d._UZ(5, "date-time-picker", 12),
          d.qZA(),
          d.TgZ(6, "div", 10)(7, "label", 11),
          d._uU(8),
          d.ALo(9, "translate"),
          d.qZA(),
          d._UZ(10, "date-time-picker", 13),
          d.qZA()()),
          2 & t &&
            (d.xp6(3),
            d.Oqu(d.lcZ(4, 2, "REPOS.TEXT.FROM")),
            d.xp6(5),
            d.Oqu(d.lcZ(9, 4, "REPOS.TEXT.TO")));
      }
      function XS(t, c) {
        1 & t && d._UZ(0, "error-template", 14);
      }
      function qS(t, c) {
        1 & t && d._UZ(0, "error-template", 15);
      }
      function QS(t, c) {
        if (
          (1 & t &&
            (d.TgZ(0, "form", 1)(1, "div", 2)(2, "label"),
            d._uU(3, "Range"),
            d.qZA(),
            d.TgZ(4, "select", 3)(5, "option", 4),
            d._uU(6),
            d.ALo(7, "translate"),
            d.qZA(),
            d.TgZ(8, "option", 4),
            d._uU(9),
            d.ALo(10, "translate"),
            d.qZA(),
            d.TgZ(11, "option", 4),
            d._uU(12),
            d.ALo(13, "translate"),
            d.qZA(),
            d.TgZ(14, "option", 4),
            d._uU(15),
            d.ALo(16, "translate"),
            d.qZA()()(),
            d.YNc(17, YS, 11, 6, "div", 5),
            d.TgZ(18, "val-errors", 6),
            d.YNc(19, XS, 1, 0, "ng-template", 7),
            d.YNc(20, qS, 1, 0, "ng-template", 8),
            d.qZA()()),
          2 & t)
        ) {
          const e = d.oxw();
          d.Q6J("formGroup", e.form),
            d.xp6(5),
            d.Q6J("value", e.PurgeRanges.All),
            d.xp6(1),
            d.Oqu(d.lcZ(7, 11, "REPOS.TEXT.ALL_RECORDS")),
            d.xp6(2),
            d.Q6J("value", e.PurgeRanges.Month),
            d.xp6(1),
            d.Oqu(
              d.lcZ(
                10,
                13,
                "SYSTEM_STATUS.DIALOGS.PURGE.INTERVALS.OLDER_THAN_MONTH"
              )
            ),
            d.xp6(2),
            d.Q6J("value", e.PurgeRanges.Year),
            d.xp6(1),
            d.Oqu(
              d.lcZ(
                13,
                15,
                "SYSTEM_STATUS.DIALOGS.PURGE.INTERVALS.OLDER_THAN_YER"
              )
            ),
            d.xp6(2),
            d.Q6J("value", e.PurgeRanges.FilterByDate),
            d.xp6(1),
            d.Oqu(d.lcZ(16, 17, "REPOS.TEXT.CUSTOM_PERIOD")),
            d.xp6(2),
            d.Q6J("ngIf", e.flexibleDates),
            d.xp6(1),
            d.Q6J("control", e.form);
        }
      }
      let ps = (() => {
          class t {
            constructor() {
              this.PurgeRanges = Qe;
            }
            get flexibleDates() {
              var e, n;
              return (
                (null ===
                  (n =
                    null === (e = this.form) || void 0 === e
                      ? void 0
                      : e.value) || void 0 === n
                  ? void 0
                  : n.option) === Qe.FilterByDate
              );
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)();
            }),
            (t.ɵcmp = d.Xpm({
              type: t,
              selectors: [["purge-range-settings"]],
              inputs: { form: "form" },
              decls: 1,
              vars: 1,
              consts: [
                [3, "formGroup", 4, "ngIf"],
                [3, "formGroup"],
                [1, "form-group"],
                ["formControlName", "option", 1, "form-control"],
                [3, "value"],
                [
                  "formGroupName",
                  "custom",
                  "class",
                  "d-flex flex-column flex-md-row align-items-center justify-content-sm-between",
                  4,
                  "ngIf",
                ],
                [3, "control"],
                ["valError", "invalidTime"],
                ["valError", "stopDateBeforeStart"],
                [
                  "formGroupName",
                  "custom",
                  1,
                  "d-flex",
                  "flex-column",
                  "flex-md-row",
                  "align-items-center",
                  "justify-content-sm-between",
                ],
                [
                  1,
                  "d-flex",
                  "col-md-3",
                  "align-items-center",
                  "justify-content-center",
                  "w-full",
                ],
                [1, "w-xxs", "text-center"],
                ["formControlName", "start"],
                ["formControlName", "stop"],
                ["text", "WARNINGS.INVALID_TIME"],
                ["text", "CALL_LOG.DIALOGS.FILTER.INVALID_TIME_RANGE"],
              ],
              template: function (e, n) {
                1 & e && d.YNc(0, QS, 21, 19, "form", 0),
                  2 & e && d.Q6J("ngIf", n.form);
              },
              dependencies: [
                Ye.O5,
                q._Y,
                q.YN,
                q.Kr,
                q.EJ,
                q.JJ,
                q.JL,
                WS,
                q.sg,
                q.u,
                q.x0,
                Xe.tM,
                Xe.HY,
                Sn.u,
                He.X$,
              ],
              encapsulation: 2,
            })),
            t
          );
        })(),
        us = (() => {
          class t {
            constructor(e, n) {
              (this.bsModalRef = e),
                (this.fb = n),
                (this.ModalResult = qe.q),
                (this.result = qe.q.Cancel);
            }
            get value() {
              return this.form.value;
            }
            ngOnInit() {
              this.form = ds(this.fb);
            }
            hide(e) {
              (this.result = e), this.bsModalRef.hide();
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)(d.Y36(et.UZ), d.Y36(q.qu));
            }),
            (t.ɵcmp = d.Xpm({
              type: t,
              selectors: [["purge-chats-popup"]],
              decls: 17,
              vars: 15,
              consts: [
                [3, "formGroup", "ngSubmit"],
                [1, "modal-header"],
                [1, "modal-title", "float-left"],
                [1, "modal-body"],
                [1, "m-r-xs", 3, "innerHTML"],
                [3, "form"],
                [1, "modal-footer"],
                [
                  "id",
                  "btnOk",
                  "type",
                  "submit",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "disabled",
                  "click",
                ],
                ["okButton", ""],
                [
                  "id",
                  "btnCancel",
                  "type",
                  "button",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "click",
                ],
              ],
              template: function (e, n) {
                1 & e &&
                  (d.TgZ(0, "form", 0),
                  d.NdJ("ngSubmit", function () {
                    return n.hide(n.ModalResult.Ok);
                  }),
                  d.TgZ(1, "div", 1)(2, "h4", 2),
                  d._uU(3),
                  d.ALo(4, "translate"),
                  d.qZA()(),
                  d.TgZ(5, "div", 3),
                  d._UZ(6, "label", 4),
                  d.ALo(7, "translate"),
                  d._UZ(8, "purge-range-settings", 5),
                  d.qZA(),
                  d.TgZ(9, "div", 6)(10, "button", 7, 8),
                  d.NdJ("click", function () {
                    return n.hide(n.ModalResult.Ok);
                  }),
                  d._uU(12),
                  d.ALo(13, "translate"),
                  d.qZA(),
                  d.TgZ(14, "button", 9),
                  d.NdJ("click", function () {
                    return n.hide(n.ModalResult.Cancel);
                  }),
                  d._uU(15),
                  d.ALo(16, "translate"),
                  d.qZA()()()),
                  2 & e &&
                    (d.Q6J("formGroup", n.form),
                    d.xp6(3),
                    d.Oqu(d.lcZ(4, 7, "REPOS.CONFIRMATION.HEADER")),
                    d.xp6(3),
                    d.Q6J(
                      "innerHTML",
                      d.lcZ(7, 9, "REPOS.CONFIRMATION.CHAT_ENTRIES"),
                      d.oJD
                    ),
                    d.xp6(2),
                    d.Q6J("form", n.form),
                    d.xp6(2),
                    d.Q6J("disabled", !n.form.valid),
                    d.xp6(2),
                    d.Oqu(d.lcZ(13, 11, "SYSTEM_STATUS.PBX_STATUS_BOX.PURGE")),
                    d.xp6(3),
                    d.Oqu(d.lcZ(16, 13, "REPOS.BUTTONS.CANCEL_BTN")));
              },
              dependencies: [q._Y, q.JL, q.sg, ps, He.X$],
              encapsulation: 2,
            })),
            t
          );
        })();
      function Re(t, c) {
        u.module("app").directive(t, [
          "$rootScope",
          "$parse",
          (e, n) => ({
            replace: !0,
            restrict: "A",
            link: (i, a, l) => {
              const s = l[t] ? n(l[t]) : () => !0;
              e.$watch("User", function r(o) {
                a.css("display", void 0 !== o && c(o) && s(i) ? "" : "none");
              });
            },
          }),
        ]);
      }
      const $e = (t, c) => t.roles.filter((e) => c.includes(e)).length > 0,
        Qt = (t) => $e(t, ["Admin"]),
        Dt = (t) => $e(t, ["HostingAdmin"]),
        Zt = (t) => t.isProfessional,
        yt = (t) => $e(t, ["GlobalAdmin"]);
      function hs(t) {
        return $e(t, ["GlobalAdmin", "Admin"]);
      }
      function fs(t) {
        return $e(t, ["GlobalAdmin", "Trunks"]);
      }
      function gs(t) {
        return $e(t, ["GlobalAdmin", "Reports"]);
      }
      function qn(t) {
        return t.isChatLogEnabled && $e(t, ["GlobalAdmin", "Reports"]);
      }
      function ms(t) {
        return Zt(t) && $e(t, ["GlobalAdmin", "Reports"]);
      }
      Re("mcAdmin", (t) => Qt(t)),
        Re("mcLab", (t) => t.isLabFeaturesEnabled),
        Re("mcLabAdmin", (t) => t.isLabFeaturesEnabled && Qt(t)),
        Re("mcSettings", (t) =>
          $e(t, ["Admin", "HostingAdmin", "PhoneSystemAdmin"])
        ),
        Re("mcHostingAdmin", (t) => $e(t, ["Admin", "HostingAdmin"])),
        Re(
          "mcHostingModeAdmin",
          (t) => (!t.IsHostingMode && Qt(t)) || (t.IsHostingMode && Dt(t))
        ),
        Re("mcHostingAdminOnlyInHostingMode", (t) => t.IsHostingMode && Dt(t)),
        Re(
          "mcConsoleInSettings",
          (t) => t.consoleEnabled && t.IsHostingMode && Dt(t)
        ),
        Re(
          "mcHostingModeGlobalAdmin",
          (t) => (!t.IsHostingMode && yt(t)) || (t.IsHostingMode && Dt(t))
        ),
        Re(
          "mc3cxHostingModeHostingAdmin",
          (t) => t.IsHostingMode && t.isHosted3CX && Dt(t)
        ),
        Re("mcGlobalAdmin", (t) => yt(t)),
        Re("mcNotHostingMode", (t) => !t.IsHostingMode),
        Re("mcNotHostingAdmin", (t) => !Dt(t)),
        Re("mcNotMultiCompany", (t) => !t.isMulticompanyMode),
        Re("mcAllExtensions", (t) => $e(t, ["GlobalExtensionManager"])),
        Re("mcGroupManager", (t) =>
          $e(t, ["GlobalExtensionManager", "GroupManager"])
        ),
        Re("mcProf", (t) => Zt(t)),
        Re(
          "mcTemplates",
          (t) => !t.IsHostingMode && $e(t, ["GlobalAdmin", "Admin"])
        ),
        Re("mcPhones", (t) => hs(t)),
        Re("mcTrunks", (t) => fs(t)),
        Re("mcOutboundRules", (t) => $e(t, ["GlobalAdmin", "OutboundRules"])),
        Re("mcInboundRules", (t) =>
          $e(t, ["GlobalAdmin", "Trunks", "PhoneSystemAdmin"])
        ),
        Re("mcMessaging", (t) => $e(t, ["GlobalAdmin", "Admin"])),
        Re("mcWebLinks", (t) => $e(t, ["GlobalAdmin", "Admin"])),
        Re("mcIvr", (t) => $e(t, ["GlobalAdmin", "PhoneSystemAdmin"])),
        Re("mcRingGroups", (t) => $e(t, ["GlobalAdmin", "PhoneSystemAdmin"])),
        Re(
          "mcQueues",
          (t) => Zt(t) && $e(t, ["GlobalAdmin", "PhoneSystemAdmin"])
        ),
        Re("mcBackupAndRestore", (t) => $e(t, ["GlobalAdmin", "Admin"])),
        Re("mcReporting", (t) => $e(t, ["GlobalAdmin", "Admin", "Reports"])),
        Re("mcCallLog", (t) => gs(t)),
        Re("mcCdr", (t) => $e(t, ["GlobalAdmin", "Admin"])),
        Re("mcChatLogs", (t) => qn(t)),
        Re("mcRecordings", (t) => ms(t));
      const Ts = (t) => $e(t, ["GlobalAdmin", "DownloadRecordings"]);
      Re("mcDownloadRecordings", (t) => Ts(t)),
        Re("mcReports", (t) => Zt(t) && $e(t, ["GlobalAdmin", "Reports"])),
        Re("mcOperatorExtensionAlert", (t) => !t.isMulticompanyMode && yt(t)),
        Re("mcAdvanced", (t) =>
          $e(t, ["GlobalAdmin", "Admin", "PhoneSystemAdmin"])
        ),
        Re(
          "mcCallFlow",
          (t) => !t.IsHostingMode && $e(t, ["GlobalAdmin", "Admin"])
        ),
        Re("mcContacts", (t) => $e(t, ["GlobalAdmin", "PhoneSystemAdmin"])),
        Re("mcFax", (t) => $e(t, ["GlobalAdmin", "Admin"])),
        Re("mcFaxServer", (t) => $e(t, ["GlobalAdmin", "Admin"])),
        Re("mcFxs", (t) => $e(t, ["GlobalAdmin", "Admin"])),
        Re("mcHotdesking", (t) => $e(t, ["GlobalAdmin", "Admin"])),
        Re("mcApi", (t) => t.isMulticompanyMode && yt(t)),
        Re("mcOffice365", (t) => yt(t)),
        Re("mcGoogle", (t) => yt(t)),
        Re("mcMoh", (t) => $e(t, ["GlobalAdmin", "PhoneSystemAdmin"])),
        Re("mcOfficeHours", (t) => $e(t, ["GlobalAdmin", "PhoneSystemAdmin"])),
        Re("mcApp", (t) => $e(t, ["GlobalAdmin", "PhoneSystemAdmin", "Admin"])),
        Re("mcOptions", (t) => $e(t, ["GlobalAdmin", "Admin"])),
        Re("mcCodecs", (t) => $e(t, ["GlobalAdmin", "PhoneSystemAdmin"])),
        Re("mcIntegrations", (t) => Qt(t) || yt(t));
      var st = (() => {
        return (
          ((t = st || (st = {}))[(t.SMS = 0)] = "SMS"),
          (t[(t.LiveChat = 1)] = "LiveChat"),
          (t[(t.Facebook = 2)] = "Facebook"),
          (t[(t.Internal = 3)] = "Internal"),
          (t[(t.RCS = 4)] = "RCS"),
          (t[(t.Whatsapp = 5)] = "Whatsapp"),
          st
        );
        var t;
      })();
      u.module("app").controller("ChatMessagesController", [
        "$scope",
        "$rootScope",
        "$state",
        "$q",
        "ChatSvc",
        "$filter",
        "$timeout",
        "$uibModal",
        "$window",
        "MessageBoxSvc",
        "BsModalService",
        "SystemStatusSvc",
        function (t, c, e, n, i, a, l, s, r, o, p, f) {
          (t.isLoading = !0),
            (t.itemsByPage = 50),
            (t.isOneSelected = !1),
            (t.isAllSelected = !1),
            (t.selectedItems = []),
            (t.displayedItems = []),
            (t.currentFilter = new Yn(new URLSearchParams(e.params.filter))),
            (t.searchFilter = t.currentFilter.filter);
          let m = null,
            g = null,
            S = 0,
            O = !1;
          function j() {
            g && ((g.promise.userCancelled = !0), g.resolve(), (g = null));
          }
          (t.onPageSwitch = function (X) {
            (t.currentFilter.start = (X - 1) * t.itemsByPage),
              e.go("app.chat_messages", {
                filter: t.currentFilter.toStringParams(),
              }),
              _t();
          }),
            (t.rowClick = function (X) {
              (X.isSelected = !X.isSelected), t.selectionChanged();
            }),
            (t.rowEllipsisClick = function (X, K, Q, _e) {
              K.active &&
                s.open({
                  templateUrl: "tpl/call_reports/message.html",
                  size: "lg",
                  resolve: {
                    messageData: () => ({ headerTextKey: _e, messageText: Q }),
                  },
                  controller: "MessageController",
                });
            }),
            (t.getChatType = function (X) {
              const K = X.ProviderName.toLowerCase();
              return X.isExternal
                ? K.indexOf("rcs") > -1
                  ? st.RCS
                  : "webrtc" === K || K.indexOf("livechat") > -1
                  ? st.LiveChat
                  : K.indexOf("sms") > -1
                  ? st.SMS
                  : K.indexOf("facebook") > -1
                  ? st.Facebook
                  : K.indexOf("whatsapp") > -1
                  ? st.Whatsapp
                  : st.SMS
                : st.Internal;
            }),
            (t.getChatTypeTranslation = function (X) {
              const K = this.getChatType(X);
              return K === st.RCS
                ? "CHATS.DIALOGS.FILTER.RCS_PROVIDER"
                : K === st.LiveChat
                ? "CHATS.DIALOGS.FILTER.LIVE_CHAT_PROVIDER"
                : K === st.SMS
                ? "CHATS.DIALOGS.FILTER.SMS_PROVIDER"
                : K === st.Facebook
                ? "CHATS.DIALOGS.FILTER.FACEBOOK_MESSENGER"
                : K === st.Whatsapp
                ? "CHATS.DIALOGS.FILTER.WHATSAPP_CHAT_PROVIDER"
                : "CHATS.DIALOGS.FILTER.INTERNAL_CHATS";
            }),
            (t.showNumber = function (X) {
              const K = this.getChatType(X);
              return K === st.SMS || K === st.Internal || !X.isExternal;
            });
          const te = function (X) {
            const K = t.displayedItems.indexOf(X);
            K >= 0 && t.displayedItems.splice(K, 1);
          };
          (t.deleteMessage = function (X) {
            i.deleteAllMessagesByConversation(X.ChatConversationId)
              .then(function () {
                te(X), t.selectionChanged(), t.loadMessagesFromServer(!1, !0);
              })
              .catch(() => u.noop());
          }),
            (t.deleteMessages = function () {
              o.confirmDialog(
                "REPOS.CONFIRMATION.HEADER",
                this.isOneSelected
                  ? "REPOS.CONFIRMATION.TEXT"
                  : "REPOS.CONFIRMATION.TEXT_MANY"
              )
                .then(function () {
                  const X = t
                    .getSelectedItems()
                    .map((K) => K.ChatConversationId);
                  0 != X.length &&
                    i
                      .deleteAllMessagesByConversation(X)
                      .then(function () {
                        X.forEach(function (K) {
                          te(K);
                        }),
                          t.selectionChanged(),
                          t.loadMessagesFromServer(!0, !0);
                      })
                      .catch(() => u.noop());
                })
                .catch(() => u.noop());
            }),
            (t.deleteAllMessages = function () {
              o.confirmDialog(
                "REPOS.CONFIRMATION.HEADER",
                "REPOS.CONFIRMATION.TEXT_ALL"
              )
                .then(function () {
                  i.deleteAllMessages()
                    .then(function () {
                      (t.displayedItems = []),
                        m && (m.pagination.numberOfPages = 0);
                    })
                    .catch(() => u.noop());
                })
                .catch(() => u.noop());
            }),
            (t.onChatConversation = (X) => {
              e.go("app.chat_conversation", {
                filter: e.params.filter,
                Id: X.ChatConversationId,
                chat_type: X.ProviderName.toLowerCase(),
              });
            }),
            (t.loadData = function (X) {
              (t.isLoading = !0),
                (t.displayedItems = []),
                (m = X),
                t.loadMessagesFromServer(!1, !1);
            }),
            (t.RestoreSelectedItems = function () {
              t.displayedItems.forEach((X) => {
                X.isSelected =
                  t.selectedItems.findIndex(
                    (K) => K.ChatConversationId == X.ChatConversationId
                  ) > -1;
              });
            }),
            (t.textFilterChanged = function () {
              (t.currentFilter.filter = t.searchFilter),
                (t.currentFilter.start = 0),
                e.go("app.chat_messages", {
                  filter: t.currentFilter.toStringParams(),
                }),
                t.loadMessagesFromServer(!0, !1);
            }),
            (t.loadMessagesFromServer = function (X, K) {
              if (!m) return;
              j();
              const Q = n.defer();
              if (X) {
                const Me = m.pagination;
                (Me.numberOfPages = 0),
                  (Me.start = 0),
                  (Me.number = t.itemsByPage),
                  (S = 0),
                  (O = !1);
              }
              let _e, Le;
              return (
                K && (t.selectedItems = []),
                t.currentFilter.searchByDate
                  ? (t.currentFilter.date.startDate.isValid() &&
                      (_e = t.currentFilter.date.startDate.toDate()),
                    t.currentFilter.date.endDate.isValid() &&
                      (Le = t.currentFilter.date.endDate.toDate()))
                  : ((_e = new Date()), (Le = new Date())),
                (g = n.defer()),
                i
                  .getAll(
                    t.currentFilter.start || 0,
                    t.itemsByPage,
                    t.currentFilter.chatFilter,
                    t.currentFilter.from,
                    t.currentFilter.to,
                    t.currentFilter.sourceFilter,
                    t.currentFilter.searchByDate,
                    _e,
                    Le,
                    t.currentFilter.filter,
                    g
                  )
                  .then(function (Me) {
                    const Ze = Me.data;
                    u.forEach(Ze.ChatMessages, function (ct) {
                      (ct.messageEllipsis = { active: !1 }),
                        (ct.toEllipsis = { active: !1 });
                    }),
                      (t.displayedItems = X
                        ? Ze.ChatMessages
                        : t.displayedItems.concat(Ze.ChatMessages)),
                      t.RestoreSelectedItems(),
                      (g = null);
                    const pt = t.currentFilter.start + Ze.ChatMessages.length;
                    pt >= S && ((S = pt), (O = !Me.data.HasMoreRows));
                    const At = m.pagination;
                    (At.numberOfPages =
                      Math.floor(S / t.itemsByPage) +
                      (S % t.itemsByPage == 0 ? 0 : 1)),
                      O || At.numberOfPages++,
                      (At.start = t.currentFilter.start),
                      (t.isLoading = !1),
                      Q.resolve(Ze);
                  })
                  .catch(() => u.noop()),
                Q.promise
              );
            }),
            (t.constructExternalName = function (X) {
              let K = X.FromName;
              return (
                X.ParticipantIP && (K = `${K} ${X.ParticipantIP}`),
                X.ParticipantPhone && (K = `${K} ${X.ParticipantPhone}`),
                X.ParticipantEmail && (K = `${K} ${X.ParticipantEmail}`),
                K
              );
            }),
            (t.onClickFilter = function () {
              s.open({
                size: "md",
                backdrop: "static",
                component: "chatFilterDialog",
                keyboard: !0,
                resolve: { currentFilter: t.currentFilter },
              }).result.then((X) => {
                (t.currentFilter = X),
                  (t.currentFilter.start = 0),
                  e.go("app.chat_messages", { filter: X.toStringParams() }),
                  t.loadMessagesFromServer(!0, !1);
              });
            }),
            (t.chatLogActionsEnabled = function () {
              return qn(c.User) || yt(c.User);
            }),
            (t.onClickSettings = function () {
              s.open({
                size: "md",
                backdrop: "static",
                component: "chatSettingsDialog",
                keyboard: !0,
              }).result.then(() => {});
            }),
            (t.chatMessagesPurge = function () {
              var X;
              const K = p.show(us),
                Q = K.content;
              return null === (X = K.onHide) || void 0 === X
                ? void 0
                : X.pipe(
                    (0, Nt.q)(1),
                    (0, We.U)(() => {
                      if (Q.result == qe.q.Ok)
                        switch (Q.value.option) {
                          case Qe.All:
                            return f.PurgeChatMessages(!0);
                          case Qe.FilterByDate:
                            return f.PurgeChatMessages(!1, Q.value.custom);
                          case Qe.Year:
                            return f.PurgeChatMessagesUpToTheDate(vn());
                          case Qe.Month:
                            return f.PurgeChatMessagesUpToTheDate(Nn());
                          default:
                            return;
                        }
                    })
                  ).subscribe({
                    next: (_e) => {
                      void 0 !== _e &&
                        _e.then(() => {
                          t.loadMessagesFromServer(!0, !1);
                        });
                    },
                  });
            }),
            t.$on("$destroy", function () {
              j();
            });
        },
      ]);
      var KS =
        '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="CHATS.MESSAGES.TITLE">Chat Messages</label> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="CHATS.MESSAGES.TITLE">Chat Messages</div> <div class="panel-body" sticky-to-top> <button type="button" data-toggle="modal" ng-click="$ctrl.onClickFilter()" ng-disabled="isLoading" id="btnFilter" class="btn btn-sm btn-success btn-responsive" translate="CALL_LOG.FILTER_BTN"> <i class="fa fa-filter"></i> Filter </button> <button type="button" class="btn btn-sm btn-default btn-responsive" translate="REPOS.BUTTONS.EXPORT_BTN" id="btnExport" ng-click="$ctrl.onExportClick()"> <i class="halflings halflings-save"></i> Export </button> <button type="button" name="goBack" class="btn btn-sm btn-success btn-responsive" translate="REPOS.BUTTONS.GO_BACK_BTN" ng-click="$ctrl.goBack()"> <i class="fa fa-arrow-left"></i> Go Back </button> </div> <div style="padding:8px;border-top:1px solid #ddd" class="panel-body"> <mc-search mc-disabled="$ctrl.isLoading" search-filter="$ctrl.searchFilter" on-search="$ctrl.loadMessagesFromServer(true)" style="display:block"></mc-search> </div> <table id="conversationChatsTable" st-pipe="$ctrl.loadData" st-table="$ctrl.displayedItems" class="table table-fixed table-striped" style="width:100%;table-layout:fixed"> <thead> <tr> <th class="w-full" translate="CHATS.TIME_TITLE">Date</th> <th class="w-full" translate="CHATS.FROM_TITLE">From</th> <th class="w-full" translate="REPOS.TEXT.EMAIL" ng-if="$ctrl.isWebrtcProvider()">Email</th> <th class="w-full" translate="CHATS.MESSAGES.TBL_HEADING_PHONE" ng-if="$ctrl.isSMSProvider()">Phone</th> <th class="w-full" translate="CHATS.MESSAGES.TBL_HEADING_IP" ng-if="$ctrl.isWebrtcProvider()">IP</th> <th class="w-full" translate="CHATS.TO_TITLE">TO</th> <th class="w-full" translate="CHATS.MESSAGES.TBL_HEADING_MESSAGE">Message</th> </tr> </thead> <tbody ng-show="!isLoading"> <tr ng-repeat="row in $ctrl.displayedItems track by row.ChatMessageId" style="background-color:#f9f9f9" data-id="{{row.ChatMessageId}}"> <td>{{::row.TimeSent | mcDateFormat }}</td> <td> <span ng-if="!row.isExternal">{{::row.FromName + \' (\' + row.FromNo + \')\'}}</span> <span ng-if="row.isExternal">{{row.FromName !== \'\' ? row.FromName : \'(\' + row.FromNo + \')\'}}</span> </td> <td ng-if="$ctrl.isWebrtcProvider()"> <span>{{::row.ParticipantEmail}}</span> </td> <td ng-if="$ctrl.isSMSProvider()"> <span>{{::row.ParticipantPhone}}</span> </td> <td class="td-ellipsis" ng-if="$ctrl.isWebrtcProvider()" ng-click="$ctrl.rowEllipsisClick(row, row.ipEllipsis, row.ParticipantIP, \'CHATS.MESSAGES.TBL_HEADING_IP\')" is-ellipsis-active="row.ipEllipsis"> <a>{{::row.ParticipantIP}}</a> </td> <td class="td-ellipsis" ng-click="$ctrl.rowEllipsisClick(row, row.toEllipsis, row.Recepients, \'CHATS.TO_TITLE\')" is-ellipsis-active="row.toEllipsis"> <a>{{::row.Recepients}}</a> </td> <td is-ellipsis-active="row.messageEllipsis" class="td-ellipsis" ng-click="$ctrl.rowEllipsisClick(row, row.messageEllipsis, row.Message,  \'CHATS.MESSAGE_TITLE\')"> <a>{{::row.Message}}</a> </td> </tr> </tbody> <tfoot> <tr> <td colspan="{{$ctrl.isWebrtcProvider() ? \'7\' : \'4\'}}" class="text-center"> <div ng-show="!$ctrl.isLoading" st-pagination="" st-items-by-page="$ctrl.itemsByPage" st-displayed-pages="7" st-template="' +
        nt()(Ft) +
        '" st-page-change="$ctrl.onPageSwitch(newPage)"></div> </td> </tr> </tfoot> </table> </div> </div> </div> ';
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put("js/app/chat_logs/chat-conversation-editor.component.html", KS),
      ]);
      class Qn {
        constructor() {
          const c = ae()();
          (this.searchByDate = !1),
            (this.date = {
              endDate: c.clone().endOf("day"),
              startDate: c.clone().startOf("day"),
            });
        }
      }
      var eE = w(58259);
      let tE = (() => {
        class t {
          constructor(e, n, i, a, l, s, r, o) {
            (this.$scope = e),
              (this.$state = n),
              (this.$http = a),
              (this.ChatSvc = l),
              (this.$q = s),
              (this.$uibModal = r),
              (this.MessageBoxSvc = o),
              (this.isLoading = !0),
              (this.itemsByPage = 50),
              (this.isAnySelected = !1),
              (this.isOneSelected = !1),
              (this.isAllSelected = !1),
              (this.displayedItems = []),
              (this.selectedItems = []),
              (this.currentRequestCanceller = null),
              (this.maxLoadedRows = 0),
              (this.lastPageLoaded = !1),
              (this.chatType = ""),
              (this.providerName = ""),
              (this.chatConversationID = i.Id),
              (this.chatType = i.chat_type),
              (this.currentFilter = new Qn()),
              (this.$scope.chatID = this.chatConversationID),
              (this.loadData = (p) => {
                (this.isLoading = !0),
                  (this.displayedItems = []),
                  (this.stTableState = p),
                  this.loadMessagesFromServer(!1, !1);
              });
          }
          goBack() {
            this.$state.go("app.chat_messages", {
              filter: this.$state.params.filter,
            });
          }
          deleteAllMessages() {
            this.MessageBoxSvc.confirmDialog(
              "REPOS.CONFIRMATION.HEADER",
              "Do you want to delete all chat messages for chat conversation " +
                this.chatConversationID +
                " ?"
            )
              .then(() => {
                this.ChatSvc.deleteAllMessagesByConversation(
                  this.chatConversationID
                )
                  .then(() => {
                    (this.displayedItems = []),
                      this.stTableState &&
                        ((this.stTableState.pagination.numberOfPages = 0),
                        this.goBack());
                  })
                  .catch(() => u.noop());
              })
              .catch(() => u.noop());
          }
          deleteMessages() {
            this.MessageBoxSvc.confirmDialog(
              "REPOS.CONFIRMATION.HEADER",
              this.isOneSelected
                ? "REPOS.CONFIRMATION.TEXT"
                : "REPOS.CONFIRMATION.TEXT_MANY"
            )
              .then(() => {
                const e = this.getSelectedItems().map((n) => n.ChatMessageId);
                0 != e.length &&
                  this.ChatSvc.deleteMessages(e)
                    .then(() => {
                      e.forEach((n) => {
                        this.removeChatMessage(n);
                      }),
                        this.selectionChanged(),
                        this.loadMessagesFromServer(!0, !0);
                    })
                    .catch(() => u.noop());
              })
              .catch(() => u.noop());
          }
          onPageSwitch() {
            _t();
          }
          removeChatMessage(e) {
            const n = this.displayedItems.find((i) => i === e);
            n && this.displayedItems.splice(n, 1);
          }
          rowClick(e) {
            (e.isSelected = !e.isSelected), this.selectionChanged();
          }
          rowEllipsisClick(e, n, i, a) {
            n.active &&
              this.$uibModal.open({
                templateUrl: "tpl/call_reports/message.html",
                size: "lg",
                resolve: {
                  messageData: () => ({ headerTextKey: a, messageText: i }),
                },
                controller: "MessageController",
              });
          }
          selectionChanged() {
            this.displayedItems.forEach((e) => {
              const n = this.selectedItems.findIndex(
                (i) => i.ChatMessageId === e.ChatMessageId
              );
              e.isSelected
                ? n < 0 && this.selectedItems.push(e)
                : -1 !== n && this.selectedItems.splice(n, 1);
            }),
              (this.isAnySelected = 0 != this.selectedItems.length),
              (this.isOneSelected = 1 === this.selectedItems.length),
              (this.isAllSelected = !1);
          }
          deleteMessage(e) {
            this.ChatSvc.deleteMessages([e.ChatMessageId])
              .then(() => {
                this.removeChatMessage(e),
                  this.selectionChanged(),
                  this.loadMessagesFromServer(!0, !0);
              })
              .catch(() => u.noop());
          }
          cancelCurrentRequest() {
            this.currentRequestCanceller &&
              ((this.currentRequestCanceller.promise.userCancelled = !0),
              this.currentRequestCanceller.resolve(),
              (this.currentRequestCanceller = null));
          }
          loadMessagesFromServer(e, n) {
            if (!this.stTableState) return;
            this.cancelCurrentRequest();
            const i = this.$q.defer();
            if (e) {
              const p = this.stTableState.pagination;
              (p.numberOfPages = 0),
                (p.start = 0),
                (p.number = this.itemsByPage),
                (this.maxLoadedRows = 0),
                (this.lastPageLoaded = !1);
            }
            n && (this.selectedItems = []);
            const a = this.stTableState.pagination.start || 0,
              l = this.searchFilter ? this.searchFilter : "",
              s = this.itemsByPage;
            let r, o;
            return (
              this.currentFilter.searchByDate
                ? (this.currentFilter.date.startDate.isValid() &&
                    (r = this.currentFilter.date.startDate.toDate()),
                  this.currentFilter.date.endDate.isValid() &&
                    (o = this.currentFilter.date.endDate.toDate()))
                : ((r = new Date()), (o = new Date())),
              (this.currentRequestCanceller = this.$q.defer()),
              this.ChatSvc.getConversationAllMessages(
                a || 0,
                s,
                this.chatConversationID,
                this.currentFilter.searchByDate,
                r,
                o,
                l,
                this.currentRequestCanceller
              )
                .then((p) => {
                  const f = p.data;
                  u.forEach(f.ChatMessages, (S) => {
                    (S.messageEllipsis = { active: !1 }),
                      (S.ipEllipsis = { active: !1 }),
                      (S.toEllipsis = { active: !1 });
                  }),
                    (this.displayedItems = f.ChatMessages),
                    this.RestoreSelectedItems(),
                    (this.currentRequestCanceller = null);
                  const m = a + f.ChatMessages.length;
                  m >= this.maxLoadedRows &&
                    ((this.maxLoadedRows = m),
                    (this.lastPageLoaded = !p.data.HasMoreRows));
                  const g = this.stTableState.pagination;
                  (g.numberOfPages =
                    Math.floor(this.maxLoadedRows / this.itemsByPage) +
                    (this.maxLoadedRows % this.itemsByPage == 0 ? 0 : 1)),
                    this.lastPageLoaded || g.numberOfPages++,
                    (g.start = a),
                    (this.isLoading = !1),
                    i.resolve(f),
                    this.getProvider();
                })
                .catch(() => u.noop()),
              i.promise
            );
          }
          RestoreSelectedItems() {
            this.displayedItems.forEach((e) => {
              e.isSelected =
                this.selectedItems.findIndex(
                  (n) => n.ChatMessageId == e.ChatMessageId
                ) > -1;
            });
          }
          getProvider() {
            if (this.chatType) this.providerName = this.chatType;
            else
              for (const e of this.displayedItems) {
                const n = e.ProviderName;
                n !== this.providerName &&
                  "" === this.providerName &&
                  (this.providerName = n);
              }
          }
          isExternal() {
            return "" !== this.providerName;
          }
          isFacebookProvider() {
            return this.providerName.toLowerCase().indexOf("facebook") > -1;
          }
          isWebrtcProvider() {
            const e = this.providerName.toLowerCase();
            return e.indexOf("webrtc") > -1 || e.indexOf("livechat") > -1;
          }
          isSMSProvider() {
            return this.providerName.toLowerCase().indexOf("sms") > -1;
          }
          isRCSProvider() {
            return this.providerName.toLowerCase().indexOf("rcs") > -1;
          }
          getSelectedItems() {
            return this.selectedItems;
          }
          getDisplayedItems() {
            return this.displayedItems
              .filter((e) => e)
              .map((e) => ({ Id: e.ChatMessageId }));
          }
          onClickFilter() {
            this.$uibModal
              .open({
                size: "md",
                backdrop: "static",
                component: "chatMessageFilterDialog",
                keyboard: !0,
                resolve: { currentFilter: this.currentFilter },
              })
              .result.then((e) => {
                (this.currentFilter = e), this.loadMessagesFromServer(!0, !1);
              });
          }
          onExportClick() {
            const e = this.getSelectedItems().map((r) => r.ChatMessageId),
              n = this.isWebrtcProvider().toString(),
              i = document.createElement("form");
            i.setAttribute("action", "api/Chat/conversationExport"),
              i.setAttribute("method", "post");
            const a = document.createElement("input");
            a.setAttribute("type", "hidden"),
              a.setAttribute("name", "ids"),
              a.setAttribute("value", e.join(","));
            const l = document.createElement("input");
            l.setAttribute("type", "hidden"),
              l.setAttribute("name", "isWebrtc"),
              l.setAttribute("value", n);
            const s = document.createElement("input");
            s.setAttribute("name", "conversation_id"),
              s.setAttribute("value", this.chatConversationID),
              i.append(a),
              i.append(l),
              i.append(s),
              eE(i).appendTo("body").submit().remove();
          }
          $onInit() {
            this.loadData = (e) => {
              (this.isLoading = !0),
                (this.stTableState = e),
                this.loadMessagesFromServer(!1, !1);
            };
          }
        }
        return (
          (t.$inject = [
            "$scope",
            "$state",
            "$stateParams",
            "$http",
            "ChatSvc",
            "$q",
            "$uibModal",
            "MessageBoxSvc",
          ]),
          t
        );
      })();
      u.module("app").component("chatConversationEditorComponent", {
        controller: tE,
        templateUrl: "js/app/chat_logs/chat-conversation-editor.component.html",
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/chat_logs/chat-conversation-filter-dialog.component.html",
            '<form ng-submit="$ctrl.search()" name="filterForm"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="CHATS.DIALOGS.FILTER.TITLE"> Filter Chat </h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="CHATS.DIALOGS.FILTER.FILTER">Filter</label> <select class="form-control" ng-model="$ctrl.params.chatFilter" convert-to-number="" name="callFilter"> <option value="{{$ctrl.ChatTypeFilter.All}}" translate="CHATS.DIALOGS.FILTER.ALL_CHATS">All chats</option> <option value="{{$ctrl.ChatTypeFilter.Local}}" translate="CHATS.DIALOGS.FILTER.INTERNAL_CHATS">Internal chats</option> <option value="{{$ctrl.ChatTypeFilter.External}}" translate="CHATS.DIALOGS.FILTER.EXTERNAL_CHATS">External chats</option> </select> </div> <div class="form-group"> <label translate="REPOS.TEXT.FROM">From</label> <input name="from" ng-model="$ctrl.params.from" class="form-control" placeholder="{{($ctrl.params.chatFilter.toString() === $ctrl.ChatTypeFilter.Local ? \'REPOS.TEXT.ENTER_NAME_NUMBER\': \'REPOS.TEXT.ENTER_NAME_EMAIL_PHONE_IP \') | translate}}"> </div> <div class="form-group"> <label translate="REPOS.TEXT.TO">To</label> <input name="from" ng-model="$ctrl.params.to" class="form-control" placeholder="{{\'CHATS.MESSAGES.SEARCH_FROM_PARTICIPANT\' | translate}}"> </div> <div class="form-group"> <label translate="CHATS.DIALOGS.FILTER.PROVIDER">Provider</label> <select class="form-control" ng-disabled="$ctrl.params.chatFilter.toString() !== $ctrl.ChatTypeFilter.External" ng-model="$ctrl.params.sourceFilter" name="callFilter"> <option value="{{$ctrl.ChatProvider.all}}" translate="CHATS.DIALOGS.FILTER.ALL_CHAT_PROVIDERS">All</option> <option value="{{$ctrl.ChatProvider.facebook}}" translate="CHATS.DIALOGS.FILTER.FACEBOOK_CHAT_PROVIDER">Facebook</option> <option value="{{$ctrl.ChatProvider.sms}}" translate="CHATS.DIALOGS.FILTER.SMS_CHAT_PROVIDER">SMS/MMS</option> <option value="{{$ctrl.ChatProvider.livechat}}" translate="CHATS.DIALOGS.FILTER.LIVE_CHAT_PROVIDER">Live Chat</option> <option value="{{$ctrl.ChatProvider.whatsapp}}" translate="CHATS.DIALOGS.FILTER.WHATSAPP_CHAT_PROVIDER">Whatsapp</option> </select> </div> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="$ctrl.params.searchByDate" ng-change="$ctrl.validateDate()"> <i></i> <span translate="CHATS.DIALOGS.FILTER.SEARCH_BY_CREATED_AT">Search By Created Date</span></label> <input date-range-picker class="form-control date-picker m-b-md" type="text" name="date" ng-change="$ctrl.validateDate()" placeholder="{{\'SYSTEM_STATUS.DIALOGS.ACTIVITY_LOG.SELECT_RANGE\' | translate}}" ng-disabled="!$ctrl.params.searchByDate" ng-model="$ctrl.params.date" options="$ctrl.datePickerOptions"> </div> </div> <div class="modal-footer"> <button class="btn btn-primary" type="submit" translate="REPOS.BUTTONS.SEARCH_BTN" ng-disabled="!filterForm.$valid">Search</button> <button class="btn btn-default" ng-click="$ctrl.reset()" type="button" translate="REPOS.BUTTONS.RESET_BTN">Reset</button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel </button> </div> </form> '
          ),
      ]);
      let aE = (() => {
        class t {
          constructor(e) {
            (this.$scope = e),
              (this.ChatTypeFilter = ln),
              (this.ChatProvider = Xt),
              (this.params = new Yn()),
              (this.datePickerOptions = {
                showCustomRangeLabel: !1,
                ranges: cn(ae()()),
                timePicker: !0,
                alwaysShowCalendars: !0,
                locale: { format: "L LT" },
              });
          }
          search() {
            !this.$scope.filterForm.$valid ||
              (this.params.chatFilter.toString() !==
                this.ChatTypeFilter.External &&
                (this.params.sourceFilter = Xt.all),
              this.close({ $value: this.params }));
          }
          reset() {
            this.params = new Yn();
          }
          $onInit() {
            this.params = this.resolve.currentFilter;
          }
        }
        return (t.$inject = ["$scope"]), t;
      })();
      u.module("app").component("chatFilterDialog", {
        templateUrl:
          "js/app/chat_logs/chat-conversation-filter-dialog.component.html",
        controller: aE,
        bindings: { resolve: "<", close: "&", dismiss: "&" },
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/chat_logs/chat-message-dialog.component.html",
            '<form ng-submit="$ctrl.search()" name="filterForm"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="CHATS.MESSAGES.CHAT_MESSAGES_FILTER"> Chat Messages Filter </h4> </div> <div class="modal-body"> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="$ctrl.params.searchByDate" ng-change="$ctrl.validateDate()"> <i></i> <span translate="SYSTEM_STATUS.DIALOGS.ACTIVITY_LOG.SEARCH_BY_DATE"></span></label> <input date-range-picker class="form-control date-picker m-b-md" type="text" name="date" ng-change="$ctrl.validateDate()" placeholder="{{\'SYSTEM_STATUS.DIALOGS.ACTIVITY_LOG.SELECT_RANGE\' | translate}}" ng-disabled="!$ctrl.params.searchByDate" ng-model="$ctrl.params.date" options="$ctrl.datePickerOptions"> </div> </div> <div class="modal-footer"> <button class="btn btn-primary" type="submit" translate="REPOS.BUTTONS.SEARCH_BTN" ng-disabled="!filterForm.$valid">Search</button> <button class="btn btn-default" ng-click="$ctrl.reset()" type="button" translate="REPOS.BUTTONS.RESET_BTN">Reset</button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel </button> </div> </form> '
          ),
      ]);
      let lE = (() => {
        class t {
          constructor(e) {
            (this.$scope = e),
              (this.params = new Qn()),
              (this.datePickerOptions = {
                showCustomRangeLabel: !1,
                ranges: cn(ae()()),
                timePicker: !0,
                alwaysShowCalendars: !0,
                locale: { format: "L LT" },
              });
          }
          validateDate() {}
          search() {
            !this.$scope.filterForm.$valid ||
              this.close({ $value: this.params });
          }
          reset() {
            this.params = new Qn();
          }
          $onInit() {
            this.params = this.resolve.currentFilter;
          }
        }
        return (t.$inject = ["$scope"]), t;
      })();
      u.module("app").component("chatMessageFilterDialog", {
        templateUrl: "js/app/chat_logs/chat-message-dialog.component.html",
        controller: lE,
        bindings: { resolve: "<", close: "&", dismiss: "&" },
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/chat_logs/chat-settings-dialog.html",
            '<form ng-submit="$ctrl.search()" name="filterForm"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="CHATS.DIALOGS.SETTINGS.CHAT_LOG_SETTINGS"> Chat Log Settings </h4> </div> <div class="modal-body"> <div class="form-group m-b form-inline"> <strong translate="MESSAGING.SETTINGS.AUTOCLOSE">Auto-Close</strong> <div class="line line-dashed b-b line-lg"></div> <p translate="MESSAGING.SETTINGS.DESCRIPTION"> Enabling this option adds a daily schedule task to close and archive active queue and ring group chats that exceeded the specified period. </p> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="$ctrl.enableCloseChatAfterDays" ng-model-options="{getterSetter: true}"> <i></i> <span translate="MESSAGING.SETTINGS.AUTOMATICALLY_CLOSE_CONVERSATIONS_OLDER_THAN"> Automatically close conversations older than </span> </label> </div> <div class="form-group"> <input type="number" class="form-control" ng-pattern="$ctrl.numberRegex" ng-model="$ctrl.chatCloseDays" ng-model-options="{getterSetter: true, updateOn: valueChanged ? \'default\' : \'blur\'}" ng-disabled="!$ctrl.enableCloseChatAfterDays" ng-change="triggerChanged()"> <label class="m-l-sm" translate="REPOS.TEXT.DAY_DAYS">day(s)</label> </div> </div> <div class="form-group m-b form-inline"> <strong translate="CHATS.DIALOGS.SETTINGS.AUTOCLEAN">Auto-Clean</strong> <div class="line line-dashed b-b line-lg"></div> <p translate="CHATS.DIALOGS.SETTINGS.DESCRIPTION"> Enabling this option adds a weekly scheduled task for Sunday 2AM to purge chats older than the specified period. If there are active calls at that time, the clean-up task is postponed for a week. </p> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="$ctrl.enableAutomaticallyDeleteChats" ng-model-options="{getterSetter: true}"> <i></i> <span translate="CHATS.DIALOGS.SETTINGS.AUTOMATICALLY_DELETE_CHATS_OLDER_THAN"> Automatically delete chats older than </span> </label> </div> <div class="form-group"> <input type="number" class="form-control" ng-pattern="$ctrl.numberRegex" ng-model="$ctrl.automaticallyDeleteMonths" ng-model-options="{getterSetter: true, updateOn: valueChanged ? \'default\' : \'blur\'}" ng-disabled="!$ctrl.enableAutomaticallyDeleteChats" ng-change="triggerChanged()"> <label class="m-l-sm" translate="REPOS.TEXT.MONTH_MONTHS">month(s)</label> </div> </div> </div> <div class="modal-footer"> <button type="submit" class="btn btn-default" ng-click="$ctrl.save()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save </button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel </button> </div> </form> '
          ),
      ]);
      let dE = (() => {
        class t {
          constructor(e) {
            (this.$http = e), (this.numberRegex = "[+0-9]?\\d*");
          }
          $onInit() {
            this.$http
              .getApi("api/Chat/settings")
              .then((e) => {
                const n = e.data;
                "0" === n || isNaN(n)
                  ? ((this.enableAutomaticallyDeleteChats = !1),
                    (this.automaticallyDeleteMonths = 0))
                  : ((this.enableAutomaticallyDeleteChats = !0),
                    (this.automaticallyDeleteMonths = Number(e.data)));
              })
              .catch(() => u.noop()),
              this.$http
                .getApi("api/Chat/getchatcloseafterdays")
                .then((e) => {
                  const n = e.data;
                  "0" === n || isNaN(n)
                    ? ((this.enableCloseChatAfterDays = !1),
                      (this.chatCloseDays = 0))
                    : ((this.enableCloseChatAfterDays = !0),
                      (this.chatCloseDays = Number(e.data)));
                })
                .catch(() => u.noop());
          }
          save() {
            this.$http
              .postApi(
                "api/Chat/setsettings",
                this.enableAutomaticallyDeleteChats
                  ? this.automaticallyDeleteMonths
                  : "0"
              )
              .then((i) => {
                this.close();
              })
              .catch(() => u.noop()),
              this.$http
                .postApi(
                  "api/Chat/setchatcloseafterdays",
                  this.enableCloseChatAfterDays ? this.chatCloseDays : "0"
                )
                .then((i) => {
                  this.close();
                })
                .catch(() => u.noop());
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u
        .module("app")
        .component("chatSettingsDialog", {
          templateUrl: "js/app/chat_logs/chat-settings-dialog.html",
          controller: dE,
          bindings: { close: "&", dismiss: "&" },
        }),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/ivrs/ivr_list.html",
                '<list-control api_url="IVRList" editor_state="app.ivr_editor" confirm-deletion> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="DIGITAL_RECEPTIONIST.DIGITAL_RECEPTIONIST_MAIN_TITLE">Digital Receptionist</label> <help-button url="{{\'LINKS.DIGITAL_RECEPTIONIST_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="DIGITAL_RECEPTIONIST.DIGITAL_RECEPTIONIST_MAIN_TITLE"> Digital Receptionist</div> <div class="panel-body" sticky-to-top> <button type="button" ng-click="onAddClick()" class="btn btn-sm btn-success btn-responsive" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"> <i class="halflings halflings-plus"></i> Add </button> <button type="button" ng-disabled="!isOneSelected" class="btn btn-sm btn-default btn-responsive" ng-click="onEditClick()" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"> <i class="halflings halflings-pencil"></i> Edit </button> <button type="button" ng-disabled="!isAnySelected || !allowDelete" class="btn btn-sm btn-default btn-responsive" ng-click="onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i> Delete </button> </div> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped table-fixed" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="Number" class="col-ext" translate="REPOS.TEXT.EXTENSION">Virtual Extension</th> <th st-sort="Name" translate="DIGITAL_RECEPTIONIST.TBL_HEADING_NAME_IVR">Name</th> <th st-sort="Type" translate="DIGITAL_RECEPTIONIST.TBL_HEADING_TYPE_IVR">Type</th> <th class="col-responsive" st-sort="Prompt" translate="DIGITAL_RECEPTIONIST.TBL_HEADING_PROMPT_IVR">Prompt</th> <th class="col-responsive" st-sort="NoInputDest" translate="DIGITAL_RECEPTIONIST.TBL_HEADING_NO_INPUT">No input</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="item in displayedItems track by item.Id" ng-click="onItemEditClick(item)"> <td class="col-btn" mc-select-row="item"></td> <td>{{item.Number}}</td> <td>{{item.Name}}</td> <td>{{item.Type === 0 ? \'enum.IVRType.Default\' : item.Type === 1 ? \'enum.IVRType.CodeBased\' : item.Type === 2 ? \'enum.IVRType.ScriptBased\' : \'enum.IVRType.Wakeup\' | translate}}</td> <td class="col-responsive">{{item.Prompt}}</td> <td class="col-responsive">{{item.NoInputDest}}</td> <td class="col-btn"><button type="button" ng-hide="!item.CanBeDeleted" mc-stop-event ng-click="onItemDeleteClick(item)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button></td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </div> </div> </div> </div> </list-control> '
              ),
          ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/ivrs/ivr-editor.component.html",
              '<editor-control new-title="DIGITAL_RECEPTIONIST.EDITOR.ADD_DIGITAL_RECEPTIONIST" back-state="app.ivrs" help-url="LINKS.DIGITAL_RECEPTIONIST_HELP_BTN"> <div class="panel panel-default"> <div class="panel-heading font-bold" translate="DIGITAL_RECEPTIONIST.EDITOR.GENERAL.GENERAL_TITLE"> General</div> <div class="panel-body"> <text-control prop="activeObject.Name" mc-title="DIGITAL_RECEPTIONIST.EDITOR.GENERAL.DIGITAL_RECEPTIONIST_NAME" placeholder="DIGITAL_RECEPTIONIST.EDITOR.GENERAL.DIGITAL_RECEPTIONIST_NAME"></text-control> <text-control prop="activeObject.Number" mc-title="DIGITAL_RECEPTIONIST.EDITOR.GENERAL.DIGITAL_RECEPTIONIST_VIRTUAL_EXT_NUMBER" placeholder="DIGITAL_RECEPTIONIST.EDITOR.GENERAL.DIGITAL_RECEPTIONIST_VIRTUAL_EXT_NUMBER"></text-control> <div class="form-group m-b"> <label translate="DIGITAL_RECEPTIONIST.TYPE">Digital Receptionist Type</label> <select-enum-control prop="activeObject.IVRType"></select-enum-control> </div> <select-file-media-control mc-title="DIGITAL_RECEPTIONIST.EDITOR.GENERAL.DIGITAL_RECEPTIONIST_PROMPT" prop="activeObject.Prompt"></select-file-media-control> <div class="form-group"> <select-control prop="activeObject.IvrLanguage" mc-title="DIGITAL_RECEPTIONIST.EDITOR.GENERAL.DIGITAL_RECEPTIONIST_LANGUAGE" display="Name"></select-control> </div> </div> </div> <div class="panel panel-default" ng-if="activeObject.IVRType.selected === \'IVRType.Default\'"> <div class="panel-heading font-bold" translate="DIGITAL_RECEPTIONIST.EDITOR.MENU_OPTIONS.MENU_OPTIONS_TITLE"> Menu Options</div> <div class="panel-body"> <default-ivr-menu key-forwards="activeObject.KeyForwards"></default-ivr-menu> </div> </div> <div class="panel panel-default" ng-if="activeObject.IVRType.selected === \'IVRType.CodeBased\'"> <div class="panel-heading font-bold" translate="DIGITAL_RECEPTIONIST.EDITOR.MENU_OPTIONS.MENU_OPTIONS_TITLE"> Menu Options</div> <div class="panel-body"> <dtmf-ivr object-id="Id" key-forwards="activeObject.KeyForwards"></dtmf-ivr> </div> </div> <div class="panel panel-default" ng-if="activeObject.IVRType.selected === \'IVRType.ScriptBased\'"> <div class="panel-heading font-bold" translate="DIGITAL_RECEPTIONIST.EDITOR.SCRIPT_OPTIONS.SCRIPT_OPTIONS_TITLE">Script Options</div> <div class="panel-body"> <checkbox-control prop="activeObject.CollectUserInput" mc-title="DIGITAL_RECEPTIONIST.EDITOR.GENERAL.COLLECT_USER_INPUT"></checkbox-control> <div class="form-group m-l"> <div class="form-inline clear"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="activeObject.InputLengthEnabled.value" ng-model-options="{getterSetter: true}" ng-disabled="activeObject.InputLengthEnabled.disabled"> <i></i> <span translate="DIGITAL_RECEPTIONIST.EDITOR.GENERAL.EXPECT_DIGIT_LENGTH"></span> </label> <number-control prop="activeObject.InputLength"></number-control> </div> <div class="form-inline clear"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="activeObject.ScriptConfirm.value" ng-model-options="{getterSetter: true}" ng-disabled="activeObject.InputLengthEnabled.disabled"> <i></i> <span translate="DIGITAL_RECEPTIONIST.EDITOR.GENERAL.SCRIPT_CONFIRM"></span> </label> </div> </div> <div class="form-group"> <text-control mc-title="DIGITAL_RECEPTIONIST.EDITOR.GENERAL.SCRIPT_PATH" prop="activeObject.ScriptPath"></text-control> <script-ivr object-id="Id" key-forwards="activeObject.KeyForwards"></script-ivr> </div> </div> </div> <did-control ng-if="activeObject.IVRType.selected !== \'IVRType.Wakeup\'" prop="activeObject.ExtensionDID"></did-control> <div class="panel panel-default" ng-if="activeObject.IVRType.selected !== \'IVRType.Wakeup\' && activeObject.IVRType.selected !== \'IVRType.ScriptBased\' && activeObject.IVRType.selected !== \'IVRType.MSExchange\'"> <div class="panel-heading font-bold" translate="DIGITAL_RECEPTIONIST.EDITOR.DESTINATION_NO_INPUT_INVALID.DESTINATION_NO_VALID_TITLE">Destination for no or invalid input</div> <div class="panel-body"> <number-control prop="activeObject.Timeout" mc-title="DIGITAL_RECEPTIONIST.EDITOR.DESTINATION_NO_INPUT_INVALID.IF_NO_INPUT_WITHIN_SECONDS" minimum="1" maximum="999"></number-control> <select-enum-control prop="activeObject.TimeoutForwardType"></select-enum-control> <select-control prop="activeObject.TimeoutForwardDN" display="Name"></select-control> <div class="alert alert-info" role="alert" ng-if="activeObject.TimeoutForwardType.selected === \'TypeOfIVRForwardWhenTimeout.VoiceMail\' && (activeObject.TimeoutForwardDN.selected.Type === \'RingGroup\' || activeObject.TimeoutForwardDN.selected.Type === \'Queue\')"> <span class="halflings halflings-info-sign"></span> {{\'EXTENSIONS.EDITOR.FORWARDING_RULES.RING_GROUP_VMAIL\'|translate}} </div> <select-enum-control prop="activeObject.ForwardWhenInvalidKeyType" mc-title="DIGITAL_RECEPTIONIST.EDITOR.DESTINATION_NO_INPUT_INVALID.IF_INPUT_IS_INVALID"></select-enum-control> <select-control prop="activeObject.ForwardWhenInvalidKeyDN" display="Name"></select-control> </div> </div> <div class="panel panel-default" ng-if="activeObject.IVRType.selected === \'IVRType.ScriptBased\'"> <div class="panel-heading font-bold" translate="DIGITAL_RECEPTIONIST.EDITOR.DESTINATION_NO_INPUT_INVALID.DESTINATION_TIMEOUT">Destination for no or invalid input</div> <div class="panel-body"> <number-control prop="activeObject.Timeout" mc-title="DIGITAL_RECEPTIONIST.EDITOR.DESTINATION_NO_INPUT_INVALID.IF_NO_EXIT_WITHIN_SECONDS" minimum="1" maximum="60"></number-control> <select-enum-control prop="activeObject.TimeoutForwardType"></select-enum-control> <select-control prop="activeObject.TimeoutForwardDN" display="Name"></select-control> <div class="alert alert-info" role="alert" ng-if="activeObject.TimeoutForwardType.selected === \'TypeOfIVRForwardWhenTimeout.VoiceMail\' && (activeObject.TimeoutForwardDN.selected.Type === \'RingGroup\' || activeObject.TimeoutForwardDN.selected.Type === \'Queue\')"> <span class="halflings halflings-info-sign"></span> {{\'EXTENSIONS.EDITOR.FORWARDING_RULES.RING_GROUP_VMAIL\'|translate}} </div> </div> </div> </editor-control> '
            ),
        ]),
        u
          .module("app")
          .component("ivrEditor", {
            templateUrl: "js/app/ivrs/ivr-editor.component.html",
            controller: class gE {},
          });
      function bE(t, c) {
        return t.Input._value < c.Input._value
          ? -1
          : t.Input._value > c.Input._value
          ? 1
          : 0;
      }
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/ivrs/default-ivr-menu.component.html",
              '<table class="table table-striped"> <thead> <tr> <th translate="DIGITAL_RECEPTIONIST.EDITOR.MENU_OPTIONS.TBL_HEADING_KEY">Key</th> <th translate="DIGITAL_RECEPTIONIST.EDITOR.MENU_OPTIONS.TBL_HEADING_ACTION">Action</th> <th translate="DIGITAL_RECEPTIONIST.EDITOR.MENU_OPTIONS.TBL_HEADING_NUMBER">Number</th> </tr> </thead> <tbody> <tr ng-repeat="forward in $ctrl.sortItems($ctrl.keyForwards._value)"> <td>{{forward.Input._value}}</td> <td> <select-enum-control mc-inline="true" prop="forward.KeyForwardType"></select-enum-control> </td> <td ng-if="forward.KeyForwardType.selected === \'TypeOfIVRForward.PlayPromptAndExit\'"> <select-file-media-control style="display:inline" class="s-t" prop="forward.Prompt"></select-file-media-control> </td> <td ng-if="forward.KeyForwardType.selected !== \'TypeOfIVRForward.PlayPromptAndExit\'"> <select-control mc-inline="true" prop="forward.KeyForwardDN" display="Name"></select-control> </td> </tr> </tbody> </table> '
            ),
        ]),
        u.module("app").component("defaultIvrMenu", {
          bindings: { keyForwards: "<" },
          templateUrl: "js/app/ivrs/default-ivr-menu.component.html",
          controller: class SE {
            sortItems(c) {
              return c.sort(bE);
            }
          },
        });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/ivrs/dtmf-ivr.component.html",
            '<label translate="DIGITAL_RECEPTIONIST.EDITOR.DIALOGS.CONFIGURE_DTMF.ADD_IDS_CONFIGURE_THEIR_ROUTING_DESTINATION"> Add valid DTMF codes or exit codes and configure the respective routing destinations. </label> <div class="form-group"> <button type="button" ng-click="$ctrl.onAddClick()" class="btn btn-sm btn-success" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"><i class="halflings halflings-plus"></i> Add </button> </div> <table class="table table-striped"> <thead> <tr> <th translate="DIGITAL_RECEPTIONIST.EDITOR.DIALOGS.CONFIGURE_DTMF.ID_HEADER" style="width:10em">ID</th> <th translate="DIGITAL_RECEPTIONIST.EDITOR.MENU_OPTIONS.TBL_HEADING_ACTION">Action</th> <th translate="DIGITAL_RECEPTIONIST.EDITOR.MENU_OPTIONS.TBL_HEADING_NUMBER">Number</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="forward in $ctrl.keyForwards._value"> <td> <form editable-form novalidate name="inputForm" buttons="yes" blur="submit" onaftersave="$ctrl.saveInput(forward)" style="width:10em"> <a style="display:block" class="dashed_link" editable-text="forward.Input._value" ng-click="inputForm.$show()" e-maxlength="9" onbeforesave="$ctrl.checkInput($data,forward)" e-required> {{forward.Input._value}} </a> </form> </td> <td> <select-enum-control mc-inline="true" prop="forward.KeyForwardType"></select-enum-control> </td> <td ng-if="forward.KeyForwardType.selected === \'TypeOfIVRForward.PlayPromptAndExit\'"> <select-file-media-control style="display:inline" class="s-t" prop="forward.Prompt"></select-file-media-control> </td> <td ng-if="forward.KeyForwardType.selected !== \'TypeOfIVRForward.PlayPromptAndExit\'"> <select-control mc-inline="true" prop="forward.KeyForwardDN" display="Name"></select-control> </td> <td> <button type="button" mc-stop-event ng-click="$ctrl.onDeleteClick(forward)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> '
          ),
      ]);
      let CE = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$scope = e),
              (this.MyUtilsSvc = n),
              (this.$http = i),
              (this.$translate = a);
          }
          onAddClick() {
            this.$http
              .postApi("api/ivrList/addForward", { Id: this.objectId })
              .then(() => {
                this.keyForwards.collectChanges();
              });
          }
          checkInput(e, n) {
            const i = this.keyForwards._value
              .filter((a) => a !== n)
              .map((a) => a.Input._value);
            return /^\d+$/.test(e)
              ? i.some((a) => a === e)
                ? this.$translate("WARNINGS.DIAL_CODE_IN_USE")
                : void 0
              : this.$translate("WARNINGS.WIZARD_SHOULD_CONTAIN_ONLY_DIGITS");
          }
          onDeleteClick(e) {
            this.collectionService.delByIds([e.Id]).then(() => {
              this.keyForwards.collectChanges();
            });
          }
          $onInit() {
            this.collectionService =
              this.MyUtilsSvc.BaseCollectionServiceMethods(
                "EditorList",
                () => ({
                  ObjectId: this.objectId,
                  PropertyPath: this.keyForwards._path,
                })
              );
          }
          saveInput(e) {
            e.Input.value(e.Input._value);
          }
        }
        return (t.$inject = ["$scope", "MyUtilsSvc", "$http", "$translate"]), t;
      })();
      u.module("app").component("dtmfIvr", {
        bindings: { keyForwards: "<", objectId: "<" },
        templateUrl: "js/app/ivrs/dtmf-ivr.component.html",
        controller: CE,
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/ivrs/script-ivr.component.html",
            '<label translate="DIGITAL_RECEPTIONIST.EDITOR.DIALOGS.CONFIGURE_DTMF.ADD_EXIT_CODES_CONFIGURE_THEIR_ROUTING_DESTINATION"> Add valid DTMF codes or exit codes and configure the respective routing destinations. </label> <div class="form-group"> <button type="button" ng-click="$ctrl.onAddClick()" class="btn btn-sm btn-success" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"><i class="halflings halflings-plus"></i> Add </button> </div> <table class="table table-striped"> <thead> <tr> <th translate="DIGITAL_RECEPTIONIST.EDITOR.DIALOGS.CONFIGURE_SCRIPT.ID_HEADER" style="width:10em">ID</th> <th translate="DIGITAL_RECEPTIONIST.EDITOR.MENU_OPTIONS.TBL_HEADING_ACTION">Action</th> <th translate="DIGITAL_RECEPTIONIST.EDITOR.MENU_OPTIONS.TBL_HEADING_NUMBER">Number</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="forward in $ctrl.keyForwards._value"> <td> <form editable-form novalidate name="inputForm" buttons="yes" blur="submit" onaftersave="$ctrl.saveInput(forward)" style="width:10em"> <a style="display:block" class="dashed_link" editable-text="forward.Input._value" ng-click="inputForm.$show()" e-maxlength="3" onbeforesave="$ctrl.checkInput($data,forward)" e-required> {{forward.Input._value}} </a> </form> </td> <td> <select-enum-control filter-possible-values="$ctrl.filterNothing($value)" mc-inline="true" prop="forward.KeyForwardType"></select-enum-control> </td> <td ng-if="forward.KeyForwardType.selected === \'TypeOfIVRForward.PlayPromptAndExit\'"> <select-file-media-control style="display:inline" class="s-t" prop="forward.Prompt"></select-file-media-control> </td> <td ng-if="forward.KeyForwardType.selected !== \'TypeOfIVRForward.PlayPromptAndExit\'"> <select-control mc-inline="true" prop="forward.KeyForwardDN" display="Name"></select-control> </td> <td> <button type="button" mc-stop-event ng-click="$ctrl.onDeleteClick(forward)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> '
          ),
      ]);
      let vE = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$scope = e),
              (this.MyUtilsSvc = n),
              (this.$http = i),
              (this.$translate = a);
          }
          filterNothing(e) {
            return e && e.filter((n) => "TypeOfIVRForward.Disabled" != n);
          }
          onAddClick() {
            this.$http
              .postApi("api/ivrList/addForward", { Id: this.objectId })
              .then(() => {
                this.keyForwards.collectChanges();
              });
          }
          checkInput(e, n) {
            const i = this.keyForwards._value
              .filter((l) => l !== n)
              .map((l) => l.Input._value);
            if (!/^\d+$/.test(e))
              return this.$translate("WARNINGS.EXIT_CODE_INVALID");
            const a = +e;
            return a > 100 || "" + a !== e
              ? this.$translate("WARNINGS.EXIT_CODE_INVALID")
              : i.some((l) => l === e)
              ? this.$translate("WARNINGS.EXIT_CODE_IN_USE")
              : void 0;
          }
          onDeleteClick(e) {
            this.collectionService.delByIds([e.Id]).then(() => {
              this.keyForwards.collectChanges();
            });
          }
          $onInit() {
            this.collectionService =
              this.MyUtilsSvc.BaseCollectionServiceMethods(
                "EditorList",
                () => ({
                  ObjectId: this.objectId,
                  PropertyPath: this.keyForwards._path,
                })
              );
          }
          saveInput(e) {
            e.Input.value(e.Input._value);
          }
        }
        return (t.$inject = ["$scope", "MyUtilsSvc", "$http", "$translate"]), t;
      })();
      u.module("app").component("scriptIvr", {
        bindings: { keyForwards: "<", objectId: "<" },
        templateUrl: "js/app/ivrs/script-ivr.component.html",
        controller: vE,
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/menu/nav-advanced.component.html",
              '<div ng-if="$ctrl.mcMenuStyle"> <app-nav-item mc-title="LEFT_MENU.CALL_FLOW_APPS" mc-ui-sref="app.call_flow_apps" mc-call-flow> <i class="fa fa-code" style="-webkit-text-stroke:1px #58666e"></i> </app-nav-item> <app-nav-item mc-title="LEFT_MENU.CONTACTS" mc-ui-sref="app.contacts" mc-contacts> <i class="fa fa-address-book"></i> </app-nav-item> <app-nav-item mc-title="LEFT_MENU.FAX" mc-ui-sref="app.faxes" mc-fax> <i class="glyphicons glyphicons-fax"></i> </app-nav-item> <app-nav-item mc-title="SETTINGS.LIST_BUTTONS.FAX_BTN" mc-fax-server nav-fax="" ng-click="onFaxSettingsClick()" mc-ui-sref="app.settings.fax" mc-prevent-default="true"> <i class="glyphicons glyphicons-fax"></i> </app-nav-item> <app-nav-item mc-title="LEFT_MENU.FXS" mc-ui-sref="app.fxses" mc-fxs> <i class="fa fa-fax"></i> </app-nav-item> <app-nav-item mc-title="LEFT_MENU.HOTDESKING" mc-ui-sref="app.hotdesking" mc-hotdesking> <i class="halflings halflings-phone-alt"></i> </app-nav-item> </div> <div class="hbox hbox-auto-xs hbox-auto-sm" ng-if="!$ctrl.mcMenuStyle"> <div class="bg-light lter b-b wrapper-md"> <h1 class="m-n font-thin h3" translate="LEFT_MENU.ADVANCED">Settings</h1> </div> <div class="panel-default settings-panel m-b-lg"> <app-settings-tile mc-title="LEFT_MENU.CALL_FLOW_APPS" mc-ui-sref="app.call_flow_apps" mc-call-flow> <i class="fa fa-code"></i> </app-settings-tile> <app-settings-tile mc-title="LEFT_MENU.CONTACTS" mc-ui-sref="app.contacts" mc-contacts> <i class="fa fa-address-book"></i> </app-settings-tile> <app-settings-tile mc-title="LEFT_MENU.FAX" mc-ui-sref="app.faxes" mc-fax> <i class="glyphicons glyphicons-fax"></i> </app-settings-tile> <app-settings-tile mc-title="SETTINGS.LIST_BUTTONS.FAX_BTN" mc-fax-server nav-fax="" ng-click="onFaxSettingsClick()" mc-ui-sref="app.settings.fax" mc-prevent-default="true"> <i class="glyphicons glyphicons-fax"></i> </app-settings-tile> <app-settings-tile mc-title="LEFT_MENU.FXS" mc-ui-sref="app.fxses" mc-fxs> <i class="fa fa-fax"></i> </app-settings-tile> <app-settings-tile mc-title="LEFT_MENU.HOTDESKING" mc-ui-sref="app.hotdesking" mc-hotdesking> <i class="halflings halflings-phone-alt"></i> </app-settings-tile> </div> </div> '
            ),
        ]),
        u
          .module("app")
          .component("appNavAdvanced", {
            bindings: { mcMenuStyle: "<" },
            templateUrl: "js/app/menu/nav-advanced.component.html",
          });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/menu/nav-reporting.component.html",
              '<div ng-if="$ctrl.mcMenuStyle"> <app-nav-item mc-title="LEFT_MENU.CALL_LOG" mc-ui-sref="app.call_log" mc-call-log> <i class="glyphicons glyphicons-notes"></i> </app-nav-item> <app-nav-item mc-cdr mc-title="SETTINGS.LIST_BUTTONS.CDR_BTN" mc-ui-sref="app.settings.cdr" nav-cdr="" ng-click="onCDRSettingsClick()" mc-prevent-default="true"> <i class="fa fa-dollar"></i> </app-nav-item> <app-nav-item mc-chat-logs mc-title="LEFT_MENU.CHAT_LOGS" mc-ui-sref="app.chat_messages"> <i> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" width="14"> <path fill="#58666e" d="M416 224V64c0-35.3-28.7-64-64-64H64C28.7 0 0 28.7 0 64v160c0 35.3 28.7 64 64 64v54.2c0 8 9.1 12.6 15.5 7.8l82.8-62.1H352c35.3.1 64-28.6 64-63.9zm96-64h-64v64c0 52.9-43.1 96-96 96H192v64c0 35.3 28.7 64 64 64h125.7l82.8 62.1c6.4 4.8 15.5.2 15.5-7.8V448h32c35.3 0 64-28.7 64-64V224c0-35.3-28.7-64-64-64z"/> </svg> </i> </app-nav-item> <app-nav-item mc-reports mc-title="LEFT_MENU.CALL_REPORTS" mc-ui-sref="app.call_reports.all"> <i class="halflings halflings-list-alt"></i> </app-nav-item> <app-nav-item mc-recordings mc-title="LEFT_MENU.RECORDINGS" mc-ui-sref="app.recordings"> <i class="halflings halflings-volume-down"></i> </app-nav-item> </div> <div class="hbox hbox-auto-xs hbox-auto-sm" ng-if="!$ctrl.mcMenuStyle"> <div class="bg-light lter b-b wrapper-md"> <h1 class="m-n font-thin h3" translate="LEFT_MENU.REPORTING">Settings</h1> </div> <div class="panel-default settings-panel m-b-lg"> <app-settings-tile mc-title="LEFT_MENU.CALL_LOG" mc-ui-sref="app.call_log" mc-call-log> <i class="glyphicons glyphicons-notes"></i> </app-settings-tile> <app-settings-tile mc-cdr mc-title="SETTINGS.LIST_BUTTONS.CDR_BTN" mc-ui-sref="app.settings.cdr" nav-cdr="" ng-click="onCDRSettingsClick()" mc-prevent-default="true"> <i class="fa fa-dollar"></i> </app-settings-tile> <app-settings-tile mc-chat-logs mc-title="LEFT_MENU.CHAT_LOGS" mc-ui-sref="app.chat_messages"> <i style="display:flex;align-items:center;justify-content:center"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" width="40px"> <path fill="#fff" d="M416 224V64c0-35.3-28.7-64-64-64H64C28.7 0 0 28.7 0 64v160c0 35.3 28.7 64 64 64v54.2c0 8 9.1 12.6 15.5 7.8l82.8-62.1H352c35.3.1 64-28.6 64-63.9zm96-64h-64v64c0 52.9-43.1 96-96 96H192v64c0 35.3 28.7 64 64 64h125.7l82.8 62.1c6.4 4.8 15.5.2 15.5-7.8V448h32c35.3 0 64-28.7 64-64V224c0-35.3-28.7-64-64-64z"/> </svg> </i> </app-settings-tile> <app-settings-tile mc-reports mc-title="LEFT_MENU.CALL_REPORTS" mc-ui-sref="app.call_reports.all"> <i class="halflings halflings-list-alt"></i> </app-settings-tile> <app-settings-tile mc-recordings mc-title="LEFT_MENU.RECORDINGS" mc-ui-sref="app.recordings"> <i class="halflings halflings-volume-down"></i> </app-settings-tile> </div> </div> '
            ),
        ]),
        u
          .module("app")
          .component("appNavReporting", {
            bindings: { mcMenuStyle: "<" },
            templateUrl: "js/app/menu/nav-reporting.component.html",
          });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/menu/nav-messaging.component.html",
              '<app-nav-item mc-web-links mc-title="LEFT_MENU.WEB_LINKS" mc-ui-sref="app.websitelinks"> <i class="fa fa-commenting-o"></i> </app-nav-item> '
            ),
        ]),
        u
          .module("app")
          .component("appNavMessaging", {
            bindings: { mcMenuStyle: "<" },
            templateUrl: "js/app/menu/nav-messaging.component.html",
          });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/menu/nav-security.component.html",
            '<div ng-if="$ctrl.mcMenuStyle"> <app-nav-item mc-title="SETTINGS.SECURITY.ANTI_HACKING.ANTI_HACKING" ng-click="$ctrl.settings.onAntiHackingClick()" mc-ui-sref="app.settings.security.anti_hacking" mc-prevent-default="true"> <i class="halflings halflings-lock"></i> </app-nav-item> <app-nav-item mc-title="SETTINGS.SECURITY.ALLOWED_COUNTRIES.ALLOWED_COUNTRY_CODES" ng-click="$ctrl.settings.onAllowedCountryCodesClick()" mc-ui-sref="app.settings.security.allowed_country_codes" mc-prevent-default="true"> <i class="fa fa-globe"></i> </app-nav-item> <app-nav-item mc-global-admin mc-title="SETTINGS.SECURITY.ADMIN_CREDENTIALS.ADMIN_CREDENTIALS" ng-click="$ctrl.settings.onAdminCredentialsClick()" mc-ui-sref="app.settings.security.credentials" mc-prevent-default="true"> <i class="fa fa-key"></i> </app-nav-item> <app-nav-item mc-title="SETTINGS.LIST_BUTTONS.BLACKLISTED_NUMBERS_BTN" mc-ui-sref="app.settings.number_blacklist"> <i class="fa fa-phone"></i> </app-nav-item> <app-nav-item mc-hosting-mode-admin mc-title="SETTINGS.SECURITY.CONSOLE_RESTRICTIONS.TITLE" ng-click="$ctrl.settings.onConsoleRestrictionsClick()" mc-ui-sref="app.settings.security.console_restrictions" mc-prevent-default="true"> <i class="fa fa-warning"></i> </app-nav-item> <app-nav-item mc-title="LEFT_MENU.IP_BLACKLIST" mc-ui-sref="app.system_status.ip_blacklist"> <i class="halflings halflings-minus-sign"></i> </app-nav-item> <app-nav-item mc-title="SETTINGS.SECURITY.SECURE_SIP.SECURE_SIP" ng-click="$ctrl.settings.onSecureSipClick()" mc-ui-sref="app.settings.security.secure_sip" mc-prevent-default="true"> <i class="fa fa-user-secret"></i> </app-nav-item> <app-nav-item mc-title="SETTINGS.SECURITY.3CX_TUNNEL.3CX_TUNNEL" ng-click="$ctrl.settings.onTunnelClick()" mc-ui-sref="app.settings.security.tunnel" mc-prevent-default="true"> <i class="fa fa-road"></i> </app-nav-item> </div> <div class="hbox hbox-auto-xs hbox-auto-sm" ng-if="!$ctrl.mcMenuStyle"> <div class="bg-light lter b-b wrapper-md"> <h1 class="m-n font-thin h3" translate="SETTINGS.LIST_BUTTONS.SECURITY_BTN">Settings</h1> </div> <div class="panel-default settings-panel m-b-lg"> <app-settings-tile mc-title="SETTINGS.SECURITY.ANTI_HACKING.ANTI_HACKING" ng-click="$ctrl.settings.onAntiHackingClick()" mc-ui-sref="app.settings.security.anti_hacking" mc-prevent-default="true"> <i class="halflings halflings-lock"></i> </app-settings-tile> <app-settings-tile mc-title="SETTINGS.SECURITY.ALLOWED_COUNTRIES.ALLOWED_COUNTRY_CODES" ng-click="$ctrl.settings.onAllowedCountryCodesClick()" mc-ui-sref="app.settings.security.allowed_country_codes" mc-prevent-default="true"> <i class="fa fa-globe"></i> </app-settings-tile> <app-settings-tile mc-global-admin mc-title="SETTINGS.SECURITY.ADMIN_CREDENTIALS.ADMIN_CREDENTIALS" ng-click="$ctrl.settings.onAdminCredentialsClick()" mc-ui-sref="app.settings.security.credentials" mc-prevent-default="true"> <i class="fa fa-key"></i> </app-settings-tile> <app-settings-tile mc-title="SETTINGS.LIST_BUTTONS.BLACKLISTED_NUMBERS_BTN" mc-ui-sref="app.settings.number_blacklist"> <i class="fa fa-phone"></i> </app-settings-tile> <app-settings-tile mc-hosting-mode-admin mc-title="SETTINGS.SECURITY.CONSOLE_RESTRICTIONS.TITLE" ng-click="$ctrl.settings.onConsoleRestrictionsClick()" mc-ui-sref="app.settings.security.console_restrictions" mc-prevent-default="true"> <i class="fa fa-warning"></i> </app-settings-tile> <app-settings-tile mc-title="LEFT_MENU.IP_BLACKLIST" mc-ui-sref="app.system_status.ip_blacklist"> <i class="halflings halflings-minus-sign"></i> </app-settings-tile> <app-settings-tile mc-title="SETTINGS.SECURITY.SECURE_SIP.SECURE_SIP" ng-click="$ctrl.settings.onSecureSipClick()" mc-ui-sref="app.settings.security.secure_sip" mc-prevent-default="true"> <i class="fa fa-user-secret"></i> </app-settings-tile> <app-settings-tile mc-title="SETTINGS.SECURITY.3CX_TUNNEL.3CX_TUNNEL" ng-click="$ctrl.settings.onTunnelClick()" mc-ui-sref="app.settings.security.tunnel" mc-prevent-default="true"> <i class="fa fa-road"></i> </app-settings-tile> </div> </div> '
          ),
      ]);
      let wE = (() => {
        class t {
          constructor(e) {
            this.settings = e;
          }
        }
        return (t.$inject = ["SettingsSvc"]), t;
      })();
      u.module("app").component("appNavSecurity", {
        bindings: { mcMenuStyle: "<" },
        controller: wE,
        templateUrl: "js/app/menu/nav-security.component.html",
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/menu/settings-tile.component.html",
              '<a ui-sref="{{$ctrl.mcUiSref}}" class="settings-tile" ng-disabled="$ctrl.mcPreventDefault"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"> <ng-transclude-replace></ng-transclude-replace> </span> <small class="text-white">{{$ctrl.mcTitle|translate}}</small> </div> </a> '
            ),
        ]),
        u
          .module("app")
          .component("appSettingsTile", {
            bindings: { mcTitle: "@", mcUiSref: "@", mcPreventDefault: "<" },
            transclude: !0,
            templateUrl: "js/app/menu/settings-tile.component.html",
          }),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/outbound_rules/outbound_rule_editor.html",
                '<div class="hbox hbox-auto-xs hbox-auto-sm" ng-controller="OutboundRuleEditorCtrl"> <div class="bg-light lter b-b wrapper-md"> <label ng-if="activeObject.IsNew" class="m-n font-thin h3" translate="OUTBOUND_RULES.EDITOR.ADD_OUTBOUND_RULE">Add Outbound Rule</label> <label ng-if="!activeObject.IsNew" class="m-n font-thin h3">{{activeObject.Name.value()}}</label> <button class="btn m-l-lg m-b-xs w-xs btn-success btn-md" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button"> Save </button> <button class="btn m-b-xs w-xs btn-dark btn-md" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button"> Cancel </button> <help-button url="{{\'LINKS.OUTBOUND_RULES_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <panel mc-title="OUTBOUND_RULES.EDITOR.GENERAL"> <div class="form-group"> <text-control prop="activeObject.Name" mc-title="OUTBOUND_RULES.EDITOR.RULE_NAME" placeholder="OUTBOUND_RULES.EDITOR.RULE_NAME"></text-control> </div> </panel> <panel mc-title="OUTBOUND_RULES.EDITOR.APPLY_RULE_TO_CALLS"> <text-control prop="activeObject.Prefix" mc-title="OUTBOUND_RULES.EDITOR.CALLS_TO_NUMBERS_WITH_PREFIX" placeholder="OUTBOUND_RULES.EDITOR.CALLS_TO_NUMBERS_WITH_PREFIX" maxlength="255"></text-control> <text-control prop="activeObject.DnRanges" mc-title="OUTBOUND_RULES.EDITOR.CALLS_FROM_EXTENSION" placeholder="OUTBOUND_RULES.EDITOR.CALLS_FROM_EXTENSION" maxlength="255"></text-control> <text-control prop="activeObject.NumberLengthRanges" mc-title="OUTBOUND_RULES.EDITOR.CALLS_TO_NUMBERS_WITH_LENGTH" placeholder="OUTBOUND_RULES.EDITOR.CALLS_TO_NUMBERS_WITH_LENGTH" maxlength="255"></text-control> <div class="form-group"> <label translate="OUTBOUND_RULES.EDITOR.CALLS_FROM_EXTENSION_GROUP">Calls from extension group(s)</label> <set-control prop="activeObject.FromGroups" mc-title="OUTBOUND_RULES.EDITOR.SELECT_GROUPS" button-title="REPOS.BUTTONS.OK_BTN"> <set-control-groups></set-control-groups> </set-control> </div> </panel> <panel mc-title="OUTBOUND_RULES.EDITOR.MAKE_OUTBOUND_CALLS_ON"> <span translate="OUTBOUND_RULES.EDITOR.CONFIGURE_TOP_ROUTES_MSG"> Configure up to 5 routes for calls. The fourth and fifth route will be used as backup. For each route, digits can be stripped or added. </span> <div class="row m-t-md"> <div class="col-sm-1"></div> <div class="col-sm-1"></div> <div class="col-sm-3 m-b-xs"></div> <div class="col-sm-2 m-b-xs" width="60"> {{\'OUTBOUND_RULES.EDITOR.TBL_HEADING_STRIP_DIGITS\' | translate}} </div> <div class="col-sm-2 m-b-xs"> {{\'OUTBOUND_RULES.EDITOR.TBL_HEADING_PREPEND\' | translate}} </div> <div class="col-sm-3 m-b-xs" translate="OUTBOUND_RULES.EDITOR.OUTBOUND_CALLER_ID_OPTIONAL">Prepend</div> </div> <div class="row"> <div class="col-sm-1" translate="REPOS.TEXT.ROUTE">Route</div> <div class="col-sm-1">1</div> <div class="col-sm-3"> <select-control prop="activeObject.Route1Destination" display="Name"></select-control> </div> <div class="col-sm-2"> <select-control prop="activeObject.Route1StripDigits" options="stripDigitsPossibleValues"></select-control> </div> <div class="col-sm-2"> <text-control prop="activeObject.Route1Prepends"></text-control> </div> <div class="col-sm-3"> <text-control prop="activeObject.Route1CallerID"></text-control> </div> </div> <div class="row"> <div class="col-sm-1" translate="REPOS.TEXT.ROUTE">Route</div> <div class="col-sm-1">2</div> <div class="col-sm-3"> <select-control prop="activeObject.Route2Destination" display="Name"></select-control> </div> <div class="col-sm-2"> <select-control prop="activeObject.Route2StripDigits" options="stripDigitsPossibleValues"></select-control> </div> <div class="col-sm-2"> <text-control prop="activeObject.Route2Prepends"></text-control> </div> <div class="col-sm-3"> <text-control prop="activeObject.Route2CallerID"></text-control> </div> </div> <div class="row"> <div class="col-sm-1" translate="REPOS.TEXT.ROUTE">Route</div> <div class="col-sm-1">3</div> <div class="col-sm-3"> <select-control prop="activeObject.Route3Destination" display="Name"></select-control> </div> <div class="col-sm-2"> <select-control prop="activeObject.Route3StripDigits" options="stripDigitsPossibleValues"></select-control> </div> <div class="col-sm-2"> <text-control prop="activeObject.Route3Prepends"></text-control> </div> <div class="col-sm-3"> <text-control prop="activeObject.Route3CallerID"></text-control> </div> </div> <div class="row"> <div class="col-sm-1" translate="REPOS.TEXT.ROUTE">Route</div> <div class="col-sm-1">4</div> <div class="col-sm-3"> <select-control prop="activeObject.Route4Destination" display="Name"></select-control> </div> <div class="col-sm-2"> <select-control prop="activeObject.Route4StripDigits" options="stripDigitsPossibleValues"></select-control> </div> <div class="col-sm-2"> <text-control prop="activeObject.Route4Prepends"></text-control> </div> <div class="col-sm-3"> <text-control prop="activeObject.Route4CallerID"></text-control> </div> </div> <div class="row"> <div class="col-sm-1" translate="REPOS.TEXT.ROUTE">Route</div> <div class="col-sm-1">5</div> <div class="col-sm-3"> <select-control prop="activeObject.Route5Destination" display="Name"></select-control> </div> <div class="col-sm-2"> <select-control prop="activeObject.Route5StripDigits" options="stripDigitsPossibleValues"></select-control> </div> <div class="col-sm-2"> <text-control prop="activeObject.Route5Prepends"></text-control> </div> <div class="col-sm-3"> <text-control prop="activeObject.Route5CallerID"></text-control> </div> </div> </panel> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/outbound_rules/outbound_rule_list.html",
                '<list-control api_url="OutboundRuleList" editor_state="app.outbound_rule_editor" confirm-deletion> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="OUTBOUND_RULES.TITLE">Outbound Rules</label> <help-button url="{{\'LINKS.OUTBOUND_RULES_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="OUTBOUND_RULES.TITLE"> Outbound Rules </div> <div class="panel-body" sticky-to-top> <button type="button" ng-click="onAddClick()" class="btn btn-sm btn-success btn-responsive" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"> <i class="halflings halflings-plus"></i> Add </button> <button type="button" ng-disabled="!isOneSelected" class="btn btn-sm btn-default btn-responsive" ng-click="onEditClick()" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"> <i class="halflings halflings-pencil"></i> Edit </button> <button type="button" ng-disabled="!isAnySelected" class="btn btn-sm btn-default btn-responsive" ng-click="onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i> Delete </button> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="onMoveUpClick()" ng-disabled="!moveUpEnabled" translate="REPOS.BUTTONS.MOVE_UP_BTN" id="btnMoveUp"> <i class="fa fa-level-up"></i> Move Up </button> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="onMoveDownClick()" ng-disabled="!moveDownEnabled" translate="REPOS.BUTTONS.MOVE_DOWN_BTN" id="btnMoveDown"> <i class="fa fa-level-down"></i> Move Down </button> </div> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table id="outboundRulesTable" class="table table-striped table-fixed" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th translate="OUTBOUND_RULES.TBL_HEADING_OUTBOUND_RULE_NAME">Outbound Rule Name</th> <th translate="OUTBOUND_RULES.TBL_HEADING_CALL_FROM_EXTENSION">Call from extension(s)</th> <th translate="OUTBOUND_RULES.TBL_HEADING_PREFIX">Prefix</th> <th class="col-responsive" translate="OUTBOUND_RULES.TBL_HEADING_LENGTH">Length</th> <th class="col-responsive" translate="OUTBOUND_RULES.TBL_HEADING_EXTENSION_GROUP">Extension Group</th> <th class="col-responsive">{{\'REPOS.TEXT.ROUTE\' | translate : {param: \'1\'} }}</th> <th class="col-responsive">{{\'REPOS.TEXT.ROUTE\' | translate : {param: \'2\'} }}</th> <th class="col-responsive">{{\'REPOS.TEXT.ROUTE\' | translate : {param: \'3\'} }}</th> <th class="col-responsive">{{\'REPOS.TEXT.ROUTE\' | translate : {param: \'4\'} }}</th> <th class="col-responsive">{{\'REPOS.TEXT.ROUTE\' | translate : {param: \'5\'} }}</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="item in displayedItems track by item.Id" ng-click="onItemEditClick(item)"> <td class="col-btn" mc-select-row="item"></td> <td>{{item.DisplayName}}</td> <td>{{item.DnRanges}}</td> <td>{{item.Prefix}}</td> <td class="col-responsive">{{item.NumberLengthRanges}}</td> <td class="col-responsive">{{item.FromGroups}}</td> <td class="col-responsive"> {{item.Route1}} <p ng-if="!item.Route1" translate="OUTBOUND_RULES.BLOCK_CALLS"></p> </td> <td class="col-responsive"> {{item.Route2}} <p ng-if="!item.Route2" translate="OUTBOUND_RULES.BLOCK_CALLS"></p> </td> <td class="col-responsive"> {{item.Route3}} <p ng-if="!item.Route3" translate="OUTBOUND_RULES.BLOCK_CALLS"></p> </td> <td class="col-responsive"> {{item.Route4}} <p ng-if="!item.Route4" translate="OUTBOUND_RULES.BLOCK_CALLS"></p> </td> <td class="col-responsive"> {{item.Route5}} <p ng-if="!item.Route5" translate="OUTBOUND_RULES.BLOCK_CALLS"></p> </td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="onItemDeleteClick(item)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> </div> </div> </div> </div> </list-control> '
              ),
          ]),
        u.module("app").controller("OutboundRuleEditorCtrl", [
          "$scope",
          "$rootScope",
          "$timeout",
          "EditSvc",
          "MyUtilsSvc",
          function (t, c, e, n, i) {
            (t.stripDigitsPossibleValues = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]),
              i
                .initEditController(t, n, "app.outbound_rules")
                .catch(() => u.noop());
          },
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/phones/select_extension_dialog.html",
                '<div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$close()">&times;</button> <h4 class="modal-title" translate="PHONES.ASSIGN_PHONE_TO_EXTENSION"> Assign phone to extension </h4> </div> <div class="modal-body"> <select-control mc-title="PHONES.CHOOSE_EXTENSION" prop="activeObject.Value"></select-control> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="$close(activeObject.Value.selected)" translate="PHONES.ASSIGN">Assign</button> <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </div>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/phones/select_firmware_dialog.html",
                '<div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$close()">&times;</button> <h4 class="modal-title" translate="PHONES.UPDATE_FIRMWARE">Update firmware</h4> </div> <div class="modal-body"> <label translate="PHONES.UPDATE_FIRMWARE_NOTE"></label> <table class="table table-striped" style="margin-bottom:10px"> <thead> <tr> <th class="col-btn"></th> <th width="127"><span translate="PHONES.TBL_MODEL">Model</span></th> <th width="120"><span translate="PHONES.TBL_DEVICE_VERSION">Device Version</span></th> <th width="137"><span translate="PHONES.TBL_AVAILABLE_VERSION">Available Version</span></th> <th width="428"><span translate="PHONES.TBL_INFO">Information</span></th> </tr> </thead> <tr ng-repeat="fw in firmwares"> <td class="col-btn"> <label ng-if="fw.IsOutOfDate || fw.Alternatives.length > 1" class="i-checks"> <input type="checkbox" ng-model="fw.IsSelected"><i></i> </label> </td> <td> <span>{{fw.Vendor}}</span> <span>{{fw.Model}}</span> </td> <td> {{fw.DeviceVersion}} <span ng-if="!fw.IsOutOfDate">(Up To Date)</span> </td> <td> <div ng-repeat="alt in fw.Alternatives" ng-if="fw.Alternatives.length > 1"> <label class="i-checks m-b clear"> <input type="radio" ng-model="fw.SelectedVersion" ng-disabled="!fw.IsSelected" value="{{alt.Version}}"><i></i> <span>{{alt.Version}}</span> </label> </div> <label class="m-b clear" ng-if="fw.Alternatives.length === 1">{{fw.Alternatives[0].Version}}</label> </td> <td> <div ng-repeat="alt in fw.Alternatives"> <label class="m-b clear">{{alt.Description}}</label> </div> </td> </tr> </table> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$close(firmwares)" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">Upgrade</button> <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </div> '
              ),
          ]),
        u.module("app").filter("PhoneHelpLinkDefaultValue", [
          function () {
            return function (t) {
              return t.includes("http") ? t : "link_to_phone_doc.default";
            };
          },
        ]),
        u.module("app").filter("PhoneHelpLinkTranslationTag", [
          function () {
            return function (t) {
              return "link_to_phone_doc." + t;
            };
          },
        ]);
      var Ls = w(95121);
      function Zn() {
        return (Zn = (0, Yt.Z)(function* (t, c) {
          return (
            t instanceof Blob
              ? yield (0, Ls.decodeAsync)(t.stream())
              : (0, Ls.decode)(t)
          ).map((n) =>
            c.reduce(
              (i, a, l) => (
                "function" == typeof a ? a(i, n[l]) : a && (i[a] = n[l]), i
              ),
              {}
            )
          );
        })).apply(this, arguments);
      }
      const WE = [
        "Id",
        "ExtensionId",
        null,
        "LastRegistration",
        null,
        null,
        "Model",
        "Vendor",
        "FirmwareVersion",
        "Name",
        "UserId",
        "UserPassword",
        "Pin",
        "Ip",
        "InterfaceLink",
        null,
        "MacAddress",
        null,
        "PhoneWebPassword",
        "ProvLink",
        "IsNew",
        "AssignExtensionEnabled",
        "CanBeRebooted",
        "CanBeUpgraded",
        "CanBeProvisioned",
        "HasInterface",
        "IsCustomProvisionTemplate",
        "UnsupportedFirmware",
        "HotdeskingExtension",
        null,
        "ExtensionNumber",
      ];
      function dn(t) {
        return t.then((c) =>
          (function zE(t, c) {
            return Zn.apply(this, arguments);
          })(c.data, WE)
        );
      }
      let YE = (() => {
        class t {
          constructor(e) {
            (this.$http = e),
              (this.responseType = Blob.prototype.stream
                ? "blob"
                : "arraybuffer");
          }
          applyFirmware(e) {
            return dn(
              this.$http.postApi("api/PhoneList/applyFirmware", e, {
                responseType: this.responseType,
              })
            );
          }
          getAll() {
            return dn(
              this.$http.getApi("api/PhoneList", {
                responseType: this.responseType,
              })
            );
          }
          reject(e) {
            return dn(
              this.$http.postApi("api/PhoneList/reject", e, {
                responseType: this.responseType,
              })
            );
          }
          reboot(e) {
            return dn(
              this.$http.postApi("api/PhoneList/reboot", e, {
                responseType: this.responseType,
              })
            );
          }
          reprovision(e) {
            return dn(
              this.$http.postApi("api/PhoneList/reprovision", e, {
                responseType: this.responseType,
              })
            );
          }
          addNewPhoneToExtension(e) {
            return this.$http.postApi(
              "api/PhoneList/addNewPhoneToExtension",
              e
            );
          }
          assignToExtension(e, n) {
            return this.$http.postApi("api/PhoneList/assignToExtension", {
              phoneDeviceId: e,
              extensionId: n,
            });
          }
          provisionPhone(e, n) {
            return this.$http.postApi("api/PhoneList/provisionPhone", {
              phoneDeviceId: e,
              extensionNumber: n,
            });
          }
          assignToNewExtension(e) {
            return this.$http.postApi(
              "api/PhoneList/assignToNewExtension",
              JSON.stringify(e)
            );
          }
          checkNetworkDeviceExist(e) {
            return this.$http.postApi(
              "api/PhoneList/checkNetworkDeviceExist",
              JSON.stringify(e)
            );
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("PhonesSvc", YE);
      function Ms(t) {
        return !t.IsNew && !t.HotdeskingExtension;
      }
      function QE(t, c) {
        if (t.IsNew && !c.IsNew) return -1;
        if (!t.IsNew && c.IsNew) return 1;
        if (t.IsNew) {
          if (
            t.LastRegistrationDate.isValid() &&
            c.LastRegistrationDate.isValid()
          ) {
            if (t.LastRegistrationDate > c.LastRegistrationDate) return -1;
            if (t.LastRegistrationDate < c.LastRegistrationDate) return 1;
          }
          return 0;
        }
        return t.ExtensionNumber < c.ExtensionNumber
          ? -1
          : t.ExtensionNumber > c.ExtensionNumber
          ? 1
          : t.Model === c.Model
          ? 0
          : "WebRTC" !== t.Model && "WebRTC" === c.Model
          ? -1
          : "WebRTC" === t.Model && "WebRTC" !== c.Model
          ? 1
          : t.Model < c.Model
          ? -1
          : t.Model > c.Model
          ? 1
          : 0;
      }
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/phones/phone-list.component.html",
              '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="PHONES.TITLE">Phones</label> <help-button url="{{\'LINKS.PHONES_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="PHONES.PHONE_LISTING"> Phones</div> <div class="panel-body" sticky-to-top> <button type="button" class="btn btn-sm btn-success btn-responsive" id="btnAddPhone" ng-click="$ctrl.addPhoneBtnClick()" translate="PHONES.LIST_BUTTONS.ADD_PHONE"> </button> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnEditExt" ng-disabled="$ctrl.getSelectedEditablePhones().length === 0" ng-click="$ctrl.openExtensionEditor()" translate="PHONES.LIST_BUTTONS.EDIT_EXT_BTN"> <i class="halflings halflings-pencil"></i> Edit </button> <span class="btn-group"> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnAddExt" ng-disabled="$ctrl.isSelectedAndAssignExtensionEnabled() || $ctrl.isSelectedHotdesking()" ng-click="$ctrl.addBtnClick()" translate="PHONES.LIST_BUTTONS.ADD_BTN"> <i class="halflings halflings-user"></i> Add </button> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnAssignExt" ng-disabled="$ctrl.isSelectedAndAssignExtensionEnabled()" ng-click="$ctrl.assignBtnClick()" translate="PHONES.LIST_BUTTONS.ASSIGN_BTN"> <i class="halflings halflings-user"></i> Assign </button> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnReject" ng-disabled="$ctrl.everySelectedIsFalsy(\'IsNew\')" ng-click="$ctrl.rejectBtnClick()" translate="PHONES.LIST_BUTTONS.REJECT_BTN"> <i class="halflings halflings-remove"></i> Reject </button> </span> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnFirmware" ng-disabled="$ctrl.everySelectedIsFalsy(\'CanBeUpgraded\')" ng-click="$ctrl.firmwareBtnClick()" translate="PHONES.LIST_BUTTONS.FIRMWARE_BTN">PHONES.PHONE_LISTING <i class="halflings halflings-plus"></i> Firmware </button> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnReboot" ng-disabled="$ctrl.everySelectedIsFalsy(\'CanBeRebooted\')" ng-click="$ctrl.rebootBtnClick()" translate="PHONES.LIST_BUTTONS.REBOOT_BTN"> <span class="halflings halflings-refresh"></span> Reboot </button> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnReprovision" ng-disabled="$ctrl.everySelectedIsFalsy(\'CanBeProvisioned\')" ng-click="$ctrl.reprovisionBtnClick()" translate="PHONES.LIST_BUTTONS.REPROVISION_BTN"> <i class="halflings halflings-share-alt"></i> Reprovision </button> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnPhoneUI" ng-disabled="$ctrl.everySelectedIsFalsy(\'HasInterface\')" ng-click="$ctrl.phoneIntefaceBtnClick()" translate="PHONES.LIST_BUTTONS.PHONE_INTERFACE_BTN"> <i class="halflings halflings-sound-stereo"></i> Phone Interface </button> <button type="button" class="btn btn-sm btn-default btn-responsive" id="btnConfig" ng-click="$ctrl.templateBtnClick()" ng-disabled="$ctrl.isSelectedWithoutProvLink()" translate="PHONES.LIST_BUTTONS.TEMPLATE_BTN"> <i class="halflings halflings-plus"></i> Config </button> <button id="btnMessagingSettings" type="button" translate="REPOS.BUTTONS.OPTIONS_BTN" ng-click="$ctrl.phoneSettingsBtnClick()" class="btn btn-sm btn-success btn-responsive"> <i class="fa fa-gear"></i> <span>Options</span> </button> </div> <div st-table="$ctrl.displayedItems" st-safe-src="$ctrl.items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table id="phonesTable" class="table table-fixed" mc-select-items mc-select-changed="$ctrl.onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="ExtensionNumber" class="col-ext" translate="REPOS.TEXT.EXTENSION">Extension</th> <th st-ratio="50" st-sort="Vendor" translate="PHONES.TBL_VENDOR">Vendor</th> <th st-ratio="50" st-sort="Model" translate="PHONES.TBL_MODEL">Model</th> <th class="col-responsive" st-ratio="50" st-sort="Version" translate="PHONES.TBL_VERSION">Version</th> <th class="col-responsive" st-sort="Name" translate="PHONES.TBL_HEADING_NAME">Name</th> <th class="col-responsive" st-sort="Ip" translate="PHONES.TBL_HEADING_IP_OF_PHONE">IP of Phone</th> <th class="col-responsive" st-sort="MacAddress" translate="PHONES.TBL_HEADING_MAC_ADDRESS">MAC Address</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="row in $ctrl.displayedItems track by row.Id" ng-click="$ctrl.openExtensionEditor(row)" ng-class="{\'font-bold\': row.IsNew, \'font-red\': (row.UnsupportedFirmware || row.IsCustomProvisionTemplate)}"> <td class="col-btn" mc-select-row="row"></td> <td>{{row.IsNew ? (\'REPOS.TEXT.NEW\' | translate) : row.ExtensionNumber}}</td> <td>{{row.Vendor}}<span ng-if="row.IsCustomProvisionTemplate"> ({{\'REPOS.TEXT.CUSTOM\' | translate}})</span></td> <td>{{row.Model | translate}}</td> <td class="col-responsive"><span ng-if="row.UnsupportedFirmware" translate="PHONES.NOT_SUPPORTED_FIRMWARE"></span> {{row.FirmwareVersion}}</td> <td class="td-ellipsis col-responsive" style="max-width:120px">{{row.IsNew ? (\'REPOS.TEXT.NEW\' | translate) : row.Name}}</td> <td class="col-responsive">{{row.Ip}}</td> <td class="col-responsive"> <span ng-if="row.MacAddress && row.MacAddress !== \'PROVISIONED\' && row.MacAddress !== \'UNPROVISIONED\'"> <copy-to-clipboard mc-copied="row.MacAddress"></copy-to-clipboard> </span> <span ng-if="row.MacAddress === \'PROVISIONED\' || row.MacAddress === \'UNPROVISIONED\'"> {{row.MacAddress}} </span> </td> <td class="col-btn"> <button type="button" ng-if="row.IsNew" mc-stop-event ng-click="$ctrl.onPhoneRejectClick(row)" class="btn btn-xs btn-default"><i class="fa fa-times"></i></button> <button type="button" ng-if="!row.IsNew" mc-stop-event ng-click="$ctrl.onPhoneExtrasClick(row)" class="btn btn-xs btn-default"><i class="fa fa-eye"></i></button> </td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="$ctrl.itemsByPage" st-displayed-pages="7"></div> </div> </div> </div> </div> '
            ),
        ]),
        u.module("app").controller("TemplateEditCtrl", [
          "$scope",
          "$http",
          "templateUrl",
          function (t, c, e) {
            (t.xmlText = "Load content..."),
              c
                .getApi(e)
                .then((n) => {
                  t.xmlText = n.data;
                })
                .catch(() => u.noop());
          },
        ]);
      let ZE = (() => {
        class t {
          constructor(e, n, i, a, l, s, r, o, p, f, m, g) {
            (this.$state = e),
              (this.$http = n),
              (this.$uibModal = i),
              (this.phoneService = a),
              (this.$window = l),
              (this.$q = s),
              (this.messageBoxService = r),
              (this.$timeout = o),
              (this.extensionService = p),
              (this.$translate = f),
              (this.extensionSelectService = m),
              (this.settingsSvc = g),
              (this.items = []),
              (this.itemsByPage = 50),
              (this.displayedItems = []),
              (this.showPasswords = !1),
              a
                .getAll()
                .then((S) => this.setDisplayedItems(S))
                .catch(() => u.noop());
          }
          setDisplayedItems(e) {
            for (const n of e)
              n.LastRegistrationDate = ae()(n.LastRegistration);
            this.items = e.sort(QE);
          }
          rejectPhones(e) {
            (e = Array.isArray(e) ? e : [e]),
              this.phoneService
                .reject(e)
                .then((n) => this.setDisplayedItems(n))
                .catch(() => u.noop());
          }
          goToExtensionEditor(e) {
            const n = u.extend(e.data, { OpenNewDeviceEditor: !0 });
            this.$state.go("app.extension_editor.phone_provisioning", n);
          }
          goToExtensionEditorOrReject(e, n) {
            void 0 === e.data.NetworkDeviceNotFound
              ? this.$state.go(
                  "app.extension_editor.phone_provisioning",
                  e.data
                )
              : this.rejectPhones(n);
          }
          getSelected() {
            return this.displayedItems.filter((e) => e.isSelected);
          }
          isSelectedAndAssignExtensionEnabled() {
            const e = this.getSelected();
            return 1 != e.length || !e[0].AssignExtensionEnabled;
          }
          isSelectedHotdesking() {
            const e = this.getSelected();
            return 1 == e.length && e[0].HotdeskingExtension;
          }
          isSelectedWithoutProvLink() {
            const e = this.getSelected();
            return 1 != e.length || !e[0].ProvLink;
          }
          everySelectedIsFalsy(e) {
            return this.getSelected().every((n) => !0 !== n[e]);
          }
          rebootBtnClick() {
            const e = this.getSelected()
              .filter((n) => n.CanBeRebooted)
              .map((n) => n.Id);
            this.phoneService
              .reboot(e)
              .then((n) => this.setDisplayedItems(n))
              .catch(() => u.noop());
          }
          reprovisionBtnClick() {
            const e = this.getSelected().map((n) => n.Id);
            this.phoneService
              .reprovision(e)
              .then((n) => this.setDisplayedItems(n))
              .catch(() => u.noop());
          }
          addPhoneBtnClick() {
            this.extensionSelectService
              .showSelectExtensionModal()
              .then((e) => this.phoneService.addNewPhoneToExtension(e.Id))
              .then((e) => this.goToExtensionEditor(e));
          }
          phoneSettingsBtnClick() {
            this.settingsSvc
              .editSetting("api/Settings/PhoneSettings", "app.settings.phone")
              .catch(() => u.noop());
          }
          getSelectedEditablePhones() {
            return this.getSelected().filter(Ms);
          }
          openExtensionEditor(e) {
            const n = (e ? [e] : this.getSelected())
              .filter(Ms)
              .map((i) => i.ExtensionId);
            1 == n.length
              ? this.extensionService
                  .set(n[0])
                  .then((i) => {
                    (i.data.ActiveObject._backPage = "app.phones"),
                      this.$state.go("app.extension_editor.general", i.data);
                  })
                  .catch(() => u.noop())
              : n.length > 1 &&
                this.extensionService
                  .setBulk(n)
                  .then((i) => {
                    (i.data.ActiveObject._backPage = "app.phones"),
                      this.$state.go("app.extension_editor.voicemail", i.data);
                  })
                  .catch(() => u.noop());
          }
          applyFirmware(e) {
            return (
              (this.header = this.$translate.instant(
                "PHONES.FIRMWARE_INSTALL_STARTED"
              )),
              (this.dialogHeader = this.header),
              (this.dialogMessage = this.$translate.instant(
                "PHONES.FIRMWARE_INSTALL_FOR",
                { model: e.Model, version: e.Version }
              )),
              this.phoneService.applyFirmware(e)
            );
          }
          firmwareBtnClick() {
            const e = (l) => {
                const s = l;
                if (!s.length) return;
                (this.dialogHeader = ""), (this.dialogMessage = "");
                const r = this.$uibModal.open({
                  size: "md",
                  backdrop: "static",
                  keyboard: !1,
                  controller: [
                    "$scope",
                    (m) => {
                      m.$watch(
                        () => this.dialogHeader,
                        (g) => {
                          m.header = g;
                        }
                      ),
                        m.$watch(
                          () => this.dialogMessage,
                          (g) => {
                            m.message = g;
                          }
                        );
                    },
                  ],
                  templateUrl: "tpl/general_dialogs/progress_dialog.html",
                });
                let o = 0;
                const p = (m) => {
                    (o += 1),
                      o < s.length
                        ? f(s[o])
                        : (r.close(),
                          this.setDisplayedItems(m),
                          this.messageBoxService
                            .messageBox(
                              "PHONES.DIALOGS.FIRMWARE_UPDATED.TITLE",
                              "PHONES.DIALOGS.FIRMWARE_UPDATED.INFO"
                            )
                            .catch(() => u.noop()));
                  },
                  f = (m) => {
                    this.applyFirmware(m).then(
                      (g) => p(g),
                      () => r.close()
                    );
                  };
                f(s[0]);
              },
              a = {
                params: {
                  ids: this.getSelected()
                    .filter((l) => l.CanBeUpgraded)
                    .map((l) => l.Id),
                },
              };
            this.$http
              .getApi("api/PhoneList/availableFirmware", a)
              .then((l) =>
                this.$uibModal
                  .open({
                    size: "lg",
                    templateUrl: "js/app/phones/select_firmware_dialog.html",
                    controller: [
                      "$scope",
                      (s) => {
                        s.firmwares = l.data;
                      },
                    ],
                    keyboard: !0,
                    resolve: { response: () => l },
                  })
                  .result.then((s) => {
                    const r = s.filter((o) => o.IsSelected);
                    e(r);
                  })
              )
              .catch(() => u.noop());
          }
          showCanNotAssign(e) {
            e.status != Je.Status523UserMessage &&
              this.messageBoxService
                .messageBox(
                  "PHONES.CAN_T_ASSIGN_TO_EXTENSION",
                  e.data.Message,
                  "sm"
                )
                .catch(() => u.noop());
          }
          showCanNotAdd(e) {
            e.status != Je.Status523UserMessage &&
              this.messageBoxService
                .messageBox(
                  "PHONES.CAN_T_ADD_TO_EXTENSION",
                  e.data.Message,
                  "sm"
                )
                .catch(() => u.noop());
          }
          phoneIntefaceBtnClick() {
            this.getSelected().forEach((e) => {
              this.$window.open(e.InterfaceLink, "_blank");
            });
          }
          addBtnClick() {
            const e = this.getSelected();
            if (1 != e.length) return;
            const n = e[0].Id;
            this.phoneService.assignToNewExtension(n).then(
              (i) => this.goToExtensionEditorOrReject(i, n),
              (i) => this.showCanNotAdd(i)
            );
          }
          templateBtnClick() {
            const e = this.getSelected();
            if (1 != e.length) return;
            const n = e[0];
            if (
              "grandstream" != n.Vendor.toLowerCase() &&
              "htek" != n.Vendor.toLowerCase()
            )
              return this.$uibModal.open({
                size: "xl",
                backdrop: "static",
                templateUrl:
                  "js/app/extensions/tpl/dialogs/edit_template_modal.html",
                controller: "TemplateEditCtrl",
                keyboard: !0,
                resolve: { templateUrl: () => n.ProvLink },
              });
            this.$window.open(n.ProvLink, "_blank");
          }
          assignBtnClick() {
            const e = this.getSelected(),
              n = e[0].Id;
            e[0].HotdeskingExtension
              ? this.processAssignHotdesking(e[0])
              : this.processAssign(n);
          }
          processAssignHotdesking(e) {
            const i = this.$translate.instant(
              "PHONES.ASSIGN_PHONE_TO_HOTDESKING",
              { p0: e.Model, p1: e.MacAddress, p2: e.HotdeskingExtension }
            );
            this.messageBoxService
              .confirmDialog("PHONES.ASSIGN_PHONE_TO_EXTENSION", i, "md")
              .then(() => {
                this.phoneService
                  .provisionPhone(e.Id, e.HotdeskingExtension)
                  .catch(() => u.noop());
              })
              .catch(() => u.noop());
          }
          processAssign(e) {
            this.phoneService
              .checkNetworkDeviceExist(e)
              .then((n) => {
                if (void 0 === n.data.NetworkDeviceNotFound)
                  return this.extensionSelectService
                    .showSelectExtensionModal()
                    .then((i) => this.phoneService.assignToExtension(e, i.Id))
                    .then(
                      (i) => this.goToExtensionEditorOrReject(i, e),
                      (i) => this.showCanNotAssign(i)
                    );
                this.rejectPhones(e);
              })
              .catch(() => u.noop());
          }
          rejectBtnClick() {
            const e = this.getSelected().map((n) => n.Id);
            this.rejectPhones(e);
          }
          onPhoneExtrasClick(e) {
            this.$uibModal.open({
              component: "phoneExtrasComponent",
              resolve: { row: () => e },
            });
          }
          onPhoneRejectClick(e) {
            this.rejectPhones(e.Id);
          }
        }
        return (
          (t.$inject = [
            "$state",
            "$http",
            "$uibModal",
            "PhonesSvc",
            "$window",
            "$q",
            "MessageBoxSvc",
            "$timeout",
            "ExtensionSvc",
            "$translate",
            "ExtensionSelectService",
            "SettingsSvc",
          ]),
          t
        );
      })();
      u.module("app").component("phoneListCtrl", {
        controller: ZE,
        templateUrl: "js/app/phones/phone-list.component.html",
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/phones/phone-extras.component.html",
              '<div class="modal-header"> <button type="button" class="close" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="PHONES.DIALOGS.AUTHENTICATION_INFROMATION.TITLE">Authentication Information</h4> </div> <div class="modal-body"> <table class="table table-bordered table-striped"> <tbody> <tr ng-if="$ctrl.resolve.row.UserId"> <td> <strong><span translate="PHONES.TBL_HEADING_USER_ID"></span></strong> </td> <td> <copy-to-clipboard mc-class="\'td-ellipsis\'" mc-width="350" mc-copied="$ctrl.resolve.row.UserId"></copy-to-clipboard> </td> </tr> <tr ng-if="$ctrl.resolve.row.UserPassword"> <td> <strong><span translate="PHONES.TBL_HEADING_USER_PASSWORD"></span></strong> </td> <td> <copy-to-clipboard mc-class="\'td-ellipsis\'" mc-width="350" mc-copied="$ctrl.resolve.row.UserPassword"></copy-to-clipboard> </td> </tr> <tr ng-if="$ctrl.resolve.row.PhoneWebPassword"> <td> <strong><span translate="PHONES.TBL_HEADING_PHONEWEB_PASSWORD"></span></strong> </td> <td> <copy-to-clipboard mc-class="\'td-ellipsis\'" mc-width="350" mc-copied="$ctrl.resolve.row.PhoneWebPassword"></copy-to-clipboard> </td> </tr> <tr ng-if="$ctrl.resolve.row.Pin"> <td> <strong><span translate="PHONES.TBL_HEADING_PIN"></span></strong> </td> <td> <copy-to-clipboard mc-class="\'td-ellipsis\'" mc-width="350" mc-copied="$ctrl.resolve.row.Pin"></copy-to-clipboard> </td> </tr> </tbody> </table> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$ctrl.close()" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">OK</button> </div> '
            ),
        ]),
        u
          .module("app")
          .component("phoneExtrasComponent", {
            templateUrl: "js/app/phones/phone-extras.component.html",
            bindings: { resolve: "<", close: "&", dismiss: "&" },
          }),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/queues/advanced.html",
                '<div class="panel panel-default"> <checkbox-control-header prop="activeObject.EnableCallback" mc-title="CALL_QUEUES.EDITOR.ADVANCED.ENABLE_CALLBACK"></checkbox-control-header> <div class="panel-body"> <radio-enum-control prop="activeObject.CallbackMode" mc-title="CALL_QUEUES.EDITOR.ADVANCED.CALLBACK_MODE"></radio-enum-control> <number-control prop="activeObject.CallbackTimeout" mc-title="CALL_QUEUES.EDITOR.ADVANCED.CALLBACK_TIMEOUT" placeholder="CALL_QUEUES.EDITOR.ADVANCED.CALLBACK_TIMEOUT" maximum="99999"></number-control> <text-control prop="activeObject.CallbackPrefix" placeholder="CALL_QUEUES.EDITOR.ADVANCED.CALLBACK_OUTBOUND_PREFIX" mc-title="CALL_QUEUES.EDITOR.ADVANCED.CALLBACK_OUTBOUND_PREFIX" maxlength="5"></text-control> </div> </div> <div class="panel panel-default"> <div class="panel-heading font-bold" translate="CALL_QUEUES.EDITOR.ADVANCED.QUEUE_PREFERENCES">Queue Preferences </div> <div class="panel-body"> <div class="form-group m-b"> <number-control prop="activeObject.WrapUpTime" mc-title="CALL_QUEUES.EDITOR.ADVANCED.WRAP_UP_TIME" placeholder="CALL_QUEUES.EDITOR.ADVANCED.WRAP_UP_TIME" maximum="99999"></number-control> </div> <div class="form-group m-b"> <number-control prop="activeObject.MaxCallersInQueue" mc-title="CALL_QUEUES.EDITOR.ADVANCED.MAXIMUM_CALLERS_QUEUE" placeholder="CALL_QUEUES.EDITOR.ADVANCED.MAXIMUM_CALLERS_QUEUE" maximum="99999"></number-control> </div> <div class="form-group"> <checkbox-control prop="activeObject.PriorityQueue" mc-title="CALL_QUEUES.EDITOR.ADVANCED.PRIORITY_QUEUE"></checkbox-control> </div> <div class="form-group m-b"> <number-control prop="activeObject.SLATime" mc-title="CALL_QUEUES.EDITOR.ADVANCED.CONFIGURE_SLA_TIME" placeholder="CALL_QUEUES.EDITOR.ADVANCED.CONFIGURE_SLA_TIME" maximum="99999"></number-control> </div> <div class="form-group m-b"> <label translate="EXTENSIONS.EDITOR.GENERAL.CHAT_OWNERSHIP_ASSIGNMENT">Chat ownership assignment</label> <div class="radio m-b-md"> <label class="i-checks"> <input type="radio" ng-model-options="{getterSetter: true}" ng-model="activeObject.TypeOfChatOwnership.value" value="TypeOfChatOwnershipType.TakeManually"> <i></i> <span>{{\'enum.TypeOfChatOwnershipType.TakeManually\' | translate}}</span><br> </label> </div> <div class="radio m-b-md"> <label class="i-checks"> <input type="radio" ng-model-options="{getterSetter: true}" ng-model="activeObject.TypeOfChatOwnership.value" value="TypeOfChatOwnershipType.AutoAssign"> <i></i> <span>{{\'enum.TypeOfChatOwnershipType.AutoAssign\' | translate}}</span><br> </label> </div> </div> </div> </div> <div class="panel panel-default"> <checkbox-control-header prop="activeObject.RecordingPolicyEnabled" mc-title="CALL_QUEUES.EDITOR.ADVANCED.QUEUE_RECORDING"> </checkbox-control-header> <div class="panel-body"> <radio-enum-control mc-title="CALL_QUEUES.EDITOR.ADVANCED.QUEUE_RECORDING_LABEL" prop="activeObject.RecordingPolicyType"></radio-enum-control> </div> </div> <div class="panel panel-default" ng-controller="CallQStatisticsScheduleCtrl"> <checkbox-control-header prop="activeObject.ResetStatisticsSchedule._value.ScheduleEnabled" mc-title="CALL_QUEUES.EDITOR.ADVANCED.SCHEDULE_QUEUE_STATISTICS_RESET"> </checkbox-control-header> <div class="panel-body"> <div class="form-group"> <div class="form-group"> <label translate="CALL_QUEUES.EDITOR.ADVANCED.RESET_CALL_STATISTIC_FOR_QUEUE"> Reset Call Statistics for this Queue</label> <button type="button" class="btn btn-sm btn-default m-l-sm" ng-click="ResetQueueStatistics()"><span class="halflings halflings-repeat"></span> <span translate="REPOS.BUTTONS.RESET_NOW">Reset Now</span> </button> </div> <label translate="CALL_QUEUES.EDITOR.ADVANCED.SELECT_WHEN_QUEUE_STATISTICS_RESET"> Select when you want the queue statistics to be reset </label> <schedule-editor schedule="activeObject.ResetStatisticsSchedule._value"></schedule-editor> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/queues/agents.html",
                '<div class="panel panel-default" ng-controller="CallQEditorAgentsCtrl"> <div class="panel-heading font-bold" translate="CALL_QUEUES.EDITOR.AGENTS.CALL_QUEUE_AGENTS_TITLE"> Call Queue Agents </div> <div class="panel-body"> <label translate="CALL_QUEUES.EDITOR.AGENTS.AGENTS_INFO"> Select which extensions will be agents for this Call Queue. User must also login to the Call Queue to start taking calls. </label> <mc-extensions prop="activeObject.Members" move-enabled="!isPollingStrategySkills(activeObject.PollingStrategy.selected)" sort-disable="true" skill-group="isPollingStrategySkills(activeObject.PollingStrategy.selected)" dialog-title="CALL_QUEUES.EDITOR.AGENTS.SELECT_QUEUE_AGENTS_TO_ADD"> </mc-extensions> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/queues/general.html",
                '<div class="panel panel-default"> <div class="panel-heading font-bold" translate="CALL_QUEUES.EDITOR.GENERAL.GENERAL_TITLE">General</div> <div class="panel-body"> <text-control prop="activeObject.Name" mc-title="CALL_QUEUES.EDITOR.GENERAL.QUEUE_NAME" placeholder="CALL_QUEUES.EDITOR.GENERAL.QUEUE_NAME"></text-control> <text-control prop="activeObject.Number" mc-title="CALL_QUEUES.EDITOR.GENERAL.VIRTUAL_EXT_NUMBER" placeholder="CALL_QUEUES.EDITOR.GENERAL.VIRTUAL_EXT_NUMBER"></text-control> <select-enum-control prop="activeObject.PollingStrategy" mc-title="CALL_QUEUES.EDITOR.GENERAL.POLLING_STRATEGY"></select-enum-control> <text-control prop="activeObject.RingTime" mc-title="CALL_QUEUES.EDITOR.GENERAL.RING_TIME_SECONDS" placeholder="CALL_QUEUES.EDITOR.GENERAL.RING_TIME_SECONDS" maxlength="5"></text-control> </div> </div> <did-control prop="activeObject.ExtensionDID"></did-control> <panel mc-title="CALL_QUEUES.EDITOR.GENERAL.DESTINATION_IF_NOT_ANSWER_TITLE"> <div class="form-group"> <text-control prop="activeObject.MaxWaitTime" mc-title="CALL_QUEUES.EDITOR.GENERAL.MAX_QUEUE_WAIT_TIME" placeholder="1800" maxlength="5"></text-control> </div> <no-answer-destination-control prop="activeObject.NoAnswerDestination._value"></no-answer-destination-control> </panel> <panel mc-title="CALL_QUEUES.EDITOR.GENERAL.MUSIC_ON_HOLD_TITLE"> <select-file-media-control prop="activeObject.MusicOnHold" mc-title="CALL_QUEUES.EDITOR.GENERAL.MUSIC_ON_HOLD_TITLE_INFO"></select-file-media-control> </panel> <div class="panel panel-default"> <checkbox-control-header prop="activeObject.EnablePrompt" mc-title="CALL_QUEUES.EDITOR.GENERAL.ENABLE_INTRO_PROMPT"></checkbox-control-header> <div class="panel-body"> <select-file-media-control prop="activeObject.Prompt" mc-title="CALL_QUEUES.EDITOR.GENERAL.INTRO_PROMPT_FILE"></select-file-media-control> <div class="form-group"> <checkbox-control mc-title="CALL_QUEUES.EDITOR.GENERAL.PLAY_FULL_INTRO_PROMPT" prop="activeObject.PlayFullPrompt"></checkbox-control> </div> </div> </div> <panel mc-title="CALL_QUEUES.EDITOR.GENERAL.OPTIONS_TITLE"> <div class="form-group"> <checkbox-control prop="activeObject.AnnounceQueuePosition" mc-title="CALL_QUEUES.EDITOR.GENERAL.ANNOUNCE_QUEUE_POSITION"></checkbox-control> </div> <div class="form-group"> <text-control prop="activeObject.AnnounceQueuePositionInterval" mc-title="CALL_QUEUES.EDITOR.GENERAL.ANNOUNCEMENT_INTERVAL" placeholder="60" maxlength="5"></text-control> </div> <div class="form-group"> <select-control prop="activeObject.QueueLanguage" mc-title="CALL_QUEUES.EDITOR.GENERAL.QUEUE_LANGUAGE" display="Name"></select-control> </div> </panel> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/queues/notifications.html",
                '<panel mc-title="CALL_QUEUES.EDITOR.GENERAL.SELECT_QUEUE_MANAGER"> <mc-extensions prop="activeObject.Managers" dialog-title="CALL_QUEUES.EDITOR.GENERAL.SELECT_QUEUE_MANAGER_ADD"> </mc-extensions> </panel> <div class="panel panel-default"> <div class="panel-heading font-bold" translate="CALL_QUEUES.EDITOR.ADVANCED.QUEUE_MAIL_NOTIFICATIONS_TITLE">Queue Email Notifications </div> <div class="panel-body"> <checkbox-control prop="activeObject.NotifySLATimeBreached" mc-title="CALL_QUEUES.EDITOR.ADVANCED.MAIL_NOTIF_WHEN_SLA_BREACHED"></checkbox-control> <checkbox-control prop="activeObject.NotifyCallback" mc-title="CALL_QUEUES.EDITOR.ADVANCED.MAIL_NOTIF_WHEN_CALLBACK_MADE"></checkbox-control> <checkbox-control prop="activeObject.NotifyCallbackFails" mc-title="CALL_QUEUES.EDITOR.ADVANCED.MAIL_NOTIF_WHEN_CALLBACK_FAILS"></checkbox-control> <checkbox-control prop="activeObject.NotifyCallLost" mc-title="CALL_QUEUES.EDITOR.ADVANCED.MAIL_NOTIF_WHEN_QUEUE_CALL_LOST"></checkbox-control> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/queues/queue_editor.html",
                '<div ng-controller="CallQEditorCtrl"> <div class="bg-light lter b-b wrapper-md"> <label ng-if="activeObject.IsNew" class="m-n font-thin h3">Add Call Queue</label> <label ng-if="!activeObject.IsNew" class="m-n font-thin h3">{{::activeObject.Name.value()}}</label> <button uib-tooltip="{{(activeObject.licenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}" class="btn m-l-lg m-b-xs w-xs btn-success btn-md" ng-click="saveWithConfirmation()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button"> Save</button> <button class="btn m-b-xs w-xs btn-dark btn-md" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button"> Cancel</button> <help-button url="{{\'LINKS.CALL_QUEUES_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md tab-container"> <ul class="nav nav-tabs"> <li role="presentation" ui-sref-active="active"> <a ui-sref=".general" translate="CALL_QUEUES.EDITOR.LIST_BUTTONS.GENERAL_BTN">General</a></li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".agents" translate="CALL_QUEUES.EDITOR.LIST_BUTTONS.AGENTS_BTN">Agents</a></li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".advanced" translate="CALL_QUEUES.EDITOR.LIST_BUTTONS.ADVANCED_BTN">Advanced (PRO)</a></li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".notifications" translate="CALL_QUEUES.EDITOR.LIST_BUTTONS.NOTIFICATIONS_BTN">Notifications</a></li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".click2talk" translate="EXTENSIONS.EDITOR.CLIENT.TITLE">Client</a></li> </ul> <form name="outerForm"> <div class="tab-content"> <ui-view></ui-view> </div> </form> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/queues/queue_list.html",
                '<list-control api_url="QueueList" editor_state="app.queue_editor.general" confirm-deletion> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="CALL_QUEUES.CALL_QUEUES_MAIN_TITLE">Call Queues</label> <help-button url="{{\'LINKS.CALL_QUEUES_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="CALL_QUEUES.CALL_QUEUES_TITLE"> Call Queues </div> <div class="panel-body" sticky-to-top> <button type="button" ng-click="onAddClick()" class="btn btn-sm btn-success btn-responsive" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"> <i class="halflings halflings-plus"></i> Add </button> <button type="button" ng-disabled="!isOneSelected" class="btn btn-sm btn-default btn-responsive" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit" ng-click="onEditClick()"> <i class="halflings halflings-pencil"></i>Edit </button> <button type="button" ng-disabled="!isAnySelected" class="btn btn-sm btn-default btn-responsive" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete" ng-click="onDeleteClick()"> <i class="halflings halflings-remove"></i>Delete </button> </div> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped table-fixed" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="Number" class="col-ext" translate="REPOS.TEXT.EXTENSION">Queue Number</th> <th st-sort="Name" translate="CALL_QUEUES.TBL_HEADING_QUEUE_NAME">Queue Name</th> <th st-sort="PollingStrategy" translate="CALL_QUEUES.TBL_HEADING_POLLING_STRATEGY">Polling Strategy</th> <th st-sort="RingTime" class="col-responsive" translate="CALL_QUEUES.TBL_HEADING_RING_TIMEOUT">Ring timeout(seconds)</th> <th st-sort="Language" class="col-responsive" translate="CALL_QUEUES.TBL_HEADING_QUEUE_LANGUAGE">Queue Language</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="item in displayedItems track by item.Id" ng-click="onItemEditClick(item)"> <td class="col-btn" mc-select-row="item"></td> <td>{{item.Number}}</td> <td>{{item.Name}}</td> <td>{{(\'enum.PollingStrategy.\' + item.PollingStrategy)|translate}}</td> <td class="col-responsive">{{item.RingTime}}</td> <td class="col-responsive">{{item.Language}}</td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="onItemDeleteClick(item)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </div> </div> </div> </div> </list-control> '
              ),
          ]),
        u.module("app").controller("CallQEditorAgentsCtrl", [
          "$scope",
          function (t) {
            t.isPollingStrategySkills = function (c) {
              return void 0 !== c && c.includes("SkillBasedRouting");
            };
          },
        ]),
        u.module("app").controller("CallQStatisticsScheduleCtrl", [
          "$scope",
          "QueueSvc",
          "MessageBoxSvc",
          function (t, c, e) {
            t.ResetQueueStatistics = function () {
              c.ResetQueueStatistics(t.Id)
                .then(function () {
                  e.messageBox(
                    "3CX Interface",
                    "All Statistics for this queue have been reset.",
                    "sm"
                  ).catch(() => u.noop());
                })
                .catch(() => u.noop());
            };
          },
        ]);
      class uA extends ft {
        ResetQueueStatistics(c) {
          return this.$http.postApi("api/QueueEditor/ResetQueueStatistics", {
            id: c,
          });
        }
      }
      u.module("app").factory("QueueSvc", [
        "$http",
        function (t) {
          return new uA("QueueList", void 0, t);
        },
      ]),
        u.module("app").controller("CallQEditorCtrl", [
          "$scope",
          "$stateParams",
          "EditSvc",
          "MyUtilsSvc",
          function (t, c, e, n) {
            (t.Id = c.Id),
              (t.stub = {}),
              n.initEditController(t, e, "app.queues").then(function () {
                t.$watch(
                  "activeObject.NoAnswerDestination._value.DestinationType.selected",
                  function (i) {
                    t.stub.inboundRulesInOffice = i;
                  }
                );
              }),
              (t.saveWithConfirmation = function () {
                return t.saveClick();
              });
          },
        ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/queues/schedule-editor.component.html",
              '<div class="m-l-md m-t-xs"> <div> <div class="form-group form-inline"> <div class="radio"> <label class="i-checks"> <input type="radio" ng-model="$ctrl.schedule.Frequency.value" ng-model-options="{getterSetter:true}" value="ResetQueueStatisticsFrequency.Daily" ng-disabled="!$ctrl.isScheduleEnabled()"> <i></i><span translate="REPOS.TEXT.DAILY">Daily at:</span></label> <time-of-day-picker ng-if="$ctrl.isScheduleEnabled() && $ctrl.isDaily()" prop="$ctrl.schedule.Seconds"></time-of-day-picker> </div> </div> <div class="form-group form-inline"> <div class="radio"> <label class="i-checks"> <input type="radio" ng-model="$ctrl.schedule.Frequency.value" ng-model-options="{getterSetter: true}" value="ResetQueueStatisticsFrequency.Weekly" ng-disabled="!$ctrl.isScheduleEnabled()"> <i></i><span translate="enum.ResetQueueStatisticsFrequency.Weekly">Weekly</span> </label> </div> <div class="form-group m-l-sm m-r-sm" ng-if="$ctrl.isWeekly()"> <select class="form-control" ng-model="$ctrl.dayOfWeekProp" ng-model-options="{getterSetter: true}" ng-disabled="$ctrl.schedule.Frequency.disabled"> <option value="DayOfWeek.Monday" translate="enum.DayOfWeek.Monday"></option> <option value="DayOfWeek.Tuesday" translate="enum.DayOfWeek.Tuesday"></option> <option value="DayOfWeek.Wednesday" translate="enum.DayOfWeek.Wednesday"></option> <option value="DayOfWeek.Thursday" translate="enum.DayOfWeek.Thursday"></option> <option value="DayOfWeek.Friday" translate="enum.DayOfWeek.Friday"></option> <option value="DayOfWeek.Saturday" translate="enum.DayOfWeek.Saturday"></option> <option value="DayOfWeek.Sunday" translate="enum.DayOfWeek.Sunday"></option> </select> </div> <time-of-day-picker ng-if="$ctrl.isScheduleEnabled() && $ctrl.isWeekly()" prop="$ctrl.schedule.Seconds"></time-of-day-picker> </div> </div> <div class="form-group form-inline"> <div class="radio"> <label class="i-checks"> <input type="radio" ng-model="$ctrl.schedule.Frequency.value" ng-model-options="{getterSetter: true}" value="ResetQueueStatisticsFrequency.Monthly" ng-disabled="!$ctrl.isScheduleEnabled()"> <i></i><span translate="REPOS.TEXT.MONTHLY_FIRST_DAY">Monthly - On the first Day of each month</span></label> </div> </div> </div> '
            ),
        ]),
        u.module("app").component("scheduleEditor", {
          templateUrl: "js/app/queues/schedule-editor.component.html",
          bindings: { schedule: "<" },
          controller: class gA {
            dayOfWeekProp(c) {
              if (!arguments.length) return this.schedule.Day.value();
              this.schedule.Day.value(c);
            }
            checker(c) {
              return !!this.schedule && this.schedule.Frequency.selected == c;
            }
            isDaily() {
              return this.checker("ResetQueueStatisticsFrequency.Daily");
            }
            isWeekly() {
              return this.checker("ResetQueueStatisticsFrequency.Weekly");
            }
            IsMonthly() {
              return this.checker("ResetQueueStatisticsFrequency.Monthly");
            }
            isScheduleEnabled() {
              return !!this.schedule && this.schedule.ScheduleEnabled._value;
            }
          },
        }),
        u.module("app").controller("CallAreaFilterController", [
          "$scope",
          function (t) {
            t.parameters.CallArea.value = "All";
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/call_reports/call-costs.component.html",
            '<div> <div class="modal-header" style="padding-top:10px;padding-bottom:10px"> <button type="button" class="close" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="REPORTS.column_extgrp_callcost">Call Cost</h4> </div> <div class="modal-body" style="padding-top:0;padding-bottom:0"> <div class="form-group m-b clear"> <table class="table table-striped m-b-none" st-table="$ctrl.displayedCollection" st-safe-src="$ctrl.safeCollection" st-set-filter="includeNew"> <thead> <td colspan="4" style="width:100%"> <input ng-model="$ctrl.inputSearch" st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </td>  <tr> <td> <div class="form-group"> <button type="button" class="btn btn-success" ng-click="$ctrl.addNew()" translate="REPORTS_UI.ADD_NEW">Add New </button> <button type="button" class="btn btn-success" ng-click="$ctrl.importCallCosts()" translate="REPOS.BUTTONS.IMPORT_BTN" id="btnImport">Import </button> <input id="fileInput" name="fileInput" type="file" class="hide"> <button type="button" class="btn btn-success" ng-click="$ctrl.exportCallCosts()" translate="REPOS.BUTTONS.EXPORT_BTN" id="btnExport">Export </button> <button type="button" class="btn btn-success" ng-click="$ctrl.deleteCallCosts()" translate="REPOS.BUTTONS.CLEANUP" id="btnDelete">Export </button> </div> </td> </tr> <tr> <th st-sort="CountryName" translate="REPORTS.bill.grid.namecol" style="width:55%">Country Name </th> <th st-sort="Prefix" translate="REPORTS.bill.grid.prefixcol" style="width:20%">Prefix</th> <th st-sort="Rate" translate="REPORTS.bill.grid.ratecol" style="width:20%">Rate</th> <th style="width:5%"></th> </tr> </thead> <tbody id="callCostsTBody"> <tr ng-repeat="row in $ctrl.displayedCollection"> <td ng-click="!row.ReadOnly ? countryNameForm.$show() : \'\'" class="country-name-cell full-width-xeditor" style="width:55%"> <form editable-form name="countryNameForm" shown="row.isNew" buttons="no" blur="submit" onhide="row.isNew=!1"> <span editable-text="row.CountryName" e-name="countryName" e-style="width: 100%;" e-maxlength="128" onbeforesave="$ctrl.checkCountryName($data,row,$last)"> {{row.CountryName}} </span> </form> </td> <td ng-click="prefixForm.$show()" style="width:20%"> <span editable-text="row.Prefix" buttons="no" blur="submit" e-name="prefix" e-form="prefixForm" e-maxlength="20"> {{row.Prefix}} </span> </td> <td ng-click="rateForm.$show()" style="width:20%"> <form editable-form novalidate name="rateForm" buttons="no" blur="submit"> <span editable-number="row.Rate" e-step="0.01" e-name="rate" e-min="0" e-maxlength="16" onbeforesave="$ctrl.checkDecimal($data,row,$last)"> {{row.Rate}} </span> </form> </td> <td style="width:5%"> <button ng-if="!row.ReadOnly" type="button" ng-click="$ctrl.onDeleteClick(row)" class="btn btn-xs btn-default"><i class="fa fa-times"></i></button> </td> </tr> </tbody> <tfoot> <tr> <td colspan="4" class="text-center"> <div class="compact-pagination" st-pagination="" st-items-by-page="$ctrl.itemsByPage" st-displayed-pages="7" id="pagerId"></div> </td> </tr> </tfoot> </table> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$ctrl.saveCallCosts()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">OK </button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel </button> </div> </div> '
          ),
      ]);
      const bA = /^\d{1,12}(\.\d+)?$/;
      let SA = (() => {
        class t {
          constructor(e, n, i, a, l, s, r, o) {
            (this.$translate = n),
              (this.$timeout = i),
              (this.CallReportsSvc = a),
              (this.$window = l),
              (this.$uibModal = s),
              (this.messageBoxService = r),
              (this.inputSearch = ""),
              (this.itemsByPage = 10),
              (this.safeCollection = []),
              (this.displayedCollection = []);
            const p = o.find("input[type=file]")[0];
            (this.tableHeight = l.innerHeight / 2),
              u.element(l).bind("resize", () => {
                (this.tableHeight = l.innerHeight / 2), e.$digest();
              }),
              z()("#fileInput").change(() => {
                const f = new FormData();
                f.append("fileInput", p.files[0]),
                  a
                    .importCallCosts(f)
                    .then((m) => {
                      m.data
                        ? a
                            .getCallCosts()
                            .then((g) => {
                              for (const S of g.data.list) {
                                const O = this.safeCollection.filter(
                                  (j) => j.Id == S.Id
                                );
                                if (0 == O.length) this.safeCollection.push(S);
                                else {
                                  const j = this.safeCollection.indexOf(O[0]);
                                  this.safeCollection[j] = S;
                                }
                              }
                            })
                            .catch(() => u.noop())
                        : s.open({
                            templateUrl: "tpl/call_reports/message.html",
                            resolve: {
                              messageData: () => ({
                                headerTextKey:
                                  "REPORTS_UI.CALL_COSTS_IMPORT_ERROR",
                                messageTextKey: "REPORTS_UI.INVALID_XML_FILE",
                              }),
                            },
                            controller: "MessageController",
                          });
                    })
                    .catch(() => u.noop());
              }),
              this.updateCallCosts();
          }
          removeEmptyCallCost() {
            let e = null;
            this.newCallCostId && (e = this.safeCollection[this.newCallCostId]),
              null != e &&
                !e.CountryName &&
                !e.Prefix &&
                this.safeCollection.splice(this.newCallCostId, 1);
          }
          validateCallCosts(e) {
            const n = {};
            for (const i of this.safeCollection) {
              if (i.invalid) return !1;
              if (!e) {
                if (n.hasOwnProperty(i.Prefix.toLowerCase()))
                  return (
                    this.$uibModal.open({
                      templateUrl: "tpl/call_reports/message.html",
                      resolve: {
                        messageData: () => ({
                          headerTextKey: "REPORTS_UI.CANT_SAVE_CALL_COSTS",
                          messageTextKey: "REPORTS_UI.DUPLICATE_PREFIX",
                          messageParams: { prefix: i.Prefix },
                        }),
                      },
                      controller: "MessageController",
                    }),
                    !1
                  );
                n[i.Prefix.toLowerCase()] = null;
              }
            }
            return !0;
          }
          saveCallCosts() {
            this.$timeout(() => {
              this.removeEmptyCallCost(),
                this.validateCallCosts(!1) &&
                  this.CallReportsSvc.postCallCosts(this.safeCollection)
                    .then(() => {
                      this.close();
                    })
                    .catch(() => u.noop());
            }).catch(() => u.noop());
          }
          deleteCallCosts() {
            this.messageBoxService
              .confirmDialog(
                "REPOS.CONFIRMATION.HEADER",
                "REPOS.CONFIRMATION.TEXT_ALL"
              )
              .then(() => {
                this.CallReportsSvc.postCallCosts(
                  this.safeCollection.filter((e) => e.ReadOnly)
                )
                  .then(() => {
                    this.updateCallCosts();
                  })
                  .catch(() => u.noop());
              })
              .catch(() => u.noop());
          }
          exportCallCosts() {
            this.$window.location.assign("api/CallCosts/Export");
          }
          updateCallCosts() {
            this.CallReportsSvc.getCallCosts()
              .then((e) => {
                (this.safeCollection = e.data.list),
                  (this.displayedCollection = [].concat(e.data.list));
              })
              .catch(() => u.noop());
          }
          scrollToBottom() {
            this.$timeout(() => {
              const e = u.element(z()("#pagerId")).isolateScope();
              e.selectPage(e.numPages);
              const n = z()("#callCostsTBody");
              n.scrollTop(n.prop("scrollHeight"));
            }).catch(() => u.noop());
          }
          checkDecimal(e, n, i) {
            if ((!e && 0 !== e) || e.length > 16 || !bA.test(e))
              return (
                (n.invalid = !0),
                i && this.scrollToBottom(),
                this.$translate("REPORTS.filter_extrange_invalid_number")
              );
            n.invalid = !1;
          }
          checkCountryName(e, n, i) {
            if (!e)
              return (
                (n.invalid = !0),
                i && this.scrollToBottom(),
                this.$translate("WARNINGS.NAME_NOT_EMPTY")
              );
            n.invalid = !1;
          }
          onDeleteClick(e) {
            const n = this.safeCollection.indexOf(e);
            n >= 0 && this.safeCollection.splice(n, 1);
          }
          addNew() {
            this.validateCallCosts(!0) &&
              ((this.newCallCostId = this.safeCollection.length),
              this.safeCollection.push({
                CountryName: "",
                Prefix: "",
                Rate: 1,
                Id: null,
                ReadOnly: !1,
                isNew: !0,
                invalid: !0,
              }),
              this.scrollToBottom());
          }
          importCallCosts() {
            setTimeout(() => {
              z()("#fileInput").val(""), z()("#fileInput").trigger("click");
            });
          }
        }
        return (
          (t.$inject = [
            "$scope",
            "$translate",
            "$timeout",
            "CallReportsSvc",
            "$window",
            "$uibModal",
            "MessageBoxSvc",
            "$element",
          ]),
          t
        );
      })();
      u.module("app").component("callCosts", {
        controller: SA,
        bindings: { close: "&", dismiss: "&" },
        templateUrl: "js/app/call_reports/call-costs.component.html",
      });
      let js = (() => {
        class t {
          constructor(e, n) {
            (this.bsModalRef = e),
              (this.fb = n),
              (this.ModalResult = qe.q),
              (this.result = qe.q.Cancel);
          }
          get value() {
            return this.form.value;
          }
          ngOnInit() {
            this.form = ds(this.fb);
          }
          hide(e) {
            (this.result = e), this.bsModalRef.hide();
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.Y36(et.UZ), d.Y36(q.qu));
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["purge-calls-popup"]],
            decls: 17,
            vars: 15,
            consts: [
              [3, "formGroup", "ngSubmit"],
              [1, "modal-header"],
              [1, "modal-title", "float-left"],
              [1, "modal-body"],
              [1, "m-r-xs", 3, "innerHTML"],
              [3, "form"],
              [1, "modal-footer"],
              [
                "id",
                "btnOk",
                "type",
                "submit",
                1,
                "btn",
                "btn-default",
                3,
                "disabled",
                "click",
              ],
              ["okButton", ""],
              [
                "id",
                "btnCancel",
                "type",
                "button",
                1,
                "btn",
                "btn-default",
                3,
                "click",
              ],
            ],
            template: function (e, n) {
              1 & e &&
                (d.TgZ(0, "form", 0),
                d.NdJ("ngSubmit", function () {
                  return n.hide(n.ModalResult.Ok);
                }),
                d.TgZ(1, "div", 1)(2, "h4", 2),
                d._uU(3),
                d.ALo(4, "translate"),
                d.qZA()(),
                d.TgZ(5, "div", 3),
                d._UZ(6, "label", 4),
                d.ALo(7, "translate"),
                d._UZ(8, "purge-range-settings", 5),
                d.qZA(),
                d.TgZ(9, "div", 6)(10, "button", 7, 8),
                d.NdJ("click", function () {
                  return n.hide(n.ModalResult.Ok);
                }),
                d._uU(12),
                d.ALo(13, "translate"),
                d.qZA(),
                d.TgZ(14, "button", 9),
                d.NdJ("click", function () {
                  return n.hide(n.ModalResult.Cancel);
                }),
                d._uU(15),
                d.ALo(16, "translate"),
                d.qZA()()()),
                2 & e &&
                  (d.Q6J("formGroup", n.form),
                  d.xp6(3),
                  d.Oqu(d.lcZ(4, 7, "REPOS.CONFIRMATION.HEADER")),
                  d.xp6(3),
                  d.Q6J(
                    "innerHTML",
                    d.lcZ(7, 9, "REPOS.CONFIRMATION.HISTORY_ENTRIES"),
                    d.oJD
                  ),
                  d.xp6(2),
                  d.Q6J("form", n.form),
                  d.xp6(2),
                  d.Q6J("disabled", !n.form.valid),
                  d.xp6(2),
                  d.Oqu(d.lcZ(13, 11, "SYSTEM_STATUS.PBX_STATUS_BOX.PURGE")),
                  d.xp6(3),
                  d.Oqu(d.lcZ(16, 13, "REPOS.BUTTONS.CANCEL_BTN")));
            },
            dependencies: [q._Y, q.JL, q.sg, ps, He.X$],
            encapsulation: 2,
          })),
          t
        );
      })();
      u.module("app").controller("ScheduleReportCtrl", [
        "$scope",
        function (t) {
          t.$watch("MainParams.ReportType", function (c, e) {
            if (c !== e) {
              const n = t.getAvailableDocumentTypes(c);
              n.includes(t.ScheduleParams.DocumentType) ||
                (t.ScheduleParams.DocumentType = n[0]),
                t.resetErrors();
            }
          });
        },
      ]),
        u.module("app").controller("CallReportsCtrl", [
          "$scope",
          "$state",
          "$uibModal",
          "$filter",
          "MyUtilsSvc",
          "MessageBoxSvc",
          "CallReportsSvc",
          "BsModalService",
          "SystemStatusSvc",
          function (t, c, e, n, i, a, l, s, r) {
            (t.itemsByPage = 20),
              (t.refresh = function () {
                l.getAll()
                  .then(function (p) {
                    (t.licenseRestricted = p.data.licenseRestricted),
                      t.setItems(p.data.list, !1);
                  })
                  .catch(() => u.noop());
              }),
              (t.deleteRequest = function (p) {
                !p ||
                  0 == p.length ||
                  (1 == p.length
                    ? ((t.deleteModalHeader = n("translate")(
                        "REPORTS_UI.DELETE_REPORT_REQUEST",
                        { reportName: "" }
                      )),
                      (t.deleteModalRequest = n("translate")(
                        "REPORTS_UI.DELETE_REPORT_REQUEST",
                        { reportName: "'" + p[0].Name + "'" }
                      )))
                    : ((t.deleteModalHeader = n("translate")(
                        "REPORTS_UI.DELETE_REPORTS_REQUEST",
                        { reportName: "" }
                      )),
                      (t.deleteModalRequest = n("translate")(
                        "REPORTS_UI.DELETE_REPORTS_REQUEST",
                        {
                          reportNames: p
                            .map(function (f) {
                              return "'" + f.Name + "'";
                            })
                            .join(", "),
                        }
                      ))),
                  e
                    .open({
                      templateUrl:
                        "tpl/call_reports/delete_report_request.html",
                      scope: t,
                    })
                    .result.then(function () {
                      l.deleteReports(
                        p.map(function (f) {
                          return f.Key;
                        })
                      )
                        .then(function () {
                          t.refresh();
                        })
                        .catch(() => u.noop());
                    })
                    .catch(() => u.noop()));
              }),
              (t.edit = function (p) {
                p.IsInstantReport
                  ? (a.alertBox(
                      n("translate")("REPORTS_UI.TITLE"),
                      n("translate")("REPORTS_UI.ONCE_TIME_REPORT_EDIT")
                    ),
                    t.refresh())
                  : c.go(
                      "app.call_reports.parameters",
                      { key: p.Key },
                      { reload: "app.call_reports.parameters" }
                    );
              }),
              (t.onNewClick = function () {
                c.go("app.call_reports.parameters", {
                  key: "",
                  licenseRestricted: t.licenseRestricted,
                });
              }),
              (t.onEditClick = function () {
                t.edit(i.getFirstSelected(t.displayedItems));
              }),
              (t.onItemEditClick = function (p) {
                t.edit(p);
              }),
              (t.onDeleteClick = function () {
                t.deleteRequest(t.getSelectedItems());
              }),
              (t.onItemDeleteClick = function (p) {
                t.deleteRequest([p]);
              }),
              (t.onSettingsClick = function () {
                e.open({
                  backdrop: "static",
                  templateUrl: "tpl/call_reports/report_settings.html",
                  size: "lg",
                });
              }),
              (t.onCallTypesClick = function () {
                e.open({
                  backdrop: "static",
                  templateUrl: "tpl/call_reports/call_types.html",
                  size: "lg",
                });
              }),
              (t.onCallCostsClick = function () {
                e.open({
                  backdrop: "static",
                  component: "callCosts",
                  size: "lg",
                });
              }),
              (t.callHistoryPurge = function () {
                var p;
                const f = s.show(js),
                  m = f.content;
                return null === (p = f.onHide) || void 0 === p
                  ? void 0
                  : p
                      .pipe(
                        (0, Nt.q)(1),
                        (0, We.U)(() => m)
                      )
                      .subscribe({
                        next: (g) => {
                          if (g.result == qe.q.Ok)
                            switch (g.value.option) {
                              case Qe.All:
                                r.PurgeCallHistory(!0);
                                break;
                              case Qe.FilterByDate:
                                r.PurgeCallHistory(!1, g.value.custom);
                                break;
                              case Qe.Year:
                                r.PurgeCallHistoryUpToTheDate(vn());
                                break;
                              case Qe.Month:
                                r.PurgeCallHistoryUpToTheDate(Nn());
                            }
                        },
                      });
              }),
              (t.onItemClick = function () {
                !(function () {
                  const p = t.items.filter(function (f) {
                    return f.isSelected && t.canBeDeleted(f);
                  });
                  (t.isAnySelected = 0 != p.length),
                    (t.isOneSelected = 1 === p.length),
                    (t.isAllSelected = !1);
                })();
              }),
              (t.canBeDeleted = function (p) {
                return "REPORTS.Running" != p.Status;
              });
          },
        ]),
        u.module("app").controller("CallReportsSettingsCtrl", [
          "$scope",
          function (t) {
            (t.item = [
              { prefix: "22, 23, 24", digitsLength: "8" },
              { prefix: "07, 04", digitsLength: "10" },
              { prefix: "96, 99", digitsLength: "8" },
              { prefix: "00", digitsLength: "11, 12, 13, 14, 15" },
            ]),
              (t.changeCallTypeSettings = function () {
                "local" == t.item.callTypeSettings
                  ? ((t.prefixValue = t.item[0].prefix),
                    (t.digitLengthValue = t.item[0].digitsLength))
                  : "national" == t.item.callTypeSettings
                  ? ((t.prefixValue = t.item[1].prefix),
                    (t.digitLengthValue = t.item[1].digitsLength))
                  : "mobile" == t.item.callTypeSettings
                  ? ((t.prefixValue = t.item[2].prefix),
                    (t.digitLengthValue = t.item[2].digitsLength))
                  : "international" == t.item.callTypeSettings &&
                    ((t.prefixValue = t.item[3].prefix),
                    (t.digitLengthValue = t.item[3].digitsLength));
              });
          },
        ]),
        u.module("app").controller("CallTypesController", [
          "$scope",
          "CallReportsSvc",
          function (t, c) {
            (t.submitted = !1),
              (t.callTypes = {
                Local: { Prefix: "", DigitsLength: "" },
                National: { Prefix: "", DigitsLength: "" },
                Mobile: { Prefix: "", DigitsLength: "" },
                International: { Prefix: "", DigitsLength: "" },
              }),
              (t.saveCallTypes = function () {
                if (((t.submitted = !0), !t.callTypesForm.$valid)) return !1;
                c.postCallTypes(t.callTypes)
                  .then(function () {
                    t.$close();
                  })
                  .catch(() => u.noop());
              }),
              c
                .getCallTypes()
                .then(function (e) {
                  t.callTypes = e.data;
                })
                .catch(() => u.noop());
          },
        ]),
        u.module("app").directive("callTypeInfo", function () {
          return {
            scope: { prop: "=", submitted: "=" },
            templateUrl: "tpl/call_reports/call_type_info.html",
          };
        }),
        u.module("app").controller("ClearCallLogCompletedController", [
          "$scope",
          "deletedRows",
          function (t, c) {
            t.rowsDeleted = c;
          },
        ]),
        u.module("app").controller("DateRangeFilterController", [
          "$scope",
          "$translate",
          function (t, c) {
            (t.dateOptions = z().extend({}, t.$parent.dateOptions)),
              (t.dateOptions.dateDisabled = null),
              (t.parameters.DateRangeFilter.value.RangeType =
                c.instant("REPOS.TEXT.TODAY"));
          },
        ]),
        u.module("app").controller("ExistingCallReportsCtrl", [
          "$scope",
          "$rootScope",
          "$uibModal",
          "$filter",
          "MyUtilsSvc",
          "ExistingCallReportsSvc",
          "MessageBoxSvc",
          function (t, c, e, n, i, a, l) {
            (t.itemsByPage = 20),
              (t.onDeleteAllClick = function () {
                l.confirmDialog(
                  "REPOS.CONFIRMATION.HEADER",
                  "REPORTS_UI.DELETE_ALL_CONFIRM"
                )
                  .then(() => a.deleteAllReports())
                  .then(() => t.refresh())
                  .catch(() => u.noop());
              }),
              (t.refresh = function () {
                a.getAll()
                  .then(function (s) {
                    t.setItems(s.data.list, !1);
                  })
                  .catch(() => u.noop());
              }),
              (t.deleteRequest = function (s) {
                !s ||
                  0 == s.length ||
                  (1 == s.length
                    ? ((t.deleteModalHeader = n("translate")(
                        "REPORTS_UI.DELETE_REPORT_REQUEST",
                        { reportName: "" }
                      )),
                      (t.deleteModalRequest = n("translate")(
                        "REPORTS_UI.DELETE_REPORT_REQUEST",
                        { reportName: "'" + s[0].Name + "'" }
                      )))
                    : ((t.deleteModalHeader = n("translate")(
                        "REPORTS_UI.DELETE_REPORTS_REQUEST",
                        { reportName: "" }
                      )),
                      (t.deleteModalRequest = n("translate")(
                        "REPORTS_UI.DELETE_REPORTS_REQUEST",
                        {
                          reportNames: s
                            .map(function (r) {
                              return "'" + r.Name + "'";
                            })
                            .join(", "),
                        }
                      ))),
                  e
                    .open({
                      templateUrl:
                        "tpl/call_reports/delete_report_request.html",
                      scope: t,
                    })
                    .result.then(() =>
                      a.deleteReports(
                        s.map(function (r) {
                          return r.Key;
                        })
                      )
                    )
                    .then(() => t.refresh())
                    .catch(() => u.noop()));
              }),
              (t.onDeleteClick = function () {
                t.deleteRequest(t.getSelectedItems());
              }),
              (t.onItemDeleteClick = function (s) {
                t.deleteRequest([s]);
              });
          },
        ]),
        u.module("app").filter("DownloadFilter", [
          "amUtcFilter",
          "amLocalFilter",
          "amDateFormatFilter",
          function (t, c, e) {
            return function (n, i) {
              if (!i.$ || "" === i.$.trim()) return n;
              const a = i.$.toLowerCase();
              return n.filter(function (l) {
                for (const s in l)
                  if (l.hasOwnProperty(s)) {
                    let r = l[s];
                    if (
                      u.isString(r) &&
                      ("date" === s.toLowerCase() && (r = e(c(t(r)), "L LTS")),
                      r.toLowerCase().includes(a))
                    )
                      return !0;
                  }
                return !1;
              });
            };
          },
        ]),
        u.module("app").controller("ExtensionsFilterController", [
          "$scope",
          function (t) {
            (t.parameters.ExtensionsFilter.value.ExtensionsFilterType =
              "AllExtensions"),
              (t.parameters.ExtensionsFilter.value.ExtensionsFilter = "");
          },
        ]),
        u.module("app").controller("GraphPeriod", [
          "$scope",
          function (t) {
            (t.dateOptions = z().extend({}, t.$parent.dateOptions)),
              (t.dateOptions.dateDisabled = null),
              (t.dateOptions.maxDate = new Date()),
              (t.dateFormat = t.format),
              t.$watch(
                function () {
                  return t.parameters.GraphPeriod.value.GraphPeriodType;
                },
                function (c) {
                  switch (c) {
                    case "Hour":
                      (t.dateOptions.datepickerMode = "day"),
                        (t.dateOptions.minMode = "day"),
                        (t.dateFormat = t.format);
                      break;
                    case "Day":
                      (t.dateOptions.datepickerMode = "month"),
                        (t.dateOptions.minMode = "month"),
                        (t.dateFormat = "MMMM-yyyy");
                      break;
                    case "Month":
                      (t.dateOptions.datepickerMode = "year"),
                        (t.dateOptions.minMode = "year"),
                        (t.dateFormat = "yyyy");
                  }
                }
              );
          },
        ]),
        u.module("app").controller("MessageController", [
          "$scope",
          "$translate",
          "messageData",
          function (t, c, e) {
            (t.headerTextKey = e.headerTextKey),
              (t.messageText = e.messageTextKey
                ? c.instant(e.messageTextKey, e.messageParams)
                : e.messageText),
              (t.showCancel = e.showCancel);
          },
        ]),
        u.module("app").controller("ReportParametersController", [
          "$scope",
          "$stateParams",
          "$uibModal",
          "$state",
          "$translate",
          "CallReportsSvc",
          "ReportsValidationSvc",
          function (t, c, e, n, i, a, l) {
            (t.submitted = !1),
              (t.MainParams = {
                ReportType: "CallLogs",
                ReportName: "",
                Key: null,
              });
            const s = new Date(2016, 1, 1, 4, 0, 0);
            t.ScheduleParams = {
              DocumentType: "Html",
              SendToEmail: "",
              ReportFrequency: "Once",
              ReportDayOfWeek: "Sunday",
              ReportGenerationTime: s,
            };
            const r = function (S) {
                if (S.length > 0) return (S.errorMsg = null), !0;
                switch (t.MainParams.ReportType) {
                  case "CallCostByExtensionGroup":
                  case "UserActivity":
                    S.errorMsg = i.instant(
                      "SET_CONTROL.CLICK_ON_ADD_EXTENSIONGROUP"
                    );
                    break;
                  case "OutboundCallsByType":
                    S.errorMsg = i.instant(
                      "SET_CONTROL.CLICK_ON_ADD_EXTENSION"
                    );
                    break;
                  case "RingGroupStatistics":
                    S.errorMsg = i.instant(
                      "SET_CONTROL.CLICK_ON_ADD_RINGGROUP"
                    );
                    break;
                  case "AverageWaitingTime":
                  case "GraphQueueAnsweredCalls":
                  case "GraphQueueUnansweredCalls":
                  case "GraphQueueAllCalls":
                  case "QueuePerformanceOverview":
                  case "DetailedQueueStatistics":
                  case "TeamQueueGeneralStatistics":
                  case "TeamQueueLostCalls":
                  case "AbandonedQueueCalls":
                  case "QueueAnsweredCallsByWaitTime":
                  case "StatisticSLA":
                  case "BreachesSLA":
                  case "QueueCallbacks":
                  case "QueueFailedCallbacks":
                  case "AgentInQueueStatistics":
                  case "ChatPerformanceStatistics":
                  case "QueueAgentsChatStatistics":
                  case "AbandonedChatsStatistics":
                    S.errorMsg = i.instant("SET_CONTROL.CLICK_ON_ADD_QUEUES");
                    break;
                  case "AgentLoginHistory":
                    S.errorMsg = i.instant("SET_CONTROL.CLICK_ON_ADD_AGENTS");
                    break;
                  default:
                    S.errorMsg = i.instant(
                      "SET_CONTROL.NO_MORE_ELEMENTS_TO_ADD_REPORT"
                    );
                }
                return !1;
              },
              o = new Date();
            o.setSeconds(0), o.setMilliseconds(0);
            const p = new Date(o.getTime());
            function f(S, O) {
              const j = t.reportParametersForReportTypes[S];
              return !!j && j.includes(O);
            }
            p.setDate(p.getDate() - 1),
              p.setHours(p.getHours() - 1),
              (t.eventObj = {}),
              (t.addGroupsClick = function () {
                t.eventObj.add && t.eventObj.add();
              }),
              (t.eventObj = {}),
              (t.addQueuesClick = function () {
                t.eventObj.add && t.eventObj.add();
              }),
              (t.eventObj = {}),
              (t.addTrunksClick = function () {
                t.eventObj.add && t.eventObj.add();
              }),
              (t.eventObj = {}),
              (t.addRingGroupsClick = function () {
                t.eventObj.add && t.eventObj.add();
              }),
              (t.eventObj = {}),
              (t.addExtensionsClick = function () {
                t.eventObj.add && t.eventObj.add();
              }),
              (t.eventObj2 = {}),
              (t.addAgentsClick = function () {
                t.eventObj2.add && t.eventObj2.add();
              }),
              (t.parameters = {
                DateRangeFilter: {
                  url: "tpl/call_reports/date_range_filter.html",
                  value: {
                    RangeType: "Today",
                    CustomDateFrom: p,
                    CustomDateTo: o,
                  },
                },
                ExtensionsFilter: {
                  url: "tpl/call_reports/extensions_filter.html",
                  value: {
                    ExtensionsFilterType: "AllExtensions",
                    ExtensionsFilter: "",
                  },
                },
                CallArea: {
                  url: "tpl/call_reports/call_area_filter.html",
                  value: "All",
                },
                QueueListFilter: {
                  url: "tpl/call_reports/queue_list_filter.html",
                  value: [],
                  validate: () => r(t.parameters.QueueListFilter.value),
                },
                QueueListFilterChat: {
                  url: "tpl/call_reports/queue_list_filter_chat.html",
                  value: [],
                },
                RingGroupListFilter: {
                  url: "tpl/call_reports/ring_group_list_filter.html",
                  value: [],
                  validate: () => r(t.parameters.RingGroupListFilter.value),
                },
                ExtensionGroupFilter: {
                  url: "tpl/call_reports/extension_group_filter.html",
                  value: [],
                  validate: () => r(t.parameters.ExtensionGroupFilter.value),
                },
                CallsTo: {
                  url: "tpl/call_reports/call_to_filter.html",
                  value: "All",
                },
                ExtensionListFilter: {
                  url: "tpl/call_reports/extension_list_filter.html",
                  value: [],
                  validate: () => r(t.parameters.ExtensionListFilter.value),
                },
                Queue: {
                  url: "tpl/call_reports/select_queue.html",
                  value: { Id: "" },
                },
                GraphPeriod: {
                  url: "tpl/call_reports/graph_period.html",
                  value: { GraphPeriodType: "Hour", PeriodDate: o },
                },
                QueueAgents: {
                  url: "tpl/call_reports/select_agents_by_queue.html",
                  value: [],
                  validate: () => r(t.parameters.QueueAgents.value),
                },
                ServicedAfter: {
                  url: "tpl/call_reports/calls_serviced_after.html",
                  value: 60,
                },
                ExcludeCallsAbandonedBefore: {
                  url: "tpl/call_reports/exclude_calls_abandoned_before.html",
                  value: { ScheduleEnabled: !1, Duration: 5 },
                },
                NumberFilterFrom: {
                  url: "tpl/call_reports/number_filter_from.html",
                  value: { NumberFilterType: "Any", Filter: "" },
                },
                NumberFilterTo: {
                  url: "tpl/call_reports/number_filter_to.html",
                  value: { NumberFilterType: "Any", Filter: "" },
                },
                CallState: {
                  url: "tpl/call_reports/call_state.html",
                  value: "All",
                },
                ChatState: {
                  url: "tpl/call_reports/chat_state.html",
                  value: "All",
                },
                DurationFilter: {
                  url: "tpl/call_reports/duration_filter.html",
                  value: { DurationFilterType: "All", From: 0, To: 60 },
                },
                HidePCalls: {
                  url: "tpl/call_reports/hide_pcalls.html",
                  value: !0,
                  enabled: !1,
                },
                UserFilter: {
                  url: "tpl/call_reports/users_filter.html",
                  value: {
                    UserFilterType: "ExtensionRange",
                    Range: "",
                    RangeGroups: [],
                  },
                  validate() {
                    const S = t.parameters.UserFilter;
                    return (
                      "ExtensionRange" === S.value.UserFilterType ||
                      r(S.value.RangeGroups)
                    );
                  },
                },
                ChatAnalysisFilter: {
                  url: "tpl/call_reports/chat_analysis_filter.html",
                  value: {
                    ChatAnalysisType: "QueueFilter",
                    RangeQueues: [],
                    RangeExtensions: [],
                  },
                  validate() {
                    const S = t.parameters.ChatAnalysisFilter;
                    return r(
                      "QueueFilter" === S.value.ChatAnalysisType
                        ? S.value.RangeQueues
                        : S.value.RangeExtensions
                    );
                  },
                },
                IncludeInternalCalls: {
                  url: "tpl/call_reports/include_internal_calls.html",
                  value: !1,
                },
                IncludeQueueCalls: {
                  url: "tpl/call_reports/include_queue_calls.html",
                  value: !0,
                },
                TrunkListFilter: {
                  url: "tpl/call_reports/trunk_list_filter.html",
                  value: [],
                  validate: () => r(t.parameters.TrunkListFilter.value),
                },
                ChatSourceFilter: {
                  url: "tpl/call_reports/chatsource_filter.html",
                  value: "all",
                },
                IncludeAgentDetails: {
                  url: "tpl/call_reports/include_queue_agent_details.html",
                  value: !1,
                },
              }),
              (t.reportParametersForReportTypes = (function () {
                const S = t.parameters;
                return {
                  CallLogs: [
                    S.DateRangeFilter,
                    S.NumberFilterFrom,
                    S.NumberFilterTo,
                    S.CallState,
                    S.DurationFilter,
                    S.HidePCalls,
                  ],
                  ExtensionsStatistics: [
                    S.DateRangeFilter,
                    S.ExtensionsFilter,
                    S.CallArea,
                  ],
                  CallCostByExtensionGroup: [
                    S.DateRangeFilter,
                    S.CallsTo,
                    S.ExtensionGroupFilter,
                  ],
                  OutboundCallsByType: [
                    S.DateRangeFilter,
                    S.CallsTo,
                    S.ExtensionListFilter,
                  ],
                  RingGroupStatistics: [
                    S.DateRangeFilter,
                    S.RingGroupListFilter,
                  ],
                  UserActivity: [
                    S.GraphPeriod,
                    S.IncludeInternalCalls,
                    S.IncludeQueueCalls,
                    S.ExcludeCallsAbandonedBefore,
                    S.UserFilter,
                  ],
                  OutgoingIncoming: [
                    S.GraphPeriod,
                    S.IncludeInternalCalls,
                    S.IncludeQueueCalls,
                    S.ExcludeCallsAbandonedBefore,
                    S.UserFilter,
                  ],
                  AverageWaitingTime: [
                    S.GraphPeriod,
                    S.ExcludeCallsAbandonedBefore,
                    S.QueueListFilter,
                  ],
                  GraphQueueAnsweredCalls: [S.GraphPeriod, S.QueueListFilter],
                  GraphQueueUnansweredCalls: [
                    S.GraphPeriod,
                    S.ExcludeCallsAbandonedBefore,
                    S.QueueListFilter,
                  ],
                  GraphQueueAllCalls: [
                    S.GraphPeriod,
                    S.ExcludeCallsAbandonedBefore,
                    S.QueueListFilter,
                  ],
                  QueuePerformanceOverview: [
                    S.DateRangeFilter,
                    S.ExcludeCallsAbandonedBefore,
                    S.QueueListFilter,
                  ],
                  DetailedQueueStatistics: [
                    S.DateRangeFilter,
                    S.ExcludeCallsAbandonedBefore,
                    S.QueueListFilter,
                  ],
                  TeamQueueGeneralStatistics: [
                    S.DateRangeFilter,
                    S.ExcludeCallsAbandonedBefore,
                    S.QueueListFilter,
                  ],
                  TeamQueueLostCalls: [
                    S.DateRangeFilter,
                    S.ExcludeCallsAbandonedBefore,
                    S.QueueListFilter,
                  ],
                  AbandonedQueueCalls: [
                    S.DateRangeFilter,
                    S.ExcludeCallsAbandonedBefore,
                    S.QueueListFilter,
                  ],
                  QueueAnsweredCallsByWaitTime: [
                    S.DateRangeFilter,
                    S.ServicedAfter,
                    S.QueueListFilter,
                  ],
                  StatisticSLA: [
                    S.DateRangeFilter,
                    S.ExcludeCallsAbandonedBefore,
                    S.QueueListFilter,
                  ],
                  BreachesSLA: [
                    S.DateRangeFilter,
                    S.ExcludeCallsAbandonedBefore,
                    S.QueueListFilter,
                  ],
                  QueueCallbacks: [S.DateRangeFilter, S.QueueListFilter],
                  QueueFailedCallbacks: [S.DateRangeFilter, S.QueueListFilter],
                  AgentInQueueStatistics: [
                    S.DateRangeFilter,
                    S.ExcludeCallsAbandonedBefore,
                    S.QueueListFilter,
                  ],
                  AgentLoginHistory: [
                    S.DateRangeFilter,
                    S.Queue,
                    S.QueueAgents,
                  ],
                  TrunkDid: [S.DateRangeFilter, S.TrunkListFilter],
                  GraphQueueAllChats: [S.GraphPeriod, S.QueueListFilter],
                  ChatPerformanceStatistics: [
                    S.ChatSourceFilter,
                    S.DateRangeFilter,
                    S.QueueListFilter,
                  ],
                  QueueAgentsChatStatistics: [
                    S.ChatSourceFilter,
                    S.DateRangeFilter,
                    S.QueueListFilter,
                  ],
                  AbandonedChatsStatistics: [
                    S.ChatSourceFilter,
                    S.DateRangeFilter,
                    S.QueueListFilter,
                  ],
                  ChatAnalytics: [
                    S.DateRangeFilter,
                    S.ChatState,
                    S.ChatAnalysisFilter,
                  ],
                };
              })()),
              (t.isParameterEnabled = function (S) {
                return !1 !== S.enabled;
              }),
              t.$watch(
                function () {
                  return l.getValidationParams();
                },
                function (S) {
                  (t.ExtensionNumberLength = S.ExtensionNumberLength),
                    (t.examplePlaceholder = S.placeholderExample);
                }
              ),
              (t.collectParams = function () {
                const S = {};
                (S.MainParams = t.MainParams),
                  (S.ScheduleParams = t.ScheduleParams);
                for (const O in t.parameters) {
                  if (!t.parameters.hasOwnProperty(O)) continue;
                  const j = t.parameters[O];
                  if (f(t.MainParams.ReportType, j)) {
                    if (j.validate && !j.validate()) return null;
                    S[O] = j.value;
                  }
                }
                return (
                  (S.TimeZoneName =
                    Intl.DateTimeFormat().resolvedOptions().timeZone),
                  S
                );
              }),
              (t.signals = { resetErrors: 0 }),
              (t.resetErrors = function () {
                t.signals.resetErrors++;
              }),
              (t.restoreParams = function (S) {
                (t.licenseRestricted = S.licenseRestricted),
                  (t.isStandard = S.isStandard),
                  (t.MainParams = S.MainParams),
                  (t.ScheduleParams = S.ScheduleParams);
                for (const O in t.parameters) {
                  if (!t.parameters.hasOwnProperty(O)) continue;
                  const j = t.parameters[O],
                    te = S[O];
                  null != te && (j.value = te);
                }
                t.parameters.DateRangeFilter.value &&
                  ((t.parameters.DateRangeFilter.value.CustomDateFrom = t
                    .parameters.DateRangeFilter.value.CustomDateFrom
                    ? new Date(
                        t.parameters.DateRangeFilter.value.CustomDateFrom
                      )
                    : null),
                  (t.parameters.DateRangeFilter.value.CustomDateTo = t
                    .parameters.DateRangeFilter.value.CustomDateTo
                    ? new Date(t.parameters.DateRangeFilter.value.CustomDateTo)
                    : null)),
                  t.parameters.GraphPeriod.value &&
                    t.parameters.GraphPeriod.value.PeriodDate &&
                    (t.parameters.GraphPeriod.value.PeriodDate = new Date(
                      t.parameters.GraphPeriod.value.PeriodDate
                    )),
                  (t.ScheduleParams.ReportGenerationTime = t.ScheduleParams
                    .ReportGenerationTime
                    ? new Date(t.ScheduleParams.ReportGenerationTime)
                    : s);
              });
            const m = [];
            function g() {
              return (
                !t.isStandard ||
                null == t.MainParams ||
                null == t.MainParams.ReportType ||
                m.includes(t.MainParams.ReportType)
              );
            }
            (t.scheduleReport = function () {
              if (t.licenseRestricted || !g()) return;
              if (
                ((t.submitted = !0),
                ("Once" != t.ScheduleParams.ReportFrequency &&
                  !t.ScheduleParams.ReportGenerationTime) ||
                  !t.reportData.$valid)
              )
                return !1;
              const S = t.collectParams();
              !S ||
                a
                  .scheduleReport(S)
                  .then(function () {
                    n.go("app.call_reports.all", {}, { reload: !0 });
                  })
                  .catch(() => u.noop());
            }),
              (t.cancelClick = function () {
                n.go("app.call_reports.all");
              }),
              c &&
                (c.key
                  ? a
                      .getReport(c.key)
                      .then(function (S) {
                        t.restoreParams(S.data);
                      })
                      .catch(() => u.noop())
                  : a
                      .getDefaultReport()
                      .then(function (S) {
                        S.data.ScheduleParams.ReportGenerationTime &&
                          (t.ScheduleParams.ReportGenerationTime = new Date(
                            S.data.ScheduleParams.ReportGenerationTime
                          )),
                          (t.licenseRestricted = S.data.licenseRestricted),
                          (t.isStandard = S.data.isStandard);
                      })
                      .catch(() => u.noop())),
              (t.scheduleTooltip = function () {
                return t.licenseRestricted || !g()
                  ? "REPOS.TEXT.PROFESSIONAL_REQUIRED"
                  : "";
              }),
              (t.getAvailableDocumentTypes = function (S) {
                return [
                  "GraphQueueAnsweredCalls",
                  "GraphQueueUnansweredCalls",
                  "GraphQueueAllCalls",
                  "UserActivity",
                  "OutgoingIncoming",
                  "AverageWaitingTime",
                  "GraphQueueAllChats",
                ].includes(S)
                  ? ["Html"]
                  : ["Html", "Csv"];
              }),
              (t.isAvailableDocumentType = function (S, O) {
                return t.getAvailableDocumentTypes(S).includes(O);
              }),
              (t.groupSelectionConverter = {
                extension: {
                  toCmm: (S) => ({
                    Id: S.Id,
                    Number: { _value: S.Number },
                    FirstName: { _value: S.FirstName },
                    LastName: { _value: S.LastName },
                  }),
                  toReport: (S) => ({
                    Id: S.Id,
                    Number: S.Number._value,
                    Name: S.FirstName._value + " " + S.LastName._value,
                  }),
                },
                agent: {
                  toCmm: (S) => ({
                    Id: S.Id,
                    Number: { _value: S.Number },
                    Name: { _value: S.Name },
                  }),
                  toReport: (S) => ({
                    Id: S.Id,
                    Number: S.Number._value,
                    Name: S.Name._value,
                  }),
                },
                ringGroups: {
                  toCmm: (S) => ({
                    Id: S.Number,
                    Number: { _value: S.Number },
                    Name: { _value: S.Name },
                  }),
                  toReport: (S) => ({
                    Id: S.Id,
                    Number: S.Number._value,
                    Name: S.Name._value,
                  }),
                },
                extensionGroups: {
                  toCmm: (S) => ({ Id: S.Id, Name: { _value: S.Name } }),
                  toReport: (S) => ({ Id: S.Id, Name: S.Name._value }),
                },
                queue: {
                  toCmm: (S) => ({
                    Id: S.Number,
                    Number: { _value: S.Number },
                    Name: { _value: S.Name },
                  }),
                  toReport: (S) => ({
                    Id: S.Id,
                    Number: S.Number._value,
                    Name: S.Name._value,
                  }),
                },
                trunk: {
                  toCmm: (S) => ({
                    Id: S.Id,
                    Number: { _value: S.Number },
                    Name: { _value: S.Name },
                  }),
                  toReport: (S) => ({
                    Id: S.Id,
                    Number: S.Number._value,
                    Name: S.Name._value,
                  }),
                },
              });
          },
        ]),
        u.module("app").controller("ReportSettingsController", [
          "$scope",
          "$rootScope",
          "$uibModal",
          "$translate",
          "CallReportsSvc",
          "$element",
          function (t, c, e, n, i, a) {
            const l = a.find("input[type=file]")[0];
            (t.submitted = !1),
              (t.ReportClearPeriod = { RangeType: "Today" }),
              (t.clientLogoPath = void 0),
              (t.rowsDeleted = 0),
              (t.LogoSettings = { UseDefaultLogo: !0, CustomLogoName: "" }),
              (t.saveReportSettings = function () {
                if (
                  t.LogoSettings.UseDefaultLogo ||
                  t.LogoSettings.CustomLogoName
                )
                  if (t.LogoSettings.UseDefaultLogo || void 0 === l.files[0])
                    i.postLogoSettings(t.LogoSettings).then(
                      () => {
                        t.$close();
                      },
                      (s) => {
                        s.status === Je.Status522ValidationError &&
                          (t.LogoSettings.errorMsg = s.data.Message);
                      }
                    );
                  else {
                    const s = new FormData();
                    s.append("fileInput", l.files[0]),
                      i.postLogoImage(s).then(
                        (r) => {
                          (t.LogoSettings = {
                            UseDefaultLogo: !1,
                            CustomLogoName: r.data,
                          }),
                            (t.LogoSettings.errorMsg = void 0),
                            i
                              .postLogoSettings(t.LogoSettings)
                              .then(() => {
                                t.$close();
                              })
                              .catch(() => u.noop());
                        },
                        (r) => {
                          r.status === Je.Status522ValidationError &&
                            (t.LogoSettings.errorMsg = r.data.Message);
                        }
                      );
                  }
                else
                  t.LogoSettings.errorMsg = n.instant(
                    "WARNINGS.UPLOAD_CUSTOM_LOGO_OR_SWITCH_DEFAULT"
                  );
              }),
              (t.onUploadClick = function () {
                setTimeout(() => {
                  z()("#fileInput").val(""), z()("#fileInput").trigger("click");
                });
              }),
              z()("#fileInput").change(() => {
                const s = new FileReader();
                (s.onload = () => {
                  (t.incorrectFile = !1),
                    (t.clientLogoPath = s.result),
                    (t.LogoSettings = {
                      UseDefaultLogo: !1,
                      CustomLogoName: l.files[0].name,
                    }),
                    t.$apply();
                }),
                  s.readAsDataURL(l.files[0]);
              }),
              i
                .getLogoSettings()
                .then((s) => {
                  (t.LogoSettings = s.data),
                    t.LogoSettings.UseDefaultLogo &&
                      (t.LogoSettings.CustomLogoName = "");
                })
                .catch(() => u.noop());
          },
        ]),
        u.module("app").filter("includeNew", [
          function () {
            return function (t, c) {
              if (!c.$ || "" == c.$.trim()) return t;
              const e = c.$.trim().toLowerCase(),
                n = ["CountryName", "Prefix", "Rate"];
              return t
                .filter(function (i) {
                  if (i.isNew) return !1;
                  for (const a in i) {
                    if (!n.includes(a)) continue;
                    let l = i[a];
                    if (
                      ("number" == typeof l && (l = l.toString()),
                      u.isString(l) && l.toLowerCase().includes(e))
                    )
                      return !0;
                  }
                  return !1;
                })
                .concat(t.filter((i) => i.isNew));
            };
          },
        ]);
      let EA = (() => {
        class t {
          constructor(e) {
            this.$http = e;
          }
          getAll() {
            return this.$http.getApi("api/Reports");
          }
          getReport(e) {
            return this.$http.getApi("api/Reports/report", {
              params: { key: e },
            });
          }
          deleteReports(e) {
            return this.$http.postApi("api/Reports/delete", e);
          }
          scheduleReport(e) {
            return this.$http.postApi("api/Reports/ScheduleReport", e);
          }
          postLogoImage(e) {
            return this.$http.postFormData("api/Reports/UploadLogo", e);
          }
          postLogoSettings(e) {
            return this.$http.postApi("api/Reports/LogoSettings", e);
          }
          getLogoSettings() {
            return this.$http.getApi("api/Reports/LogoSettings");
          }
          clearCallLog(e) {
            return this.$http.postApi("api/CallLog/ClearCallLogs", e);
          }
          getCallTypes() {
            return this.$http.getApi("api/Reports/CallTypes");
          }
          postCallTypes(e) {
            return this.$http.postApi("api/Reports/CallTypes", e);
          }
          getCallCosts() {
            return this.$http.getApi("api/CallCosts");
          }
          postCallCosts(e) {
            return this.$http.postApi("api/CallCosts", e);
          }
          importCallCosts(e) {
            return this.$http.postFormData("api/CallCosts/Import", e);
          }
          getDefaultReport() {
            return this.$http.getApi("api/Reports/DefaultReport");
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("CallReportsSvc", EA);
      let AA = (() => {
        class t {
          constructor(e) {
            this.$http = e;
          }
          getAll() {
            return this.$http.getApi("api/ExistingReports");
          }
          deleteReports(e) {
            return this.$http.postApi("api/ExistingReports/delete", e);
          }
          deleteAllReports() {
            return this.$http.postApi("api/ExistingReports/deleteAll", {});
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("ExistingCallReportsSvc", AA);
      class CA extends ft {
        constructor(c, e, n) {
          super(c, void 0, e), (this.$window = n);
        }
        purgeLocal() {
          return this.$http.postApi("api/RecordingList/deleteLocal", {});
        }
        purgeArchived() {
          return this.$http.postApi("api/RecordingList/deleteArchived", {});
        }
        purgeAll() {
          return this.$http.postApi("api/RecordingList/deleteAll", {});
        }
        migrateArchivedRecordings() {
          return this.$http.postApi(
            "api/RecordingList/migrateArchivedRecordings",
            {}
          );
        }
        archiveAll() {
          return this.$http.postApi("api/RecordingList/archiveAll", {});
        }
        convertRecordings() {
          return this.$http.postApi("api/RecordingList/convert", {});
        }
        getSettings() {
          return this.$http.edit("api/RecordingSettings/settings");
        }
        getPathSettings() {
          return this.$http.edit("api/RecordingSettings/pathSettings");
        }
        downloadByIds(c) {
          return this.$http.post("api/RecordingList/download", c);
        }
        getAllFiltered(c, e, n, i, a, l, s, r, o, p, f) {
          const m = {
            params: {
              start: c,
              count: e,
              filter: n,
              from: i,
              to: a,
              callTypeFilter: l,
              after: s,
              before: r,
              sortPredicate: o,
              sortReverse: p,
            },
            timeout: void 0,
          };
          return (
            null != f && (m.timeout = f.promise),
            this.$http.getApi("api/RecordingList", m)
          );
        }
      }
      u.module("app").factory("RecordingSvc", [
        "$http",
        "$q",
        "$window",
        function (c, e, n) {
          return new CA("RecordingList", c, n);
        },
      ]);
      var IA =
        '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="RECORDINGS.TITLE">Recordings</label> <help-button url="{{\'LINKS.CALL_RECORDING_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="RECORDINGS.TITLE"> Recordings </div> <div class="panel-body" sticky-to-top> <button type="button" data-toggle="modal" ng-click="$ctrl.onClickFilter()" ng-disabled="$ctrl.isLoading" id="btnFilter" class="btn btn-sm btn-success btn-responsive" translate="CALL_LOG.FILTER_BTN"> <i class="fa fa-filter"></i> Filter </button> <button type="button" data-toggle="modal" ng-click="$ctrl.onLocationEdit()" class="btn btn-sm btn-default btn-responsive" translate="REPOS.BUTTONS.LOCATION_BTN" id="btnLocation"> <i class="halflings halflings-folder-close"></i> Location </button> <button type="button" ng-disabled="!$ctrl.isAnySelected()" class="btn btn-sm btn-default btn-responsive" ng-click="$ctrl.onDownloadClick()" translate="REPOS.BUTTONS.DOWNLOAD_BTN" id="btnDownload" mc-download-recordings=""> <i class="halflings halflings-cloud-download"></i> Download </button> <button type="button" ng-disabled="!$ctrl.isAnyNonArchivedSelected() || !$ctrl.isArchiveEnabled" ng-click="$ctrl.onArchiveClick()" class="btn btn-sm btn-default btn-responsive" translate="RECORDINGS.ARCHIVE_BTN" id="btnArchive"> <i class="halflings halflings-book"></i> Archive </button> <button type="button" ng-disabled="!$ctrl.isAnySelected()" class="btn btn-sm btn-default btn-responsive" ng-click="$ctrl.onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i> Delete </button> <button type="button" ng-click="$ctrl.onQuotaEdit()" class="btn btn-sm btn-default btn-responsive" translate="RECORDINGS.QUOTA_BTN" id="btnQuota"> <i class="halflings halflings-tasks"></i> Quota </button> <button type="button" ng-click="$ctrl.onPurgeClick()" class="btn btn-sm btn-default btn-responsive" id="btnPurge" translate="REPOS.BUTTONS.PURGE_BTN"> <i class="halflings halflings-trash"></i> Purge </button> <button type="button" ng-click="$ctrl.onMigrateArchivedRecordings()" ng-if="($ctrl.transferRecordings !== \'3\' && $ctrl.transferRecordings !== null) && $ctrl.isGDriveSelected" ng-disabled="$ctrl.transferRecordings === \'2\'" class="btn btn-sm btn-default btn-responsive" id="btnMigradeArchive" translate="REPOS.BUTTONS.MIGRATE_ARCHIVE_BTN"> <i class="halflings halflings-save"></i> Migrate Archive </button> </div> <div st-pipe="$ctrl.loadData" st-table="$ctrl.displayedItems"> <div class="b-t b-b wrapper-tbl"> <mc-search search-filter="$ctrl.searchFilter" on-search="$ctrl.loadRecordingsFromServer(true,true)" mc-disabled="$ctrl.isLoading"></mc-search> </div> <table class="table table-striped table-fixed" mc-select-items="$ctrl.displayedItems" mc-select-changed="$ctrl.UpdateSelectedItemIds()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="isArchived" class="col-btn"> <i class="halflings halflings-book"></i> </th> <th st-sort="startDate" translate="RECORDINGS.TBL_HEADING_DATE" st-skip-natural="true">Date</th> <th translate="RECORDINGS.TBL_HEADING_DISPLAY_NAME">Display Name</th> <th class="col-responsive" translate="RECORDINGS.TBL_HEADING_DID">DID</th> <th class="col-responsive" translate="REPOS.TEXT.FROM">From</th> <th class="col-responsive" translate="REPOS.TEXT.TO">To</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="row in $ctrl.displayedItems track by row.Id"> <td class="col-btn" mc-select-row="row" mc-select-target="parent"></td> <td> <i ng-if="row.IsArchived" class="halflings halflings-book"></i> </td> <td>{{::(row.Date | mcDateFormat)}}</td> <td>{{::row.DisplayName}}</td> <td class="col-responsive">{{::row.DID}}</td> <td class="col-responsive">{{::row.CallerNumber}}</td> <td class="col-responsive"> <div ng-repeat="participant in row.Participants.slice(1,row.Participants.length)"> {{::participant}} </div> </td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="$ctrl.onDeleteOneClick(row)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> <div class="b-t flex-centered" ng-show="!$ctrl.isLoading" st-pagination="" st-items-by-page="$ctrl.itemsByPage" st-displayed-pages="7" st-template="' +
        nt()(Ft) +
        '" st-page-change="$ctrl.onPageSwitch(newPage)"></div> </div> </div> </div> </div> ';
      u.module("ng").run([
        "$templateCache",
        (t) => t.put("js/app/recordings/recordings-list.html", IA),
      ]);
      var pn = (() => {
        return (
          ((t = pn || (pn = {}))[(t.All = 0)] = "All"),
          (t[(t.Local = 1)] = "Local"),
          (t[(t.External = 2)] = "External"),
          (t[(t.Inbound = 3)] = "Inbound"),
          (t[(t.Outbound = 4)] = "Outbound"),
          pn
        );
        var t;
      })();
      class Kn {
        constructor() {
          this.callFilter = pn.All;
          const c = ae()();
          this.date = {
            endDate: c.clone().endOf("day"),
            startDate: c.clone().startOf("day"),
          };
        }
      }
      var un = w(56451);
      function NA(t, c) {
        1 & t && (d._uU(0), d.ALo(1, "translate")),
          2 & t && d.Oqu(d.lcZ(1, 1, "WARNINGS.LOCATION_SPECIFY"));
      }
      function yA(t, c) {
        if (
          (1 & t &&
            (d.ynx(0),
            d._UZ(1, "location-settings", 20),
            d.TgZ(2, "app-checkbox-control", 21),
            d._UZ(3, "strong", 22),
            d.qZA(),
            d._UZ(4, "div", 23),
            d.TgZ(5, "label"),
            d._UZ(6, "span", 24)(7, "span", 25),
            d.qZA(),
            d._UZ(8, "app-schedule-control", 26),
            d.BQk()),
          2 & t)
        ) {
          const e = d.oxw();
          d.xp6(1),
            d.Q6J("form", e.form.controls.Location),
            d.xp6(1),
            d.Q6J("removeClass", !0),
            d.xp6(6),
            d.Q6J("form", e.form.controls.RecordingArchiveSchedule)(
              "useTimePeriod",
              !1
            )("allowMonthly", !0);
        }
      }
      let OA = (() => {
        class t {
          constructor(e, n, i, a, l, s, r) {
            (this.bsModal = e),
              (this.fb = n),
              (this.recordingService = i),
              (this.bsModalService = a),
              (this.messageBoxService = l),
              (this.sys = s),
              (this.xapiError = r),
              (this.saving = !1),
              (this.form = this.fb.group({
                RecordingPath: this.fb.control("", [q.kI.required]),
                IsRecordingArchiveEnabled: this.fb.control(!1),
                ScheduleEnabled: this.fb.control(!1),
                RecordingArchiveSchedule: this.fb.group({
                  Day: [De.e2.Sunday],
                  ScheduleType: [De.mG.Monthly],
                  Time: [""],
                }),
                Location: Sa(this.fb),
              }));
          }
          ngOnInit() {
            this.form.patchValue(this.repo);
            const e = this.form.controls;
            this.changesSub = (0, un.T)([
              at(
                this.sys.systemParameters.pipe((0, We.U)((n) => !n.IsHosted)),
                [e.RecordingPath]
              ),
              at(rt(e.IsRecordingArchiveEnabled), [
                e.RecordingArchiveSchedule,
                e.ScheduleEnabled,
                e.Location,
              ]),
              at(
                (0, It.a)([
                  rt(e.ScheduleEnabled),
                  rt(e.IsRecordingArchiveEnabled),
                ]).pipe((0, We.U)(([n, i]) => n && i)),
                [e.RecordingArchiveSchedule]
              ),
            ]).subscribe();
          }
          ngOnDestroy() {
            var e;
            null === (e = this.changesSub) || void 0 === e || e.unsubscribe();
          }
          save() {
            this.form.invalid
              ? this.form.markAllAsTouched()
              : this.saving ||
                ((this.saving = !0),
                (this.repo.IsRecordingArchiveEnabled &&
                this.form.value.ScheduleEnabled &&
                this.repo.IsScheduleForCleanupEnabled
                  ? this.messageBoxService
                      .confirmation(
                        "RECORDINGS.DIALOGS.LOCATION.MODAL.TEXT",
                        "RECORDINGS.DIALOGS.LOCATION.MODAL.HEADER"
                      )
                      .pipe((0, We.U)((n) => n === qe.q.Ok))
                  : (0, Rt.of)(!0)
                )
                  .pipe(
                    (0, it.w)((n) =>
                      n
                        ? this.recordingService
                            .setRecordingRepositorySettings({
                              recordingsSetRecordingRepositorySettingsRequestBody:
                                { settings: this.form.value },
                            })
                            .pipe((0, We.U)((i) => !0))
                        : (0, Rt.of)(!1)
                    )
                  )
                  .subscribe({
                    next: (n) => {
                      (this.saving = !1), n && this.bsModal.hide();
                    },
                    error: (n) => {
                      (this.saving = !1),
                        this.xapiError.error(n, this.form, !1);
                    },
                  }));
          }
          onLocationPathClick() {
            const e = this.bsModalService.show(_a, {
              initialState: {
                path: this.form.value.RecordingPath,
                filesystem: De.He.Local,
              },
            });
            e.onHide.subscribe(() => {
              if (e.content.modalResult === qe.q.Ok) {
                let n = e.content.path;
                ":" === n[1] && 2 === n.length && (n += "/"),
                  this.form.patchValue({ RecordingPath: n });
              }
            });
          }
          cancelClick() {
            this.bsModal.hide();
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(
              d.Y36(et.UZ),
              d.Y36(q.qu),
              d.Y36(De.jq),
              d.Y36(et.tT),
              d.Y36(sn.S),
              d.Y36(Cn),
              d.Y36(jt.Y)
            );
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["ng-component"]],
            decls: 23,
            vars: 4,
            consts: [
              [3, "formGroup", "ngSubmit"],
              [1, "modal-content"],
              [1, "modal-header"],
              ["type", "button", 1, "close", 3, "click"],
              [
                "translate",
                "RECORDINGS.DIALOGS.LOCATION.RECORDING_PATH",
                1,
                "modal-title",
              ],
              [1, "modal-body"],
              [1, "form-group", "m-b"],
              [
                "translate",
                "RECORDINGS.DIALOGS.LOCATION.LOCAL_RECORDING_FOLDER",
                1,
                "ng-scope",
              ],
              [1, "line", "line-dashed", "b-b", "line-lg"],
              [
                "translate",
                "RECORDINGS.DIALOGS.LOCATION.INFORMATION_REMOTE_ARCHIVE",
              ],
              ["formControlName", "RecordingPath", 3, "maxlength"],
              [1, "input-group-btn"],
              [
                "type",
                "button",
                1,
                "btn",
                "btn-default",
                3,
                "disabled",
                "click",
              ],
              ["controlName", "RecordingPath"],
              ["valError", "required"],
              [
                "formControlName",
                "IsRecordingArchiveEnabled",
                "mcTitle",
                "RECORDINGS.DIALOGS.LOCATION.ENABLE_ARCHIVE",
              ],
              [4, "ngIf"],
              [1, "modal-footer"],
              [
                "type",
                "submit",
                "translate",
                "REPOS.BUTTONS.SAVE_BTN",
                "id",
                "btnSave",
                1,
                "btn",
                "btn-default",
              ],
              [
                "type",
                "button",
                "translate",
                "REPOS.BUTTONS.CANCEL_BTN",
                "id",
                "btnCancel",
                1,
                "btn",
                "btn-default",
                3,
                "click",
              ],
              ["mcType", "recordings", 3, "form"],
              ["formControlName", "ScheduleEnabled", 3, "removeClass"],
              [
                "translate",
                "RECORDINGS.DIALOGS.LOCATION.RECORDING_ARCHIVE_POLICY",
                1,
                "m-l-n-sm",
              ],
              [1, "line", "line-dashed", "b-b", "line-lg", "m-b"],
              [
                "translate",
                "RECORDINGS.DIALOGS.LOCATION.AUTO_ARCHIVE_ALL_RECORDINGS",
              ],
              [
                "translate",
                "RECORDINGS.DIALOGS.LOCATION.WARNING_ALL_CURRENT_RECORDINGS_WILL_BE_ARCHIVE",
              ],
              [3, "form", "useTimePeriod", "allowMonthly"],
            ],
            template: function (e, n) {
              1 & e &&
                (d._UZ(0, "app-location-errors"),
                d.TgZ(1, "form", 0),
                d.NdJ("ngSubmit", function () {
                  return n.save();
                }),
                d.TgZ(2, "div", 1)(3, "div", 2)(4, "button", 3),
                d.NdJ("click", function () {
                  return n.cancelClick();
                }),
                d._uU(5, "\xd7"),
                d.qZA(),
                d._UZ(6, "h4", 4),
                d.qZA(),
                d.TgZ(7, "div", 5)(8, "div", 6),
                d._UZ(9, "strong", 7)(10, "div", 8)(11, "label", 9),
                d.TgZ(12, "app-text-control", 10)(13, "span", 11)(
                  14,
                  "button",
                  12
                ),
                d.NdJ("click", function () {
                  return n.onLocationPathClick();
                }),
                d._uU(15, " ... "),
                d.qZA()(),
                d.TgZ(16, "val-errors", 13),
                d.YNc(17, NA, 2, 3, "ng-template", 14),
                d.qZA()()(),
                d._UZ(18, "app-checkbox-control", 15),
                d.YNc(19, yA, 9, 5, "ng-container", 16),
                d.qZA(),
                d.TgZ(20, "div", 17),
                d._UZ(21, "button", 18),
                d.TgZ(22, "button", 19),
                d.NdJ("click", function () {
                  return n.cancelClick();
                }),
                d.qZA()()()()),
                2 & e &&
                  (d.xp6(1),
                  d.Q6J("formGroup", n.form),
                  d.xp6(11),
                  d.Q6J("maxlength", 250),
                  d.xp6(2),
                  d.Q6J("disabled", n.form.controls.RecordingPath.disabled),
                  d.xp6(5),
                  d.Q6J("ngIf", n.form.value.IsRecordingArchiveEnabled));
            },
            dependencies: [
              bn,
              kt,
              Ye.O5,
              q._Y,
              q.JJ,
              q.JL,
              q.nD,
              He.Pi,
              Fn,
              q.sg,
              q.u,
              Xe.tM,
              Xe.HY,
              La,
              Ra,
              He.X$,
            ],
            encapsulation: 2,
          })),
          t
        );
      })();
      const xA = ["*"];
      let RA = (() => {
        class t extends vt.Z {
          constructor(e) {
            super(e);
          }
          valueChanged(e) {
            this.markAsTouched(), this.onChange(e);
          }
          writeValue(e) {
            (this.value = e), this.cd.markForCheck();
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.Y36(d.sBO));
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["app-radio-checkbox-control"]],
            inputs: { name: "name", option: "option" },
            features: [
              d._Bn([{ provide: q.JU, multi: !0, useExisting: t }]),
              d.qOj,
            ],
            ngContentSelectors: xA,
            decls: 5,
            vars: 4,
            consts: [
              [1, "radio"],
              [1, "i-checks"],
              [
                "type",
                "radio",
                3,
                "ngModel",
                "value",
                "disabled",
                "name",
                "ngModelChange",
              ],
            ],
            template: function (e, n) {
              1 & e &&
                (d.F$t(),
                d.TgZ(0, "div", 0)(1, "label", 1)(2, "input", 2),
                d.NdJ("ngModelChange", function (a) {
                  return (n.value = a);
                })("ngModelChange", function (a) {
                  return n.valueChanged(a);
                }),
                d.qZA(),
                d._UZ(3, "i"),
                d.Hsn(4),
                d.qZA()()),
                2 & e &&
                  (d.xp6(2),
                  d.Q6J("ngModel", n.value)("value", n.option)(
                    "disabled",
                    n.disabled
                  )("name", n.name));
            },
            dependencies: [q.Fj, q._, q.JJ, q.On],
            encapsulation: 2,
            changeDetection: 0,
          })),
          t
        );
      })();
      var Ot = (() => {
        return (
          ((t = Ot || (Ot = {}))[(t.PurgeLocal = 0)] = "PurgeLocal"),
          (t[(t.PurgeRemote = 1)] = "PurgeRemote"),
          (t[(t.PurgeAll = 2)] = "PurgeAll"),
          (t[(t.MoveAllToArchive = 3)] = "MoveAllToArchive"),
          Ot
        );
        var t;
      })();
      let LA = (() => {
        class t {
          constructor(e, n, i) {
            (this.bsModal = e),
              (this.modalService = n),
              (this.recordingService = i),
              (this.isSaving = !1),
              (this.BulkRecordingAction = Ot),
              (this.bulkRecordingAction = Ot.PurgeLocal);
          }
          save() {
            this.isSaving ||
              ((this.isSaving = !0),
              this.requestPurge().subscribe({
                next: () => this.bsModal.hide(),
                error: (e) => this.modalService.error(e),
              }));
          }
          requestPurge() {
            switch (this.bulkRecordingAction) {
              case Ot.PurgeLocal:
                return this.recordingService.purgeLocal();
              case Ot.PurgeRemote:
                return this.recordingService.purgeArchive();
              case Ot.PurgeAll:
                return (0, un.T)(
                  this.recordingService.purgeLocal(),
                  this.recordingService.purgeArchive()
                );
              case Ot.MoveAllToArchive:
                return this.recordingService.archive();
            }
          }
          cancelClick() {
            this.bsModal.hide();
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.Y36(et.UZ), d.Y36(sn.S), d.Y36(De.jq));
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["app-recordings-purge"]],
            decls: 20,
            vars: 8,
            consts: [
              [3, "ngSubmit"],
              [1, "modal-content"],
              [1, "modal-header"],
              ["type", "button", 1, "close", 3, "click"],
              ["translate", "RECORDINGS.DIALOGS.PURGE.TITLE", 1, "modal-title"],
              [1, "modal-body"],
              ["translate", "RECORDINGS.DIALOGS.PURGE.INFO"],
              [1, "form-group", "m-b"],
              ["name", "prugeActions", 3, "ngModel", "option", "ngModelChange"],
              ["translate", "RECORDINGS.DIALOGS.PURGE.PURGE_LOCAL_RECORDINGS"],
              [
                "translate",
                "RECORDINGS.DIALOGS.PURGE.PURGE_REMOTE_ARCHIVE_RECORDINGS",
              ],
              ["translate", "RECORDINGS.DIALOGS.PURGE.PURGE_EVERYTHING"],
              [
                "translate",
                "RECORDINGS.DIALOGS.PURGE.MOVE_ALL_RECORDINGS_ARCHIVE",
              ],
              [1, "modal-footer"],
              [
                "type",
                "submit",
                "translate",
                "REPOS.BUTTONS.SAVE_BTN",
                "id",
                "btnSave",
                1,
                "btn",
                "btn-default",
              ],
              [
                "type",
                "button",
                "translate",
                "REPOS.BUTTONS.CANCEL_BTN",
                "id",
                "btnCancel",
                1,
                "btn",
                "btn-default",
                3,
                "click",
              ],
            ],
            template: function (e, n) {
              1 & e &&
                (d.TgZ(0, "form", 0),
                d.NdJ("ngSubmit", function () {
                  return n.save();
                }),
                d.TgZ(1, "div", 1)(2, "div", 2)(3, "button", 3),
                d.NdJ("click", function () {
                  return n.cancelClick();
                }),
                d._uU(4, "\xd7"),
                d.qZA(),
                d._UZ(5, "h4", 4),
                d.qZA(),
                d.TgZ(6, "div", 5),
                d._UZ(7, "label", 6),
                d.TgZ(8, "div", 7)(9, "app-radio-checkbox-control", 8),
                d.NdJ("ngModelChange", function (a) {
                  return (n.bulkRecordingAction = a);
                }),
                d._UZ(10, "span", 9),
                d.qZA(),
                d.TgZ(11, "app-radio-checkbox-control", 8),
                d.NdJ("ngModelChange", function (a) {
                  return (n.bulkRecordingAction = a);
                }),
                d._UZ(12, "span", 10),
                d.qZA(),
                d.TgZ(13, "app-radio-checkbox-control", 8),
                d.NdJ("ngModelChange", function (a) {
                  return (n.bulkRecordingAction = a);
                }),
                d._UZ(14, "span", 11),
                d.qZA(),
                d.TgZ(15, "app-radio-checkbox-control", 8),
                d.NdJ("ngModelChange", function (a) {
                  return (n.bulkRecordingAction = a);
                }),
                d._UZ(16, "span", 12),
                d.qZA()()(),
                d.TgZ(17, "div", 13),
                d._UZ(18, "button", 14),
                d.TgZ(19, "button", 15),
                d.NdJ("click", function () {
                  return n.cancelClick();
                }),
                d.qZA()()()()),
                2 & e &&
                  (d.xp6(9),
                  d.Q6J("ngModel", n.bulkRecordingAction)(
                    "option",
                    n.BulkRecordingAction.PurgeLocal
                  ),
                  d.xp6(2),
                  d.Q6J("ngModel", n.bulkRecordingAction)(
                    "option",
                    n.BulkRecordingAction.PurgeRemote
                  ),
                  d.xp6(2),
                  d.Q6J("ngModel", n.bulkRecordingAction)(
                    "option",
                    n.BulkRecordingAction.PurgeAll
                  ),
                  d.xp6(2),
                  d.Q6J("ngModel", n.bulkRecordingAction)(
                    "option",
                    n.BulkRecordingAction.MoveAllToArchive
                  ));
            },
            dependencies: [q._Y, q.JJ, q.JL, q.On, q.F, He.Pi, RA],
            encapsulation: 2,
          })),
          t
        );
      })();
      const Jn = (t, c) => (e) =>
        (null == e ? void 0 : e.value) &&
        ((null == e ? void 0 : e.value) < t ||
          (null == e ? void 0 : e.value) > c)
          ? { outOfTheRange: !0 }
          : {};
      function Us(t, c, e) {
        if (0 == t || isNaN(Number.parseFloat(t)) || !isFinite(t)) return "-";
        void 0 === c && (c = 1);
        const n = ["bytes", "kB", "MB", "GB", "TB", "PB"];
        return (
          void 0 === e && (e = Math.floor(Math.log(t) / Math.log(1024))),
          0 === e
            ? t / 1024 ** Math.floor(e) + " " + n[e]
            : (t / 1024 ** Math.floor(e)).toFixed(c) + " " + n[e]
        );
      }
      let DA = (() => {
        class t {
          transform(e, n, i) {
            return Us(e, n, i);
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)();
          }),
          (t.ɵpipe = d.Yjl({ name: "bytes", type: t, pure: !0 })),
          t
        );
      })();
      const $s = function (t) {
        return { p0: 0, p1: t };
      };
      function MA(t, c) {
        if ((1 & t && (d._UZ(0, "span", 32), d.ALo(1, "bytes")), 2 & t)) {
          const e = d.oxw();
          d.Q6J(
            "translateParams",
            d.VKq(
              3,
              $s,
              d.lcZ(
                1,
                1,
                1024 *
                  (null == e.repo ? null : e.repo.RecordingDiskSpace) *
                  1024 *
                  1024
              )
            )
          );
        }
      }
      function wA(t, c) {
        if ((1 & t && (d._UZ(0, "span", 32), d.ALo(1, "bytes")), 2 & t)) {
          const e = d.oxw();
          d.Q6J(
            "translateParams",
            d.VKq(
              3,
              $s,
              d.lcZ(
                1,
                1,
                1024 *
                  (null == e.repo ? null : e.repo.RecordingDiskSpace) *
                  1024 *
                  1024
              )
            )
          );
        }
      }
      const PA = function () {
        return { p0: 0, p1: 1e4 };
      };
      function HA(t, c) {
        1 & t && d._UZ(0, "span", 32),
          2 & t && d.Q6J("translateParams", d.DdM(1, PA));
      }
      const jA = function () {
        return { p0: 0, p1: 100 };
      };
      function kA(t, c) {
        1 & t && d._UZ(0, "span", 32),
          2 & t && d.Q6J("translateParams", d.DdM(1, jA));
      }
      let UA = (() => {
          class t {
            constructor(e, n, i, a, l, s) {
              (this.bsModal = e),
                (this.fb = n),
                (this.recordingService = i),
                (this.bsModalService = a),
                (this.sys = l),
                (this.xapiError = s),
                (this.saving = !1),
                (this.changesSub = new mt.w0());
            }
            ngOnInit() {
              var e, n, i;
              (this.form = this.fb.group({
                AutoDeleteRecordingDays: this.fb.control(0, [Jn(0, 1e4)]),
                AutoDeleteRecordingEnabled: this.fb.control(!1),
                CallRecordingCompression: this.fb.control(!1),
                EmailWhenQuotaReachedEnabled: this.fb.control(!1),
                EmailWhenQuotaReachedPercent: this.fb.control(0, [Jn(0, 100)]),
                RecordingsQuota: this.fb.control(0, [
                  Jn(
                    0,
                    null !==
                      (n =
                        null === (e = this.repo) || void 0 === e
                          ? void 0
                          : e.RecordingDiskSpace) && void 0 !== n
                      ? n
                      : 1e5
                  ),
                ]),
              })),
                this.form.patchValue(this.repo);
              const a = this.form.controls;
              !(null === (i = this.repo) || void 0 === i) &&
                i.IsScheduleForArchiveEnabled &&
                (this.form.controls.AutoDeleteRecordingEnabled.disable(),
                this.form.controls.AutoDeleteRecordingDays.disable()),
                [
                  at(
                    this.sys.systemParameters.pipe(
                      (0, We.U)((l) => !l.IsHosted)
                    ),
                    [a.RecordingsQuota]
                  ),
                  at(rt(a.AutoDeleteRecordingEnabled), [
                    a.AutoDeleteRecordingDays,
                  ]),
                  at(rt(a.EmailWhenQuotaReachedEnabled), [
                    a.EmailWhenQuotaReachedPercent,
                  ]),
                ].forEach((l) => this.changesSub.add(l));
            }
            ngOnDestroy() {
              this.changesSub.unsubscribe();
            }
            save() {
              this.form.invalid
                ? this.form.markAllAsTouched()
                : this.saving ||
                  ((this.saving = !0),
                  this.recordingService
                    .setRecordingSettings({
                      recordingsSetRecordingSettingsRequestBody: {
                        settings: this.form.value,
                      },
                    })
                    .subscribe({
                      next: () => {
                        (this.saving = !1), this.bsModal.hide();
                      },
                      error: (e) => {
                        (this.saving = !1),
                          this.xapiError.error(e, this.form, !1);
                      },
                    }));
            }
            cancelClick() {
              this.bsModal.hide();
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)(
                d.Y36(et.UZ),
                d.Y36(q.qu),
                d.Y36(De.jq),
                d.Y36(et.tT),
                d.Y36(Cn),
                d.Y36(jt.Y)
              );
            }),
            (t.ɵcmp = d.Xpm({
              type: t,
              selectors: [["ng-component"]],
              decls: 46,
              vars: 7,
              consts: [
                [3, "formGroup", "ngSubmit"],
                [1, "modal-content"],
                [1, "modal-header"],
                ["type", "button", 1, "close", 3, "click"],
                [
                  "translate",
                  "RECORDINGS.DIALOGS.QUOTA.TITLE",
                  1,
                  "modal-title",
                ],
                [1, "modal-body"],
                [1, "form-group", "m-b"],
                [
                  "translate",
                  "RECORDINGS.DIALOGS.QUOTA.CURRENT_QUOTA_AND_SPACE",
                ],
                [1, "line", "line-dashed", "b-b", "line-lg"],
                [1, "row"],
                [1, "col-sm-6"],
                [
                  "formControlName",
                  "RecordingsQuota",
                  "mcTitle",
                  "RECORDINGS.DIALOGS.QUOTA.RECORDING_QUOTA",
                ],
                ["controlName", "RecordingsQuota"],
                ["valError", "XapiOutOfTheRange"],
                ["valError", "outOfTheRange"],
                ["translate", "RECORDINGS.DIALOGS.QUOTA.USED_SPACE", 1, "m-b"],
                [1, "form-group", "m-b", "form-inline"],
                ["translate", "RECORDINGS.DIALOGS.QUOTA.AUTO_CLEANING_OPTIONS"],
                [
                  "formControlName",
                  "AutoDeleteRecordingEnabled",
                  "mcTitle",
                  "RECORDINGS.DIALOGS.QUOTA.AUTOMATICALLY_DELETE_RECORDS",
                  3,
                  "tooltip",
                ],
                ["formControlName", "AutoDeleteRecordingDays"],
                ["controlName", "AutoDeleteRecordingDays"],
                ["translate", "REPOS.TEXT.DAYS", 1, "m-l-sm"],
                ["translate", "RECORDINGS.DIALOGS.QUOTA.EMAIL_NOTIFICATION"],
                [
                  "formControlName",
                  "EmailWhenQuotaReachedEnabled",
                  "mcTitle",
                  "RECORDINGS.DIALOGS.QUOTA.SEND_EMAIL_WHEN_SIZE",
                ],
                ["formControlName", "EmailWhenQuotaReachedPercent"],
                ["controlName", "EmailWhenQuotaReachedPercent"],
                [
                  "translate",
                  "RECORDINGS.DIALOGS.QUOTA.PERCENTAGE_OF_QUOTA",
                  1,
                  "m-l-sm",
                ],
                ["translate", "RECORDINGS.DIALOGS.QUOTA.COMPRESSION"],
                [
                  "formControlName",
                  "CallRecordingCompression",
                  "mcTitle",
                  "RECORDINGS.DIALOGS.QUOTA.CALLRECORDING_COMPRESSION",
                ],
                [1, "modal-footer"],
                [
                  "type",
                  "submit",
                  "translate",
                  "REPOS.BUTTONS.SAVE_BTN",
                  "id",
                  "btnSave",
                  1,
                  "btn",
                  "btn-default",
                ],
                [
                  "type",
                  "button",
                  "translate",
                  "REPOS.BUTTONS.CANCEL_BTN",
                  "id",
                  "btnCancel",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "click",
                ],
                [
                  "translate",
                  "WARNINGS.ALLOWED_VALUES_FROM",
                  3,
                  "translateParams",
                ],
              ],
              template: function (e, n) {
                1 & e &&
                  (d.TgZ(0, "form", 0),
                  d.NdJ("ngSubmit", function () {
                    return n.save();
                  }),
                  d.TgZ(1, "div", 1)(2, "div", 2)(3, "button", 3),
                  d.NdJ("click", function () {
                    return n.cancelClick();
                  }),
                  d._uU(4, "\xd7"),
                  d.qZA(),
                  d._UZ(5, "h4", 4),
                  d.qZA(),
                  d.TgZ(6, "div", 5)(7, "div", 6),
                  d._UZ(8, "strong", 7)(9, "div", 8),
                  d.TgZ(10, "div", 9)(11, "div", 10)(
                    12,
                    "app-number-control",
                    11
                  )(13, "val-errors", 12),
                  d.YNc(14, MA, 2, 5, "ng-template", 13),
                  d.YNc(15, wA, 2, 5, "ng-template", 14),
                  d.qZA()()(),
                  d.TgZ(16, "div", 10),
                  d._UZ(17, "label", 15)(18, "br"),
                  d.TgZ(19, "span"),
                  d._uU(20),
                  d.ALo(21, "bytes"),
                  d.qZA()()()(),
                  d.TgZ(22, "div", 16),
                  d._UZ(23, "strong", 17)(24, "div", 8)(
                    25,
                    "app-checkbox-control",
                    18
                  ),
                  d.ALo(26, "translate"),
                  d.TgZ(27, "app-number-control", 19)(28, "val-errors", 20),
                  d.YNc(29, HA, 1, 2, "ng-template", 14),
                  d.qZA()(),
                  d._UZ(30, "label", 21),
                  d.qZA(),
                  d.TgZ(31, "div", 16),
                  d._UZ(32, "strong", 22)(33, "div", 8)(
                    34,
                    "app-checkbox-control",
                    23
                  ),
                  d.TgZ(35, "app-number-control", 24)(36, "val-errors", 25),
                  d.YNc(37, kA, 1, 2, "ng-template", 14),
                  d.qZA()(),
                  d._UZ(38, "label", 26),
                  d.qZA(),
                  d.TgZ(39, "div", 16),
                  d._UZ(40, "strong", 27)(41, "div", 8)(
                    42,
                    "app-checkbox-control",
                    28
                  ),
                  d.qZA()(),
                  d.TgZ(43, "div", 29),
                  d._UZ(44, "button", 30),
                  d.TgZ(45, "button", 31),
                  d.NdJ("click", function () {
                    return n.cancelClick();
                  }),
                  d.qZA()()()()),
                  2 & e &&
                    (d.Q6J("formGroup", n.form),
                    d.xp6(20),
                    d.Oqu(
                      d.lcZ(
                        21,
                        3,
                        null == n.repo ? null : n.repo.RecordingUsedSpace
                      )
                    ),
                    d.xp6(5),
                    d.Q6J(
                      "tooltip",
                      null != n.repo && n.repo.IsScheduleForArchiveEnabled
                        ? d.lcZ(
                            26,
                            5,
                            "RECORDINGS.DIALOGS.QUOTA.WARNING_ARCHIVE_IS_ENABLED"
                          )
                        : ""
                    ));
              },
              dependencies: [
                kt,
                q._Y,
                q.JJ,
                q.JL,
                He.Pi,
                ha,
                q.sg,
                q.u,
                Xe.tM,
                Xe.HY,
                zt.i9,
                He.X$,
                DA,
              ],
              encapsulation: 2,
            })),
            t
          );
        })(),
        $A = (() => {
          class t {
            constructor(e, n, i, a, l, s, r, o, p, f) {
              (this.$uibModal = e),
                (this.$http = n),
                (this.$window = i),
                (this.MyUtilsSvc = a),
                (this.apiRecordingService = l),
                (this.bsModal = s),
                (this.RecordingSvc = r),
                (this.MessageBoxSvc = o),
                (this.$stateParams = p),
                (this.$q = f),
                (this.isLoading = !0),
                (this.itemsByPage = 50),
                (this.currentFilter = new Kn()),
                (this.isArchiveEnabled = !1),
                (this.isGDriveSelected = !1),
                (this.displayedItems = []),
                (this.selectedItems = []),
                (this.maxLoadedRows = 0),
                (this.lastPageLoaded = !1),
                (this.transferRecordings = null),
                (this.loadData = (m) => {
                  (this.isLoading = !0),
                    (this.displayedItems = []),
                    (this.stTableState = m),
                    this.loadRecordingsFromServer(!1, !1);
                });
            }
            cancelCurrentRequest() {
              this.currentRequestCanceller &&
                ((this.currentRequestCanceller.promise.userCancelled = !0),
                this.currentRequestCanceller.resolve(),
                (this.currentRequestCanceller = null));
            }
            isAnySelected() {
              return this.selectedItems.length > 0;
            }
            isAnyNonArchivedSelected() {
              return this.selectedItems.some((e) => !e.IsArchived);
            }
            onPageSwitch() {
              _t();
            }
            loadRecordingsFromServer(e, n) {
              if (!this.stTableState) return;
              this.cancelCurrentRequest();
              const i = this.$q.defer();
              if (e) {
                const p = this.stTableState.pagination;
                (p.numberOfPages = 0),
                  (p.start = 0),
                  (p.number = this.itemsByPage),
                  (this.maxLoadedRows = 0),
                  (this.lastPageLoaded = !1);
              }
              n && (this.selectedItems = []);
              const a = this.stTableState.pagination.start || 0,
                l = this.searchFilter || "",
                s = this.itemsByPage;
              let r, o;
              return (
                this.currentFilter.searchByDate &&
                  (this.currentFilter.date.startDate.isValid() &&
                    (r = this.currentFilter.date.startDate.toDate()),
                  this.currentFilter.date.endDate.isValid() &&
                    (o = this.currentFilter.date.endDate.toDate())),
                (this.currentRequestCanceller = this.$q.defer()),
                this.RecordingSvc.getAllFiltered(
                  a || 0,
                  s,
                  l,
                  this.currentFilter.from,
                  this.currentFilter.to,
                  this.currentFilter.callFilter,
                  r,
                  o,
                  this.stTableState.sort.predicate,
                  this.stTableState.sort.reverse,
                  this.currentRequestCanceller
                )
                  .then((p) => {
                    const f = p.data;
                    (this.isArchiveEnabled = f.isArchiveEnabled),
                      (this.isGDriveSelected = f.isGDriveSelected),
                      (this.transferRecordings = f.transferRecordings),
                      (this.displayedItems = f.list),
                      this.RestoreSelectedItems(),
                      (this.currentRequestCanceller = null);
                    const m = a + f.list.length;
                    m >= this.maxLoadedRows &&
                      ((this.maxLoadedRows = m),
                      (this.lastPageLoaded = !p.data.hasMoreRows));
                    const g = this.stTableState.pagination;
                    (g.numberOfPages =
                      Math.floor(this.maxLoadedRows / this.itemsByPage) +
                      (this.maxLoadedRows % this.itemsByPage == 0 ? 0 : 1)),
                      this.lastPageLoaded || g.numberOfPages++,
                      (g.start = a),
                      (this.isLoading = !1),
                      i.resolve(p.data);
                  })
                  .catch(() => u.noop()),
                i.promise
              );
            }
            getSelectedItems() {
              return this.selectedItems;
            }
            RestoreSelectedItems() {
              this.displayedItems.forEach((e) => {
                e.isSelected =
                  this.selectedItems.findIndex((n) => n.Id == e.Id) > -1;
              });
            }
            UpdateSelectedItemIds() {
              this.displayedItems.forEach((e) => {
                const n = this.selectedItems.findIndex((i) => i.Id == e.Id);
                e.isSelected
                  ? n < 0 && this.selectedItems.push(e)
                  : -1 !== n && this.selectedItems.splice(n, 1);
              });
            }
            onLocationEdit() {
              this.apiRecordingService
                .getRecordingRepositorySettings()
                .subscribe({
                  next: (e) => {
                    this.bsModal
                      .show(OA, {
                        class: "modal-lg",
                        initialState: { repo: e },
                      })
                      .onHide.subscribe({
                        next: () => {
                          this.loadRecordingsFromServer(!0, !0);
                        },
                      });
                  },
                  error: (e) => {
                    this.MessageBoxSvc.error(e);
                  },
                });
            }
            onQuotaEdit() {
              this.apiRecordingService.getRecordingSettings().subscribe({
                next: (e) => {
                  this.bsModal
                    .show(UA, { class: "modal-lg", initialState: { repo: e } })
                    .onHide.subscribe({
                      next: () => {
                        this.loadRecordingsFromServer(!0, !0);
                      },
                    });
                },
                error: (e) => {
                  this.MessageBoxSvc.error(e);
                },
              });
            }
            onMigrateArchivedRecordings() {
              this.$uibModal
                .open({ component: "migrateArchivedModalComponent" })
                .result.then(() => {
                  this.RecordingSvc.migrateArchivedRecordings(),
                    (this.transferRecordings = "2");
                });
            }
            onPurgeClick() {
              this.isArchiveEnabled
                ? this.bsModal.show(LA, {})
                : this.MessageBoxSvc.confirmDialog(
                    "REPOS.CONFIRMATION.HEADER",
                    "RECORDINGS.PURGE_CONFIRMATION"
                  )
                    .then(() => {
                      (0, un.T)(
                        this.apiRecordingService.purgeArchive(),
                        this.apiRecordingService.purgeLocal()
                      ).subscribe({
                        error: (e) => this.MessageBoxSvc.error(e),
                      });
                    })
                    .catch(() => u.noop());
            }
            onArchiveClick() {
              const e = this.getSelectedItems();
              e.map((i) => i.Id),
                this.MessageBoxSvc.confirmDialog(
                  "REPOS.CONFIRMATION.HEADER",
                  "REPOS.CONFIRMATION.ARCHIVE"
                )
                  .then(() =>
                    this.$http.postApi(
                      "api/RecordingList/archive",
                      e.map((i) => i.Id)
                    )
                  )
                  .then(() => {
                    this.loadRecordingsFromServer(!1, !1);
                  })
                  .catch(() => u.noop());
            }
            downloadRecording(e) {
              fetch(e, { method: "GET" })
                .then((n) => {
                  n.ok
                    ? Bn(e)
                    : this.MessageBoxSvc.alertBox(
                        "WARNINGS.SERVER_ERROR",
                        "WARNINGS.FILE_NOT_FOUND",
                        "md"
                      ).catch(() => u.noop());
                })
                .catch((n) => {
                  this.MessageBoxSvc.alertBox(
                    "WARNINGS.SERVER_ERROR",
                    n,
                    "md"
                  ).catch(() => u.noop());
                });
            }
            onDownloadClick() {
              const e = this.getSelectedItems().map((n) => n.Id);
              1 == e.length
                ? this.downloadRecording(
                    "api/RecordingList/download?file=" +
                      encodeURIComponent(e[0])
                  )
                : this.RecordingSvc.downloadByIds(e)
                    .then((n) => {
                      Bn(
                        "api/RecordingList/downloadByKey?key=" +
                          encodeURIComponent(n.data.key)
                      );
                    })
                    .catch(() => u.noop());
            }
            deleteRecording(e) {
              const n = e.some((i) => i.IsArchived);
              this.MessageBoxSvc.confirmDialog(
                "REPOS.CONFIRMATION.HEADER",
                e.length > 1
                  ? "REPOS.CONFIRMATION.TEXT_MANY"
                  : "REPOS.CONFIRMATION.TEXT"
              )
                .then(() => {
                  const i = e.map((a) => a.Id);
                  return this.$http
                    .postApi(
                      n
                        ? "api/RecordingList/deleteBackground"
                        : "api/RecordingList/delete",
                      i
                    )
                    .then(() => {
                      this.loadRecordingsFromServer(!1, !0);
                    });
                })
                .catch(() => u.noop());
            }
            onDeleteOneClick(e) {
              this.deleteRecording([e]);
            }
            onClickFilter() {
              this.$uibModal
                .open({
                  size: "md",
                  backdrop: "static",
                  component: "recordingFilterPopup",
                  keyboard: !0,
                  resolve: { currentFilter: this.currentFilter },
                })
                .result.then((e) => {
                  (this.currentFilter = e),
                    this.loadRecordingsFromServer(!0, !0);
                });
            }
            onDeleteClick() {
              this.deleteRecording(this.getSelectedItems());
            }
            $onDestroy() {
              this.cancelCurrentRequest();
            }
            $onInit() {
              this.$stateParams.SetQuota && this.onQuotaEdit();
            }
          }
          return (
            (t.$inject = [
              "$uibModal",
              "$http",
              "$window",
              "MyUtilsSvc",
              "RecordingsApiService",
              "bsModalService",
              "RecordingSvc",
              "MessageBoxSvc",
              "$stateParams",
              "$q",
            ]),
            t
          );
        })();
      u.module("app").component("recordingListComponent", {
        templateUrl: "js/app/recordings/recordings-list.html",
        controller: $A,
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/recordings/recording-filter-popup.component.html",
            '<form ng-submit="$ctrl.search()" name="filterForm"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="RECORDINGS.DIALOGS.FILTER.FILTER_RECORDINGS"> Filter Recordings </h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="RECORDINGS.DIALOGS.FILTER.FILTER">Filter</label> <select class="form-control" ng-model="$ctrl.params.callFilter" convert-to-number="" name="callFilter"> <option value="{{$ctrl.RecordingCallTypeFilter.All}}" translate="REPOS.TEXT.ALL_CALLS">All calls</option> <option value="{{$ctrl.RecordingCallTypeFilter.Local}}" translate="REPOS.TEXT.INTERNAL_CALLS">Internal calls</option> <option value="{{$ctrl.RecordingCallTypeFilter.External}}" translate="REPOS.TEXT.EXTERNAL_CALLS">External calls</option> <option value="{{$ctrl.RecordingCallTypeFilter.Inbound}}" translate="REPOS.TEXT.INCOMING_EXTERNAL_CALLS">Incoming External calls</option> <option value="{{$ctrl.RecordingCallTypeFilter.Outbound}}" translate="REPOS.TEXT.OUTGOING_EXTERNAL_CALLS">Outgoing External calls</option> </select> </div> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="$ctrl.params.searchByDate" ng-change="$ctrl.validateDate()"> <i></i> <span translate="SYSTEM_STATUS.DIALOGS.ACTIVITY_LOG.SEARCH_BY_DATE"></span></label> <input date-range-picker class="form-control date-picker m-b-md" type="text" name="date" ng-change="$ctrl.validateDate()" placeholder="SYSTEM_STATUS.DIALOGS.ACTIVITY_LOG.SELECT_RANGE" ng-disabled="!$ctrl.params.searchByDate" ng-model="$ctrl.params.date" options="$ctrl.datePickerOptions"> </div> <div class="form-group"> <label translate="REPOS.TEXT.FROM">From</label> <input name="from" ng-model="$ctrl.params.from" class="form-control" placeholder="{{\'RECORDINGS.DIALOGS.FILTER.ENTER_NUMBER_OR_CUSTOMER_NAME\' | translate}}"> </div> <div class="form-group"> <label translate="REPOS.TEXT.TO">To</label> <input name="to" ng-model="$ctrl.params.to" class="form-control" placeholder="{{\'RECORDINGS.DIALOGS.FILTER.ENTER_NUMBER_OR_CUSTOMER_NAME\' | translate}}"> </div> </div> <div class="modal-footer"> <button class="btn btn-primary" type="submit" translate="REPOS.BUTTONS.SEARCH_BTN" ng-disabled="!filterForm.$valid">Search</button> <button class="btn btn-default" ng-click="$ctrl.reset()" type="button" translate="REPOS.BUTTONS.RESET_BTN">Reset</button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel </button> </div> </form> '
          ),
      ]);
      let VA = (() => {
        class t {
          constructor(e) {
            (this.$scope = e),
              (this.RecordingCallTypeFilter = pn),
              (this.params = new Kn()),
              (this.datePickerOptions = {
                showCustomRangeLabel: !1,
                ranges: cn(ae()()),
                timePicker: !0,
                alwaysShowCalendars: !0,
                locale: { format: "L LT" },
              });
          }
          validateDate() {}
          search() {
            !this.$scope.filterForm.$valid ||
              this.close({ $value: this.params });
          }
          reset() {
            this.params = new Kn();
          }
          $onInit() {
            this.params = this.resolve.currentFilter;
          }
        }
        return (t.$inject = ["$scope"]), t;
      })();
      u.module("app").component("recordingFilterPopup", {
        templateUrl: "js/app/recordings/recording-filter-popup.component.html",
        controller: VA,
        bindings: { resolve: "<", close: "&", dismiss: "&" },
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/recordings/archive-schedule-editor.component.html",
              '<div class="m-l-md m-t-xs"> <div> <div class="form-group form-inline"> <div class="radio"> <label class="i-checks"> <input type="radio" ng-model="$ctrl.schedule.Frequency.value" ng-model-options="{getterSetter:true}" value="ResetQueueStatisticsFrequency.Disabled"> <i></i><span translate="REPOS.TEXT.TURN_OFF">Turn Off</span></label> </div> </div> <div class="form-group form-inline"> <div class="radio"> <label class="i-checks"> <input type="radio" ng-model="$ctrl.schedule.Frequency.value" ng-model-options="{getterSetter:true}" value="ResetQueueStatisticsFrequency.Daily"> <i></i><span translate="REPOS.TEXT.DAILY">Daily at:</span></label> <time-of-day-picker ng-if="$ctrl.isDaily()" prop="$ctrl.schedule.Seconds"></time-of-day-picker> </div> </div> <div class="form-group form-inline"> <div class="radio"> <label class="i-checks"> <input type="radio" ng-model="$ctrl.schedule.Frequency.value" ng-model-options="{getterSetter: true}" value="ResetQueueStatisticsFrequency.Weekly"> <i></i><span translate="enum.ResetQueueStatisticsFrequency.Weekly">Weekly</span> </label> </div> <div class="form-group m-l-sm m-r-sm" ng-if="$ctrl.isWeekly()"> <select class="form-control" ng-model="$ctrl.dayOfWeekProp" ng-model-options="{getterSetter: true}" ng-disabled="$ctrl.schedule.Frequency.disabled"> <option value="DayOfWeek.Monday" translate="enum.DayOfWeek.Monday"></option> <option value="DayOfWeek.Tuesday" translate="enum.DayOfWeek.Tuesday"></option> <option value="DayOfWeek.Wednesday" translate="enum.DayOfWeek.Wednesday"></option> <option value="DayOfWeek.Thursday" translate="enum.DayOfWeek.Thursday"></option> <option value="DayOfWeek.Friday" translate="enum.DayOfWeek.Friday"></option> <option value="DayOfWeek.Saturday" translate="enum.DayOfWeek.Saturday"></option> <option value="DayOfWeek.Sunday" translate="enum.DayOfWeek.Sunday"></option> </select> </div> <time-of-day-picker ng-if="$ctrl.isWeekly()" prop="$ctrl.schedule.Seconds"></time-of-day-picker> </div> </div> <div class="form-group form-inline"> <div class="radio"> <label class="i-checks"> <input type="radio" ng-model="$ctrl.schedule.Frequency.value" ng-model-options="{getterSetter: true}" value="ResetQueueStatisticsFrequency.Monthly"> <i></i><span translate="REPOS.TEXT.MONTHLY_FIRST_DAY">Monthly - On the first Day of each month</span></label> <time-of-day-picker ng-if="$ctrl.isMonthly()" prop="$ctrl.schedule.Seconds"></time-of-day-picker> </div> </div> </div> '
            ),
        ]),
        u.module("app").component("archiveScheduleEditor", {
          templateUrl:
            "js/app/recordings/archive-schedule-editor.component.html",
          bindings: { schedule: "<" },
          controller: class WA {
            dayOfWeekProp(c) {
              if (!arguments.length) return this.schedule.Day.value();
              this.schedule.Day.value(c);
            }
            checker(c) {
              return !!this.schedule && this.schedule.Frequency.selected == c;
            }
            isDaily() {
              return this.checker("ResetQueueStatisticsFrequency.Daily");
            }
            isWeekly() {
              return this.checker("ResetQueueStatisticsFrequency.Weekly");
            }
            isMonthly() {
              return this.checker("ResetQueueStatisticsFrequency.Monthly");
            }
          },
        });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/recordings/time-of-day-picker.component.html",
            '<label style="margin:0" translate="REPOS.TEXT.AT_FOR_EXAMPLE_DAILY_AT_TIME">at</label> <label class="dashed_link" style="margin:0" ng-click="$ctrl.editSeconds()"> {{$ctrl.prop._value | seconds2str}} </label> '
          ),
      ]);
      let qA = (() => {
        class t {
          constructor(e, n) {
            (this.$uibModal = e), (this.TimeFormatting = n);
          }
          editSeconds() {
            return this.$uibModal
              .open({
                size: "sm",
                templateUrl:
                  "js/directives/time-ranges-control/time-picker-dialog-single.html",
                controller: [
                  "$scope",
                  "schedule",
                  (e) => {
                    const n = this.prop.value();
                    (e.time = this.TimeFormatting.TimeStrFromSeconds(n)),
                      (e.saveClick = function () {
                        e.$close(e.time);
                      });
                  },
                ],
                resolve: { schedule: () => this.prop },
                keyboard: !0,
              })
              .result.then((e) => {
                const n = this.TimeFormatting.SecondsFromTimeStr(e);
                this.prop.value(n);
              });
          }
        }
        return (t.$inject = ["$uibModal", "TimeFormatting"]), t;
      })();
      u.module("app").component("timeOfDayPicker", {
        templateUrl: "js/app/recordings/time-of-day-picker.component.html",
        bindings: { prop: "<" },
        controller: qA,
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/recordings/migrate-archived-modal.component.html",
              '<div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="REPOS.CONFIRMATION.HEADER"></h4> </div> <div class="modal-body"> <p translate="RECORDINGS.DIALOGS.MIGRATE_ARCHIVED.GDRIVE_IS_DEPRECATED"> Due to recent changes to the Google API User Data Policy on user data access, GDrive support needs to be deprecated: </p> <ul> <li translate="RECORDINGS.DIALOGS.MIGRATE_ARCHIVED.ARCHIVED_RECORDINGS_NEED_TRANSFER"> Archived recordings need to be transferred to your local recording folder. </li> <li translate="RECORDINGS.DIALOGS.MIGRATE_ARCHIVED.ARCHIVED_SCHEDULE_POLICY"> \u201cArchive Schedule Policy\u201d for GDrive will be set to \u201cTurn Off\u201d. </li> </ul> <p translate="RECORDINGS.DIALOGS.MIGRATE_ARCHIVED.COMPLETING_MIGRATION_PROCESS"> Completing the migration process depends on the size and number of archived recordings stored in Gdrive. The \u201cMigrate Archive\u201d process will be removed in upcoming releases. </p> <p translate="RECORDINGS.DIALOGS.MIGRATE_ARCHIVED.TRANSFER_NOW_AND_NOTIFY_ADMIN"> Transfer now and notify the Admin via email when complete? </p> </div> <div class="modal-footer"> <button type="button" ng-click="$ctrl.close()" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">OK </button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel </button> </div> '
            ),
        ]),
        u.module("app").component("migrateArchivedModalComponent", {
          bindings: { resolve: "<", close: "&", dismiss: "&" },
          controller: class KA {
            constructor() {}
          },
          templateUrl:
            "js/app/recordings/migrate-archived-modal.component.html",
        });
      class ei {
        constructor(c, e, n) {
          (this.path =
            ".." == e
              ? c.substr(0, c.lastIndexOf("/"))
              : "" == c
              ? e
              : c + "/" + e),
            (this.name = e),
            (this.isDir = n);
        }
      }
      u.module("app").controller("FileManagerListCtrl", [
        "$scope",
        "$rootScope",
        "$http",
        "$window",
        "MyUtilsSvc",
        "FileManagerSvc",
        "MessageBoxSvc",
        "$stateParams",
        function (t, c, e, n, i, a, l, s) {
          (t.path = ""),
            (t.json = ""),
            (t.fileSystem = 4),
            (t.isOneSelected = !1),
            (t.isAllSelected = !1),
            (t.displayedCollection = []),
            (t.isLoading = !1);
          let r = null;
          function p() {
            if (!r) return;
            (t.isLoading = !0), (t.displayedCollection = []);
            const f = t.searchFilter ? t.searchFilter : "";
            a.getDirectories(t.path, t.fileSystem, "")
              .then(function (m) {
                (t.displayedCollection = []),
                  "" != t.path &&
                    t.displayedCollection.push(new ei(t.path, "..", !0)),
                  m.data.list.sort(),
                  (t.displayedCollection = t.displayedCollection.concat(
                    m.data.list.map(function (S) {
                      return new ei(t.path, S, !0);
                    })
                  ));
                let g = "*";
                f && (g = "*" + f + "*"),
                  a
                    .getFiles(t.path, g, t.fileSystem)
                    .then(function (S) {
                      S.data.list.sort(function (O, j) {
                        return O.name.localeCompare(j.name);
                      }),
                        (t.displayedCollection = t.displayedCollection.concat(
                          S.data.list.map(function (O) {
                            const j = new ei(t.path, O.name, !1);
                            return (j.date = O.date), (j.size = O.size), j;
                          })
                        )),
                        (t.isLoading = !1);
                    })
                    .catch(() => u.noop());
              })
              .catch(() => u.noop());
          }
          (t.rowClick = function (f) {
            t.displayedCollection.forEach(function (m) {
              m != f && (m.isSelected = !1);
            }),
              (f.isSelected = !f.isSelected),
              (function () {
                const f = t.displayedCollection.filter(function (m) {
                  return m.isSelected;
                });
                (t.isAnySelected = 0 != f.length),
                  (t.isOneSelected = 1 === f.length),
                  (t.isAllSelected = !1);
              })();
          }),
            (t.rowDblClick = function (f) {
              f.isDir ? ((t.path = f.path), p()) : t.onDownloadOneClick(f);
            }),
            (t.searchFilterHandler = function (f) {
              (void 0 === f || 13 === f.which) && p();
            }),
            (t.loadData = function (f) {
              (r = f), p();
            }),
            (t.getSelectedItems = function () {
              return t.displayedCollection.filter(function (f) {
                return f.isSelected;
              });
            }),
            (t.onDownloadOneClick = function (f) {
              a.download(f.path, t.fileSystem);
            }),
            (t.onDownloadClick = function () {
              let f = t.getSelectedItems();
              f = f.filter(function (g) {
                return !g.isDir;
              });
              const m = f.map(function (g) {
                return g.path;
              });
              1 == m.length && a.download(m[0], t.fileSystem);
            }),
            s.SetQuota && t.onQuotaEdit();
        },
      ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/filemanager/filemanager_list.html",
                '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="FILEMANAGER.TITLE">Log files</label> <help-button url="{{\'LINKS.CALL_FILEMANAGER_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md" ng-controller="FileManagerListCtrl"> <div class="panel panel-default"> <div class="panel-heading"> {{"FILEMANAGER.TITLE" | translate}} {{(!!path)?("["+path+"]"):""}} </div> <table st-pipe="loadData" st-table="displayedCollection" class="table table-striped"> <thead> <tr> <td colspan="4"> <div class="input-group w-full"> <input ng-model="searchFilter" ng-keypress="searchFilterHandler($event)" ng-disabled="isLoading" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> <span class="input-group-btn"> <button type="button" ng-click="searchFilterHandler()" ng-disabled="isLoading" class="btn btn-default" translate="REPOS.BUTTONS.SEARCH_BTN" id="btnSearch"> <i class="halflings halflings-search"></i> Search </button> </span> </div> </td> </tr> <tr> <th translate="FILEMANAGER.TBL_HEADING_NAME">Name</th> <th translate="FILEMANAGER.TBL_HEADING_DATE">Date</th> <th translate="FILEMANAGER.TBL_HEADING_SIZE">Size</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr st-select-mode="multiple" ng-click="rowClick(row)" ng-dblclick="rowDblClick(row)" ng-repeat="row in displayedCollection" ng-class="row.isSelected ? \'st-selected\' : \'\'"> <td><i ng-if="row.isDir" class="fa fa-folder" aria-hidden="true"></i> {{::row.name}}</td> <td>{{row.dateStr = (row.isDir?"": (row.date | mcDateFormat))}}</td> <td>{{::row.size | bytes}}</td> <td><button ng-hide="row.isDir" type="button" mc-stop-event ng-click="onDownloadOneClick(row)" class="btn btn-xs btn-default"> <i class="fa fa-arrow-down"></i> </button></td> </tr> </tbody> </table> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/3cxphone.html",
                '<editor-control mc-title="SETTINGS.3CXPHONE.TITLE"> <div class="panel panel-default"> <div class="panel-heading font-bold" translate="SETTINGS.3CXPHONE.FIRMWARE_SETTINGS">Firmware settings</div> <div class="panel-body"> <firmware-cleanup></firmware-cleanup> <div class="form-group m-b form-inline"> <strong translate="SETTINGS.3CXPHONE.ALTERNATIVE_FIRMWARE">Alternative Firmware</strong> <div class="line line-dashed b-b line-lg"></div> <checkbox-control prop="activeObject.PhoneAllowMultiFirmwares" mc-title="SETTINGS.3CXPHONE.PHONE_ALLOW_MULTI_FIRMWARES"></checkbox-control> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading font-bold" translate="SETTINGS.3CXPHONE.QUEUE_RINGTONES">Configure Queue Ringtones </div> <div class="panel-body"> <label translate="SETTINGS.3CXPHONE.QUEUE_RINGTONES_INFO">Select from the below options how queue distinctive ringing (alert info) messages will be sent for Queue calls </label> <div class="form-group"> <div class="radio m-b-md"> <label class="i-checks"> <input type="radio" ng-model-options="{getterSetter: true}" ng-model="activeObject.AllowMultiQueueRingtones.value" value="QueueRingtones.DefaultRingtones" ng-disabled="activeObject.AllowMultiQueueRingtones.disabled"> <i></i> <span> <span translate="enum.QueueRingtones.DefaultRingtones"></span> <span translate="enum.QueueRingtones.OptionRecommendedForAllPhones">(This option is recommended for all phones)</span> </span> </label> </div> <div class="radio m-b-md"> <label class="i-checks"> <input type="radio" ng-model-options="{getterSetter: true}" ng-model="activeObject.AllowMultiQueueRingtones.value" value="QueueRingtones.CustomRingtones" ng-disabled="activeObject.AllowMultiQueueRingtones.disabled"> <i></i> <span> <span translate="enum.QueueRingtones.CustomRingtones"></span> <span translate="enum.QueueRingtones.EachAgentNeedsToConfigureCustomRingtone"> Note: Each agent will need to configure distinctively ringtones for all the queues which the user is a member of. Any unconfigured queues will play the ringtone used for normal calls. </span> </span> </label> </div> </div> </div> </div> <div class="panel panel-default" ng-hide="true"> <div class="panel-heading font-bold" translate="SETTINGS.3CXPHONE.PUSH_GOOGLE">Google PUSH Cloud Messaging for 3CXPhone for Android </div> <div class="panel-body"> <p> <span translate="SETTINGS.3CXPHONE.PUSH_GOOGLE_MSG"> Push messages wake up 3CX Apps on smartphones so that a call can be accepted,reducing battery usage and improving reliability. Android phones receive PUSH notifications from Google Cloud Messaging Server. </span> </p> <text-control prop="activeObject.Key" mc-title="SETTINGS.3CXPHONE.API_KEY" placeholder="SETTINGS.3CXPHONE.API_KEY" maxlength="250"></text-control> <text-control prop="activeObject.SenderID" mc-title="SETTINGS.3CXPHONE.PROJECT_NUMBER" placeholder="SETTINGS.3CXPHONE.PROJECT_NUMBER"></text-control> </div> </div> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/call_parking.html",
                '<editor-control mc-title="SETTINGS.CALL_PARKING.TITLE" help-url="LINKS.SETTINGS_CALL_PARKING_HELP_BTN"> <panel mc-title="SETTINGS.CALL_PARKING.CALL_PARKING_CONFIGURATION" parking-places> <number-control mc-title="SETTINGS.CALL_PARKING.SELECT_NUMBER_OF_PARKING" prop="activeObject.SPMax"></number-control> <select-file-media-control prop="activeObject.SPPrompt" mc-title="SETTINGS.CALL_PARKING.MUSIC_ON_HOLD_FILE"></select-file-media-control> </panel> <div class="panel panel-default"> <checkbox-control-header prop="activeObject.SPEnableAutoPickup" mc-title="SETTINGS.CALL_PARKING.AUTOMATICALLY_UNPARK"></checkbox-control-header> <div class="panel-body"> <div class="form-group"> <div class="form-inline"> <label translate="SETTINGS.CALL_PARKING.IF_CALL_PARKED">If a call is parked for more than:</label> <number-control prop="activeObject.SPAutoPickupTimeout" placeholder="60" width="5" maximum="9999"> </number-control> <label translate="SETTINGS.CALL_PARKING.SECONDS">seconds, then:</label> </div> </div> <div class="form-group"> <select-enum-control prop="activeObject.SPTypeOfAutoPickupForward"></select-enum-control> <select-control prop="activeObject.SPAutoPickupForwardRoutePoint"></select-control> <select-control prop="activeObject.SPAutoPickupForwardDN"></select-control> <select-control prop="activeObject.SPAutoPickupVMailExtension"></select-control> <text-control prop="activeObject.SPAutoPickupExternalNumber"></text-control> </div> </div> </div> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/cdr/cdr.html",
                '<editor-control mc-title="SETTINGS.CDR.TITLE" help-url="LINKS.SETTINGS_CDR_HELP_BTN"> <div class="panel panel-default"> <checkbox-control-header prop="activeObject.Enabled" mc-title="SETTINGS.CDR.ENABLE_CDR"></checkbox-control-header> <div class="panel-body"> <div class="form-group"> <label translate="SETTINGS.CDR.CHOOSE_HOW_LOGS">Choose how logs are generated</label> <div class="row clear"> <div class="col-sm-6"> <select-enum-control prop="activeObject.LogType"></select-enum-control> </div> <div class="col-sm-6 form-inline"> <div class="form-inline top-align-form-group"> <number-control prop="activeObject.FileSize" width="7" mc-title="SETTINGS.CDR.FILE_SIZE"></number-control> <label ng-hide="activeObject.FileSize.hide" style="margin-top:7px">MB</label> <select-control prop="activeObject.NetworkInterface" placeholder="SETTINGS.CDR.IP_ADDRESS"></select-control> <text-control prop="activeObject.IPAddress" placeholder="SETTINGS.CDR.IP_ADDRESS" ng-hide="activeObject.LogType.selected!=\'TypeOfCDRLog.ActiveSocket\'"></text-control> <number-control prop="activeObject.IPPort" placeholder="SETTINGS.CDR.PORT"></number-control> </div> </div> </div> <checkbox-control prop="activeObject.RemoveCommaDelimiters" mc-title="SETTINGS.CDR.REMOVE_COMMA_DELIMITERS"></checkbox-control> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading font-bold" translate="SETTINGS.CDR.CONFIGURE_CDR_OUTPUT"> Configure CDR Output fields </div> <div class="panel-body"> <div class="form-group"> <label translate="SETTINGS.CDR.CONFIGURE_CDR_OUTPUT_MSG"> Select the fields to include in the CDR output. To change the position of a field, select it and move up or down. </label> <set-control prop="activeObject.Fields" mc-title="SETTINGS.CDR.DIALOGS.ADD.TITLE" button-title="SETTINGS.CDR.DIALOGS.ADD.ADD_CDR_BTN"> <set-control-cdr></set-control-cdr> </set-control> </div> </div> </div> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/click2call.html",
                '<editor-control mc-title="SETTINGS.CLICK2CALL.TITLE"> <div ng-controller="Click2CallCtrl"> <div class="panel panel-default"> <div class="panel-heading" translate="SETTINGS.CLICK2CALL.TRUSTED_WEBSITE_IPS"> Trusted Website IPs</div> <div class="panel-body"> <label translate="SETTINGS.CLICK2CALL.DESCRIPTION">This is the list of IP addresses that will be allowed to generate requests to 3CX WebRTC Gateway Service to create or add new incoming calls. Localhost and the local IP Address of the pbx are already trusted by default. </label> <div class="form-group m-t"> <array-control prop="activeObject.TrustedIps"> <button type="button" ng-click="onAddClick()" ng-disabled="items.length > 5" class="btn btn-sm btn-success"> <i class="halflings halflings-plus"></i> <span>Add Folder</span> </button> <table class="table table-striped m-t-xs table-ellipsis"> <tbody> <tr ng-repeat="item in items track by $index"> <td ng-click="itemForm.$show()" class="full-width-xeditor"> <form blur="submit" editable-form buttons="no" name="itemForm" shown="inserted == item" onaftersave="push()"> <span e-ng-keydown="keypress($event, itemForm)" editable-text="item._str" e-form="itemForm" style="width:100%" e-style="width:100%;"> {{item._str}} </span> <div class="errors"> <ul> <li ng-show="invalidChars(item._str)"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.CLICK2CALL_INVALID_CHARS"></span> </li> </ul> </div> </form> </td> <td style="width:50px"> <button type="button" mc-stop-event ng-click="onItemDeleteClick(item)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button></td> </tr> </tbody> </table> </array-control> </div> </div> </div> </div> </editor-control> <click-call-add-ip></click-call-add-ip> '
              ),
          ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/dialogs/set_holidays.html",
            ' <div ng-controller="HolidaysDialogCtrl"> <div class="modal-header"> <button type="button" class="close" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="SETTINGS.MUSIC_ON_HOLD.DIALOGS.ADD.TITLE">Add holiday</h4> </div> <div class="modal-body"> <label translate="SETTINGS.MUSIC_ON_HOLD.DIALOGS.ADD.DESCRIPTION"> In addition to office hours and days of the week, you can define specific dates as public holidays, so that these dates will be considered out of office hours as well. </label> <div class="form-group"> <div class="form-group"> <text-control prop="activeObject.Name" mc-title="SETTINGS.MUSIC_ON_HOLD.DIALOGS.ADD.NAME"></text-control> </div> </div> <div class="clear row"> <div class="col-md-3"> <select-enum-control prop="activeObject.HolidayType"></select-enum-control> </div> <div ng-if="activeObject.HolidayType.selected==\'HolidayType.SingleDay\'"> <div class="col-md-1 no-padder"> <select-enum-control prop="activeObject.Day" mc-no-translate></select-enum-control> </div> <div class="col-md-2"> <select-enum-control prop="activeObject.Month"></select-enum-control> </div> <div class="col-md-2 no-padder"> <select-enum-control prop="activeObject.Year" mc-no-translate></select-enum-control> </div> <div class="col-md-2 no-padder"> <label class="m-t-xs m-l-md dashed_link" ng-click="DayRangeClick(timeRange)"> {{vm.PartTime.From}} - {{vm.PartTime.To}} </label> </div> </div> <div ng-if="activeObject.HolidayType.selected==\'HolidayType.RangeOfDays\'"> <div class="col-md-3 no-padder"> <div class="m-r-sm"> <input date-range-picker class="form-control date-picker" type="text" placeholder="{{\'SETTINGS.OFFICE_HOURS.DIALOGS.ADD.SELECT_RANGE\' | translate}}" ng-model="datePicker.date" options="{autoApply:true, linkedCalendars:true, eventHandlers: {\'hide.daterangepicker\': datePicker.onDateChange}}"> </div> </div> <div class="col-md-6 no-padder"> <div class="m-r-sm"> <checkbox-control ng-if="!activeObject.EveryYear.disabled" prop="activeObject.EveryYear" mc-title="enum.HOLIDAY_EVERY_YEAR"></checkbox-control> <span ng-if="activeObject.EveryYear.disabled" translate="SETTINGS.EVERY_YEAR_NOT_SUPPORTED"> </span> </div> </div> </div> </div> <div class="errors" ng-show="activeObject.DayStart.errorMsg"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> {{activeObject.DayStart.errorMsg}}</li> </ul> </div> </div> <div class="m-l-sm m-r-sm" style="margin-top:-15px"> <div class="line line-dashed b-b line-lg"></div> <select-file-media-control mc-title="SETTINGS.OFFICE_HOURS.DIALOGS.ADD.PROMPT" prop="activeObject.Prompt"></select-file-media-control> <div class="information"> <ul> <li> <span class="fa fa-info-circle" style="color:#004085"></span> {{\'WARNINGS.INFORMATION_IF_NO_PROMPT_SELECTED_HOL_WILL_BE_TRIGGERED\' | translate}} </li> </ul> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-disabled="activeObject.Name.errorMsg || activeObject.Prompt.errorMsg" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave"> Save </button> <button type="button" class="btn btn-default" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel"> Cancel </button> </div> </div> '
          ),
      ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/settings/dialogs/set_playlists.html",
              ' <div ng-controller="PlaylistsDialogCtrl"> <div class="modal-header"> <button type="button" class="close" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="SETTINGS.MUSIC_ON_HOLD.DIALOGS.PLAYLIST.TITLE">Configure Playlists</h4> </div> <div class="modal-body"> <label translate="SETTINGS.MUSIC_ON_HOLD.DIALOGS.PLAYLIST.DESCRIPTION"> Audio Playlists can be used as music on hold for Queues, Parked calls, Conference calls and whilst calls are placed on hold. Enter a playlist name and add the audio files you want. (Wav format only). These Audio Playlists will appear in all Music On Hold dropdowns. </label> <div class="form-group"> <div class="form-group"> <text-control prop="activeObject.Name" mc-title="SETTINGS.MUSIC_ON_HOLD.PLAYLIST_TBL.NAME"></text-control> <div style="padding-left:15px"> <checkbox-control prop="activeObject.Shuffle" mc-title="SETTINGS.MUSIC_ON_HOLD.PLAYLIST_TBL.SHUFFLE"></checkbox-control> <div class="form-group m-b form-inline"> <checkbox-control prop="activeObject.AutoGain" mc-title="SETTINGS.MUSIC_ON_HOLD.PLAYLIST_TBL.AUTO_GAIN"></checkbox-control> <number-control prop="activeObject.VolumePercent" minimum="1" maximum="100"></number-control> <label class="m-l-sm" translate="SETTINGS.MUSIC_ON_HOLD.PLAYLIST_TBL.VOLUME">days </label> </div> </div> </div> </div> <div><h4 class="modal-title" translate="SETTINGS.MUSIC_ON_HOLD.DIALOGS.PLAYLIST.MANAGE_FILES">Manage files</h4><div> <br> <select-file-list-control prop="activeObject.Files"></select-file-list-control> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-disabled="activeObject.Name.errorMsg || activeObject.Prompt.errorMsg" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave"> Save </button> <button type="button" class="btn btn-default" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel"> Cancel </button> </div> </div> </div></div>'
            ),
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/dial_codes/dial_codes.html",
                '<editor-control mc-title="SETTINGS.DIAL_CODES.TITLE" help-url="LINKS.SETTINGS_DIAL_CODES_HELP_BTN"> <div class="panel panel-default"> <div class="panel-heading font-bold" translate="SETTINGS.DIAL_CODES.DIAL_CODES">Dial Codes</div> <div class="panel-body"> <div class="form-group"> <label translate="SETTINGS.DIAL_CODES.DIAL_CODES_NOTE"></label> </div> <div class="form-group"> <text-control prop="activeObject.DialCodePark" mc-title="SETTINGS.DIAL_CODES.PARK_A_CALL"></text-control> <text-control prop="activeObject.DialCodeUnpark" mc-title="SETTINGS.DIAL_CODES.PICKUP_PARKED_CALL"></text-control> <text-control prop="activeObject.DialCodePickup" mc-title="SETTINGS.DIAL_CODES.PICKUP_A_CALL"></text-control> <text-control prop="activeObject.DialCodeProfileStatus" mc-title="SETTINGS.DIAL_CODES.CHANGE_PROFILE_STATUS"></text-control> <text-control prop="activeObject.DialCodeVMail" mc-title="SETTINGS.DIAL_CODES.CONNECT_TO_VOICEMAIL"></text-control> <text-control prop="activeObject.DialCodeLoggedInQueue" mc-title="SETTINGS.DIAL_CODES.SET_EXTENSION_AS_LOGGEDIN"></text-control> <text-control prop="activeObject.DialCodeLoggedOutQueue" mc-title="SETTINGS.DIAL_CODES.SET_EXTENSION_AS_LOGGEDOUT"></text-control> <text-control prop="activeObject.DialCodeIntercom" mc-title="SETTINGS.DIAL_CODES.PAGING"></text-control> <text-control prop="activeObject.DialCodeBillingCode" mc-title="SETTINGS.DIAL_CODES.BILLING_CODE"></text-control> <text-control prop="activeObject.DialCodeOutOffice" mc-title="SETTINGS.DIAL_CODES.EMERGENCY_CODE"></text-control> <text-control prop="activeObject.DialCodeHideCallerID" mc-title="SETTINGS.DIAL_CODES.BLOCK_OUTBOUND_CALLER_ID"></text-control> <text-control prop="activeObject.DialCodeHotdesking" mc-title="SETTINGS.DIAL_CODES.HOTDESKING" available-pro-enterprise="true"></text-control> <text-control prop="activeObject.DialCodeHotelAccess" mc-title="SETTINGS.DIAL_CODES.HOTEL_ACCESS" information-link="LINKS.DIAL_CODES_HOTEL_ACCESS_LINK"></text-control> </div> </div> </div> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/e164.html",
                '<editor-control mc-title="SETTINGS.E164.TITLE"> <div class="panel panel-default" ng-controller="E164Ctrl"> <checkbox-control-header prop="activeObject.E164Enabled" mc-title="SETTINGS.E164.E16_ENABLED"> </checkbox-control-header> <div class="panel-body"> <label translate="SETTINGS.E164.DESCRIPTION"> E164 numbers conform to a standard format. If your application stores numbers in E164 format, you must pre-process these numbers by prepend a prefix and stripping the + sign</label> <select-control mc-title="SETTINGS.E164.SELECT_COUNTRY" prop="Country"></select-control> <checkbox-control prop="activeObject.E164RemoveCountryCode" mc-title="SETTINGS.E164.REMOVE_IF_SAME_COUNTRY"></checkbox-control> <text-control prop="activeObject.E164InternationalCode" mc-title="SETTINGS.E164.INTERNATIONAL_CODE" placeholder="SETTINGS.E164.INTERNATIONAL_CODE"></text-control> <text-control prop="activeObject.E164AreaCode" mc-title="SETTINGS.E164.AREA_CODE" placeholder="SETTINGS.E164.AREA_CODE"></text-control> <checkbox-control prop="activeObject.E164RemoveAreaCode" mc-title="SETTINGS.E164.REMOVE_IF_SAME_AREA"></checkbox-control> <text-control prop="activeObject.E164NationalCode" mc-title="SETTINGS.E164.NATIONAL_CODE" placeholder="SETTINGS.E164.NATIONAL_CODE"></text-control> <text-control prop="activeObject.E164Prefix" mc-title="SETTINGS.E164.ADD_PREFIX" placeholder="SETTINGS.E164.ADD_PREFIX"></text-control> </div> </div> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/email/email.html",
                '<editor-control mc-title="SETTINGS.EMAIL.TITLE" help-url="LINKS.SETTINGS_EMAIL_HELP_BTN"> <div class="tab-container"> <ul class="nav nav-tabs"> <li role="presentation" ui-sref-active="active"> <a ui-sref=".mail_server" translate="SETTINGS.NETWORK.SECTIONS.MAIL_SERVER">Mail Server</a> </li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".main" translate="SETTINGS.EMAIL.NOTIFICATIONS.NOTIFICATIONS">Notifications</a> </li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".templates" translate="SETTINGS.EMAIL.EMAIL_TEMPLATES.EMAIL_TEMPLATES">Email templates</a> </li> </ul> <form name="outerForm"> <div class="tab-content"> <ui-view></ui-view> </div> </form> </div> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/email/mail_server.html",
                '<panel mc-title="SETTINGS.NETWORK.MAIL_SERVER.SETTINGS"> <div ng-controller="MailServerCtrl"> <label translate="SETTINGS.NETWORK.MAIL_SERVER.SETTINGS_MSG"> Specify the mail server to use for voice mail and fax delivery, for example mail.mycompany.com </label> <select-control mc-title="SETTINGS.NETWORK.MAIL_SERVER.EMAIL_SERVER_TYPE" prop="activeObject.MailServerType"></select-control> <div class="information" ng-if="activeObject.MailServerType.selected._str == \'Gmail\'"> <ul> <li translate="SETTINGS.NETWORK.MAIL_SERVER.GMAIL_PROVIDER_COMMENT"></li> </ul> </div> <div class="information" ng-if="activeObject.MailServerType.selected._str == \'SETTINGS.NETWORK.MAIL_SERVER.MAIL_TYPE_NAMES.MS365\'"> <ul> <li translate="SETTINGS.NETWORK.MAIL_SERVER.MS365_PROVIDER_COMMENT"></li> </ul> </div> <text-control prop="activeObject.MailServer" mc-title="SETTINGS.NETWORK.MAIL_SERVER.MAIL_SERVER" placeholder="SETTINGS.NETWORK.MAIL_SERVER.MAIL_SERVER" maxlength="255" ng-show="!activeObject.MailServer.disabled"></text-control> <text-control prop="activeObject.MailAddress" mc-title="SETTINGS.NETWORK.MAIL_SERVER.REPLY_ADDRESS" placeholder="SETTINGS.NETWORK.MAIL_SERVER.REPLY_ADDRESS" maxlength="254" ng-show="!activeObject.MailAddress.disabled"></text-control> <text-control prop="activeObject.MailUser" mc-title="SETTINGS.NETWORK.MAIL_SERVER.SMTP_USERNAME" placeholder="SETTINGS.NETWORK.MAIL_SERVER.SMTP_USERNAME" maxlength="254" ng-show="!activeObject.MailUser.disabled" ng-if="activeObject.MailServerType.selected._str != \'SETTINGS.NETWORK.MAIL_SERVER.MAIL_TYPE_NAMES.MS365\'"></text-control> <text-control prop="activeObject.MailUser" mc-title="SETTINGS.NETWORK.MAIL_SERVER.SMTP_USERNAME_ONLY" placeholder="SETTINGS.NETWORK.MAIL_SERVER.SMTP_USERNAME_ONLY" maxlength="254" ng-show="!activeObject.MailUser.disabled" ng-if="activeObject.MailServerType.selected._str == \'SETTINGS.NETWORK.MAIL_SERVER.MAIL_TYPE_NAMES.MS365\'"></text-control> <password-control prop="activeObject.MailPassword" mc-title="SETTINGS.NETWORK.MAIL_SERVER.SMTP_PASSWORD" placeholder="SETTINGS.NETWORK.MAIL_SERVER.SMTP_PASSWORD" maxlength="255" ng-show="!activeObject.MailPassword.disabled"></password-control> <checkbox-control prop="activeObject.MailSSLEnabled" mc-title="SETTINGS.NETWORK.MAIL_SERVER.ENABLE_SSL" ng-show="!activeObject.MailSSLEnabled.disabled"></checkbox-control> <button type="button" ng-click="onSendTestEmailClick(activeObject)" class="btn btn-sm btn-default btn-responsive" translate="REPOS.BUTTONS.TEST" id="btnTest"><i class="fa fa-mail-forward"></i> TEST</button> <div class="errors" ng-show="errorMsg && !activeObject.MailUser.errorMsg"> <ul> <li> <span class="fa fa-exclamation-triangle m-r-xs"></span> <span translate="{{errorMsg}}" translate-values="{{errorParams}}"></span> </li> </ul> </div> <div class="successes" ng-show="successMsg"> <ul> <li> <span class="fa fa-check m-r-xs"></span> <span>{{successMsg}}</span> </li> </ul> </div> </div> </panel> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/email/main.html",
                '<panel mc-title="SETTINGS.EMAIL.NOTIFICATIONS.EMAIL_ADDRESS_FOR_NOTIFICATIONS"> <text-control prop="activeObject.EmailAddresses" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.ENTER_EMAIL" placeholder="SETTINGS.EMAIL.NOTIFICATIONS.ENTER_EMAIL_ADDRESS_OR_ADDRESSES" maxlength="254"> </text-control> </panel> <panel mc-title="SETTINGS.EMAIL.NOTIFICATIONS.EVENTS"> <label translate="SETTINGS.EMAIL.NOTIFICATIONS.SEND_ALERT_MSG">Send an Email Alert when the following events occur</label> <checkbox-control prop="activeObject.NotifyEmergencyNumberDialied" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.SOMEONE_DIALS_EMERGENCY"></checkbox-control> <checkbox-control prop="activeObject.NotifyTrunkStatusChanged" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.THE_STATUS_OF_TRUNK_CHANGES"></checkbox-control> <checkbox-control prop="activeObject.NotifyTrunkFailover" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.TRUNK_FAILOVER"></checkbox-control> <checkbox-control prop="activeObject.NotifyTrunkError" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.TRUNK_RESPOND_ERROR_CODE"></checkbox-control> <checkbox-control prop="activeObject.NotifyLicenseLimit" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.THE_LICENSE_LIMIT_REACHED"></checkbox-control> <checkbox-control prop="activeObject.NotifyIPBlocked" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.IP_BLACKLISTED"></checkbox-control> <checkbox-control prop="activeObject.NotifyRequestAntiHacked" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.REQUESTS_REJECTED"></checkbox-control> <checkbox-control prop="activeObject.NotifyNetworkError" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.DNS_RESOLUTION_FAILURE"></checkbox-control> <checkbox-control prop="activeObject.NotifySTUNError" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.STUN_RESOLUTION_FAILURE"></checkbox-control> <checkbox-control prop="activeObject.NotifyStorageLimit" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.HD_CAPACITY"></checkbox-control> <checkbox-control prop="activeObject.NotifyCallDenied" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.CALL_TO_BLOCKED_COUNTRY"></checkbox-control> <checkbox-control prop="activeObject.NotifyMCAccessed" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.LOGIN_OUT_CONSOLE"></checkbox-control> <checkbox-control prop="activeObject.NotifyExtensionAdded" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.NOTIFY_WHEN_EXTENSION_ADDED"></checkbox-control> <checkbox-control prop="activeObject.NotifyServiceStopped" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.3CX_SERVICES_STOP"></checkbox-control> <checkbox-control prop="activeObject.NotifyUpdatesAvailable" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.UPDATES_AVAILABLE"></checkbox-control> <checkbox-control prop="activeObject.NotifySuccessScheduledBackups" mc-title="SETTINGS.EMAIL.NOTIFICATIONS.SUCCESS_SCHEDULED_BACKUP"></checkbox-control> </panel> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/hotel_services/hotel_services.html",
                '<editor-control mc-title="SETTINGS.HOTEL_SERVICES.TITLE" help-url="LINKS.SETTINGS_HOTEL_SERVICES_HELP_BTN" license-restriction-text="REPOS.TEXT.PROFESSIONAL_REQUIRED"> <div class="panel panel-default"> <checkbox-control-header prop="activeObject.Enabled" mc-title="SETTINGS.HOTEL_SERVICES.ENABLED"> </checkbox-control-header> <fieldset class="panel-body"> <div class="form-group"> <span translate="SETTINGS.HOTEL_SERVICES.DESCRIPTION"></span> <br><br> <select-enum-control prop="activeObject.IntegrationType" mc-title="SETTINGS.HOTEL_SERVICES.INTEGRATION_TYPE"></select-enum-control> <label>{{\'SETTINGS.HOTEL_SERVICES.IP_ADDRESS\'|translate}}</label> <div class="form-inline top-align-form-group"> <text-control prop="activeObject.IPAddr" placeholder="SETTINGS.HOTEL_SERVICES.IP_ADDRESS"></text-control> <number-control prop="activeObject.Port" placeholder="SETTINGS.HOTEL_SERVICES.PORT"></number-control> </div> </div> <div class="form-group"> <div translate="SETTINGS.HOTEL_SERVICES.GROUPS_TITLE">Hotel Room Extension groups</div> <label translate="SETTINGS.HOTEL_SERVICES.GROUPS_DESCRIPTION">Specify the groups which include the hotel rooms. PMS messages will be sent only to extensions part of these groups.</label> <set-control prop="activeObject.FromGroups" mc-title="SETTINGS.HOTEL_SERVICES.GROUPS_TITLE" button-title="REPOS.BUTTONS.OK_BTN"> <set-control-groups disable-delete-button="activeObject.IntegrationType.disabled"></set-control-groups> </set-control> </div> </fieldset> </div> <panel mc-title="SETTINGS.HOTEL_SERVICES.UNANSWERED_TITLE"> <div class="form-group"> <div class="form-inline"> <label class="m-b" translate="SETTINGS.HOTEL_SERVICES.UNANSWERED_IF_NOT_ANSWER_CALL_WITHIN">If wake-up call is not answered within:</label> <span ng-class="activeObject.NoAnswerTimeout.class"><input type="number" class="form-control" style="width:5em!important;padding-top:2px!important;margin-left:5px!important;margin-right:5px!important" min="0" max="1000000000" placeholder="{{placeholder}}" ng-model="activeObject.NoAnswerTimeout.value" ng-model-options="{getterSetter: true, updateOn: \'blur\'}" required undefined-number=""></span> <label translate="SETTINGS.HOTEL_SERVICES.UNANSWERED_FORWARD_TO">seconds, forward call to:</label> </div> <no-answer-destination-control prop="activeObject.NoAnswerDestination._value"></no-answer-destination-control> </div> </panel> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/license/license.html",
                '<div ng-controller="LicenseCtrl"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SETTINGS.LICENSE.TITLE">Licence Settings</label> <button class="btn m-l-lg m-b-xs w-xs btn-success btn-md" ng-model="saveGroup" ng-click="editLicense()" translate="REPOS.BUTTONS.EDIT_BTN_BIG" ng-hide="editMode" type="button"> Edit </button> <button class="btn m-l-lg m-b-xs w-xs btn-success btn-md" ng-model="saveGroup" ng-click="saveLicense()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" ng-show="editMode" type="button"> Save </button> <button class="btn m-b-xs w-xs btn-dark btn-md" ng-model="cancelGroup" ng-click="cancel()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button"> Cancel </button> <button class="btn m-b-xs btn-dark btn-md" ng-click="refreshLicense()" ng-hide="editMode" translate="SETTINGS.LICENSE.REFRESH_LICENSE" id="btnRefresh" type="button"> Refresh License Key Information </button> <button class="btn m-b-xs btn-dark btn-md" ng-click="replaceLicense()" ng-hide="editMode || !license.Key || license.IsFailoverEnabled" translate="SETTINGS.LICENSE.REPLACE_LICENSE_KEY.TITLE" id="btnReplace" type="button"> Replace License Key </button> <a type="button" target="_blank" rel="noopener" class="btn btn-md btn-default pull-right" href="https://login.3cx.com?account={{$root.User.registrationEmail}}" ng-if="!!$root.User.registrationEmail"> <span id="btnPortal">Manage License Key</span> </a> <a type="button" ui-sref="app.settings.licenses" class="btn btn-md btn-default pull-right"> <span translate="REPOS.BUTTONS.CREDITS" id="btnCredits"></span> </a> </div> <div class="wrapper-md tab-container"> <div class="form-group has-error" ng-show="activationError"> <label class="control-label" ng-bind-html="activationError"></label> </div> <div ng-hide="editMode"> <panel mc-title="SETTINGS.LICENSE.PRODUCT_DETAILS"> <div class="alert alert-danger" ng-if="license && !license.IsLoadedFromERP"> <span ng-if="licenseError!== undefined" class="has-error" translate="license_error.{{licenseError}}" translate-values="{{license}}"> {{license.LoadingError}} </span> <span ng-if="licenseError === undefined" class="has-error" translate="license_error.Unknown"> </span> </div> <div class="alert alert-danger" ng-if="!(license && !license.IsLoadedFromERP) && licenseError"> <span class="has-error" translate="license_error.{{licenseError}}"></span> </div> <table class="table table-striped m-b-none"> <tbody> <tr> <td translate="SETTINGS.LICENSE.PRODUCT">Product</td> <td> <span ng-if="license.IsLoadedFromERP" translate="SETTINGS.LICENSE.{{license.ProductCode}}"></span> </td> </tr> <tr> <td translate="SETTINGS.LICENSE.VERSION_NUMBER">Version Number</td> <td> <div ng-if="license.IsLoadedFromERP"> <span>{{presentVersion(license.Version)}}</span> </div> </td> </tr> <tr> <td translate="SETTINGS.LICENSE.LICENSE_EXPIRES">License Expires</td> <td> <span ng-if="license.ExpirationDate">{{license.ExpirationDate | mcDateFormat}}</span> </td> </tr> <tr> <td translate="SETTINGS.LICENSE.MAINTENANCE">Maintenance</td> <td> <span ng-if="license.MaintenanceExpirationDate"> {{license.MaintenanceExpirationDate | mcDateFormat}} </span> </td> </tr> <tr> <td translate="SETTINGS.LICENSE.NUMBER_OF_SIM_CALLS">Number of Simultaneous Calls</td> <td>{{license.MaxSimCalls}}</td> </tr> <tr> <td translate="SYSTEM_STATUS.SYSTEM_INFO.SIM_MEETING_PARTICIPANTS"> Number of Simultaneous Meeting Participants</td> <td>{{license.SimMeetingParticipants}}</td> </tr> <tr> <td translate="SETTINGS.LICENSE.LICENSE_KEY">License key</td> <td>{{license.Key}}</td> </tr> <tr> <td translate="SETTINGS.LICENSE.PRODUCT_OWNED_BY">Product owned by</td> <td>{{license.CompanyName}}</td> </tr> <tr> <td> <label translate="SETTINGS.LICENSE.REGISTRATION_DETAILS">Registration details</label> </td> <td> <p>{{license.ContactName}}</p> <p>{{license.Email}}</p> <p>{{license.Telephone}}</p> <p>{{license.CountryName}}</p> </td> </tr> <tr> <td translate="SETTINGS.LICENSE.LICENSE_STATUS">License status</td> <td> <div ng-if="license.IsLoadedFromERP"> <div ng-if="license.AlreadyActivated"> <span translate="SETTINGS.LICENSE.ACTIVATED">Activated</span> </div> <div ng-if="!license.AlreadyActivated" class="has-error"> <span class="control-label" translate="SETTINGS.LICENSE.NOT_ACTIVATED">Not activated</span> </div> </div> </td> </tr> </tbody> </table> </panel> </div> <div ng-show="editMode"> <panel mc-title="SETTINGS.LICENSE.EDITOR.LICENSE_KEY"> <input type="text" class="form-control" ng-model="license.Key" ng-disabled="true" placeholder="SETTINGS.LICENSE.EDITOR.LICENSE_KEY" maxlength="50"> </panel> <ng-form name="licenseData" novalidate="novalidate"> <panel mc-title="SETTINGS.LICENSE.EDITOR.CUSTOMER_DETAILS_TITLE"> <div class="form-group"> <label translate="SETTINGS.LICENSE.EDITOR.COMPANY_NAME"></label> <input type="text" class="form-control m-b" placeholder="{{\'SETTINGS.LICENSE.EDITOR.COMPANY_NAME\' | translate}}" maxlength="50" ng-required="true" ng-pattern="specialCharactersPattern" ng-model="license.CompanyName" name="CompanyName"> <div class="errors"> <ul> <li ng-show="submitted && licenseData.CompanyName.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="SETTINGS.LICENSE.EDITOR.VALIDATION.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> <li ng-show="submitted && licenseData.CompanyName.$error.pattern"> <span class="halflings halflings-exclamation-sign"></span> <span translate="SETTINGS.LICENSE.EDITOR.VALIDATION.INVALID_VALUE_SPECIAL_CHARACTERS"></span><span> {{specialCharacters}}</span> </li> </ul> </div> </div> <div class="form-group"> <select-control mc-title="INSTALL_WIZARD.REGISTRATION.COUNTRY" prop="helper.CountryForLicense"> </select-control> </div> <div class="form-group"> <label translate="SETTINGS.LICENSE.EDITOR.CONTACT_NAME"></label> <input type="text" class="form-control m-b" placeholder="{{\'SETTINGS.LICENSE.EDITOR.CONTACT_NAME\' | translate}}" maxlength="50" ng-required="true" ng-disabled="license.AlreadyActivated" ng-pattern="specialCharactersPattern" ng-model="license.ContactName" name="ContactName"> <div class="errors"> <ul> <li ng-show="submitted && licenseData.ContactName.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="SETTINGS.LICENSE.EDITOR.VALIDATION.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> <li ng-show="submitted && licenseData.ContactName.$error.pattern"> <span class="halflings halflings-exclamation-sign"></span> <span translate="SETTINGS.LICENSE.EDITOR.VALIDATION.INVALID_VALUE_SPECIAL_CHARACTERS"></span><span> {{specialCharacters}}</span> </li> </ul> </div> </div> <div class="form-group"> <label translate="SETTINGS.LICENSE.EDITOR.EMAIL"></label> <input type="text" class="form-control m-b" placeholder="{{\'SETTINGS.LICENSE.EDITOR.EMAIL\' | translate}}" maxlength="50" ng-required="true" ng-disabled="license.AlreadyActivated" multiple-emails="" ng-model="license.Email" name="Email"> <div class="errors"> <ul> <li ng-show="submitted && licenseData.Email.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="SETTINGS.LICENSE.EDITOR.VALIDATION.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> <li ng-show="submitted && licenseData.Email.$error.multipleEmails"> <span class="halflings halflings-exclamation-sign"></span> <span translate="SETTINGS.LICENSE.EDITOR.VALIDATION.INVALID_EMAIL_LIST"></span> </li> </ul> </div> </div> <div class="form-group"> <label translate="SETTINGS.LICENSE.EDITOR.TELEPHONE"></label> <input type="text" class="form-control m-b" placeholder="{{\'SETTINGS.LICENSE.EDITOR.TELEPHONE\' | translate}}" maxlength="50" ng-required="true" ng-disabled="license.AlreadyActivated" ng-model="license.Telephone" name="Telephone"> <div class="errors"> <ul> <li ng-show="submitted && licenseData.Telephone.$error.required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="SETTINGS.LICENSE.EDITOR.VALIDATION.FIELD_SHOULD_NOT_BE_EMPTY"></span> </li> </ul> </div> </div> <div class="form-group"> <label translate="SYSTEM_STATUS.SYSTEM_INFO.RESELLER">Reseller ID (or name of reseller if you do not have ID available)</label> <div class="form-group"> <input type="text" class="form-control m-b" placeholder="{{\'SYSTEM_STATUS.SYSTEM_INFO.RESELLER\' | translate}}" maxlength="50" ng-if="ResellerNameOriginal != \'\'" readonly="true" ng-model="license.ResellerName"> <input type="text" class="form-control m-b" placeholder="{{\'SYSTEM_STATUS.SYSTEM_INFO.RESELLER\' | translate}}" min="0" max="9999999999" ng-if="ResellerNameOriginal == \'\'" ng-model="license.ResellerName" ng-pattern-restrict="" pattern="^[0-9]{0,10}$"> </div> </div> </panel> </ng-form> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/moh/general.html",
                '<div class="panel panel-default"> <div class="panel-heading font-bold" translate="SETTINGS.MUSIC_ON_HOLD.MUSIC_ON_HOLD">Music on Hold files</div> <div class="panel-body"> <div class="form-group"> <select-file-media-control prop="activeObject.MusicOnHold" mc-title="SETTINGS.MUSIC_ON_HOLD.MUSIC_ON_HOLD_0"></select-file-media-control> <select-file-media-control prop="activeObject.MusicOnHold1" mc-title="SETTINGS.MUSIC_ON_HOLD.MUSIC_ON_HOLD_1"></select-file-media-control> <select-file-media-control prop="activeObject.MusicOnHold2" mc-title="SETTINGS.MUSIC_ON_HOLD.MUSIC_ON_HOLD_2"></select-file-media-control> <select-file-media-control prop="activeObject.MusicOnHold3" mc-title="SETTINGS.MUSIC_ON_HOLD.MUSIC_ON_HOLD_3"></select-file-media-control> <select-file-media-control prop="activeObject.MusicOnHold4" mc-title="SETTINGS.MUSIC_ON_HOLD.MUSIC_ON_HOLD_4"></select-file-media-control> <select-file-media-control prop="activeObject.MusicOnHold5" mc-title="SETTINGS.MUSIC_ON_HOLD.MUSIC_ON_HOLD_5"></select-file-media-control> <select-file-media-control prop="activeObject.MusicOnHold6" mc-title="SETTINGS.MUSIC_ON_HOLD.MUSIC_ON_HOLD_6"></select-file-media-control> <select-file-media-control prop="activeObject.MusicOnHold7" mc-title="SETTINGS.MUSIC_ON_HOLD.MUSIC_ON_HOLD_7"></select-file-media-control> <select-file-media-control prop="activeObject.MusicOnHold8" mc-title="SETTINGS.MUSIC_ON_HOLD.MUSIC_ON_HOLD_8"></select-file-media-control> <select-file-media-control prop="activeObject.MusicOnHold9" mc-title="SETTINGS.MUSIC_ON_HOLD.MUSIC_ON_HOLD_9"></select-file-media-control> </div> </div> </div> <div class="panel panel-default"> <checkbox-control-header prop="activeObject.MusicOnHoldRandomize" mc-title="SETTINGS.MUSIC_ON_HOLD.CONTROL_PLAYBACK"></checkbox-control-header> <div class="panel-body"> <radio-enum-control prop="activeObject.MusicOnHoldRandomizeAlgo"> </radio-enum-control> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/moh/music_on_hold.html",
                '<editor-control mc-title="SETTINGS.MUSIC_ON_HOLD.TITLE"> <ul class="nav nav-tabs"> <li role="presentation" ui-sref-active="active"> <a ui-sref=".general" translate="SETTINGS.MUSIC_ON_HOLD.GENERAL_MOH_TAB">General MOH</a> </li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".playlists" translate="SETTINGS.MUSIC_ON_HOLD.PLAYLISTS_TAB">Playlists</a> </li> </ul> <form name="outerForm"> <div class="tab-content"> <ui-view></ui-view> </div> </form> </editor-control> '
              ),
          ]);
      var DC =
        ' <div class="panel panel-default"> <div class="panel-heading" translate="SETTINGS.MUSIC_ON_HOLD.CONFIGURE_PLAYLISTS">Configure Playlists</div> <property-list-control prop="activeObject.Playlists" object-id="Id" modal-editor-url="' +
        nt()("js/app/settings/dialogs/set_playlists.html") +
        '" confirm-deletion> <div class="panel-body" sticky-to-top> <button type="button" ng-click="onAddClick()" class="btn btn-sm btn-success" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"> <i class="halflings halflings-plus"></i> Add </button> <button type="button" ng-disabled="!isOneSelected" class="btn btn-sm btn-default" ng-click="onEditClick()" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"> <i class="halflings halflings-pencil"></i> Edit </button> <button type="button" ng-disabled="!isAnySelected" class="btn btn-sm btn-default" ng-click="onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i> Delete </button> </div> <table st-table="displayedItems" st-safe-src="items" class="table table-striped" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="Name._value" translate="SETTINGS.MUSIC_ON_HOLD.PLAYLIST_TBL.NAME">Name</th> <th st-sort="holidayDate" translate="SETTINGS.MUSIC_ON_HOLD.PLAYLIST_TBL.PATH">Path</th> <th class="col-responsive" st-sort="holidayTime" translate="SETTINGS.MUSIC_ON_HOLD.PLAYLIST_TBL.VOLUME">Volume</th> <th class="col-responsive" st-sort="holidayDuration" translate="SETTINGS.MUSIC_ON_HOLD.PLAYLIST_TBL.AUTO_GAIN">Auto Gain</th> <th class="col-responsive" st-sort="holidayPrompt" translate="SETTINGS.MUSIC_ON_HOLD.PLAYLIST_TBL.SHUFFLE">Shuffle</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-click="onItemEditClick(playlist)" ng-repeat="playlist in displayedItems"> <td class="col-btn" mc-select-row="playlist"></td> <td>{{playlist.Name._value}}</td> <td>{{playlist.RepositoryPath._value}}</td> <td class="col-responsive">{{(playlist.VolumePercent._value == 0 || !playlist.AutoGain._value)?("REPOS.TEXT.DEFAULT"|translate):playlist.VolumePercent._value}}</td> <td class="col-responsive">{{(playlist.AutoGain._value?\'REPOS.TEXT.YES\':\'REPOS.TEXT.NO\') | translate}}</td> <td class="col-responsive">{{(playlist.Shuffle._value?\'REPOS.TEXT.YES\':\'REPOS.TEXT.NO\') | translate}}</td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="onItemDeleteClick(playlist)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> </property-list-control> </div> ';
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) => t.put("js/app/settings/moh/playlists.html", DC),
        ]),
        u.module("app").controller("NetworkCtrl", ["$scope", function (t) {}]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/network/firewall.html",
                '<panel mc-title="SETTINGS.NETWORK.FIREWALL.SETTINGS"> <checkbox-control prop="activeObject.FirewallSendMedia" mc-title="SETTINGS.NETWORK.FIREWALL.SEND_MEDIA_TO_IP"></checkbox-control> <div class="form-group form-inline clear"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="activeObject.FirewallKeepAlive.value" ng-model-options="{getterSetter: true}"> <i></i> <span translate="SETTINGS.NETWORK.FIREWALL.ENABLE_KEEPS_ALIVE"></span></label> <input type="number" class="form-control m-b-xs" min="0" max="1000000000" placeholder="{{placeholder}}" ng-model="activeObject.FirewallKeepAliveInterval.value" ng-model-options="{getterSetter: true, updateOn: \'blur\'}" ng-disabled="activeObject.FirewallKeepAliveInterval.disabled" required> </div> </panel>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/network/fqdn.html",
                '<panel mc-title="SETTINGS.NETWORK.FQDN.FQDN"> <text-control maxlength="500" mc-title="SETTINGS.NETWORK.FQDN.FQDN_MSG" prop="activeObject.FQDN"></text-control> </panel> <panel mc-title="SETTINGS.NETWORK.FQDN.SETTINGS_FOR_DIRECT_SIP"> <label> <span translate="SETTINGS.NETWORK.FQDN.SETTINGS_FOR_DIRECT_SIP_MSG"> 3CX Phone System can make or receive Direct SIP Calls (user1@mydomain.com) as well as place Direct SIP calls to other domains. Requires DNS SRV records </span> <a href="{{\'LINKS.SETTINGS_NETWORK_FQDN\'| translate}}" target="_blank" class="dashed_link"> <span translate="REPOS.TEXT.CLICK_HERE_MORE_INFO"></span> </a> </label> <checkbox-control prop="activeObject.DirectSIPAllowExternal" mc-title="SETTINGS.NETWORK.FQDN.ALLOW_CALLS_FROM_SIP_URI"></checkbox-control> <text-control prop="activeObject.DirectSIPLocalDomain" mc-title="SETTINGS.NETWORK.FQDN.LOCAL_SIP_DOMAIN" placeholder="sip.3cx.com" maxlength="255"></text-control> </panel> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/network/network.html",
                '<editor-control mc-title="SETTINGS.NETWORK.TITLE" help-url="LINKS.SETTINGS_NETWORK_HELP_BTN"> <div class="tab-container"> <ul class="nav nav-tabs"> <li role="presentation" ui-sref-active="active"> <a ui-sref=".public_ip" translate="SETTINGS.NETWORK.SECTIONS.PUBLIC_IP">Public IP</a></li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".fqdn" translate="SETTINGS.NETWORK.SECTIONS.FQDN">FQDN</a></li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".ports" translate="SETTINGS.NETWORK.SECTIONS.PORTS">Ports</a></li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".firewall" translate="SETTINGS.NETWORK.SECTIONS.FIREWALL">Firewall</a></li> </ul> <form name="outerForm"> <div class="tab-content"> <ui-view></ui-view> </div> </form> </div> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/network/ports.html",
                '<panel mc-title="SETTINGS.NETWORK.PORTS.SIP_PORT"> <label> <span translate="SETTINGS.NETWORK.PORTS.PBV_SIP_PORT"></span> </label> <number-control prop="activeObject.SIPPort" placeholder="5060"></number-control> </panel> <panel mc-title="SETTINGS.NETWORK.PORTS.TUNNEL_PORT"> <label> <span translate="SETTINGS.SECURITY.3CX_TUNNEL.TUNNEL_LISTENING_PORT"></span> </label> <number-control prop="activeObject.TunnelPort" placeholder="SETTINGS.SECURITY.3CX_TUNNEL.TUNNEL_LISTENING_PORT"> </number-control> </panel> <panel ng-if="false" mc-title="SETTINGS.NETWORK.PORTS.PORTS_USED_INTERNAL_LEG"> <label translate="SETTINGS.NETWORK.PORTS.PORTS_USED_INTERNAL_MSG"> Ports used for connections from PBX to local devices for calls via VOIP providers/ external extensions. No need to open these ports on the firewall </label> <number-control prop="activeObject.InternalLegFirstPort" mc-title="SETTINGS.NETWORK.PORTS.FIRST_PORT" placeholder="7000"></number-control> <number-control prop="activeObject.InternalLegLastPort" mc-title="SETTINGS.NETWORK.PORTS.LAST_PORT" placeholder="7500"></number-control> </panel> <panel ng-if="false" mc-title="SETTINGS.NETWORK.PORTS.PORTS_USED_EXTERNAL_LEG"> <label translate="SETTINGS.NETWORK.PORTS.PORTS_USED_EXTERNAL_MSG"> These ports will be used for fonnections from the PBX to VOIP providers or to external extensions. You will need to open these ports on your internet facing firewall. To check if the ports are open and NET is working correctly, run the firewall checker. </label> <number-control prop="activeObject.ExternalLegFirstPort" mc-title="SETTINGS.NETWORK.PORTS.FIRST_PORT" placeholder="9000"></number-control> <number-control prop="activeObject.ExternalLegLastPort" mc-title="SETTINGS.NETWORK.PORTS.LAST_PORT" placeholder="9255"></number-control> </panel>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/network/public_ip.html",
                '<panel mc-title="SETTINGS.NETWORK.PUBLIC_IP.SELECT_NETWORK_CARD_INTERFACE"> <select-control prop="activeObject.NetworkInterface" mc-title="SETTINGS.NETWORK.PUBLIC_IP.SELECT_NETWORK_INTERFACE" placeholder="SETTINGS.NETWORK.PUBLIC_IP.SELECT_NETWORK_INTERFACE"></select-control> <checkbox-control prop="activeObject.IPv6BindingEnabled" mc-title="SETTINGS.NETWORK.PUBLIC_IP.IPV6_BINDING_ENABLED"></checkbox-control> </panel> <panel mc-title="SETTINGS.NETWORK.PUBLIC_IP.PUBLIC_IP"> <label class="i-checks m-b clear"> <input type="radio" ng-model-options="{getterSetter: true}" ng-model="activeObject.STUNEnabled.value" ng-value="false"><i></i> <span translate="SETTINGS.NETWORK.PUBLIC_IP.PUBLIC_IP_MSG">Public IP</span> </label> <div> <text-control prop="activeObject.PublicIP" mc-title="SETTINGS.NETWORK.PUBLIC_IP.STATIC_PUBLIC_IP"> </text-control> </div> <label class="i-checks m-b clear"> <input type="radio" ng-model-options="{getterSetter: true}" ng-model="activeObject.STUNEnabled.value" ng-value="true"><i></i> <span translate="SETTINGS.NETWORK.PUBLIC_IP.STUN_SERVER_SETTINGS">Dynamic Public IP (IP changes)</span> </label> <fieldset> <label translate="SETTINGS.NETWORK.PUBLIC_IP.PRIMARY_STUN_SERVER">Primary STUN server</label> <div class="form-group"> <div class="col-sm-10 no-padder"> <text-control prop="activeObject.STUNPrimaryHost"></text-control> </div> <div class="col-sm-2"> <number-control prop="activeObject.STUNPrimaryPort"></number-control> </div> </div> <label class="m-t-md" translate="SETTINGS.NETWORK.PUBLIC_IP.SECONDARY_STUN_SERVER">Secondary STUN server</label> <div class="form-group"> <div class="col-sm-10 no-padder"> <text-control prop="activeObject.STUNSecondaryHost"></text-control> </div> <div class="col-sm-2"> <number-control prop="activeObject.STUNSecondaryPort"></number-control> </div> </div> <label class="m-t-md" translate="SETTINGS.NETWORK.PUBLIC_IP.THIRD_STUN_SERVER">Third STUN server</label> <div class="form-group clear m-b-md"> <div class="col-sm-10 no-padder"> <text-control prop="activeObject.STUNThirdHost"></text-control> </div> <div class="col-sm-2"> <number-control prop="activeObject.STUNThirdPort"></number-control> </div> </div> <div class="form-group m-b"> <number-control prop="activeObject.STUNQuery" mc-title="SETTINGS.NETWORK.PUBLIC_IP.QUERY_STUN_SERVER_SECONDS" placeholder="SETTINGS.NETWORK.PUBLIC_IP.QUERY_STUN_SERVER_SECONDS"></number-control> </div> </fieldset>  </panel> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/number_blacklist/new_black_list_modal.html",
                '<div class="modal-header"> <button type="button" class="close" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="SETTINGS.BLACKLISTED_NUMBERS.EDITOR.TITLE">Blacklist</h4> </div> <div class="modal-body"> <text-control prop="activeObject.CallerID" mc-title="SETTINGS.BLACKLISTED_NUMBERS.EDITOR.INCOMING_CALLER_ID" placeholder="SETTINGS.BLACKLISTED_NUMBERS.EDITOR.INCOMING_CALLER_ID"></text-control> <div class="form-group m-b" ng-hide="prop.hide" ng-class="prop.class"> <label translate="SETTINGS.BLACKLISTED_NUMBERS.EDITOR.DESCRIPTION"></label> <textarea class="w-full" maxlength="250" style="height:70px" ng-model="activeObject.Description.value" placeholder="{{\'SETTINGS.BLACKLISTED_NUMBERS.EDITOR.DESCRIPTION\' | translate}}" ng-model-options="{getterSetter: true, updateOn: \'blur\'}"></textarea> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save </button> <button type="button" class="btn btn-default" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close </button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/number_blacklist/number_blacklist.html",
                '<div class="hbox hbox-auto-xs hbox-auto-sm" ng-controller="NumberBlacklistCtrl"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SETTINGS.BLACKLISTED_NUMBERS.TITLE">Blacklisted Numbers Settings</label> <help-button url="{{\'LINKS.SETTINGS_BLACKLISTED_NUMBERS_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading font-bold" translate="SETTINGS.BLACKLISTED_NUMBERS.BLACKLISTED_NUMBERS">Blacklisted Numbers</div> <div class="panel-body" sticky-to-top=""> <button type="button" ng-click="onAddClick()" class="btn btn-sm btn-success" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"><i class="halflings halflings-plus"></i> Add </button> <button type="button" ng-disabled="!isOneSelected" class="btn btn-sm btn-default" ng-click="onEditClick(row)" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"><i class="halflings halflings-pencil"></i> Edit </button> <button type="button" ng-disabled="!isAnySelected" class="btn btn-sm btn-default" ng-click="onDeleteClick(row)" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"><i class="halflings halflings-remove"></i> Delete </button> <import-control url="NumberBlackList"></import-control> </div> <table st-table="displayedItems" st-safe-src="items" class="table table-striped" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <td colspan="12"><input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"></td> </tr> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="Number" translate="SETTINGS.BLACKLISTED_NUMBERS.TBL_HEADING_BLACKLISTED_CALLER_ID">Blacklisted caller ID\'s</th> <th st-sort="Description" translate="SETTINGS.BLACKLISTED_NUMBERS.TBL_HEADING_DESCRIPTION">Description</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="row in displayedItems" ng-click="onItemEditClick(row)"> <td class="col-btn" mc-select-row="row"></td> <td>{{::row.Number}}</td> <td> <div style="word-break:break-all">{{::row.Description}}</div> </td> <td> <button type="button" mc-stop-event="" ng-click="onItemDeleteClick(row)" class="btn btn-xs btn-default"><i class="fa fa-times"></i></button> </td> </tr> </tbody> <tfoot> <tr> <td colspan="9" class="text-center"> <pagination st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7" id="pagerId" st-page-change="onPageSwitch(newPage)"></pagination> </td> </tr> </tfoot> </table> </div> </div> </div> '
              ),
          ]);
      var QC =
        '<editor-control mc-title="SETTINGS.OFFICE_HOURS.TITLE" help-url="LINKS.SETTINGS_OFFICE_HOURS_HELP_BTN"> <panel mc-title="SETTINGS.OFFICE_HOURS.SYSTEM_LANGUAGE_TITLE"> <language-selector mc-title="SETTINGS.OFFICE_HOURS.SET_SYSTEM_LANGUAGE" active-object="activeObject.SystemLanguageOverride"></language-selector> </panel> <div ng-controller="TimeZoneCtrl"> <panel mc-title="SETTINGS.OFFICE_HOURS.TIME_ZONE_TITLE"> <select-control mc-title="SETTINGS.OFFICE_HOURS.SET_TIME_ZONE" prop="TimeZone"></select-control> </panel> </div> <panel mc-title="SETTINGS.OFFICE_HOURS.CONFIGURE_OFFICE_HOURS"> <label translate="SETTINGS.OFFICE_HOURS.OFFICE_HOURS_INFO"> Configure System Wide In Office Hours and Break times. Calls will be routed accordingly.</label> <time-ranges-control prop="activeObject.OfficeHours"></time-ranges-control> <time-ranges-control prop="activeObject.OfficeHoursBreaks" template-url="' +
        nt()(Ua) +
        '"> </time-ranges-control> </panel> <div class="panel panel-default"> <div class="panel-heading" translate="SETTINGS.OFFICE_HOURS.CONFIGURE_HOLIDAYS">Configure Holidays</div> <div class="panel-body" style="padding-bottom:0"> <label translate="SETTINGS.OFFICE_HOURS.HOLIDAYS_INFO"> System will be switched to Holiday mode on these days and times. </label> </div> <property-list-control prop="activeObject.Holidays" object-id="Id" modal-editor-url="' +
        nt()("js/app/settings/dialogs/set_holidays.html") +
        '" confirm-deletion> <div class="panel-body"> <button type="button" ng-click="onAddClick()" class="btn btn-sm btn-success" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"> <i class="halflings halflings-plus"></i> Add </button> <button type="button" ng-disabled="!isOneSelected" class="btn btn-sm btn-default" ng-click="onEditClick()" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"> <i class="halflings halflings-pencil"></i> Edit </button> <button type="button" ng-disabled="!isAnySelected" class="btn btn-sm btn-default" ng-click="onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i> Delete </button> </div> <table st-table="displayedItems" st-safe-src="items" class="table table-striped" holidays mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="Name._value" translate="SETTINGS.MUSIC_ON_HOLD.TBL_HEADING_NAME">Name</th> <th st-sort="holidayDate" translate="SETTINGS.MUSIC_ON_HOLD.TBL_HEADING_DATE">Date</th> <th class="col-responsive" st-sort="holidayTime" translate="SETTINGS.MUSIC_ON_HOLD.TBL_HEADING_TIME">Time</th> <th class="col-responsive" st-sort="holidayDuration" translate="SETTINGS.MUSIC_ON_HOLD.TBL_HEADING_IS_EVERY_YEAR">Duration</th> <th class="col-responsive" st-sort="holidayPrompt" translate="SETTINGS.MUSIC_ON_HOLD.TBL_HEADING_PROMPT">Prompt</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-click="onItemEditClick(holiday)" ng-repeat="holiday in displayedItems"> <td class="col-btn" mc-select-row="holiday"></td> <td>{{holiday.Name._value}}</td> <td ng-if="holiday.HolidayType.selected==\'HolidayType.SingleDay\'"> <span translate="{{holiday.Day.selected}}"></span> <span translate="enum.{{holiday.Month.selected}}"></span> <span ng-if="holiday.Year.selected != \'HOLIDAY_EVERY_YEAR\'">{{holiday.Year.selected}}</span> </td> <td ng-if="holiday.HolidayType.selected==\'HolidayType.RangeOfDays\'"> <span>From</span> <span>{{holiday.DayStart._value}}</span> <span translate="enum.{{holiday.MonthStart._value | num2month}}"></span> <span ng-if="!holiday.EveryYear._value">{{holiday.YearStart._value}}</span> <span>To</span> <span>{{holiday.DayEnd._value}}</span> <span translate="enum.{{holiday.MonthEnd._value| num2month}}"></span> <span ng-if="!holiday.EveryYear._value">{{holiday.YearEnd._value}}</span> </td> <td class="col-responsive"> <span ng-if="holiday.HolidayType.selected==\'HolidayType.SingleDay\'"> {{holiday.SecondsStart._value | seconds2str}} - {{holiday.SecondsEnd._value | seconds2str}} </span> </td> <td class="col-responsive"> <span ng-if="holiday.EveryYear._value" translate="enum.HOLIDAY_EVERY_YEAR"></span> </td> <td class="col-responsive">{{holiday.Prompt.selected}}</td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="onItemDeleteClick(holiday)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> </property-list-control> </div> </editor-control> ';
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) => t.put("js/app/settings/office_hours_and_holidays.html", QC),
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/parameters/custom.html",
                '<parameters-list-control api-url="CustomParametersList"></parameters-list-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/parameters/tenant.html",
                '<parameters-list-control api-url="tenantProperties"></parameters-list-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/pbx/general.html",
                '<general-editor-control mc-title="SETTINGS.PBX.TITLE" help-url="LINKS.SETTINGS_PBX_HELP_BTN"> <panel mc-title="SETTINGS.PBX.OPERATOR_EXTENSION"> <div class="form-group"> <select-control prop="activeObject.OperatorExtension" display="Name" mc-title="SETTINGS.PBX.CALLERS_WHO_TRANSFER"></select-control> </div> </panel> <panel mc-title="SETTINGS.PBX.GENERAL_OPTIONS"> <div class="form-group"> <checkbox-control prop="activeObject.AllowFwdToExternal" mc-title="SETTINGS.PBX.ALLOW_FORWARDING_TO_EXTERNAL"></checkbox-control> <checkbox-control prop="activeObject.PlayBusy" mc-title="SETTINGS.PBX.PLAY_BUSY_WHEN_BUSY"></checkbox-control> <checkbox-control prop="activeObject.LimitCallPickup" mc-title="SETTINGS.PBX.LIMIT_CALL_PICKUP"></checkbox-control> <checkbox-control prop="activeObject.EnableVMenuOutboundCalls" mc-title="SETTINGS.PBX.ENABLE_OUTGOING_CALLS"></checkbox-control> <checkbox-control prop="activeObject.DisableOutboundCallsOutOfficeHours" mc-title="SETTINGS.PBX.AUTOMATICALLY_DISABLE_OUTBOUND"></checkbox-control> </div> </panel> <panel mc-title="SETTINGS.PBX.TRANSFER_ON_BUSY"> <label translate="SETTINGS.PBX.AUTOMATICALL_TRANSFER_BACK_MSG">Automatically transfers call back to blind transferer when destination is busy</label> <text-control prop="activeObject.BusyMonitorDialCode" mc-title="SETTINGS.PBX.CONFIGURE_DIALCODE"></text-control> <number-control prop="activeObject.BusyMonitorTimeout" mc-title="SETTINGS.PBX.CONFIGURE_TIMEOUT"></number-control> </panel> <emergency-rule-list></emergency-rule-list> </general-editor-control> '
              ),
          ]);
      function Xs(t, c, e) {
        return (
          e >= t.length && (e = t.length - 1),
          t.splice(e, 0, t.splice(c, 1)[0]),
          t
        );
      }
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/settings/codecs/priority-array.component.html",
              '<panel mc-title="{{$ctrl.header}}"> <label ng-if="$ctrl.description" translate="{{$ctrl.description}}"></label> <div class="m-b-sm"> <button type="button" ng-disabled="!$ctrl.isMoveUpEnabled()" class="btn btn-sm btn-default" ng-click="$ctrl.onMoveUpClick()" translate="REPOS.BUTTONS.MOVE_UP_BTN" id="btnMoveUp"> <i class="fa fa-level-up"></i> Move Up</button> <button type="button" ng-disabled="!$ctrl.isMoveDownEnabled()" class="btn btn-sm btn-default" ng-click="$ctrl.onMoveDownClick()" translate="REPOS.BUTTONS.MOVE_DOWN_BTN" id="btnMoveDown"> <i class="fa fa-level-down"></i> Move Down</button> </div> <table st-table="$ctrl.items" class="table table-striped"> <tbody> <tr ng-repeat="row in $ctrl.items" st-load-select-row="row" ng-click="set.onItemClick(row)" st-select-mode="single"> <td>{{::row.title}}</td> </tr> </tbody> </table> </panel> '
            ),
        ]),
        u.module("app").component("priorityArray", {
          bindings: { header: "@", description: "@", prop: "<" },
          templateUrl: "js/app/settings/codecs/priority-array.component.html",
          controller: class o_ {
            constructor() {
              this.items = [];
            }
            getSelected() {
              return this.items && this.items.findIndex((c) => c.isSelected);
            }
            isMoveUpEnabled() {
              return this.getSelected() > 0;
            }
            isMoveDownEnabled() {
              const c = this.getSelected();
              return c >= 0 && c < this.items.length - 1;
            }
            onMoveUpClick() {
              const c = this.getSelected();
              (this.items = Xs(this.items, c, c - 1)),
                this.prop.value(this.items.map((e) => e.title));
            }
            onMoveDownClick() {
              const c = this.getSelected();
              (this.items = Xs(this.items, c, c + 1)),
                this.prop.value(this.items.map((e) => e.title));
            }
            $onChanges(c) {
              c.prop &&
                this.prop &&
                (this.items = this.prop.value().map((e) => ({ title: e })));
            }
          },
        }),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/security/admin_credentials.html",
                '<editor-control mc-title="SETTINGS.SECURITY.ADMIN_CREDENTIALS.ADMIN_CREDENTIALS" help-url="LINKS.SETTINGS_SECURITY_HELP_BTN"> <panel admin-after-save="" mc-title="SETTINGS.SECURITY.ADMIN_CREDENTIALS.ADMIN_CREDENTIALS"> <label translate="SETTINGS.SECURITY.ADMIN_CREDENTIALS.ADMIN_CREDENTIALS_MSG">You can change the 3CX Phone System username and password needed to logon to the 3CX Management console here</label> <div class="form-group" mc-global-admin> <text-control prop="activeObject.AdminName" mc-title="SETTINGS.SECURITY.ADMIN_CREDENTIALS.ADMIN_USERNAME" placeholder="SETTINGS.SECURITY.ADMIN_CREDENTIALS.ADMIN_USERNAME"></text-control> <text-control prop="activeObject.AdminNotifyEmail" mc-title="SETTINGS.SECURITY.ADMIN_CREDENTIALS.NOTIFICATION_EMAIL" placeholder="SETTINGS.SECURITY.ADMIN_CREDENTIALS.NOTIFICATION_EMAIL"></text-control> <password-recovery ng-if="activeObject.AdminConfiguredEmail._value" email="activeObject.AdminConfiguredEmail._value" class="block m-b"></password-recovery> <password-control prop="activeObject.AdminPassword" maxlength="51" mc-title="SETTINGS.SECURITY.ADMIN_CREDENTIALS.OLD_PASSWORD" placeholder="SETTINGS.SECURITY.ADMIN_CREDENTIALS.OLD_PASSWORD"></password-control> <password-control prop="activeObject.AdminNewPassword" maxlength="51" mc-title="SETTINGS.SECURITY.ADMIN_CREDENTIALS.NEW_PASSWORD" placeholder="SETTINGS.SECURITY.ADMIN_CREDENTIALS.NEW_PASSWORD"></password-control> <password-control prop="activeObject.AdminConfirmNewPassword" maxlength="51" mc-title="SETTINGS.SECURITY.ADMIN_CREDENTIALS.CONFIRM_PASSWORD" placeholder="SETTINGS.SECURITY.ADMIN_CREDENTIALS.CONFIRM_PASSWORD"></password-control> </div> </panel> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/security/allowed_country_codes.html",
                '<editor-control mc-title="SETTINGS.SECURITY.ALLOWED_COUNTRIES.ALLOWED_COUNTRY_CODES" help-url="LINKS.SETTINGS_SECURITY_HELP_BTN"> <div class="form-group"> <label translate="SETTINGS.SECURITY.ALLOWED_COUNTRIES.SELECT_REGION_OR_COUNTRY"></label> </div> <allowed-country-code-control prop="activeObject.NotAllowedCountryCodes"></allowed-country-code-control> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/security/anti_hacking.html",
                '<editor-control mc-title="SETTINGS.SECURITY.ANTI_HACKING.ANTI_HACKING" help-url="LINKS.SETTINGS_SECURITY_HELP_BTN"> <label translate="SETTINGS.SECURITY.ANTI_HACKING.ANTI_HACKING_MSG" class="m-b">Configure the security parameters of 3CX Phone System that define what 3CX will see as a hacking attempt</label> <panel mc-title="SETTINGS.SECURITY.ANTI_HACKING.IP_BLACKLIST_TITLE"> <checkbox-control prop="activeObject.SecurityDefenseProgram" mc-title="SETTINGS.SECURITY.ANTI_HACKING.ENABLE_EXCHANGE_DATA"></checkbox-control> </panel> <panel mc-title="SETTINGS.SECURITY.ANTI_HACKING.FAILED_AUTH_PROTECTION"> <number-control prop="activeObject.HackAuthRequests" placeholder="SETTINGS.SECURITY.ANTI_HACKING.AMOUNT_OF_FAILED_AUTH" mc-title="SETTINGS.SECURITY.ANTI_HACKING.AMOUNT_OF_FAILED_AUTH"></number-control> </panel> <panel mc-title="SETTINGS.SECURITY.ANTI_HACKING.FAILED_CHALLENGE_REQUESTS"> <number-control prop="activeObject.HackChallengeRequests" placeholder="SETTINGS.SECURITY.ANTI_HACKING.AMOUNT_OF_DOS" mc-title="SETTINGS.SECURITY.ANTI_HACKING.AMOUNT_OF_DOS"></number-control> </panel> <panel mc-title="SETTINGS.SECURITY.ANTI_HACKING.BLACKLIST_TIME_INTERVAL"> <number-control prop="activeObject.HackBlacklistDuration" placeholder="SETTINGS.SECURITY.ANTI_HACKING.BLACKLIST_TIME_INTERVAL_SECONDS" mc-title="SETTINGS.SECURITY.ANTI_HACKING.BLACKLIST_TIME_INTERVAL_SECONDS"></number-control> </panel> <panel mc-title="SETTINGS.SECURITY.ANTI_HACKING.SECURITY_BARRIER_GREEN"> <number-control prop="activeObject.HackBarrierGreen" placeholder="SETTINGS.SECURITY.ANTI_HACKING.SECURITY_BARRIER_GREEN_INTERVAL" mc-title="SETTINGS.SECURITY.ANTI_HACKING.SECURITY_BARRIER_GREEN_INTERVAL"></number-control> </panel> <panel mc-title="SETTINGS.SECURITY.ANTI_HACKING.SECURITY_BARRIER_AMBER"> <number-control prop="activeObject.HackBarrierAmber" placeholder="SETTINGS.SECURITY.ANTI_HACKING.SECURITY_BARRIER_AMBER_INTERVAL" mc-title="SETTINGS.SECURITY.ANTI_HACKING.SECURITY_BARRIER_AMBER_INTERVAL"></number-control> </panel> <panel mc-title="SETTINGS.SECURITY.ANTI_HACKING.SECURITY_BARRIER_RED"> <number-control prop="activeObject.HackBarrierRed" placeholder="SETTINGS.SECURITY.ANTI_HACKING.SECURITY_BARRIER_AMBER_RED" mc-title="SETTINGS.SECURITY.ANTI_HACKING.SECURITY_BARRIER_AMBER_RED"></number-control> </panel> <panel mc-title="SETTINGS.SECURITY.ANTI_HACKING.LIVE_CHAT_REQUESTS_PROTECTION"> <number-control mc-title="SETTINGS.SECURITY.ANTI_HACKING.MAX_ALLOWED_REQUESTS" prop="activeObject.MaxRequestPerPeriod"></number-control> <number-control mc-title="SETTINGS.SECURITY.ANTI_HACKING.REQUEST_RATE_DURATION" prop="activeObject.ThrottlePeriodLength"></number-control> </panel> <panel mc-title="SETTINGS.SECURITY.ANTI_HACKING.FAILED_AUTHENTICATION_PROTECTION"> <checkbox-control prop="activeObject.EnablePCIComplianceSSLTransportAndCiphers" mc-title="SETTINGS.SECURITY.ANTI_HACKING.ENABLE_PCI_COMPLIANCE_SSL"></checkbox-control> </panel> <panel mc-title="SETTINGS.SECURITY.ANTI_HACKING.ENABLE_PROV_SECRET_TITLE"> <checkbox-control prop="activeObject.EnableProvisioningSecretKey" mc-title="SETTINGS.SECURITY.ANTI_HACKING.ENABLE_PROV_SECRET"></checkbox-control> </panel> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/security/secure_sip.html",
                '<editor-control mc-title="SETTINGS.SECURITY.SECURE_SIP.SECURE_SIP" help-url="LINKS.SETTINGS_SECURITY_HELP_BTN"> <div security-after-save="" class="panel panel-default"> <checkbox-control-header prop="activeObject.CertificateEnabled" mc-title="SETTINGS.SECURITY.SECURE_SIP.SECURE_TLS"></checkbox-control-header> <div class="form-group panel-body"> <label> <span translate="SETTINGS.SECURITY.SECURE_SIP.SECURE_SIP_INFO"> To use Secure SIP you need to create a key and certificate for each network interface. Not all phones are supported and services must be restarted! </span> <a href="{{\'LINKS.SETTINGS_SECURITY_SECURE_SIP\' | translate}}" target="_blank" class="dashed_link"> <span translate="REPOS.TEXT.CLICK_HERE_MORE_INFO"></span> </a> </label> <fieldset ng-disabled="!activeObject.CertificateEnabled._value"> <textarea-control prop="activeObject.Certificate" maxlength="300000" rows="10" mc-title="SETTINGS.SECURITY.SECURE_SIP.CERTIFICATE"></textarea-control> <textarea-control prop="activeObject.APIKey" maxlength="300000" rows="10" mc-title="SETTINGS.SECURITY.SECURE_SIP.PRIVATE_KEY"></textarea-control> </fieldset> </div> </div> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/security/tunnel.html",
                '<editor-control mc-title="SETTINGS.SECURITY.3CX_TUNNEL.3CX_TUNNEL" help-url="LINKS.SETTINGS_SECURITY_HELP_BTN"> <panel mc-title="SETTINGS.SECURITY.3CX_TUNNEL.3CX_TUNNEL"> <label translate="SETTINGS.SECURITY.3CX_TUNNEL.3CX_TUNNEL_MSG">3CX Tunnel connections are secured with a password as an additional layer of protection. If you change it or the tunnel port, all tunnel connections from 3CX Clients and 3CX SBC must be reprovisioned</label> <div class="form-group"> <password-control prop="activeObject.TunnelPassword" mc-title="SETTINGS.SECURITY.3CX_TUNNEL.TUNNEL_PASSWORD" maxlength="51" placeholder="SETTINGS.SECURITY.3CX_TUNNEL.TUNNEL_PASSWORD"></password-control> </div> </panel> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/security/console-restrictions-editor.html",
                '<editor-control mc-title="SETTINGS.SECURITY.CONSOLE_RESTRICTIONS.TITLE" help-url="LINKS.SETTINGS_SECURITY_HELP_BTN" on-before-save="onBeforeSave($value)"> <console-restrictions></console-restrictions> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/settings.html",
                '<div class="hbox hbox-auto-xs hbox-auto-sm" ng-controller="SettingsCtrl"> <div class="bg-light lter b-b wrapper-md"> <h1 class="m-n font-thin h3" translate="SETTINGS.SETTINGS_TITLE">Settings</h1> </div> <div style="background:#fff;padding:8px" class="b-b" mc-lab> <input id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text" ng-model="inputSearch" ng-change="onSearchChange()"> </div> <div class="wrapper-md"> <h4 class="settings-title font-thin" translate="SETTINGS.APPS" mc-app>App</h4> <div class="panel-default settings-panel m-b-lg" mc-app> <a class="settings-tile" ng-click="onCodecsSettingsClick()" id="btnCodes" mc-codecs="isVisible(\'codecs\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="fa fa-mobile fa-lg"></span></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.CODECS_BTN">Codecs</small> </div> </a> <a class="settings-tile" ng-click="onOptionsSettingsClick()" id="btnOptions" mc-options="isVisible(\'options\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="fa fa-cogs"></span></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.OPTIONS_BTN">Options</small> </div> </a> </div> <h4 class="settings-title font-thin" translate="SETTINGS.SYSTEM">System</h4> <div class="panel-default settings-panel m-b-lg"> <a class="settings-tile" ng-click="onCallParkingSettingsClick()" id="btnCallParking" mc-admin="isVisible(\'parking\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="fa fa-phone"></span></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.CALL_PARKING_BTN">Call Parking</small> </div> </a> <a class="settings-tile" ng-click="onConferencingSettingsClick()" id="btnConferencing" mc-admin="isVisible(\'conference\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-eye-open"></span></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.CONFERENCING_BTN">Conferencing</small> </div> </a> <a class="settings-tile" ng-click="onDialCodesSettingsClick()" id="btnDialCodes" mc-admin="isVisible(\'dialCodes\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-phone-alt"></span></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.DIAL_CODES_BTN">Dial Codes</small> </div> </a> <a class="settings-tile" ng-click="onEMailSettingsClick()" id="btnEmail" mc-admin="isVisible(\'email\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-envelope"></span></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.EMAIL_BTN">Email</small> </div> </a> <a ng-click="onPbxSettingsClick()" class="settings-tile" id="btnPbx" mc-admin="isVisible(\'pbx\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-tasks"></span></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.PBX_BTN">PBX</small> </div> </a> <a ui-sref="app.settings.license" class="settings-tile" ng-click="onLicenseSettingsClick()" id="btnLicense" mc-hosting-mode-admin="isVisible(\'license\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-list-alt"></span></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.LICENSE_BTN">License</small> </div> </a> <a ui-sref="app.system_status.activity_log" class="settings-tile" ng-click="" id="btnActivityLog" mc-3cx-hosting-mode-hosting-admin="isVisible(\'activityLog\')"> <div class="wrapper bg-info text-ellipsis"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-hdd"></span></span> <small class="text-white" translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG">Activity Log</small> </div> </a> <a ng-click="onMusicOnHold()" class="settings-tile" id="btnMusicOnHold" mc-moh="isVisible(\'musicOnHold\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-music"></span></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.MUSIC_ON_HOLD_BTN">Music On Hold</small> </div> </a> <a ui-sref="app.settings.system_prompts" class="settings-tile" id="btnSystemPrompts" mc-admin="isVisible(\'systemPrompts\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-info-sign"></span></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.SYSTEM_PROMPTS_BTN">System Prompts </small> </div> </a> <a class="settings-tile" ng-click="onVMailSettingsClick()" id="btnVoicemail" mc-admin="isVisible(\'vmail\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="fa fa-envelope"></span></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.VOICEMAIL_BTN">Voice Mail</small> </div> </a> <a ui-sref="app.settings.api" class="settings-tile" id="btnApi" mc-api="isVisible(\'api\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="glyphicons glyphicons-cluster"></span></span> <small class="text-white">API</small> </div> </a> </div> <h4 class="settings-title font-thin" translate="SETTINGS.INTEGRATIONS" mc-integrations>Integrations</h4> <div class="panel-default settings-panel m-b-lg" mc-integrations> <a ng-click="onCrmSettingsClick()" class="settings-tile" id="btnCrm" mc-admin="isVisible(\'crm\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><i class="fa fa-share-alt" aria-hidden="true"></i></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.INTEGRATION_BTN">CRM</small> </div> </a> <a ng-click="onGoogleSettingsClick()" class="settings-tile" id="btnGoogle" mc-google="isVisible(\'google\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><i class="fa fa-google" aria-hidden="true"></i></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.GOOGLE_BTN">Google Integration</small> </div> </a> <a ng-click="onHotelServicesClick()" class="settings-tile" id="btnHotelServices" mc-admin="isVisible(\'hotel\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="fa fa-bed"></span></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.HOTEL_SERVICES_BTN">Hotel Services </small> </div> </a> <a href="#/app/settings/office365" class="settings-tile" id="btnOffice365" mc-office365="isVisible(\'office365\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white" style="height:37px;width:37px;margin-left:auto;margin-right:auto"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 64 64" style="enable-background:new 0 0 64 64" xml:space="preserve" fill="#FFFFFF"> <g> <g id="Icons_-_Color"> <g id="Desktop_-_Full_Bleed"> <path d="M34.4100037,1.9950224l4.5900002,10.5v36.5l-4.5200005,13l17.0900002-4.8699989\r\n                                            c2.6187057-0.752388,4.4246445-3.145359,4.4300003-5.8700027V12.7350225\r\n                                            c0.0011864-2.7322731-1.8117638-5.1332088-4.4399986-5.8800006L34.4100037,1.9950224z"/> <path d="M12.7400045,48.6050224l5.000001-2.7000008c1.3967285-0.767643,2.2633076-2.2362251,2.2600002-3.829998\r\n                                            V22.4250221c0.0018864-1.8333969,1.1479893-3.4706879,2.8699989-4.1000004l16.1299992-5.829999V8.0650225\r\n                                            c-0.0038452-2.8209682-1.8767738-5.2978067-4.5900002-6.0700002c-0.562397-0.1614951-1.1448784-0.2423019-1.7299995-0.24l0,0\r\n                                            c-1.100563,0.0025173-2.1819401,0.2883595-3.1399975,0.83L11.0800047,13.1150227\r\n                                            c-1.9042454,1.0850687-3.0800138,3.108305-3.0799999,5.2999992v27.3599987\r\n                                            c-0.0044694,1.7728271,1.4290686,3.2136116,3.2018967,3.2180824\r\n                                            C11.7389956,48.9944572,12.2678442,48.8610229,12.7400045,48.6050224z"/> <path d="M39.0000038,48.9950218H19.930006c-1.7782555,0.0190506-3.2043724,1.4760513-3.1853237,3.2543068\r\n                                            c0.0121269,1.1320381,0.6178513,2.1745453,1.5953236,2.7456932l11.3600006,6.4399986\r\n                                            c0.9356804,0.5318947,1.9937077,0.8110466,3.0699978,0.8100014l0,0c0.5790787-0.0003777,1.1550484-0.0845833,1.7099991-0.25\r\n                                            c2.6806335-0.7616386,4.5275345-3.2132759,4.5200005-6V48.9950218z"/> <path d="M12.7400045,48.6050224l5.000001-2.7000008c1.3967285-0.767643,2.2633076-2.2362251,2.2600002-3.829998\r\n                                            V22.4250221c0.0018864-1.8333969,1.1479893-3.4706879,2.8699989-4.1000004l16.1299992-5.829999V8.0650225\r\n                                            c-0.0038452-2.8209682-1.8767738-5.2978067-4.5900002-6.0700002c-0.562397-0.1614951-1.1448784-0.2423019-1.7299995-0.24l0,0\r\n                                            c-1.100563,0.0025173-2.1819401,0.2883595-3.1399975,0.83L11.0800047,13.1150227\r\n                                            c-1.9042454,1.0850687-3.0800138,3.108305-3.0799999,5.2999992v27.3599987\r\n                                            c-0.0044694,1.7728271,1.4290686,3.2136116,3.2018967,3.2180824\r\n                                            C11.7389956,48.9944572,12.2678442,48.8610229,12.7400045,48.6050224z"/> <path d="M39.0000038,48.9950218H19.930006c-1.7782555,0.0190506-3.2043724,1.4760513-3.1853237,3.2543068\r\n                                            c0.0121269,1.1320381,0.6178513,2.1745453,1.5953236,2.7456932l11.3600006,6.4399986\r\n                                            c0.9356804,0.5318947,1.9937077,0.8110466,3.0699978,0.8100014l0,0c0.5790787-0.0003777,1.1550484-0.0845833,1.7099991-0.25\r\n                                            c2.6806335-0.7616386,4.5275345-3.2132759,4.5200005-6V48.9950218z"/> </g> </g> </g> </svg> </span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.MICROSOFT_365_BTN">Microsoft 365 Integration</small> </div> </a> </div> <h4 class="settings-title font-thin" translate="SETTINGS.ADVANCED">Advanced</h4> <div class="panel-default settings-panel m-b-lg"> <a class="settings-tile" ng-click="onE164SettingsClick()" id="btnE164" mc-admin="isVisible(\'e164\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="fa fa-plus"></span></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.E164_PROCESSING_BTN">E164 Processing </small> </div> </a> <a class="settings-tile" ng-click="onNetworkSettingsClick()" id="btnNetwork" mc-hosting-mode-admin="isVisible(\'network\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-globe"></span></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.NETWORK_BTN">Network</small> </div> </a> <a ui-sref="app.settings.parameters.custom" class="settings-tile" id="btnParameters" mc-hosting-mode-global-admin="isVisible(\'parameters\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><i class="icon-settings"></i></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.PARAMETERS_BTN">Parameters</small> </div> </a> <a ng-click="onOfficeHoursSettingsClick()" class="settings-tile" id="btnOfficeHours" mc-office-hours="isVisible(\'officeHours\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><i class="icon-clock"></i></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.OFFICE_HOURS_BTN"> Office Hours & Holidays </small> </div> </a> <a ui-sref="app.settings.templates" class="settings-tile" id="btnTemplates" mc-templates="isVisible(\'templates\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><i class="fa fa-file-code-o" aria-hidden="true"></i></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.TEMPLATES_BTN">Templates</small> </div> </a> <a class="settings-tile" ng-click="onHostingModeSettingsClick()" id="btnHostingMode" mc-hosting-admin-only-in-hosting-mode="isVisible(\'hostingMode\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="fa fa-cogs"></span></span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.HOSTING_MODE_SETTINGS">Hosting mode settings </small> </div> </a> <a mc-console-in-settings href="#/console" target="_blank" class="settings-tile"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"> <span class="fa fa-television"></span> </span> <small class="text-white" translate="SETTINGS.LIST_BUTTONS.TERMINAL_BTN">Terminal</small> </div> </a> <a class="settings-tile" ng-click="onIpBlacklistClick()" id="btnIpBlacklist" mc-hosting-admin-only-in-hosting-mode="isVisible(\'ipBlacklist\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="fa fa-bars"></span></span> <small class="text-white" translate="SYSTEM_STATUS.PBX_STATUS_BOX.BLACKLISTED_IPS">Blacklisted IPs </small> </div> </a> <a href="#/app/updates/all" class="settings-tile" id="btnUpdtes" mc-admin="isVisible(\'updates\')"> <div class="wrapper bg-info"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-download-alt"></span></span> <small class="text-white" translate="SYSTEM_STATUS.SECTIONS.UPDATES">Updates</small> </div> </a> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/templates/template_copy_modal.html",
                '<div class="modal-header"> <button type="button" class="close" ng-click="$close()">&times;</button> <h4 class="modal-title" translate="SETTINGS.TEMPLATES.DIALOGS.CREATE_COPY_TEMPLATE">Create a Copy of Prompt Set</h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="SETTINGS.TEMPLATES.DIALOGS.NAME_FOR_TEMPLATE">Name for Prompt Set</label> <input type="text" class="form-control m-b" ng-model="newFilename" ng-init="newFilename=oldFilename" -i maxlength="50"> <div class="errors"> <ul> <li ng-show="invalidChars"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.COPY_TEMPLATE_INVALID_CHARS"></span> </li> </ul> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-disabled="!newFilenameValid(newFilename)" ng-click="$close(newFilename)">Ok</button> <button type="button" class="btn btn-default" ng-click="$close()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/vmail/voice_mail.html",
                '<editor-control mc-title="SETTINGS.VOICEMAIL.TITLE"> <panel mc-title="SETTINGS.VOICEMAIL.VOICEMAIL_MENU"> <text-control prop="activeObject.VMailExtension" mc-title="SETTINGS.VOICEMAIL.VOICEMAIL_EXT_NUM" placeholder="SETTINGS.VOICEMAIL.VOICEMAIL_EXT_NUM"></text-control> <number-control minimum="0" prop="activeObject.VMailSaveMoreThen" mc-title="SETTINGS.VOICEMAIL.DO_NOT_SAVE_VOICEMAILS" placeholder="SETTINGS.VOICEMAIL.DO_NOT_SAVE_VOICEMAILS"></number-control> </panel> <panel mc-title="SETTINGS.VOICEMAIL.VOICEMAIL_QUOTA"> <div class="form-group m-b"> <strong translate="RECORDINGS.DIALOGS.QUOTA.CURRENT_QUOTA_AND_SPACE">Current Quota and Used Space</strong> <div class="line line-dashed b-b line-lg"></div> <div class="row"> <div class="col-sm-6"> <number-control minimum="0" prop="activeObject.VMailQuota" mc-title="SETTINGS.VOICEMAIL.VOICEMAIL_QUOTA_SZ"></number-control> </div> <div class="col-sm-6"> <label translate="SETTINGS.VOICEMAIL.USED_SPACE" class="m-b"></label><br> {{activeObject.VMailUsedSpace._value | bytes}} </div> </div> </div> <div class="form-group m-b form-inline"> <strong translate="SETTINGS.VOICEMAIL.AUTO_CLEANING_OPTIONS">Auto Cleaning Options</strong> <div class="line line-dashed b-b line-lg"></div> <vmail-delete-all></vmail-delete-all> <div class="vmail-flow"> <checkbox-control prop="activeObject.VMailAutoDeleteEnabled" class="text-column" mc-title="SETTINGS.VOICEMAIL.AUTOMATICALLY_DELETE_OLDER"></checkbox-control> <number-control minimum="0" prop="activeObject.VMailAutoDeleteDays" placeholder=""></number-control> <label class="m-l-sm" translate="SETTINGS.VOICEMAIL.DAYS">days </label> </div> </div> <div class="form-group m-b form-inline"> <strong translate="SETTINGS.VOICEMAIL.EMAIL_NOTIFICATION">Email Notification</strong> <div class="line line-dashed b-b line-lg"></div> <div class="vmail-flow"> <checkbox-control prop="activeObject.VMailSendEmailQuotaEnabled" class="text-column" mc-title="SETTINGS.VOICEMAIL.SEND_EMAIL_WHEN_SIZE"></checkbox-control> <number-control minimum="0" prop="activeObject.VMailSendEmailQuotaPercentage" placeholder=""></number-control> <label class="m-l-sm" translate="SETTINGS.VOICEMAIL.OF_QUOTA">% of quota </label> </div> </div> </panel> <vmail-transcribe active-object="activeObject"></vmail-transcribe> </editor-control> '
              ),
          ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/vmail/vmail-delete-all.component.html",
            '<div class="vmail-flow"> <span translate="SETTINGS.VOICEMAIL.DELETE_ALL" class="text-column m-b"></span> <button type="button" class="btn btn-success btn-sm m-b" ng-click="$ctrl.deleteAll()" translate="REPOS.BUTTONS.DELETE_ALL_CONTACTS_BTN" id="btnDeleteAll">Delete All</button> </div> '
          ),
      ]);
      let y_ = (() => {
        class t {
          constructor(e, n) {
            (this.$http = e), (this.modalService = n);
          }
          deleteAll() {
            this.modalService
              .confirmDialog(
                "REPOS.CONFIRMATION.HEADER",
                "SETTINGS.VOICEMAIL.DELETE_ALL_CONFIRMATION"
              )
              .then(() => this.$http.postApi("api/voicemail/deleteAll", {}))
              .catch(u.noop);
          }
        }
        return (t.$inject = ["$http", "MessageBoxSvc"]), t;
      })();
      u
        .module("app")
        .component("vmailDeleteAll", {
          templateUrl: "js/app/settings/vmail/vmail-delete-all.component.html",
          controller: y_,
        }),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/hosting_mode/hosting_mode.html",
                '<editor-control mc-title="SETTINGS.HOSTING_MODE_SETTINGS.TITLE"> <panel mc-title="SETTINGS.HOSTING_MODE_SETTINGS.QUOTAS.TITLE"> <div class="form-group m-b"> <div class="row"> <div class="col-sm-6"> <number-control minimum="0" prop="activeObject.VMailQuota" mc-title="SETTINGS.VOICEMAIL.VOICEMAIL_QUOTA_SZ"></number-control> </div> <div class="col-sm-6"> <label translate="SETTINGS.VOICEMAIL.USED_SPACE" class="m-b"></label><br> {{activeObject.VMailUsedSpace._value | bytes}} </div> </div> </div> <div class="form-group m-b"> <div class="row"> <div class="col-sm-6"> <number-control prop="activeObject.RecordingsQuota" mc-title="RECORDINGS.DIALOGS.QUOTA.RECORDING_QUOTA" maximum="2147483646"></number-control> </div> <div class="col-sm-6"> <label translate="RECORDINGS.DIALOGS.QUOTA.USED_SPACE" class="m-b"></label><br> {{activeObject.RecordingUsedSpace._value | bytes}} </div> </div> </div> </panel> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/webmeeting/edit_email_template_modal.html",
                '<div class="modal-content"> <div class="modal-header"> <div class="bs-example ng-pristine ng-valid"> <button type="button" class="close" data-dismiss="modal" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="SETTINGS.CONFERENCING.EDIT_TEMPLATE">Edit Template</h4> </div> </div> <div class="modal-body"> <div class="form-group" ui-ace-lazy-load> <text-control-design mc-title="{{subjectTitle}}" prop="template.Subject" maxlength="255"></text-control-design> <div class="form-group"> <label translate="SETTINGS.EMAIL.EMAIL_TEMPLATES.BODY"></label> <div ui-ace="{mode: \'html\', onLoad: aceLoaded, showPrintMargin: false}" mc-ace-suppress-warning ng-model="template.Body" style="height:500px"></div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" ng-click="saveAndClose()">Save</button> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" ng-click="$dismiss()">Close</button> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/webmeeting/webmeeting_settings.html",
                '<editor-control mc-title="SETTINGS.CONFERENCING.TITLE" on-before-save="onBeforeSave($value)" on-object-assigned="onObjectAssigned($value)"> <div> <div class="tab-container"> <ul class="nav nav-tabs"> <li role="presentation" ui-sref-active="active"> <a ui-sref=".video" translate="SETTINGS.CONFERENCING.VIDEO">Video</a> </li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".audio" translate="SETTINGS.CONFERENCING.AUDIO">Audio</a> </li> </ul> <div class="tab-content"> <ui-view></ui-view> </div> </div> </div> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/webmeeting/webmeeting-settings-audio.html",
                '<panel mc-title="SETTINGS.CONFERENCING.AUDIO_CONFERENCING"> <text-control prop="activeObject.ConferenceExtension" mc-title="SETTINGS.CONFERENCING.CONFERENCE_EXTENSION"></text-control> <select-file-media-control prop="activeObject.ConferenceMusicOnHold" mc-title="SETTINGS.CONFERENCING.PROMPT_CONFERENCE_CALLERS"></select-file-media-control> <div class="m-b"> <label translate="EXTENSIONS.EDITOR.GENERAL.DIRECT_DID_INFO">Optionally assign a DID to receive calls directly to this extension </label> <set-control prop="activeObject.ConferenceDID" mc-title="EXTENSIONS.EDITOR.GENERAL.SELECT_DID" button-title="REPOS.BUTTONS.OK_BTN"> <set-control-dids> </set-control-dids> </set-control> </div> </panel> <panel mc-title="SETTINGS.CONFERENCING.OPTIONS"> <checkbox-control prop="activeObject.ConferenceEnablePIN" mc-title="SETTINGS.CONFERENCING.ENABLE_PIN_CODE" remove-class="true"></checkbox-control> <password-control prop="activeObject.ConferencePIN" placeholder="SETTINGS.CONFERENCING.CONFERENCE_PIN" maxlength="9"></password-control> <checkbox-control prop="activeObject.CallWhenCreatingConference" mc-title="SETTINGS.CONFERENCING.CALL_WHEN_CREATING_CONFERENCE"></checkbox-control> </panel> <panel mc-title="SETTINGS.CONFERENCING.CONFERENCE_NUMBERS_TITLE"> <text-control prop="activeObject.ConferenceMainPhoneNumber" mc-title="SETTINGS.CONFERENCING.MAIN_CONFERENCE_TELEPHONE" maxlength="500"></text-control> <label translate="SETTINGS.CONFERENCING.CONFERENCE_EMAIL_INFO">Customize the email that will be sent to participants</label> <div class="form-group clear"> <button class="btn btn-default ng-scope" ng-click="CustomizeEmailTemplate(\'MAILTEMPLATE_CONFERENCE_\')" translate="SETTINGS.CONFERENCING.CUSTOMIZE_EMAIL_TEMPLATE" type="button"> <i class="halflings halflings-upload"></i>Customize Email Template</button> </div> </panel> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/webmeeting/webmeeting-settings-video.html",
                '<input id="fileInput" name="fileInput" type="file" class="hide" accept=".jpg,.jpeg,.png,.gif,.bmp"> <panel mc-title="SETTINGS.CONFERENCING.VIDEO_CONFERENCING"> <select-control mc-title="SETTINGS.CONFERENCING.SELECT_REGION" prop="activeObject.ConferenceMcuServer"></select-control> <div class="form-group clear"> <label translate="SETTINGS.CONFERENCING.ADD_COMPANY_LOGO">Add Company Logo</label> <div class="input-group"> <input type="text" class="form-control" ng-model="activeObject.ConferenceLogoPath._value" ng-disabled="true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="onUploadClick()" translate="REPOS.BUTTONS.UPLOAD_BTN" id="btnUpload"> <i class="halflings halflings-upload"></i>Upload</button></span> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i> Delete</button></span> </div> <div class="errors"> <ul> <li ng-show="activeObject.ConferenceLogoPath.errorMsg"> <span class="halflings halflings-exclamation-sign"></span> {{activeObject.ConferenceLogoPath.errorMsg}} </li> </ul> </div> </div> </panel> <panel mc-title="SETTINGS.CONFERENCING.CONFERENCE_EMAIL"> <label translate="SETTINGS.CONFERENCING.CONFERENCE_EMAIL_INFO">Customize the email that will be sent to participants</label> <div class="form-group clear"> <button class="btn btn-default ng-scope" ng-click="CustomizeEmailTemplate(\'MAILTEMPLATE_WEBMEETING_\')" translate="SETTINGS.CONFERENCING.CUSTOMIZE_EMAIL_TEMPLATE" type="button"> <i class="halflings halflings-upload"></i>Customize Email Template</button> </div> </panel> <panel mc-title="SETTINGS.CONFERENCING.API"> <label translate="SETTINGS.CONFERENCING.API_INFO">Allows remote creation, deletion and update via REST API Calls</label> <webmeeting-api></webmeeting-api> </panel> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/webmeeting/webmeeting-settings-email.html",
                '<panel mc-title="SETTINGS.CONFERENCING.CONFERENCE_EMAIL"> <div class="form-group"> <text-control prop="activeObject.ConferenceMainPhoneNumber" mc-title="SETTINGS.CONFERENCING.MAIN_CONFERENCE_TELEPHONE" maxlength="100"></text-control> </div> <div class="form-group"> <label translate="SETTINGS.CONFERENCING.CONFERENCE_EMAIL_INFO">Customize the email that will be sent to participants</label> &nbsp; <button class="btn btn-default ng-scope" ng-click="CustomizeEmailTemplate(\'MAILTEMPLATE_WEBMEETING_\')" translate="SETTINGS.CONFERENCING.CUSTOMIZE_EMAIL_TEMPLATE" type="button"> <i class="halflings halflings-upload"></i>Customize Email Template</button> </div> </panel> '
              ),
          ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/settings/webmeeting/webmeeting-sync.component.html",
              '<lable translate="SYSTEM_STATUS.SYSTEM_INFO.WEBMEETING_SYNC"></lable> <div ng-if="$ctrl.CurrentStatus" ng-switch="$ctrl.CurrentStatus.Status"> <div ng-switch-when="0" class="successes"> <ul> <li> <span class="halflings halflings-info-sign"></span> <span translate="SYSTEM_STATUS.SYSTEM_INFO.WEB_MEETING_OK">OK</span> </li> </ul> </div> <div ng-switch-when="1" class="information"> <ul> <li> <span class="halflings halflings-refresh"></span> <span translate="SYSTEM_STATUS.SYSTEM_INFO.WEB_MEETING_IN_PROGRESS"></span> </li> </ul> </div> <div ng-switch-default class="errors"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{$ctrl.CurrentStatus.Error}} </li> </ul> </div> </div> <div class="form-group clear"> <button class="btn btn-default" type="button" ng-disabled="!$ctrl.CurrentStatus.ReSyncEnabled" ng-click="$ctrl.RefreshClicked()" translate="SYSTEM_STATUS.SYSTEM_INFO.WEB_MEETING_REFRESH_BTN"> <i class="fa fa-refresh"></i>ReSync</button> </div> '
            ),
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/license/replace_license.html",
                ' <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="SETTINGS.LICENSE.REPLACE_LICENSE_KEY.TITLE">Replace license key</h4> </div> <div class="modal-body"> <div class="form-group m-b"> <label translate="SETTINGS.LICENSE.REPLACE_LICENSE_KEY.OLD_LICENSE_KEY">Old license key</label> <input class="form-control" type="text" disabled="disabled" ng-value="oldLicenseKey"> </div> <div class="form-group m-b"> <label translate="SETTINGS.LICENSE.REPLACE_LICENSE_KEY.NEW_LICENSE_KEY">New license key</label> <input class="form-control" type="text" ng-model="newLicenseKey"> <div class="errors" ng-show="replaceError"> <ul> <li ng-show="replaceError"> <span class="halflings halflings-exclamation-sign"></span> <span translate="{{replaceError}}"></span> </li> </ul> </div> </div> <label translate="SETTINGS.LICENSE.REPLACE_LICENSE_KEY.REPLACE_LICENSE_KEY_NOTE"></label> </div> <div class="modal-footer"> <button type="button" class="btn btn-default btn-success" data-dismiss="modal" translate="SETTINGS.LICENSE.REPLACE_LICENSE_KEY.TITLE" id="btnReplace" ng-click="replaceClick()" ng-disabled="">Replace </button> <button type="button" class="btn btn-default" data-dismiss="modal" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" ng-click="cancelClick()">Close </button> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/options/options.html",
                '<editor-control mc-title="SETTINGS.OPTIONS.TITLE" help-url="LINKS.OPTIONS_GUIDE_LINK"> <panel mc-title="SETTINGS.PBX.GENERAL_OPTIONS"> <div class="form-group"> <checkbox-control prop="activeObject.ChatIsEnabled" mc-title="SETTINGS.PBX.CHAT_IS_ENABLED"></checkbox-control> <checkbox-control prop="activeObject.HideSystemExtensions" mc-title="SETTINGS.PBX.HIDE_SYSTEM_EXTENSIONS"></checkbox-control> <checkbox-control prop="activeObject.HideCRMContacts" mc-title="SETTINGS.PBX.HIDE_CRM_CONTACTS"></checkbox-control> <checkbox-control prop="activeObject.HideChangePassword" mc-title="EXTENSIONS.EDITOR.GENERAL.HIDE_CHANGE_PASSWORD"></checkbox-control> </div> </panel> <panel mc-title="SETTINGS.PBX.RENAME_PROFILES"> <div class="form-group"> <text-control prop="activeObject.NameOfAvailable2" placeholder="REPOS.TEXT.CUSTOM_PROFILE_1"></text-control> <text-control prop="activeObject.NameOfOutOfOffice2" placeholder="REPOS.TEXT.CUSTOM_PROFILE_2"></text-control> </div> </panel> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/codecs/codecs.html",
                '<editor-control mc-title="SETTINGS.CODECS.TITLE" help-url="LINKS.CODECS_GUIDE_LINK"> <priority-array prop="activeObject.LocalCodecList" header="SETTINGS.PBX.LOCAL_CODECS_HEADER"></priority-array> <priority-array prop="activeObject.ExternalCodecList" header="SETTINGS.PBX.EXTERNAL_CODECS_HEADER"></priority-array> </editor-control> '
              ),
          ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/vmail/vmail-transcribe.component.html",
            '<div class="panel panel-default"> <checkbox-control-header prop="$ctrl.activeObject.VMailTranscribeEnabled" mc-title="SETTINGS.VOICEMAIL.USE_VOICEMAIL_TRANSCRIPTION" available-pro-enterprise="true"></checkbox-control-header> <div class="panel-body"> <p> <span translate="SETTINGS.VOICEMAIL.MICROSOFT_SPEECH_SERVICE"> 3CX can automatically transcribe a Voicemail or a Recording, to text and include this in the email using Google Speech Service. </span> <a href="{{\'LINKS.SETTINGS_VOICEMAIL_MICROSOFT_SPEECH_SERVICE\'| translate}}" target="_blank" class="dashed_link"> <span translate="SETTINGS.VOICEMAIL.READ_HOW_TO_SETUP_ACCOUNT"></span> </a> </p> <text-control prop="$ctrl.activeObject.VMailTranscribeSecretKey" mc-title="SETTINGS.VOICEMAIL.TRANSCRIBE_SECRET_KEY" maxlength="254"> </text-control> <div class="form-group" ng-hide="true"> <label translate="SETTINGS.VOICEMAIL.SPEECH_SERVICE_REGION"></label> <div style="display:flex"> <select class="form-control" ng-model="$ctrl.activeObject.VMailTranscribeRegion.value" ng-options="pv.id as pv.name for pv in $ctrl.SpeechRegions" ng-model-options="{getterSetter: true}" ng-disabled="$ctrl.activeObject.VMailTranscribeRegion.disabled"> </select> </div> </div> <select-control prop="$ctrl.activeObject.VMailTranscribeLanguage" mc-title="SETTINGS.VOICEMAIL.TRANSCRIBE_LANGUAGE" display="Name"></select-control> <select-enum-control mc-title="SETTINGS.VOICEMAIL.SELECT_WHAT_TO_TRANSCRIBE" prop="$ctrl.activeObject.VMailTranscriptionLevel"></select-enum-control> </div> </div> '
          ),
      ]);
      const Q_ = [
        { id: "", name: "None" },
        { id: "westus", name: "West US" },
        { id: "westus2", name: "West US2" },
        { id: "eastus", name: "East US" },
        { id: "eastus2", name: "East US2" },
        { id: "eastasia", name: "East Asis" },
        { id: "southeastasia", name: "South East Asia" },
        { id: "northeurope", name: "North Europe" },
        { id: "westeurope", name: "West Europe" },
      ];
      u.module("app").component("vmailTranscribe", {
        templateUrl: "js/app/settings/vmail/vmail-transcribe.component.html",
        bindings: { activeObject: "<" },
        controller: class Z_ {
          constructor() {
            this.SpeechRegions = Q_;
          }
        },
      }),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/google/general.html",
                '<panel mc-title="SETTINGS.GOOGLE_INTEGRATION.TITLE"> <p translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.OPEN_GOOGLE_CONSOLE"> 1. Open <a href="https://console.developers.google.com" target="_blank" rel="noopener" class="dashed_link"> Google Console</a> with your organization or personal account. </p> <p> <span translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.CLICK_CREATE_PROJECT"> 2. Click on "CREATE PROJECT" and complete the project information. </span> </p><ul> <li translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.PROJECT_NAME_OPTION"> "Project name" - enter the project\'s name, e.g. "pbx-integration". </li> <li translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.ORGANIZATION"> "Organization" - select the correct organization (if applicable). </li> <li translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.LOCATION"> "Location" - select the correct location. </li> </ul> <p></p> <p translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.CLICK_CREATE"> 3. Click on "Create" to create the project. </p> <p translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.CLICK_OAUTH"> 4. Go to \u201cAPIs & Services\u201d > \u201cOAuth consent screen". </p> <p translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.USER_TYPE"> 5. Select the appropriate "User Type". </p> <ul> <li translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.USER_TYPE_INTERNAL"> "Internal" - Application will be accessible by the corporate Google accounts. </li> <li translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.USER_TYPE_EXTERNAL"> "External" - Publicly accessible for any user with a Google account. "PUBLISH APP" is required on "OAuth consent screen" with the successful completion of the steps below. </li> </ul> <p translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.COMPLETE_OAUTH"> 6. Complete the "OAuth consent screen" information. </p> <ul> <li translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.APP_INFO_APP_NAME"> "App information" - "App name" - enter the app name, e.g. PBX Integration. </li> <li translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.APP_INFO_APP_USER_SUPP_EMAIL"> "App information" - "User support email" - enter the email for support. </li> <li translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.APP_INFO_DEV_CONTACT_INFO"> "Developer contact information" - "Email addresses" - enter the email for development support. </li> </ul> <p translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.CLICK_SAVE"> 7. Click on "SAVE AND CONTINUE" . </p> <p translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.CLICK_SAVE_ON_SCOPES"> 8. On "Scopes" click on "SAVE AND CONTINUE". </p> <p translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.OPEN_CREDENTIALS_OAUTH_CLIENT_ID"> 9. Open "Credentials" and click "+ CREATE CREDENTIALS" > "OAuth Client ID". </p> <p> </p><p translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.APPLICATION_TYPE"> 10. On "Application type" select "Web application". </p> <ul> <li translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.NAME_OPTION"> "Name" - enter a name for the OAuth client, e.g "PBX Integration". </li> <li translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.AUTHORIZED_URIS_OPTION"> "Authorized redirect URIs" - click on "+ ADD URI" and copy value from below: </li> <link-to-clipboard mc-inactive="true" mc-url="activeObject.RedirectUrl.value()"></link-to-clipboard> </ul> <p></p> <p translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.COPY_CLIENT_ID"> 11. Copy the "Your Client ID" and paste it below: </p> <text-control prop="activeObject.ClientId" maxlength="255"></text-control> <p translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.COPY_CLIENT_SECRET"> 12. Copy the "Your Client Secret" and paste it below: </p> <text-control prop="activeObject.ClientSecret" maxlength="255"></text-control> </panel> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/google/google.html",
                '<editor-control mc-title="SETTINGS.GOOGLE_INTEGRATION.3CX_INTEGRATION"> <div class="tab-container"> <ul class="nav nav-tabs"> <li role="presentation" ui-sref-active="active"> <a ui-sref=".general"> <span translate="SETTINGS.GOOGLE_INTEGRATION.CONFIGURE_TAB.TITLE"> Configure </span> </a> </li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".sign_in"> <span translate="SETTINGS.GOOGLE_INTEGRATION.SIGNIN_TAB.TITLE"> Sign In </span> </a> </li> </ul> <form name="outerForm"> <div class="tab-content"> <ui-view></ui-view> </div> </form> </div> </editor-control> '
              ),
          ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/google/google-signin.component.html",
            '<div> <div class="panel panel-default"> <checkbox-control-header prop="$ctrl.activeObject.IsAdminSignInEnabled" mc-title="SETTINGS.GOOGLE_INTEGRATION.SIGNIN_TAB.ALLOW_ADMIN_SIGNIN"></checkbox-control-header> <div class="panel-body"> <div> <p> <span translate="SETTINGS.GOOGLE_INTEGRATION.SIGNIN_TAB.GOOGLE_USERS_ALLOWED_SIGNIN"> These Google users will be allowed to sign in as 3CX PhoneSystem administrator account. </span> </p> </div> <div class="form-group"> <button type="button" ng-click="$ctrl.onAddClick()" ng-disabled="$ctrl.activeObject.AdminEmails.disabled" class="btn btn-sm btn-success m-b-sm" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"><i class="halflings halflings-plus"></i> Add</button> <div style="display:flex;flex-direction:row;flex-wrap:wrap"> <span ng-repeat="row in $ctrl.activeObject.AdminEmails._value" class="m-r-xs b-a" style="padding:5px;border-radius:2px;min-width:0;display:flex;flex-direction:row"> <div style="text-overflow:ellipsis;overflow:hidden" class="m-r-xs">{{::row}}</div> <button type="button" mc-stop-event ng-click="$ctrl.deleteAddress(row)" ng-disabled="$ctrl.activeObject.AdminEmails.disabled" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </span> </div> </div> </div> </div> <div class="panel panel-default"> <checkbox-control-header prop="$ctrl.activeObject.IsExtensionSignInEnabled" mc-title="SETTINGS.GOOGLE_INTEGRATION.SIGNIN_TAB.ALLOW_EXT_SIGNIN"></checkbox-control-header> <div class="panel-body"> <div> <p> <span translate="SETTINGS.GOOGLE_INTEGRATION.SIGNIN_TAB.THESE_EXT_ALLOWED_SIGNING"> These extentsions will be allowed to sign. </span> </p> </div> <label class="i-checks clear"> <input type="radio" ng-model="$ctrl.activeObject.SyncType.value" ng-model-options="{getterSetter: true}" value="SyncType.SyncAllUsers" ng-disabled="$ctrl.activeObject.SyncType.disabled"><i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.SYNC_ALL_USERS">Sync All Users</span> </label> <label class="i-checks clear"> <input type="radio" ng-model="$ctrl.activeObject.SyncType.value" ng-model-options="{getterSetter: true}" value="SyncType.SyncAllUsersExceptSelected" ng-disabled="$ctrl.activeObject.SyncType.disabled"><i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.SYNC_ALL_USERS_EXCEPT_THESE">Sync All Users Except Selected</span> </label> <label class="i-checks clear"> <input type="radio" ng-model="$ctrl.activeObject.SyncType.value" ng-model-options="{getterSetter: true}" value="SyncType.SyncSelected" ng-disabled="$ctrl.activeObject.SyncType.disabled"><i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.SYNC_THESE">Sync Only Selected</span> </label> <mc-extensions prop="$ctrl.activeObject.Extensions" show-email="true" dialog-title="Add Extensions"> </mc-extensions> </div> </div> </div> '
          ),
      ]);
      let aI = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$scope = e),
              (this.$stateParams = n),
              (this.$state = i),
              (this.$uibModal = a),
              e.$parent.$watch("activeObject", (l) => {
                this.activeObject = l;
              });
          }
          onAddClick() {
            this.$uibModal
              .open({
                component: "addEmailModal",
                size: "md",
                backdrop: "static",
                resolve: {
                  existingEmails: () => this.activeObject.AdminEmails.value(),
                },
              })
              .result.then(
                (e) => {
                  const n = [...this.activeObject.AdminEmails.value()];
                  n.includes(e) ||
                    (n.push(e), this.activeObject.AdminEmails.value(n));
                },
                () => {}
              );
          }
          deleteAddress(e) {
            const n = this.activeObject.AdminEmails.value();
            this.activeObject.AdminEmails.value(n.filter((i) => i != e));
          }
        }
        return (
          (t.$inject = ["$scope", "$stateParams", "$state", "$uibModal"]), t
        );
      })();
      u.module("app").component("googleSignIn", {
        controller: aI,
        templateUrl: "js/app/settings/google/google-signin.component.html",
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/google/add-email-modal.component.html",
            ' <form name="clientForm" id="AddWhiteListForm" novalidate role="form" autocomplete="off" mc-submit="$ctrl.saveClick()"> <div class="modal-header"> <button type="button" class="close" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title">Add Email</h4> </div> <div class="modal-body"> <div class="form-group"> <input valid-email="" required type="text" class="form-control" ng-model="$ctrl.email" name="emailInput" id="emailInput" maxlength="254"> </div> </div> <div class="modal-footer"> <button type="submit" form="AddWhiteListForm" class="btn btn-default" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save</button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </form> '
          ),
      ]);
      let lI = (() => {
        class t {
          constructor(e) {
            this.$element = e;
          }
          saveClick() {
            this.close({ $value: this.email });
          }
          $onInit() {
            setTimeout(() => {
              this.$element.find("#emailInput")[0].focus();
            });
          }
        }
        return (t.$inject = ["$element"]), t;
      })();
      u.module("app").component("addEmailModal", {
        bindings: { resolve: "<", close: "&", dismiss: "&" },
        controller: lI,
        templateUrl: "js/app/settings/google/add-email-modal.component.html",
      });
      var cI =
        '<div class="modal-header" style="padding-top:10px;padding-bottom:10px"> <button type="button" class="close" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title">{{$ctrl.dialogTitle|translate}}</h4> </div> <div class="modal-body" style="padding-top:0;padding-bottom:0"> <input ng-model="$ctrl.search" ng-model-options="{getterSetter: true}" id="inputSearch" class="form-control m-t-xs" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> <selection-stat mc-source="$ctrl"></selection-stat> <table st-table="$ctrl.displayedItems" st-pipe="$ctrl.loadData()" class="table table-striped table-fixed m-b-none"> <thead> <tr> <th class="col-btn"> </th> <th translate="REPOS.TEXT.NAME">Extension</th> <th translate="REPOS.TEXT.PRINCIPALNAME">PrincipalName</th> <th translate="REPOS.TEXT.EMAIL">Agent Name</th> </tr> </thead> <tbody> <tr ng-repeat="row in $ctrl.displayedItems"> <td mc-paged-select-row="row" mc-select-target="parent" mc-select="$ctrl.select"> </td> <td title="{{::row.Name}}">{{::row.Name}}</td> <td title="{{::row.Id}}">{{::row.Id}}</td> <td title="{{::row.Email}}">{{::row.Email}}</td> </tr> </tbody> <tfoot> <tr> <td colspan="4" class="text-center" style="padding:0"> <div class="compact-pagination" st-pagination="" st-template="' +
        nt()(Ft) +
        '" st-items-by-page="$ctrl.itemsByPage" st-displayed-pages="7"></div> </td> </tr> </tfoot> </table> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$ctrl.close({$value: $ctrl.current})" translate="REPOS.BUTTONS.OK_BTN">Ok</button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel</button> </div> ';
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/settings/office365/select-azure-users-modal.component.html",
              cI
            ),
        ]),
        u.module("app").component("selectAzureUsersModal", {
          bindings: { resolve: "<", close: "&", dismiss: "&" },
          controller: class uI {
            constructor() {
              (this.select = new on()),
                (this.itemsByPage = 10),
                (this.search$ = new xt.X("")),
                (this.stTableState$ = new St.t(1)),
                (this.displayedItems = []),
                (this.loadDataImpl = (c) => {
                  (this.stTableState = c), this.stTableState$.next(c);
                });
            }
            get selectedCount() {
              return this.select.current.Ids.size;
            }
            get current() {
              return this.select.current;
            }
            get search() {
              return this.search$.getValue();
            }
            set search(c) {
              this.search$.next(c);
            }
            loadData() {
              return this.loadDataImpl;
            }
            $onInit() {
              (this.prop = this.resolve.prop),
                (this.dialogTitle = this.resolve.dialogTitle),
                (this.select.current = {
                  Ids: new Set(this.prop.selected),
                  IsAllSelected: !1,
                }),
                (this.searchSubscription = this.search$
                  .pipe(
                    Wt(),
                    (0, it.w)((c) =>
                      this.stTableState$.pipe(
                        (0, it.w)(
                          (e, n) => (
                            0 === n && (e.pagination.start = 0),
                            (0, Lt.D)(
                              this.prop.getPossibleValues(
                                (function pI(t, c, e) {
                                  var n, i;
                                  return {
                                    TypeOfUser: c,
                                    Start: t.pagination.start,
                                    Count: t.pagination.number,
                                    SortBy:
                                      null !== (n = t.sort.predicate) &&
                                      void 0 !== n
                                        ? n
                                        : null,
                                    Reverse:
                                      null !== (i = t.sort.reverse) &&
                                      void 0 !== i &&
                                      i,
                                    Search: e,
                                  };
                                })(e, this.prop.typeOfuser, c)
                              )
                            )
                          )
                        )
                      )
                    )
                  )
                  .subscribe(
                    (c) => {
                      (this.displayedItems = c.data.Users),
                        (this.count = c.data.Total),
                        (this.select.items = this.displayedItems),
                        (this.stTableState.pagination.totalItemCount =
                          c.data.Total),
                        (this.stTableState.pagination.numberOfPages = Math.ceil(
                          c.data.Total / this.itemsByPage
                        ));
                    },
                    () => {}
                  ));
            }
            $onDestroy() {
              this.searchSubscription.unsubscribe();
            }
          },
          templateUrl:
            "js/app/settings/office365/select-azure-users-modal.component.html",
        });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/office365/azure-authentication.component.html",
            '<panel mc-title="{{\'OFFICE365.STEP1\' | translate}}"> <p translate="OFFICE365.GO_AZURE_DIRECTORY"></p> <p translate="OFFICE365.CLICK_NEW_REGISTRATION"></p> <ul> <li translate="OFFICE365.ENTER_APP_NAME"></li> <li translate="OFFICE365.SUPPORTED_ACCOUNT_TYPES"></li> <li> <span translate="OFFICE365.REDIRECT_URI"></span> <span ng-repeat="uri in $ctrl.getSuggestedUris()"> <link-to-clipboard mc-inactive="true" mc-url="uri"></link-to-clipboard> </span> </li> </ul> <p translate="OFFICE365.CLICK_REGISTER_CREATE_APP"></p> <p translate="OFFICE365.APP_OVERVIEW_COPY_APPLICATION_ID_PASTE"></p> <p> <input ng-model="$ctrl.data.ApplicationId" class="form-control" placeholder="{{\'OFFICE365.APPLICATION_ID\' | translate}}"> </p> <p translate="OFFICE365.APP_AUTHENTICATION_ENABLE_ID_TOKENS"> 5. In the app "Authentication" section, on "Implicit grant" enable "ID Tokens". </p> </panel> <panel mc-title="{{\'OFFICE365.STEP2\' | translate}}"> <p translate="OFFICE365.GENERATE_NEW_KEY_PAIR"> </p> <p> <button class="btn btn-success" translate="OFFICE365.CREATE_CERTIFICATE" ng-disabled="!$ctrl.data.ApplicationId" ng-click="$ctrl.createCertificate()" id="btnCreateCertificate" type="button"></button> </p> <p translate="OFFICE365.UPLOAD_GENERATED_FILE"></p> </panel> <panel mc-title="{{\'OFFICE365.STEP3\' | translate}}"> <p translate="OFFICE365.ADD_PERMISSIONS"></p> <ul> <li>User.Read.All</li> <li>Calendars.Read</li> <li>Contacts.Read</li> <li>Mail.Send</li> </ul> <p> <span translate="OFFICE365.PRESS_SAVE_AND_GO_TO"></span>&nbsp; </p> <p> <span translate="OFFICE365.PRESS_SIGNIN_TO_OFFICE365"></span> </p> <p> <button class="btn btn-success" translate="OFFICE365.SIGN_IN" ng-disabled="!$ctrl.data.ApplicationId" ng-click="$ctrl.signIn()" id="btnSignIn" type="button"></button> </p> </panel> '
          ),
      ]);
      let mI = (() => {
        class t {
          constructor(e) {
            (this.$http = e),
              (this.showAuthentication = !1),
              (this.replyUrl = window.location.origin + "/oauth2office2");
          }
          getSuggestedUris() {
            return this.directory.SuggestedRedirectUrl;
          }
          createCertificate() {
            this.$http
              .postApi("api/office365/createCertificate", {})
              .then((e) =>
                (function gI(t, c, e) {
                  const n = new Blob([t], { type: e }),
                    i = document.createElement("a"),
                    a = URL.createObjectURL(n);
                  (i.href = a),
                    (i.download = c),
                    document.body.append(i),
                    i.click(),
                    setTimeout(function () {
                      i.remove(), window.URL.revokeObjectURL(a);
                    }, 0);
                })(e.data, "public_key.pem", "text/plain")
              );
          }
          signIn() {
            this.$http
              .postApi(
                `api/office365/update/${this.directory.StateId}`,
                this.data
              )
              .then(() => {
                window.location.replace(
                  "https://login.microsoftonline.com/common/adminconsent?client_id=" +
                    this.data.ApplicationId +
                    "&state=" +
                    this.directory.StateId +
                    "&redirect_uri=" +
                    encodeURIComponent(this.replyUrl)
                );
              });
          }
          showSettings() {
            this.showAuthentication = !this.showAuthentication;
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").component("azureAuthentication", {
        bindings: {
          directory: "<",
          data: "<",
          testSubscription: "<",
          switchTab: "&",
        },
        templateUrl:
          "js/app/settings/office365/azure-authentication.component.html",
        controller: mI,
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/office365/azure-user-select.component.html",
            '<div ng-if="!$ctrl.mcTypeSelectorDisabled"> <label class="i-checks clear" style="padding-top:2px"> <input type="radio" ng-model="$ctrl.userConf.SyncType" value="0" convert-to-number="" ng-disabled="$ctrl.mcDisabled || !$ctrl.userConf.IsEnabled"><i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.SYNC_ALL_USERS">Sync all Users</span> </label> <label class="i-checks clear" style="padding-top:2px"> <input type="radio" ng-model="$ctrl.userConf.SyncType" value="1" convert-to-number="" ng-disabled="$ctrl.mcDisabled || !$ctrl.userConf.IsEnabled"><i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.SYNC_ALL_USERS_EXCEPT_THESE">Sync all Users except these</span> </label> <label class="i-checks clear" style="padding-top:2px"> <input type="radio" ng-model="$ctrl.userConf.SyncType" value="2" convert-to-number="" ng-disabled="$ctrl.mcDisabled || !$ctrl.userConf.IsEnabled"><i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.SYNC_THESE">Sync these Users</span> </label> </div> <div class="form-group m-t-lg"> <div class="m-b-sm"> <button type="button" ng-click="$ctrl.onAddDialogClick()" ng-disabled="$ctrl.disabled" data-id="btnAdd" class="btn btn-sm btn-success"> <i class="halflings halflings-plus"></i> {{ $ctrl.isSharedMailbox ? (\'CONTACTS.DIALOGS.EXCHANGE.ADD_SHAREDMAILBOXES_BTN\'|translate) : (\'CONTACTS.DIALOGS.EXCHANGE.ADD_USERS_BTN\'|translate)}} </button> <button type="button" ng-disabled="$ctrl.disabled || $ctrl.select.isNothingSelected" class="btn btn-sm btn-default" ng-click="$ctrl.onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" data-id="btnDelete"> <i class="halflings halflings-pencil"></i>Delete </button> </div> <selection-stat mc-source="$ctrl"></selection-stat> <div st-table="$ctrl.displayedUsers" st-pipe="$ctrl.loadDataImpl"> <table class="table table-striped table-fixed"> <thead> <tr> <th class="col-btn"> <label class="mc-select"> <input type="checkbox" ng-model="$ctrl.selectAll" ng-model-options="{getterSetter: true}"> <i></i> </label> </th> <th translate="REPOS.TEXT.NAME">Name</th> <th translate="REPOS.TEXT.PRINCIPALNAME">PRINCIPALNAME</th> <th translate="REPOS.TEXT.EMAIL">EMAIL</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="row in $ctrl.displayedUsers"> <td mc-paged-select-row="row" mc-select-target="parent" mc-select="$ctrl.select"> </td> <td title="{{::row.Name}}">{{::row.Name}}</td> <td title="{{::row.Id}}">{{::row.Id}}</td> <td title="{{::row.Email}}">{{::row.Email}}</td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="$ctrl.onItemDeleteClick(row)" ng-disabled="$ctrl.disabled" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="$ctrl.itemsByPage" st-displayed-pages="7" id="pagerId"></div> </div> </div> '
          ),
      ]);
      let SI = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$uibModal = e),
              (this.$timeout = n),
              (this.$http = i),
              (this.$q = a),
              (this.userConf = {
                IsEnabled: !1,
                SyncType: 0,
                SelectedUsers: [],
              }),
              (this.typeOfuser = xa.Users),
              (this.select = new on()),
              (this.loadDataImpl = this.loadData.bind(this)),
              (this.itemsByPage = 10),
              (this.displayedUsers = []);
          }
          get count() {
            return this.selected.length;
          }
          get selected() {
            return this.userConf.SelectedUsers;
          }
          set selected(e) {
            this.userConf.SelectedUsers = e;
          }
          get selectedCount() {
            return this.select.current.Ids.size;
          }
          get disabled() {
            return this.mcTypeSelectorDisabled
              ? this.mcDisabled
              : this.mcDisabled ||
                  !this.userConf.IsEnabled ||
                  0 === this.userConf.SyncType;
          }
          mapValues(e) {
            return 0 === e.length
              ? this.$q.resolve([])
              : this.$http
                  .postApi("api/office365/usersInfoByIds", e)
                  .then(({ data: n }) => n);
          }
          getPossibleValues(e) {
            return this.$http.postApi("api/office365/users", e);
          }
          get selectAll() {
            return this.select.highlightIsAllSelected;
          }
          set selectAll(e) {
            e
              ? this.select.selectAllById(this.selected)
              : (this.select.highlightIsAllSelected = e);
          }
          loadData(e) {
            this.lastTableState = e;
            const n = e.pagination;
            (n.totalItemCount = this.count),
              (n.numberOfPages = Math.ceil(this.count / this.itemsByPage)),
              n.start >= this.selected.length && (n.start = 0);
            const i = this.selected
              .sort((a, l) => a.localeCompare(l))
              .slice(n.start, n.start + n.number);
            this.mapValues(i)
              .then((a) => {
                (this.select.items = a), (this.displayedUsers = a);
              })
              .catch(u.noop);
          }
          refresh() {
            (this.select.highlightIsAllSelected = !1),
              this.loadData(this.lastTableState);
          }
          onItemDeleteClick(e) {
            const n = this.selected.indexOf(e.Id);
            -1 !== n && this.selected.splice(n, 1), this.refresh();
          }
          onDeleteClick() {
            const e = Array.from(this.select.current.Ids);
            (this.selected = this.selected.filter((n) => !e.includes(n))),
              this.refresh();
          }
          onAddDialogClick() {
            this.$uibModal
              .open({
                size: "lg",
                component: "selectAzureUsersModal",
                backdrop: "static",
                resolve: {
                  prop: () => this,
                  dialogTitle: () => "OFFICE365.SELECT_OFFICE365_USERS_TO_SYNC",
                },
              })
              .result.then((e) => {
                (this.selected = Array.from(e.Ids)), this.refresh();
              })
              .catch(() => u.noop());
          }
        }
        return (t.$inject = ["$uibModal", "$timeout", "$http", "$q"]), t;
      })();
      u.module("app").component("azureUserSelect", {
        bindings: {
          mcTypeSelectorDisabled: "<",
          isSharedMailbox: "<",
          userConf: "<",
          mcDisabled: "<",
          typeOfuser: "<",
        },
        templateUrl:
          "js/app/settings/office365/azure-user-select.component.html",
        controller: SI,
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/office365/office365.component.html",
            '<form> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <help-button url="{{\'LINKS.OFFICE_365_GUIDE_LINK\' | translate}}"></help-button> <label class="m-n font-thin h3" translate="OFFICE365.TITLE"></label> <button class="btn m-l-lg m-b-xs w-xs btn-success" ng-click="$ctrl.saveClick()" ng-disabled="!$ctrl.directory" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button">Save </button> <button class="btn m-b-xs w-xs btn-dark" ng-click="$ctrl.cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button">Cancel </button> <help-button ng-if="$ctrl.helpUrl" url="{{::$ctrl.helpUrl | translate}}"></help-button> </div> <div uib-alert="" class="alert-warning m-r m-l m-t"> <span class="halflings halflings-warning-sign"></span> <span translate="OFFICE365.TEAMS_DIRECT_ROUTING_DEPRECATED"></span> </div> <div ng-if="$ctrl.data" class="m-r m-l m-t"> <div class="alert-list"> <div uib-alert="" class="alert-danger" ng-if="!$ctrl.data.ApplicationId"> <span translate="WARNINGS.APP_ID_NOT_SET"></span> </div> <div uib-alert="" class="alert-danger" ng-if="$ctrl.data.ApplicationId && $ctrl.directory.Office365Status.ExceptionMsg && $ctrl.data.ApplicationId "> <span translate="OFFICE365.STATUS_NOK_UNEXPECTED_ERROR"></span>{{$ctrl.directory.Office365Status.ExceptionMsg}}. <br> <span translate="OFFICE365.CLICK_OK_TO_RESTART"></span> </div> <div uib-alert="" class="alert-danger" ng-if="$ctrl.data.ApplicationId && $ctrl.isServerAppIdSet && !$ctrl.directory.IsAuthorized && $ctrl.directory.ExceptionMessage"> {{$ctrl.directory.ExceptionMessage}} </div> <div uib-alert="" class="alert-danger" ng-if="$ctrl.$scope.activeObject && !$ctrl.$scope.activeObject.SecureSipEnabled._value && $ctrl.$scope.activeObject.EnableTeamsIntegration._value"> {{\'OFFICE365.TEAMS.SECURE_SIP_REQUIRED\'|translate}} </div> <div ng-if="$ctrl.data.ApplicationId && $ctrl.directory.IsAuthorized"> <div ng-switch="$ctrl.testSubscription !== undefined"> <div ng-switch-when="true"> <div uib-alert="" class="alert-warning" ng-if="$ctrl.data.ApplicationId && !$ctrl.testSubscription.IsSubscriptionAvailable "> <p class="m-n">{{\'OFFICE365.FQND_DOES_NOT_HAVE_REALTIME_NOTIFICATINOS\' | translate : \'{fqdn: $ctrl.testSubscription.Fqdn}\'}} </p> <p class="m-n" ng-if="$ctrl.testSubscription.ExceptionMessage"> {{$ctrl.testSubscription.ExceptionMessage}} </p> </div> <div uib-alert="" class="alert-info" ng-if="$ctrl.data.ApplicationId && $ctrl.testSubscription.IsSubscriptionAvailable"> <span translate="OFFICE365.STATUS_OK_REAL_TIME_NOTIFICATIONS_WORKING"> Status OK. Real Time Notifications to Microsoft 365 and back are working. This means that changes from Microsoft 365 to 3CX will be updated. </span> </div> </div> <div ng-switch-default=""> <div uib-alert="" class="alert-info"> <span translate="OFFICE365.TESTING_REAL_NOTIFICATIONS"> Testing Real Time Notifications... </span> </div> </div> </div> </div> <div uib-alert="" class="alert-warning" ng-if="$ctrl.data.ApplicationId && $ctrl.incorrectAccessUrl"> <span translate="OFFICE365.YOU_ACCESS_MC_DIFFERENT_URL"> You are accessing Management Console using a different URL: </span> {{$ctrl.getLocation($ctrl.replyUrl)}}.<br> For Sign In to work please add this URL <b>{{$ctrl.replyUrl}}</b> to the list of Redirect URLs in your Microsoft 365 App or access Management Console using <a class="dashed_link" href="{{$ctrl.getLocation($ctrl.suggestedUri)}}">{{$ctrl.getLocation($ctrl.suggestedUri)}}</a> </div> <div uib-alert="" class="alert-warning" ng-if="$ctrl.userReadAllMissingWarning()"> {{\'OFFICE365.PHOTO_SYNC_PERM_WARNING\'|translate}} </div> <div uib-alert="" class="alert-danger" ng-if="$ctrl.data.ApplicationId && $ctrl.directory.IsExchangeCalendarSyncConfigured"> <span translate="OFFICE365.YOU_ENABLED_EXCHANGE_FEATURE_CONFLICTS_CALENDAR_SYNC"> You have enabled Exchange Calendar Synchronization. This feature conflicts with Microsoft 365 Calendar Synchronization. Please disable Exchange Calendar Synchronization in Contacts -> Exchange. </span> </div> <div uib-alert="" class="alert-danger" ng-if="$ctrl.data.ApplicationId && $ctrl.directory.IsExchangeContactSyncConfigured"> <span translate="OFFICE365.YOU_ENABLED_EXCHANGE_FEATURE_CONFLICTS_CONTACT_SYNC"> You have enabled Exchange Contact Synchronization. This feature conflicts with Microsoft 365 Contact Synchronization. Please remove Exchange Server Url in Contacts -> Exchange. </span> </div> </div> </div> <div class="panel-body"> <uib-tabset class="tab-container" ng-if="$ctrl.data" active="$ctrl.active"> <uib-tab index="0" heading="{{\'OFFICE365.CREATE_APP\' | translate}}"> <azure-authentication ng-if="$ctrl.directory" directory="$ctrl.directory" data="$ctrl.data" switch-tab="$ctrl.active=0" test-subscription="$ctrl.testSubscription"></azure-authentication> </uib-tab> <uib-tab index="1" heading="{{\'OFFICE365.USER_SYNC\' | translate}}"> <div class="panel panel-default"> <div class="panel-heading"> <label class="i-checks m-t-xs m-r" style="margin:0!important"> <input type="checkbox" ng-model="$ctrl.data.ADUsers.IsEnabled"> <i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.AZURE_USERS"></span> </label> </div> <div class="panel-body"> <div> <p><span translate="CONTACTS.DIALOGS.OFFICE365.AZURE_USERS_INFO">You can configure that Private Contacts of users are imported to 3CX Personal Phonebooks. All current Microsoft 365 contacts will be imported and a nightly sync will import new ones and remove deleted ones. Any changes made to the contacts in 3CX Personal Phonebook will be lost! Select All Users or individual users.</span> </p> </div> <div style="margin-bottom:5px"> <label class="i-checks m-t-xs m-r" style="margin:0!important"> <input type="checkbox" ng-change="$ctrl.resetWarnings()" ng-model="$ctrl.IsSetStartingExtensionNumber" ng-disabled="$ctrl.mcDisabled || !$ctrl.data.ADUsers.IsEnabled"> <i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.SET_STARTING_NUMBER"></span> </label> <input type="text" style="display:inline;width:70px" class="form-control" maxlength="5" ng-disabled="!$ctrl.IsSetStartingExtensionNumber" name="extension" ng-model="$ctrl.data.ADUsers.StartingExtensionNumber"> </div> <div class="errors"> <ul ng-if="$ctrl.isIncorrectDNLength && $ctrl.data.ADUsers.IsEnabled && $ctrl.IsSetStartingExtensionNumber"> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.DN_NUMBER_LENGHT_NOT_SUPPORTED"></span> </li> </ul> </div> <div class="errors"> <ul ng-if="!$ctrl.isIncorrectDNLength && $ctrl.isNotNumber && $ctrl.data.ADUsers.IsEnabled && $ctrl.IsSetStartingExtensionNumber"> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="CALL_LOG.DIALOGS.FILTER.INVALID_NUMBER_FORMAT"></span> </li> </ul> </div> <div class="errors"> <ul ng-if="$ctrl.isIncorrectStartRange && !$ctrl.isNotNumber && $ctrl.data.ADUsers.IsEnabled && $ctrl.IsSetStartingExtensionNumber"> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="CONTACTS.DIALOGS.OFFICE365.IVALID_EXTENSION_START_RANGE"></span> </li> </ul> </div> <div> <label class="i-checks"> <input type="checkbox" ng-model="$ctrl.data.SyncGuestUsers" ng-disabled="$ctrl.mcDisabled || !$ctrl.data.ADUsers.IsEnabled"> <i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.SYNC_GUEST_USERS"></span> </label> </div> <div> <label class="i-checks"> <input type="checkbox" ng-model="$ctrl.data.ADUsers.IsSyncOfficePhone" ng-disabled="$ctrl.mcDisabled || !$ctrl.data.ADUsers.IsEnabled"> <i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.SYNC_OFFICE_PHONE"></span> </label> </div> <div class="m-b"> <label class="i-checks"> <input type="checkbox" ng-model="$ctrl.data.ADUsers.IsSyncPhoto" ng-disabled="$ctrl.mcDisabled || !$ctrl.data.ADUsers.IsEnabled"> <i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.SYNC_SYNC_PHOTO"></span> </label> </div> <azure-user-select mc-disabled="!$ctrl.directory.IsAuthorized" user-conf="$ctrl.data.ADUsers" type-ofuser="$ctrl.TypeOfUser.Users"> </azure-user-select> </div> </div> </uib-tab> <uib-tab index="2" heading="Sign In"> <div uib-alert="" class="alert-info"> <span translate="CONTACTS.DIALOGS.OFFICE365.MAKE_SURE_CHECKBOX_IDTOKEN"> Please make sure that in the Azure AD application "Authentication" section the checkbox "ID Tokens" under "Implicit grant" is enabled. </span> </div> <div class="panel panel-default"> <div class="panel-heading"> <label class="i-checks m-t-xs m-r" style="margin:0!important"> <input type="checkbox" ng-model="$ctrl.data.AdminSignIn.IsEnabled"> <i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.ADMIN_SIGNIN"> Administrator Sign in </span> </label> </div> <div class="panel-body"> <div> <p> <span translate="CONTACTS.DIALOGS.OFFICE365.ENABLE_USERS_TO_LOGIN"> Enable users to login as the 3CX Phone System administrator. </span> </p> </div> <azure-user-select mc-type-selector-disabled="true" mc-disabled="!$ctrl.directory.IsAuthorized" user-conf="$ctrl.data.AdminSignIn" type-ofuser="$ctrl.TypeOfUser.Users"></azure-user-select> </div> </div> <div class="panel panel-default"> <div class="panel-heading"> <label class="i-checks m-t-xs m-r" style="margin:0!important"> <input type="checkbox" ng-model="$ctrl.data.ExtensionSignIn.IsEnabled"> <i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.EXT_SIGNIN"> Extension Sign In </span> </label> </div> <div class="panel-body"> <div> <p> <span translate="CONTACTS.DIALOGS.OFFICE365.THESE_SYNCED_USERS_ALLOW_ACCESS"> Enable users to login in Web Client and Management Console ("Allow access to 3CX Management Console" should be enabled) </span> </p> </div> <azure-user-select mc-disabled="!$ctrl.directory.IsAuthorized" user-conf="$ctrl.data.ExtensionSignIn" type-ofuser="$ctrl.TypeOfUser.Users"></azure-user-select> </div> </div> </uib-tab> <uib-tab index="3" heading="{{\'OFFICE365.CONTACT_SYNC\' | translate}}"> <div class="panel panel-default"> <div class="panel-heading"> <label class="i-checks m-t-xs m-r" style="margin:0!important" uib-tooltip="{{($ctrl.directory.IsLicenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}"> <input type="checkbox" ng-model="$ctrl.data.PersonalContacts.IsEnabled" ng-disabled="$ctrl.directory.IsLicenseRestricted"> <i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.PRIVATE_CONTACTS"></span> </label> </div> <div class="panel-body"> <div> <p><span translate="CONTACTS.DIALOGS.OFFICE365.PRIVATE_CONTACTS_INFO"> You can configure that Private Contacts of users are imported to 3CX Personal Phonebooks. All current Microsoft 365 contacts will be imported and a nightly sync will import new ones and remove deleted ones. Any changes made to the contacts in 3CX Personal Phonebook will be lost! Select All Users or individual users. </span> </p> </div> <azure-user-select mc-disabled="!$ctrl.directory.IsAuthorized" user-conf="$ctrl.data.PersonalContacts" type-ofuser="$ctrl.TypeOfUser.LicensedUsers"> </azure-user-select> </div> </div> <div class="panel panel-default"> <div class="panel-heading"> <label class="i-checks m-t-xs m-r" style="margin:0!important" uib-tooltip="{{($ctrl.directory.IsLicenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}"> <input type="checkbox" ng-model="$ctrl.data.SharedMailboxesSync.IsEnabled" ng-disabled="$ctrl.directory.IsLicenseRestricted"> <i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.SHAREDMAILBOXES_CONTACTS"></span> </label> </div> <div class="panel-body"> <div> <p> <span translate="CONTACTS.DIALOGS.OFFICE365.SHAREDMAILBOXES_CONTACTS_INFO"> Microsoft 365 Shared mailbox contacts are imported into 3CX Company Phonebook. All current Microsoft 365 Shared mailbox contacts will be imported and a nightly sync will import new ones and remove deleted ones. Any changes made to Microsoft 365 Shared mailbox contacts in 3CX Company Phonebook will be lost! Select all Shared mailboxes or individual Shared mailboxes. </span> </p> </div> <azure-user-select is-shared-mailbox="true" mc-disabled="!$ctrl.directory.IsAuthorized" user-conf="$ctrl.data.SharedMailboxesSync" type-ofuser="$ctrl.TypeOfUser.SharedMailboxes"> </azure-user-select> </div> </div> </uib-tab> <uib-tab index="4" heading="{{\'OFFICE365.CALENDAR_SYNC\' | translate}}"> <div class="panel panel-default"> <div class="panel-heading"> <label class="i-checks m-t-xs m-r" style="margin:0!important" uib-tooltip="{{($ctrl.directory.IsLicenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}"> <input type="checkbox" ng-model="$ctrl.data.EventSync.IsEnabled" ng-disabled="$ctrl.directory.IsLicenseRestricted"> <i></i> <span translate="CONTACTS.DIALOGS.OFFICE365.CALENDARS"></span> </label> </div> <div class="panel-body"> <div> <p translate="CONTACTS.DIALOGS.OFFICE365.CALENDAR_SYNC_INFO"> This will update the 3CX Extension Presence based on the user\'s \\"Show As\\" status in the Outlook Calendar as follows: </p> <div class="row" align="center"> <div class="col-md-8"> <table class="table table-striped table-bordered"> <thead> <tr> <th translate="CONTACTS.DIALOGS.OFFICE365.OUTLOOK_SHOW_AS"> Outlook - Show As </th> <th translate="CONTACTS.DIALOGS.OFFICE365.TCX_EXTENSION_STATUS"> 3CX - Extension Status </th> </tr> </thead> <tbody> <tr> <td translate="CONTACTS.DIALOGS.OFFICE365.BUSY">Busy</td> <td translate="REPOS.TEXT.DND_PROFILE">Do Not Disturb</td> </tr> <tr> <td translate="CONTACTS.DIALOGS.OFFICE365.OUT_OF_OFFICE_AWAY"> Out of office / Away </td> <td translate="REPOS.TEXT.AWAY_PROFILE">Away</td> </tr> <tr> <td translate="CONTACTS.DIALOGS.OFFICE365.WORKING_ELSEWHERE"> Working Elsewhere </td> <td translate="REPOS.TEXT.DND_PROFILE">Do Not Disturb</td> </tr> <tr> <td translate="CONTACTS.DIALOGS.OFFICE365.TENTATIVE">Tentative</td> <td></td> </tr> </tbody> </table> </div> </div> </div> <azure-user-select mc-disabled="!$ctrl.directory.IsAuthorized" user-conf="$ctrl.data.EventSync" type-ofuser="$ctrl.TypeOfUser.LicensedUsers"> </azure-user-select> </div> </div> </uib-tab> <uib-tab index="5" heading="{{\'OFFICE365.TEAMS.TITLE\' | translate}}"> <div class="panel panel-default"> <checkbox-control-header mc-title="OFFICE365.TEAMS.TITLE_ENABLE_NEW" prop="$ctrl.$scope.activeObject.EnableTeamsIntegration"></checkbox-control-header> <div class="panel-body"> <div class="form-group m-b-lg"> <strong translate="OFFICE365.TEAMS.STEP1"></strong> <div class="line line-dashed b-b line-lg m-b"></div> <div class="form-group m-b"> <input type="text" class="form-control" placeholder="{{\'OFFICE365.TEAMS.SBC_FQDN\'|translate}}" maxlength="255" ng-model="$ctrl.sbcFQDN" ng-model-options="{getterSetter: true, debounce: 200}" ng-disabled="$ctrl.$scope.activeObject.SbcFQDN.disabled"> <div class="errors" ng-if="$ctrl.$scope.activeObject.SbcFQDN.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{$ctrl.$scope.activeObject.SbcFQDN.errorMsg}} </li> </ul> </div> <div class="warnings"> <ul> <li ng-if="$ctrl.$scope.activeObject.EnableTeamsIntegration.value() && $ctrl.$scope.activeObject.IsDynamicIP.value()"> <span class="fa fa-info-circle"></span> {{\'OFFICE365.TEAMS.DYNAMIC_IP_WARNING\'|translate}} </li> <li ng-if="!($ctrl.$scope.activeObject.EnableTeamsIntegration.value() && $ctrl.$scope.activeObject.IsDynamicIP.value()) && $ctrl.fqdnInvalid"> <span class="fa fa-info-circle"></span> {{\'OFFICE365.TEAMS.FQDN_WARNING\'|translate}} </li> </ul> </div> </div> </div> <div class="form-group m-b-lg"> <strong translate="OFFICE365.TEAMS.STEP2"></strong> <div class="line line-dashed b-b line-lg m-b"></div> <p translate="OFFICE365.TEAMS.CERTIFICATE_HINT"></p> <div ng-if="!$ctrl.$scope.activeObject.IsNativeFQDN.value()"> <mc-certificate-upload mc-title="OFFICE365.TEAMS.SBC_CERT" mc-cert-expiry-date-prop="$ctrl.$scope.activeObject.SbcCertificateExpirationDate" mc-cert-file-prop="$ctrl.$scope.activeObject.SbcCertificateFile" mc-cert-prop="$ctrl.$scope.activeObject.SbcCertificate"> <div class="warnings" ng-if="$ctrl.$scope.activeObject.IsIssuerWarning.value()"> <ul> <li> <span class="fa fa-info-circle"></span> <span translate="WARNINGS.SBC_NOT_ALLOWED_ISSUER"></span> </li> </ul> </div> </mc-certificate-upload> <mc-certificate-upload mc-title="OFFICE365.TEAMS.SBC_PRIVATE_KEY" mc-cert-file-prop="$ctrl.$scope.activeObject.SbcPrivateKeyFile" mc-cert-prop="$ctrl.$scope.activeObject.SbcPrivateKey"> </mc-certificate-upload> </div> <p class="alert alert-info"> {{\'OFFICE365.TEAMS.TLS_PORT_HINT\'|translate: {p0: $ctrl.$scope.activeObject.TlsPort._value} }} </p> </div> <div class="form-group m-b-lg"> <strong translate="OFFICE365.TEAMS.STEP3"></strong> <div class="line line-dashed b-b line-lg m-b"></div> <div class="form-group"> <p translate="OFFICE365.TEAMS.DIAL_PLAN_HINT"></p> <label translate="OFFICE365.TEAMS.COUNTRY"></label> <select class="form-control" ng-model="$ctrl.$scope.activeObject.DialPlan.value" ng-model-options="{getterSetter: true}" ng-disabled="$ctrl.$scope.activeObject.DialPlan.disabled"> <option value="AU">Australia</option> <option value="CY">Cyprus</option> <option value="FR">France</option> <option value="DE">Germany</option> <option value="IT">Italy</option> <option value="UK">United Kingdom</option> <option value="US">United States</option> <option value="OTHER">Other</option> </select> </div> <text-control mc-title="OFFICE365.TEAMS.AREA_CODE" prop="$ctrl.$scope.activeObject.AreaCode" placeholder="OFFICE365.TEAMS.AREA_CODE"></text-control> <button ng-disabled="!$ctrl.$scope.activeObject.EnableTeamsIntegration.value()" type="button" class="btn btn-success" translate="OFFICE365.TEAMS.DIALPLAN_BUTTON" ng-click="$ctrl.downloadDialPlan()"></button> </div> <div class="form-group m-b-lg"> <strong translate="OFFICE365.TEAMS.STEP4"></strong> <div class="line line-dashed b-b line-lg m-b"></div> <p translate="OFFICE365.TEAMS.MAP_USERS_HINT"></p> <p translate="OFFICE365.TEAMS.MAP_USERS_NOTE"></p> <button ng-disabled="!$ctrl.$scope.activeObject.EnableTeamsIntegration.value()" type="button" class="btn btn-success" translate="OFFICE365.TEAMS.MAP_USERS_BUTTON" ng-click="$ctrl.downloadMapUsers()"></button> <div class="errors" ng-if="$ctrl.showUsersWarning"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="{{$ctrl.showUsersWarning}}"></span> </li> </ul> </div> </div> </div> </div> </uib-tab> </uib-tabset> </div> </div> </form> '
          ),
      ]);
      var ti = w(77579),
        ao = w(70262);
      let _I = (() => {
        class t {
          constructor(e, n, i, a, l, s, r, o, p) {
            (this.$scope = e),
              (this.$state = n),
              (this.$http = i),
              (this.$translate = a),
              (this.myUtilsService = l),
              (this.editorService = s),
              (this.WrapperSvc = r),
              (this.$window = o),
              (this.restartSipService = p),
              (this.TypeOfUser = xa),
              (this.active = 0),
              (this.fqdnInvalid = !1),
              (this.teamsIntegrationId = -1),
              (this.showUsersWarning = ""),
              (this.fqdn$ = new ti.x()),
              (this.replyUrl = window.location.origin + "/oauth2office2");
          }
          get sbcFQDN() {
            var e;
            return null === (e = this.$scope.activeObject) || void 0 === e
              ? void 0
              : e.SbcFQDN.value();
          }
          set sbcFQDN(e) {
            this.fqdnChanged(e), this.$scope.activeObject.SbcFQDN.value(e);
          }
          fqdnChanged(e) {
            this.fqdn$.next(e),
              (this.$scope.activeObject.SbcCertificate.errorMsg = void 0);
          }
          $onDestroy() {
            var e;
            null === (e = this.fqdnCheckSubsciption) ||
              void 0 === e ||
              e.unsubscribe();
          }
          getLocation(e) {
            return e && e.split("/").slice(0, 3).join("/");
          }
          userReadAllMissingWarning() {
            var e;
            return (
              (null === (e = this.directory) || void 0 === e
                ? void 0
                : e.IsAuthorized) &&
              this.directory.Public.ADUsers.IsEnabled &&
              this.directory.Public.ADUsers.IsSyncPhoto &&
              !this.directory.Roles.some((n) => "User.Read.All" === n)
            );
          }
          $onInit() {
            (this.fqdnCheckSubsciption = this.fqdn$
              .pipe(
                Wt(1e3),
                (0, it.w)((e) =>
                  (0, Lt.D)(
                    this.$http.get("api/teams/checkFqdnRecord", {
                      params: { fqdn: e },
                    })
                  ).pipe(
                    (0, We.U)((n) => n.data),
                    (0, ao.K)((n) => (0, Rt.of)(!1))
                  )
                )
              )
              .subscribe((e) => {
                this.fqdnInvalid = !e;
              })),
              (this.isIncorrectDNLength = !1),
              (this.isIncorrectStartRange = !1),
              (this.isNotNumber = !1),
              (this.sumOfUsers = []),
              this.$http.getApi("api/office365").then((e) => {
                (this.directory = e.data),
                  (this.directory.Office365Status.ExceptionMsg =
                    this.getTranslationIfExist(
                      this.directory.Office365Status.ExceptionMsg
                    )),
                  (this.IsSetStartingExtensionNumber = !!(
                    this.directory.Public.ADUsers.StartingExtensionNumber &&
                    this.directory.Public.ADUsers.StartingExtensionNumber
                      .length > 0
                  )),
                  (this.incorrectAccessUrl =
                    !this.directory.SuggestedRedirectUrl.includes(
                      this.replyUrl
                    )),
                  (this.enl = e.data.ExtensionNumberLength),
                  this.directory.IsAuthorized &&
                    this.$http.get("api/office365/testSubscription").then(
                      (n) => {
                        (this.testSubscription = n.data),
                          "Application ID is not set" ==
                            this.testSubscription.ExceptionMessage &&
                            (this.testSubscription.ExceptionMessage = null);
                      },
                      () => {
                        this.testSubscription = {
                          IsSubscriptionAvailable: !1,
                          ExceptionMessage:
                            "Error testing subscriptions, ManagementConsole error",
                        };
                      }
                    ),
                  (this.isServerAppIdSet = !!e.data.Public.ApplicationId),
                  (this.data = e.data.Public),
                  (this.stateId = e.data.StateId),
                  e.data.SuggestedRedirectUrl.length > 0 &&
                    (this.suggestedUri = e.data.SuggestedRedirectUrl[0]);
              }),
              this.$http
                .edit("/api/settings/TeamsIntegration")
                .then((e) => {
                  (this.teamsIntegrationId = e.data.Id),
                    this.fqdn$.next(e.data.ActiveObject.SbcFQDN._value),
                    this.myUtilsService
                      .initBaseEditController(this.$scope, this.editorService, {
                        Id: e.data.Id,
                        ActiveObject: e.data.ActiveObject,
                        onSave() {},
                        onCancel() {},
                      })
                      .catch(() => u.noop());
                })
                .catch(() => u.noop());
          }
          saveClick() {
            var e = this;
            return (0, Yt.Z)(function* () {
              if (e.validateDataBeforeSaving()) {
                try {
                  const n = yield e.editorService.save(e.teamsIntegrationId);
                  e.restartSipService.processAfterSaveData(n.data);
                } catch (n) {
                  return (
                    e.WrapperSvc.invalidateObject(e.$scope.activeObject, n),
                    (e.active = 5),
                    void e.$scope.$digest()
                  );
                }
                try {
                  yield e.$http.postApi(`api/office365/${e.stateId}`, e.data),
                    e.$state.go("app.settings.general");
                } catch (n) {}
              }
            })();
          }
          resetWarnings() {
            (this.isNotNumber = !1),
              (this.isIncorrectDNLength = !1),
              (this.isIncorrectStartRange = !1),
              (this.directory.Public.ADUsers.StartingExtensionNumber = "");
          }
          onStartNumberChange() {
            (this.isNotNumber =
              !this.directory.Public.ADUsers.StartingExtensionNumber ||
              !(function CI(t) {
                return !isNaN(parseFloat(t)) && isFinite(t);
              })(this.directory.Public.ADUsers.StartingExtensionNumber)),
              (this.isIncorrectDNLength =
                !this.directory.Public.ADUsers.StartingExtensionNumber ||
                this.directory.Public.ADUsers.StartingExtensionNumber.length !=
                  this.enl),
              (this.isIncorrectStartRange = !(
                !this.directory.Public.ADUsers.StartingExtensionNumber ||
                !this.directory.Public.ADUsers.StartingExtensionNumber.startsWith(
                  "0"
                )
              ));
          }
          validateDataBeforeSaving() {
            if (
              (this.onStartNumberChange(),
              (!this.isNotNumber &&
                !this.isIncorrectDNLength &&
                !this.isIncorrectStartRange) ||
                !this.data.ADUsers.IsEnabled ||
                !this.IsSetStartingExtensionNumber)
            )
              return !0;
          }
          downloadDialPlan() {
            this.$window.location.assign(
              `/api/teams/dialplan?id=${this.teamsIntegrationId}`
            );
          }
          downloadMapUsers() {
            const e = `/api/teams/mapUsers?id=${this.teamsIntegrationId}`;
            this.$http
              .head(e)
              .then((n) => {
                (this.showUsersWarning = ""), this.$window.location.assign(e);
              })
              .catch((n) => {
                this.showUsersWarning = "WARNINGS.NO_USERS_IN_TEAMS";
              });
          }
          getTranslationIfExist(e) {
            return (
              "WARNINGS.NO_MORE_EXTS_AVAULABLE" === e &&
                (e = this.$translate.instant(
                  "WARNINGS.NO_MORE_EXTS_AVAULABLE"
                )),
              e
            );
          }
          cancelClick() {
            this.$state.go("app.settings.general");
          }
        }
        return (
          (t.$inject = [
            "$scope",
            "$state",
            "$http",
            "$translate",
            "MyUtilsSvc",
            "EditSvc",
            "WrapperSvc",
            "$window",
            "RestartSipService",
          ]),
          t
        );
      })();
      u
        .module("app")
        .component("office365", {
          templateUrl: "js/app/settings/office365/office365.component.html",
          controller: _I,
        }),
        u.module("app").filter("fieldLengthFilter", [
          "$translate",
          function (t) {
            return function (c) {
              let e = "SETTINGS.CDR.FIXED_FIELD_LENGTH";
              switch (c) {
                case 0:
                  e = "SETTINGS.CDR.DYNAMIC_FIELD_LENGTH";
                  break;
                case 1:
                  e = "SETTINGS.CDR.FIXED_FIELD_LENGTH_ONE_CHARACTER";
              }
              return t.instant(e, { characters: c });
            };
          },
        ]),
        u.module("app").controller("Click2CallCtrl", [
          "$scope",
          function (t) {
            (t.rowCollection = [
              { trustedIp: "127.0.0.1" },
              { trustedIp: "40.15.154.15" },
              { trustedIp: "40.15.154.16" },
              { trustedIp: "40.15.154.17" },
              { trustedIp: "40.15.154.19" },
            ]),
              (t.displayedCollection = [].concat(t.rowCollection)),
              (t.removeItem = function (e) {
                const n = t.rowCollection.indexOf(e);
                -1 !== n && t.rowCollection.splice(n, 1);
              }),
              (t.addIp = function () {
                const c = t.newIp.trim();
                0 !== c.length &&
                  (t.rowCollection.push({ trustedIp: c }), (t.newIp = ""));
              });
          },
        ]),
        u
          .module("app")
          .directive("clickCallAddIp", () => ({
            templateUrl: "tpl/general_dialogs/click2call_add_ip.html",
            scope: !0,
          })),
        u
          .module("app")
          .directive("emergencyRuleList", () => ({
            templateUrl: "js/app/emergency_numbers/emergency_rule_list.html",
            scope: !0,
          }));
      const ni = JSON.parse(
          '{"version":2,"Continents":{"Continent":[{"name":"North America","downloadUrl":"downloads-global.3cx.com","stun":"stun-us.3cx.com","webmeetingzone":"North America","Country":[{"CountryCode":"1","flagFileName":"United_States.png","voicemailno":"99","exitcode":"011","text":"United States","ErpCode":"US"},{"CountryCode":"1","flagFileName":"Canada.png","voicemailno":"99","exitcode":"011","text":"Canada","ErpCode":"CA"},{"CountryCode":"1264","flagFileName":"Anguilla.png","voicemailno":"99","exitcode":"011","text":"Anguilla","ErpCode":"AI"},{"CountryCode":"1268","flagFileName":"Antigua_and_Barbuda.png","voicemailno":"99","exitcode":"011","text":"Antigua and Barbuda","ErpCode":"AG"},{"CountryCode":"1242","flagFileName":"Bahamas.png","voicemailno":"99","exitcode":"011","text":"Bahamas","ErpCode":"BS"},{"CountryCode":"1246","flagFileName":"Barbados.png","voicemailno":"99","exitcode":"011","text":"Barbados","ErpCode":"BB"},{"CountryCode":"1441","flagFileName":"Bermuda.png","voicemailno":"99","exitcode":"011","text":"Bermuda","ErpCode":"BM"},{"CountryCode":"1345","flagFileName":"Cayman_Islands.png","voicemailno":"99","exitcode":"011","text":"Cayman Islands","ErpCode":"KY","webmeetingzone":"US"},{"CountryCode":"506","flagFileName":"Costa_Rica.png","voicemailno":"99","exitcode":"00","text":"Costa Rica","ErpCode":"CR"},{"CountryCode":"53","flagFileName":"Cuba.png","voicemailno":"99","exitcode":"119","text":"Cuba","ErpCode":"CU"},{"CountryCode":"1767","flagFileName":"Dominica.png","voicemailno":"99","exitcode":"011","text":"Dominica","ErpCode":"DM"},{"CountryCode":"1","flagFileName":"Dominican_Republic.png","name":"Dominican Republic","voicemailno":"99","exitcode":"011","CountryCodes":["1809","1829","1849"],"ErpCode":"DO"},{"CountryCode":"503","flagFileName":"El_Salvador.png","voicemailno":"99","exitcode":"00","text":"El Salvador","ErpCode":"SV"},{"CountryCode":"299","flagFileName":"Greenland.png","voicemailno":"99","exitcode":"00","text":"Greenland","ErpCode":"GL"},{"CountryCode":"1473","flagFileName":"Grenada.png","voicemailno":"99","exitcode":"011","text":"Grenada","ErpCode":"GD"},{"CountryCode":"1671","flagFileName":"Guam.png","voicemailno":"99","exitcode":"011","text":"Guam","ErpCode":"GU"},{"CountryCode":"502","flagFileName":"Guatemala.png","voicemailno":"99","exitcode":"00","text":"Guatemala","ErpCode":"GT"},{"CountryCode":"509","flagFileName":"Haiti.png","voicemailno":"99","exitcode":"00","text":"Haiti","ErpCode":"HT"},{"CountryCode":"504","flagFileName":"Honduras.png","voicemailno":"99","exitcode":"00","text":"Honduras","ErpCode":"HN"},{"CountryCode":"1","CountryCodes":["1876","1658"],"flagFileName":"Jamaica.png","voicemailno":"99","exitcode":"011","name":"Jamaica","ErpCode":"JM"},{"CountryCode":"52","flagFileName":"Mexico.png","voicemailno":"99","exitcode":"00","text":"Mexico","ErpCode":"MX"},{"CountryCode":"1664","flagFileName":"Montserrat.png","voicemailno":"99","exitcode":"011","text":"Montserrat","ErpCode":"MS"},{"CountryCode":"505","flagFileName":"Nicaragua.png","voicemailno":"99","exitcode":"00","text":"Nicaragua","ErpCode":"NI"},{"CountryCode":"1670","flagFileName":"Northern_Mariana_Islands.png","voicemailno":"99","exitcode":"011","text":"Northern Mariana Islands","ErpCode":"MP"},{"CountryCode":"507","flagFileName":"Panama.png","voicemailno":"99","exitcode":"00","text":"Panama","ErpCode":"PA"},{"CountryCode":"1","flagFileName":"Puerto_Rico.png","name":"Puerto Rico","voicemailno":"99","exitcode":"011","CountryCodes":["1787","1939"],"ErpCode":"PR"},{"CountryCode":"1869","flagFileName":"Saint_Kitts_and_Nevis.png","voicemailno":"99","exitcode":"011","text":"St. Kitts and Nevis","ErpCode":"KN"},{"CountryCode":"1758","flagFileName":"Saint_Lucia.png","voicemailno":"99","exitcode":"011","text":"St. Lucia","ErpCode":"LC"},{"CountryCode":"1784","flagFileName":"Saint_Vincent_and_Grenadines.png","voicemailno":"99","exitcode":"011","text":"St. Vincent and the Grenadines","ErpCode":"VC"},{"CountryCode":"1868","flagFileName":"Trinidad_and_Tobago.png","voicemailno":"66","exitcode":"011","text":"Trinidad and Tobago","ErpCode":"TT"},{"CountryCode":"1649","flagFileName":"Turks_and_Caicos_Islands.png","voicemailno":"99","exitcode":"0","text":"Turks and Caicos Islands","ErpCode":"TC"},{"CountryCode":"1284","flagFileName":"Virgin_Islands_British.png","voicemailno":"99","exitcode":"011","text":"Virgin Islands, British","ErpCode":"VG"},{"CountryCode":"1340","flagFileName":"Virgin_Islands_United_States.png","voicemailno":"99","exitcode":"011","text":"Virgin Islands, U.S.","ErpCode":"VI"},{"CountryCode":"1721","flagFileName":"SintMaarten.png","voicemailno":"99","exitcode":"011","text":"Sint Maarten","ErpCode":"SX"}]},{"name":"South America","downloadUrl":"downloads-global.3cx.com","stun":"stun-sa.3cx.com","webmeetingzone":"South America","Country":[{"CountryCode":"54","flagFileName":"Argentina.png","voicemailno":"99","exitcode":"00","text":"Argentina","ErpCode":"AR"},{"CountryCode":"297","flagFileName":"Aruba.png","voicemailno":"99","exitcode":"00","text":"Aruba","ErpCode":"AW"},{"CountryCode":"501","flagFileName":"Belize.png","voicemailno":"99","exitcode":"00","text":"Belize","ErpCode":"BZ"},{"CountryCode":"591","flagFileName":"Bolivia.png","voicemailno":"99","exitcode":"00","text":"Bolivia","ErpCode":"BO"},{"CountryCode":"55","flagFileName":"Brazil.png","voicemailno":"99","exitcode":"00","text":"Brazil","ErpCode":"BR"},{"CountryCode":"56","flagFileName":"Chile.png","voicemailno":"99","exitcode":"00","text":"Chile","ErpCode":"CL"},{"CountryCode":"57","flagFileName":"Colombia.png","voicemailno":"99","exitcode":"009","text":"Colombia","ErpCode":"CO"},{"CountryCode":"593","flagFileName":"Ecuador.png","voicemailno":"99","exitcode":"00","text":"Ecuador","ErpCode":"EC"},{"CountryCode":"500","flagFileName":"Falkland_Islands.png","voicemailno":"99","exitcode":"00","text":"Falkland Islands","ErpCode":"FK"},{"CountryCode":"594","flagFileName":"French_Guyana.png","voicemailno":"99","exitcode":"00","text":"French Guiana","ErpCode":"GF"},{"CountryCode":"590","flagFileName":"Guadeloupe.png","voicemailno":"99","exitcode":"00","text":"Guadeloupe","ErpCode":"GP"},{"CountryCode":"592","flagFileName":"Guyana.png","voicemailno":"99","exitcode":"00","text":"Guyana","ErpCode":"GY"},{"CountryCode":"596","flagFileName":"Martinique.png","voicemailno":"99","exitcode":"00","text":"Martinique","ErpCode":"MQ"},{"CountryCode":"595","flagFileName":"Paraguay.png","voicemailno":"99","exitcode":"00","text":"Paraguay","ErpCode":"PY"},{"CountryCode":"51","flagFileName":"Peru.png","voicemailno":"99","exitcode":"00","text":"Peru","ErpCode":"PE"},{"CountryCode":"508","flagFileName":"Saint_Pierre_and_Miquelon.png","voicemailno":"99","exitcode":"00","text":"St. Pierre and Miquelon","ErpCode":"PM"},{"CountryCode":"597","flagFileName":"Suriname.png","voicemailno":"99","exitcode":"00","text":"Suriname","ErpCode":"SR"},{"CountryCode":"598","flagFileName":"Uruguay.png","voicemailno":"99","exitcode":"00","text":"Uruguay","ErpCode":"UY"},{"CountryCode":"58","flagFileName":"Venezuela.png","voicemailno":"99","exitcode":"00","text":"Venezuela","ErpCode":"VE"},{"CountryCode":"599","flagFileName":"Netherlands_Antilles.png","name":"Curacao and Caribbean Netherlands","voicemailno":"99","exitcode":"00","CountryCodes":["5993","5994","5995","5996","5997","5998","5999"],"ErpCode":"CW"}]},{"name":"Europe","downloadUrl":"downloads-global.3cx.com","stun":"stun-eu.3cx.com","webmeetingzone":"Europe","Country":[{"CountryCode":"355","flagFileName":"Albania.png","voicemailno":"99","exitcode":"00","text":"Albania","ErpCode":"AL"},{"CountryCode":"376","flagFileName":"Andorra.png","voicemailno":"99","exitcode":"00","text":"Andorra","ErpCode":"AD"},{"CountryCode":"374","flagFileName":"Armenia.png","voicemailno":"99","exitcode":"00","text":"Armenia","ErpCode":"AM"},{"CountryCode":"43","flagFileName":"Austria.png","voicemailno":"99","exitcode":"00","text":"Austria","ErpCode":"AT"},{"CountryCode":"375","flagFileName":"Belarus.png","voicemailno":"99","exitcode":"810","text":"Belarus","ErpCode":"BY"},{"CountryCode":"32","flagFileName":"Belgium.png","voicemailno":"99","exitcode":"00","text":"Belgium","ErpCode":"BE"},{"CountryCode":"387","flagFileName":"Bosnia_and_Herzegovina.png","voicemailno":"99","exitcode":"00","text":"Bosnia and Herzegovina","ErpCode":"BA"},{"CountryCode":"359","flagFileName":"Bulgaria.png","voicemailno":"99","exitcode":"00","text":"Bulgaria","ErpCode":"BG"},{"CountryCode":"385","flagFileName":"Croatia.png","voicemailno":"99","exitcode":"00","text":"Croatia","ErpCode":"HR"},{"CountryCode":"357","flagFileName":"Cyprus.png","voicemailno":"99","exitcode":"00","text":"Cyprus","ErpCode":"CY"},{"CountryCode":"420","flagFileName":"Czech_Republic.png","voicemailno":"99","exitcode":"00","text":"Czech Republic","ErpCode":"CZ"},{"CountryCode":"45","flagFileName":"Denmark.png","voicemailno":"99","exitcode":"00","text":"Denmark","ErpCode":"DK"},{"CountryCode":"372","flagFileName":"Estonia.png","voicemailno":"99","exitcode":"00","text":"Estonia","ErpCode":"EE"},{"CountryCode":"298","flagFileName":"Faroe_Islands.png","voicemailno":"99","exitcode":"00","text":"Faroe Islands","ErpCode":"FO"},{"CountryCode":"358","flagFileName":"Finland.png","voicemailno":"99","exitcode":"00","text":"Finland","ErpCode":"FI"},{"CountryCode":"33","flagFileName":"France.png","voicemailno":"99","exitcode":"00","text":"France","ErpCode":"FR"},{"CountryCode":"49","flagFileName":"Germany.png","voicemailno":"99","exitcode":"00","text":"Germany","ErpCode":"DE"},{"CountryCode":"350","flagFileName":"Gibraltar.png","voicemailno":"66","exitcode":"00","text":"Gibraltar","ErpCode":"GI"},{"CountryCode":"30","flagFileName":"Greece.png","voicemailno":"99","exitcode":"00","text":"Greece","ErpCode":"GR"},{"CountryCode":"441481","flagFileName":"Guernsey.png","voicemailno":"99","exitcode":"00","text":"Guernsey","ErpCode":"GG"},{"CountryCode":"36","flagFileName":"Hungary.png","voicemailno":"99","exitcode":"00","text":"Hungary","ErpCode":"HU"},{"CountryCode":"354","flagFileName":"Iceland.png","voicemailno":"99","exitcode":"00","text":"Iceland","ErpCode":"IS"},{"CountryCode":"353","flagFileName":"Ireland.png","voicemailno":"66","exitcode":"00","text":"Ireland","ErpCode":"IE"},{"CountryCode":"441624","flagFileName":"Isle_of_Man.png","voicemailno":"99","exitcode":"00","text":"Isle of Man","ErpCode":"IM"},{"CountryCode":"39","flagFileName":"Italy.png","voicemailno":"99","exitcode":"00","text":"Italy","ErpCode":"IT"},{"CountryCode":"441534","flagFileName":"Jersey.png","voicemailno":"99","exitcode":"00","text":"Jersey","ErpCode":"JE"},{"CountryCode":"371","flagFileName":"Latvia.png","voicemailno":"99","exitcode":"00","text":"Latvia","ErpCode":"LV"},{"CountryCode":"423","flagFileName":"Liechtenstein.png","voicemailno":"99","exitcode":"00","text":"Liechtenstein","ErpCode":"LI"},{"CountryCode":"370","flagFileName":"Lithuania.png","voicemailno":"99","exitcode":"00","text":"Lithuania","ErpCode":"LT"},{"CountryCode":"352","flagFileName":"Luxembourg.png","voicemailno":"99","exitcode":"00","text":"Luxembourg","ErpCode":"LU"},{"CountryCode":"389","flagFileName":"Macedonia.png","voicemailno":"99","exitcode":"00","text":"North Macedonia","ErpCode":"MK"},{"CountryCode":"356","flagFileName":"Malta.png","voicemailno":"99","exitcode":"00","text":"Malta","ErpCode":"MT"},{"CountryCode":"373","flagFileName":"Moldova.png","voicemailno":"99","exitcode":"00","text":"Moldova","ErpCode":"MD"},{"CountryCode":"377","flagFileName":"Monaco.png","voicemailno":"99","exitcode":"00","text":"Monaco","ErpCode":"MC"},{"CountryCode":"382","flagFileName":"Montenegro.png","voicemailno":"99","exitcode":"00","text":"Montenegro","ErpCode":"ME"},{"CountryCode":"31","flagFileName":"Netherlands.png","voicemailno":"99","exitcode":"00","text":"Netherlands","ErpCode":"NL"},{"CountryCode":"47","flagFileName":"Norway.png","voicemailno":"99","exitcode":"00","text":"Norway","ErpCode":"NO"},{"CountryCode":"48","flagFileName":"Poland.png","voicemailno":"99","exitcode":"00","text":"Poland","ErpCode":"PL"},{"CountryCode":"351","flagFileName":"Portugal.png","voicemailno":"99","exitcode":"00","text":"Portugal","ErpCode":"PT"},{"CountryCode":"40","flagFileName":"Romania.png","voicemailno":"99","exitcode":"00","text":"Romania","ErpCode":"RO"},{"CountryCode":"378","flagFileName":"San_Marino.png","voicemailno":"99","exitcode":"00","text":"San Marino","ErpCode":"SM"},{"CountryCode":"381","flagFileName":"Serbia.png","voicemailno":"99","exitcode":"00","text":"Serbia","ErpCode":"RS"},{"CountryCode":"383","flagFileName":"Kosovo.png","voicemailno":"99","exitcode":"00","text":"Kosovo","ErpCode":"XK"},{"CountryCode":"421","flagFileName":"Slovakia.png","voicemailno":"99","exitcode":"00","text":"Slovakia","ErpCode":"SK"},{"CountryCode":"386","flagFileName":"Slovenia.png","voicemailno":"99","exitcode":"00","text":"Slovenia","ErpCode":"SI"},{"CountryCode":"34","flagFileName":"Spain.png","voicemailno":"99","exitcode":"00","text":"Spain","ErpCode":"ES"},{"CountryCode":"4779","flagFileName":"Svalbard_and_Jan_Mayen.png","voicemailno":"99","exitcode":"00","text":"Svalbard and Jan Mayen","ErpCode":"SJ"},{"CountryCode":"46","flagFileName":"Sweden.png","voicemailno":"99","exitcode":"00","text":"Sweden","ErpCode":"SE"},{"CountryCode":"41","flagFileName":"Switzerland.png","voicemailno":"99","exitcode":"00","text":"Switzerland","ErpCode":"CH"},{"CountryCode":"90","flagFileName":"Turkey.png","voicemailno":"99","exitcode":"00","text":"Turkey","ErpCode":"TR"},{"CountryCode":"90392","flagFileName":"Turkish_Republic_of_Northern_Cyprus.png","voicemailno":"99","exitcode":"00","text":"Turkish Republic of Northern Cyprus","ParentErpCode":"TR"},{"CountryCode":"380","flagFileName":"Ukraine.png","voicemailno":"99","exitcode":"00","text":"Ukraine","ErpCode":"UA"},{"CountryCode":"44","flagFileName":"United_Kingdom.png","voicemailno":"66","exitcode":"00","text":"United Kingdom","ErpCode":"GB","webmeetingzone":"United Kingdom"},{"CountryCode":"3906698","flagFileName":"Vatican_City.png","voicemailno":"99","exitcode":"00","text":"Vatican City State","ErpCode":"VA"}]},{"name":"Middle East","downloadUrl":"downloads-global.3cx.com","stun":"stun-eu.3cx.com","webmeetingzone":"United Arab Emirates","Country":[{"CountryCode":"971","flagFileName":"United_Arab_Emirates.png","voicemailno":"66","exitcode":"00","text":"United Arab Emirates","ErpCode":"AE"}]},{"name":"Asia and the Middle East","downloadUrl":"downloads-global.3cx.com","stun":"stun-eu.3cx.com","webmeetingzone":"Asia","Country":[{"CountryCode":"93","flagFileName":"Afghanistan.png","voicemailno":"99","exitcode":"00","text":"Afghanistan","ErpCode":"AF"},{"CountryCode":"994","flagFileName":"Azerbaijan.png","voicemailno":"99","exitcode":"00","text":"Azerbaijan","ErpCode":"AZ"},{"CountryCode":"973","flagFileName":"Bahrain.png","voicemailno":"66","exitcode":"00","text":"Bahrain","ErpCode":"BH"},{"CountryCode":"880","flagFileName":"Bangladesh.png","voicemailno":"66","exitcode":"00","text":"Bangladesh","stun":"stun-au.3cx.com","ErpCode":"BD"},{"CountryCode":"975","flagFileName":"Bhutan.png","voicemailno":"99","exitcode":"00","text":"Bhutan","stun":"stun-au.3cx.com","ErpCode":"BT"},{"CountryCode":"673","flagFileName":"Brunei.png","voicemailno":"99","exitcode":"00","text":"Brunei Darussalam","stun":"stun-au.3cx.com","ErpCode":"BN"},{"CountryCode":"855","flagFileName":"Cambodia.png","voicemailno":"99","exitcode":"00","text":"Cambodia","stun":"stun-au.3cx.com","ErpCode":"KH"},{"CountryCode":"86","flagFileName":"China.png","voicemailno":"99","exitcode":"00","text":"China","stun":"stun-au.3cx.com","ErpCode":"CN"},{"CountryCode":"670","flagFileName":"East_Timor.png","voicemailno":"99","exitcode":"00","text":"East Timor","stun":"stun-au.3cx.com","ErpCode":"TL"},{"CountryCode":"995","flagFileName":"Georgia.png","voicemailno":"99","exitcode":"00","text":"Georgia","ErpCode":"GE"},{"CountryCode":"852","flagFileName":"Hong_Kong.png","voicemailno":"66","exitcode":"001","text":"Hong Kong","stun":"stun-au.3cx.com","ErpCode":"HK"},{"CountryCode":"91","flagFileName":"India.png","voicemailno":"99","exitcode":"00","text":"India","ErpCode":"IN"},{"CountryCode":"62","flagFileName":"Indonesia.png","voicemailno":"99","exitcode":"001","text":"Indonesia","stun":"stun-au.3cx.com","ErpCode":"ID"},{"CountryCode":"98","flagFileName":"Iran.png","voicemailno":"99","exitcode":"00","text":"Iran","ErpCode":"IR"},{"CountryCode":"964","flagFileName":"Iraq.png","voicemailno":"99","exitcode":"00","text":"Iraq","ErpCode":"IQ"},{"CountryCode":"972","flagFileName":"Israel.png","voicemailno":"99","exitcode":"00","text":"Israel","ErpCode":"IL"},{"CountryCode":"81","flagFileName":"Japan.png","voicemailno":"99","exitcode":"010","text":"Japan","stun":"stun-au.3cx.com","ErpCode":"JP"},{"CountryCode":"962","flagFileName":"Jordan.png","voicemailno":"99","exitcode":"00","text":"Jordan","ErpCode":"JO"},{"CountryCode":"965","flagFileName":"Kuwait.png","voicemailno":"99","exitcode":"00","text":"Kuwait","ErpCode":"KW"},{"CountryCode":"996","flagFileName":"Kyrgyzstan.png","voicemailno":"99","exitcode":"00","text":"Kyrgyz Republic","ErpCode":"KG"},{"CountryCode":"856","flagFileName":"Laos.png","voicemailno":"99","exitcode":"00","text":"Laos","stun":"stun-au.3cx.com","ErpCode":"LA"},{"CountryCode":"961","flagFileName":"Lebanon.png","voicemailno":"66","exitcode":"00","text":"Lebanon","ErpCode":"LB"},{"CountryCode":"853","flagFileName":"Macau.png","voicemailno":"66","exitcode":"00","text":"Macao","stun":"stun-au.3cx.com","ErpCode":"MO"},{"CountryCode":"60","flagFileName":"Malaysia.png","voicemailno":"66","exitcode":"00","text":"Malaysia","stun":"stun-au.3cx.com","ErpCode":"MY"},{"CountryCode":"960","flagFileName":"Maldives.png","voicemailno":"99","exitcode":"00","text":"Maldives","ErpCode":"MV"},{"CountryCode":"976","flagFileName":"Mongolia.png","voicemailno":"99","exitcode":"001","text":"Mongolia","stun":"stun-au.3cx.com","ErpCode":"MN"},{"CountryCode":"95","flagFileName":"Myanmar.png","voicemailno":"99","exitcode":"00","text":"Myanmar","stun":"stun-au.3cx.com","ErpCode":"MM"},{"CountryCode":"977","flagFileName":"Nepal.png","voicemailno":"99","exitcode":"00","text":"Nepal","ErpCode":"NP"},{"CountryCode":"850","flagFileName":"North_Korea.png","voicemailno":"99","exitcode":"99","text":"North Korea","stun":"stun-au.3cx.com","ErpCode":"KP"},{"CountryCode":"968","flagFileName":"Oman.png","voicemailno":"66","exitcode":"00","text":"Oman","ErpCode":"OM"},{"CountryCode":"92","flagFileName":"Pakistan.png","voicemailno":"99","exitcode":"00","text":"Pakistan","ErpCode":"PK"},{"CountryCode":"970","flagFileName":"Palestine.png","voicemailno":"99","exitcode":"00","text":"Palestine","ErpCode":"PS"},{"CountryCode":"63","flagFileName":"Philippines.png","voicemailno":"99","exitcode":"00","text":"Philippines","stun":"stun-au.3cx.com","ErpCode":"PH"},{"CountryCode":"974","flagFileName":"Qatar.png","voicemailno":"66","exitcode":"00","text":"Qatar","ErpCode":"QA"},{"CountryCode":"7","flagFileName":"Russia.png","voicemailno":"99","exitcode":"810","text":"Russia","webmeetingzone":"Russia","ErpCode":"RU"},{"CountryCode":"966","flagFileName":"Saudi_Arabia.png","voicemailno":"66","exitcode":"00","text":"Saudi Arabia","ErpCode":"SA"},{"CountryCode":"65","flagFileName":"Singapore.png","voicemailno":"66","exitcode":"001","text":"Singapore","stun":"stun-au.3cx.com","ErpCode":"SG"},{"CountryCode":"82","flagFileName":"South_Korea.png","voicemailno":"99","exitcode":"001","text":"South Korea","stun":"stun-au.3cx.com","ErpCode":"KR"},{"CountryCode":"94","flagFileName":"Sri_Lanka.png","voicemailno":"99","exitcode":"00","text":"Sri Lanka","ErpCode":"LK"},{"CountryCode":"963","flagFileName":"Syria.png","voicemailno":"99","exitcode":"00","text":"Syria","ErpCode":"SY"},{"CountryCode":"886","flagFileName":"Taiwan.png","voicemailno":"99","exitcode":"002","text":"Taiwan","stun":"stun-au.3cx.com","ErpCode":"TW"},{"CountryCode":"992","flagFileName":"Tajikistan.png","voicemailno":"99","exitcode":"810","text":"Tajikistan","ErpCode":"TJ"},{"CountryCode":"66","flagFileName":"Thailand.png","voicemailno":"66","exitcode":"001","text":"Thailand","stun":"stun-au.3cx.com","ErpCode":"TH"},{"CountryCode":"993","flagFileName":"Turkmenistan.png","voicemailno":"99","exitcode":"810","text":"Turkmenistan","ErpCode":"TM"},{"CountryCode":"998","flagFileName":"Uzbekistan.png","voicemailno":"99","exitcode":"810","text":"Uzbekistan","ErpCode":"UZ"},{"CountryCode":"7","flagFileName":"Kazakhstan.png","voicemailno":"99","exitcode":"810","text":"Kazakhstan","ErpCode":"KZ"},{"CountryCode":"84","flagFileName":"Vietnam.png","voicemailno":"99","exitcode":"00","text":"Vietnam","stun":"stun-au.3cx.com","ErpCode":"VN"},{"CountryCode":"967","flagFileName":"Yemen.png","voicemailno":"99","exitcode":"00","text":"Yemen","ErpCode":"YE"}]},{"name":"Africa","downloadUrl":"downloads-global.3cx.com","stun":"stun-af.3cx.com","webmeetingzone":"Africa","Country":[{"CountryCode":"213","flagFileName":"Algeria.png","voicemailno":"99","exitcode":"00","text":"Algeria","ErpCode":"DZ"},{"CountryCode":"244","flagFileName":"Angola.png","voicemailno":"99","exitcode":"00","text":"Angola","ErpCode":"AO"},{"CountryCode":"247","flagFileName":"Ascension_Island.png","voicemailno":"99","exitcode":"01","text":"Ascension Island","ParentErpCode":"SH"},{"CountryCode":"229","flagFileName":"Benin.png","voicemailno":"99","exitcode":"00","text":"Benin","ErpCode":"BJ"},{"CountryCode":"267","flagFileName":"Botswana.png","voicemailno":"99","exitcode":"00","text":"Botswana","ErpCode":"BW"},{"CountryCode":"246","flagFileName":"British_Indian_Ocean_Territory.png","voicemailno":"99","exitcode":"00","text":"British Indian Ocean Territory","ErpCode":"IO"},{"CountryCode":"226","flagFileName":"Burkina_Faso.png","voicemailno":"99","exitcode":"00","text":"Burkina Faso","ErpCode":"BF"},{"CountryCode":"257","flagFileName":"Burundi.png","voicemailno":"99","exitcode":"00","text":"Burundi","ErpCode":"BI"},{"CountryCode":"237","flagFileName":"Cameroon.png","voicemailno":"99","exitcode":"00","text":"Cameroon","ErpCode":"CM"},{"CountryCode":"238","flagFileName":"Cape_Verde.png","voicemailno":"99","exitcode":"00","text":"Cape Verde","ErpCode":"CV"},{"CountryCode":"236","flagFileName":"Central_African_Republic.png","voicemailno":"99","exitcode":"19","text":"Central African Republic","ErpCode":"CF"},{"CountryCode":"235","flagFileName":"Chad.png","voicemailno":"99","exitcode":"15","text":"Chad","ErpCode":"TD"},{"CountryCode":"269","flagFileName":"Comoros.png","voicemailno":"99","exitcode":"10","text":"Comoros","ErpCode":"KM"},{"CountryCode":"242","flagFileName":"Congo.png","voicemailno":"99","exitcode":"00","text":"Congo","ErpCode":"CG"},{"CountryCode":"243","flagFileName":"Congo_Democratic_Republic_of.png","voicemailno":"99","exitcode":"00","text":"Congo (DRC)","ErpCode":"CD"},{"CountryCode":"225","flagFileName":"Cote_dIvoire.png","voicemailno":"99","exitcode":"00","text":"Cote d\'Ivoire","ErpCode":"CI"},{"CountryCode":"253","flagFileName":"Djibouti.png","voicemailno":"99","exitcode":"00","text":"Djibouti","ErpCode":"DJ"},{"CountryCode":"20","flagFileName":"Egypt.png","voicemailno":"99","exitcode":"00","text":"Egypt","ErpCode":"EG"},{"CountryCode":"240","flagFileName":"Equatorial_Guinea.png","voicemailno":"99","exitcode":"00","text":"Equatorial Guinea","ErpCode":"GQ"},{"CountryCode":"291","flagFileName":"Eritrea.png","voicemailno":"99","exitcode":"00","text":"Eritrea","ErpCode":"ER"},{"CountryCode":"251","flagFileName":"Ethiopia.png","voicemailno":"99","exitcode":"00","text":"Ethiopia","ErpCode":"ET"},{"CountryCode":"241","flagFileName":"Gabon.png","voicemailno":"99","exitcode":"00","text":"Gabon","ErpCode":"GA"},{"CountryCode":"220","flagFileName":"Gambia.png","voicemailno":"99","exitcode":"00","text":"Gambia","ErpCode":"GM"},{"CountryCode":"233","flagFileName":"Ghana.png","voicemailno":"99","exitcode":"00","text":"Ghana","ErpCode":"GH"},{"CountryCode":"224","flagFileName":"Guinea-Bissau.png","voicemailno":"99","exitcode":"00","text":"Guinea","ErpCode":"GN"},{"CountryCode":"245","flagFileName":"Guinea.png","voicemailno":"99","exitcode":"099","text":"Guinea-Bissau","ErpCode":"GW"},{"CountryCode":"254","flagFileName":"Kenya.png","voicemailno":"99","exitcode":"000","text":"Kenya","ErpCode":"KE"},{"CountryCode":"266","flagFileName":"Lesotho.png","voicemailno":"99","exitcode":"00","text":"Lesotho","ErpCode":"LS"},{"CountryCode":"231","flagFileName":"Liberia.png","voicemailno":"99","exitcode":"00","text":"Liberia","ErpCode":"LR"},{"CountryCode":"218","flagFileName":"Libya.png","voicemailno":"99","exitcode":"00","text":"Libya","ErpCode":"LY"},{"CountryCode":"261","flagFileName":"Madagascar.png","voicemailno":"99","exitcode":"00","text":"Madagascar","ErpCode":"MG"},{"CountryCode":"265","flagFileName":"Malawi.png","voicemailno":"99","exitcode":"101","text":"Malawi","ErpCode":"MW"},{"CountryCode":"223","flagFileName":"Mali.png","voicemailno":"99","exitcode":"00","text":"Mali","ErpCode":"ML"},{"CountryCode":"222","flagFileName":"Mauritania.png","voicemailno":"99","exitcode":"00","text":"Mauritania","ErpCode":"MR"},{"CountryCode":"230","flagFileName":"Mauritius.png","voicemailno":"66","exitcode":"00","text":"Mauritius","ErpCode":"MU"},{"CountryCode":"262","flagFileName":"Mayotte.png","name":"Mayotte","voicemailno":"99","exitcode":"00","CountryCodes":["262269","269639"],"ErpCode":"YT"},{"CountryCode":"212","flagFileName":"Morocco.png","voicemailno":"99","exitcode":"00","text":"Morocco","ErpCode":"MA"},{"CountryCode":"258","flagFileName":"Mozambique.png","voicemailno":"99","exitcode":"00","text":"Mozambique","ErpCode":"MZ"},{"CountryCode":"264","flagFileName":"Namibia.png","voicemailno":"99","exitcode":"00","text":"Namibia","ErpCode":"NA"},{"CountryCode":"227","flagFileName":"Niger.png","voicemailno":"99","exitcode":"00","text":"Niger","ErpCode":"NE"},{"CountryCode":"234","flagFileName":"Nigeria.png","voicemailno":"99","exitcode":"009","text":"Nigeria","ErpCode":"NG"},{"CountryCode":"262","flagFileName":"Reunion.png","voicemailno":"99","exitcode":"00","text":"Reunion","ErpCode":"RE"},{"CountryCode":"250","flagFileName":"Rwanda.png","voicemailno":"99","exitcode":"00","text":"Rwanda","ErpCode":"RW"},{"CountryCode":"290","flagFileName":"Saint_Helena.png","voicemailno":"99","exitcode":"00","text":"St. Helena","ErpCode":"SH"},{"CountryCode":"239","flagFileName":"Sao_Tome_and_Principe.png","voicemailno":"99","exitcode":"00","text":"Sao Tome and Principe","ErpCode":"ST"},{"CountryCode":"221","flagFileName":"Senegal.png","voicemailno":"99","exitcode":"00","text":"Senegal","ErpCode":"SN"},{"CountryCode":"248","flagFileName":"Seychelles.png","voicemailno":"99","exitcode":"00","text":"Seychelles","ErpCode":"SC"},{"CountryCode":"232","flagFileName":"Sierra_Leone.png","voicemailno":"66","exitcode":"00","text":"Sierra Leone","ErpCode":"SL"},{"CountryCode":"252","flagFileName":"Somalia.png","voicemailno":"99","exitcode":"19","text":"Somalia","ErpCode":"SO"},{"CountryCode":"27","flagFileName":"South_Africa.png","voicemailno":"99","exitcode":"00","text":"South Africa","ErpCode":"ZA"},{"CountryCode":"211","flagFileName":"South_Sudan.png","voicemailno":"66","exitcode":"00","text":"South Sudan","ErpCode":"SS"},{"CountryCode":"249","flagFileName":"Sudan.png","voicemailno":"99","exitcode":"00","text":"Sudan","ErpCode":"SD"},{"CountryCode":"268","flagFileName":"Swaziland.png","voicemailno":"99","exitcode":"00","text":"Eswatini","ErpCode":"SZ"},{"CountryCode":"255","flagFileName":"Tanzania.png","voicemailno":"99","exitcode":"000","text":"Tanzania","ErpCode":"TZ"},{"CountryCode":"228","flagFileName":"Togo.png","voicemailno":"99","exitcode":"00","text":"Togo","ErpCode":"TG"},{"CountryCode":"2908","flagFileName":"Tristan_da_Cunha.png","voicemailno":"99","exitcode":"00","text":"Tristan da Cunha","ParentErpCode":"SH"},{"CountryCode":"216","flagFileName":"Tunisia.png","voicemailno":"99","exitcode":"00","text":"Tunisia","ErpCode":"TN"},{"CountryCode":"256","flagFileName":"Uganda.png","voicemailno":"66","exitcode":"000","text":"Uganda","ErpCode":"UG"},{"CountryCode":"260","flagFileName":"Zambia.png","voicemailno":"66","exitcode":"00","text":"Zambia","ErpCode":"ZM"},{"CountryCode":"25524","flagFileName":"Zanzibar.png","voicemailno":"99","exitcode":"00","text":"Zanzibar","ParentErpCode":"TZ"},{"CountryCode":"263","flagFileName":"Zimbabwe.png","voicemailno":"99","exitcode":"00","text":"Zimbabwe","ErpCode":"ZW"}]},{"name":"Australia","downloadUrl":"downloads-global.3cx.com","stun":"stun-au.3cx.com","webmeetingzone":"Oceania","Country":[{"CountryCode":"1684","flagFileName":"American_Samoa.png","voicemailno":"99","exitcode":"011","text":"American Samoa","ErpCode":"AS"},{"CountryCode":"61","flagFileName":"Australia.png","voicemailno":"99","exitcode":"0011","text":"Australia","ErpCode":"AU"},{"CountryCode":"61","flagFileName":"Christmas_Island.png","voicemailno":"99","exitcode":"00","text":"Christmas Island","ErpCode":"CX"},{"CountryCode":"6189162","flagFileName":"Cocos_Keeling_Islands.png","voicemailno":"99","exitcode":"00","text":"Cocos (Keeling) Island","ErpCode":"CC"},{"CountryCode":"682","flagFileName":"Cook_Islands.png","voicemailno":"99","exitcode":"00","text":"Cook Islands","ErpCode":"CK"},{"CountryCode":"679","flagFileName":"Fiji.png","voicemailno":"99","exitcode":"00","text":"Fiji","ErpCode":"FJ"},{"CountryCode":"689","flagFileName":"French_Polynesia.png","voicemailno":"99","exitcode":"00","text":"French Polynesia","ErpCode":"PF"},{"CountryCode":"686","flagFileName":"Kiribati.png","voicemailno":"99","exitcode":"00","text":"Kiribati","ErpCode":"KI"},{"CountryCode":"692","flagFileName":"Marshall_Islands.png","voicemailno":"99","exitcode":"011","text":"Marshall Islands","ErpCode":"MH"},{"CountryCode":"691","flagFileName":"Micronesia.png","voicemailno":"99","exitcode":"011","text":"Micronesia","ErpCode":"FM"},{"CountryCode":"674","flagFileName":"Nauru.png","voicemailno":"99","exitcode":"00","text":"Nauru","ErpCode":"NR"},{"CountryCode":"687","flagFileName":"New_Caledonia.png","voicemailno":"99","exitcode":"00","text":"New Caledonia","ErpCode":"NC"},{"CountryCode":"64","flagFileName":"New_Zealand.png","voicemailno":"99","exitcode":"00","text":"New Zealand","ErpCode":"NZ"},{"CountryCode":"683","flagFileName":"Niue.png","voicemailno":"99","exitcode":"00","text":"Niue","ErpCode":"NU"},{"CountryCode":"672","flagFileName":"Norfolk_Island.png","voicemailno":"99","exitcode":"00","text":"Norfolk Island","ErpCode":"NF"},{"CountryCode":"680","flagFileName":"Palau.png","voicemailno":"99","exitcode":"011","text":"Palau","ErpCode":"PW"},{"CountryCode":"675","flagFileName":"Papua_New_Guinea.png","voicemailno":"99","exitcode":"00","text":"Papua New Guinea","ErpCode":"PG"},{"CountryCode":"872","flagFileName":"Pitcairn_Islands.png","voicemailno":"99","exitcode":"00","text":"Pitcairn","ErpCode":"PN"},{"CountryCode":"685","flagFileName":"Samoa.png","voicemailno":"99","exitcode":"0","text":"Samoa","ErpCode":"WS"},{"CountryCode":"677","flagFileName":"Solomon_Islands.png","voicemailno":"66","exitcode":"00","text":"Solomon Islands","ErpCode":"SB"},{"CountryCode":"690","flagFileName":"Tokelau.png","voicemailno":"99","exitcode":"00","text":"Tokelau","ErpCode":"TK"},{"CountryCode":"676","flagFileName":"Tonga.png","voicemailno":"99","exitcode":"00","text":"Tonga","ErpCode":"TO"},{"CountryCode":"688","flagFileName":"Tuvalu.png","voicemailno":"99","exitcode":"00","text":"Tuvalu","ErpCode":"TV"},{"CountryCode":"699","flagFileName":"United_States_Minor_Outlying_Islands.png","voicemailno":"99","exitcode":"00","text":"United States Minor Outlying Islands","ErpCode":"UM"},{"CountryCode":"678","flagFileName":"Vanuatu.png","voicemailno":"99","exitcode":"00","text":"Vanuatu","ErpCode":"VU"},{"CountryCode":"681","flagFileName":"Wallis_and_Futuna.png","voicemailno":"99","exitcode":"00","text":"Wallis and Futuna Islands","ErpCode":"WF"}]},{"name":"International Networks","Country":[{"CountryCode":"870","text":"Inmarsat SNAC Service"},{"CountryCode":"871","text":"Unassigned (formerly used by Inmarsat, Atlantic East), discontinued in 2008"},{"CountryCode":"873","text":"Unassigned (formerly used by Inmarsat, Indian), discontinued in 2008"},{"CountryCode":"874","text":"Unassigned (formerly used by Inmarsat, Atlantic West), discontinued 2008"},{"CountryCode":"875","text":"Reserved for Maritime Mobile service"},{"CountryCode":"876","text":"Reserved for Maritime Mobile service"},{"CountryCode":"877","text":"Reserved for Maritime Mobile service"},{"CountryCode":"878","text":"Universal Personal Telecommunications services"},{"CountryCode":"879","text":"Reserved for national non-commercial purposes"},{"CountryCode":"881","text":"Global Mobile Satellite System"},{"CountryCode":"882","text":"International Networks"},{"CountryCode":"883","text":"International Networks"},{"CountryCode":"979","text":"International Premium Rate Service"},{"CountryCode":"800","text":"Universal International Freephone Number"},{"CountryCode":"808","text":"Universal International Shared Cost Number"},{"CountryCode":"888","text":"United Nations Office for the Coordination of Humanitarian Affairs"},{"CountryCode":"991","text":"International Telecommunications Public Correspondence Service trial"},{"CountryCode":"999","text":"Reserved for future global service"}]}]}}'
        ),
        II = ni,
        yn = ni.Continents.Continent.reduce(
          (t, c) =>
            c.Country.reduce(
              (e, n) => (
                n.ErpCode && e.push({ Id: n.ErpCode, _str: n.text || n.name }),
                e
              ),
              t
            ),
          []
        );
      yn.sort((t, c) => t._str.localeCompare(c._str));
      const so = ni.Continents.Continent.reduce(
        (t, c) =>
          c.Country.reduce(
            (e, n) => (
              n.ErpCode &&
                e.push({ CountryCode: n.CountryCode, text: n.text || n.name }),
              e
            ),
            t
          ),
        []
      );
      so.sort((t, c) => t.text.localeCompare(c.text)),
        u.module("app").controller("E164Ctrl", [
          "$scope",
          function (t) {
            const c = {
              selected: { text: void 0 },
              possibleValues: [],
              disabled: void 0,
              value: void 0,
            };
            function e(n) {
              c.selected = c.possibleValues.find(function (i) {
                return i.text == n;
              });
            }
            (c.value = function (n) {
              if (!arguments.length)
                return void 0 === c.selected ? void 0 : c.selected;
              (c.selected = n),
                t.activeObject.E164CountryName.value(n.text),
                t.activeObject.E164CountryCode.value(n.CountryCode);
            }),
              (t.Country = c),
              (t.Country.possibleValues = so.map(function (n) {
                const i = u.copy(n);
                return (i._str = n.text + " (+" + n.CountryCode + ")"), i;
              })),
              void 0 !== c.selected.text && e(c.selected.text),
              t.$watch("activeObject.E164CountryName.disabled", function (n) {
                c.disabled = n;
              }),
              t.$watch("activeObject", function (n) {
                void 0 !== n && e(n.E164CountryName._value);
              });
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/email/email_templates.html",
            '<panel mc-title="SETTINGS.EMAIL.EMAIL_TEMPLATES.SELECT_TEMPLATE_TO_EDIT"> <div class="form-group"> <label translate="SETTINGS.EMAIL.EMAIL_TEMPLATES.SELECT_TEMPLATE_TO_EDIT"></label> <div style="display:flex" class="m-b"> <select class="form-control" ng-model="$ctrl.selectedTemplate" ng-options="pv.templatePath as pv.templateName for pv in $ctrl.items"> </select> </div> </div> <div class="form-group"> <text-control-design ng-if="!$ctrl.isSelectedTemplateConference()" mc-title="SETTINGS.EMAIL.EMAIL_TEMPLATES.FROM" prop="$ctrl.template.From"></text-control-design> <text-control-design mc-title="SETTINGS.EMAIL.EMAIL_TEMPLATES.SUBJECT" prop="$ctrl.template.Subject" maxlength="255"></text-control-design> <div class="form-group" ui-ace-lazy-load> <label translate="SETTINGS.EMAIL.EMAIL_TEMPLATES.BODY"></label> <div ui-ace="{mode: \'html\', onLoad: aceLoaded, showPrintMargin: false}" mc-ace-suppress-warning ng-model="$ctrl.template.Body"></div> </div> </div> </panel> '
          ),
      ]);
      let yI = (() => {
        class t {
          constructor(e, n) {
            (this.$http = n),
              (this.items = [
                {
                  templateName: "Antihacking IP Blacklisted",
                  templatePath: "MAILTEMPLATE_ANTIHACKINGIPBLACKLISTED_",
                },
                {
                  templateName: "Call to blocked country",
                  templatePath: "MAILTEMPLATE_BLOCKEDCOUNTRIES_",
                },
                {
                  templateName: "Conference - Audio Only",
                  templatePath: "MAILTEMPLATE_CONFERENCE_",
                },
                {
                  templateName: "Conference - Audio Only Cancelled",
                  templatePath: "MAILTEMPLATE_CONFERENCECANCELLED_",
                },
                {
                  templateName: "Conference - Audio and Video",
                  templatePath: "MAILTEMPLATE_WEBMEETING_",
                },
                {
                  templateName: "Conference - Audio and Video Reminder",
                  templatePath: "MAILTEMPLATE_WEBMEETINGREMINDER_",
                },
                {
                  templateName: "Conference - Audio and Video Cancelled",
                  templatePath: "MAILTEMPLATE_WEBMEETINGCANCELLED_",
                },
                {
                  templateName: "DNS Failure",
                  templatePath: "MAILTEMPLATE_DNSFAILURE_",
                },
                {
                  templateName: "Emergency call",
                  templatePath: "MAILTEMPLATE_EMERGENCYCALL_",
                },
                {
                  templateName: "Extension Login",
                  templatePath: "MAILTEMPLATE_USERLOGIN_",
                },
                {
                  templateName: "Extension Welcome",
                  templatePath: "MAILTEMPLATE_EXTWELCOME_",
                },
                { templateName: "Fax", templatePath: "MAILTEMPLATE_FAX_" },
                {
                  templateName: "IP Blacklisted",
                  templatePath: "MAILTEMPLATE_IPBLACKLISTED_",
                },
                {
                  templateName: "License limit reached",
                  templatePath: "MAILTEMPLATE_LICENSELIMITREACHED_",
                },
                {
                  templateName: "New missed call",
                  templatePath: "MAILTEMPLATE_NEWMISSEDCALL_",
                },
                {
                  templateName: "Queue: call is lost",
                  templatePath: "MAILTEMPLATE_QUEUELOSTCALL_",
                },
                {
                  templateName: "Queue: callback is made",
                  templatePath: "MAILTEMPLATE_QUEUEEVENTCALLBACK_",
                },
                {
                  templateName: "Queue: Failed callback",
                  templatePath: "MAILTEMPLATE_QUEUEFAILCALLBACK_",
                },
                {
                  templateName: "Queue: SLA is reached",
                  templatePath: "MAILTEMPLATE_QUEUEONSLA_",
                },
                {
                  templateName: "Recordings folder quota reached",
                  templatePath: "MAILTEMPLATE_RECQUOTA_REACHED_",
                },
                {
                  templateName: "Registration status",
                  templatePath: "MAILTEMPLATE_REGISTRATIONSTATUS_",
                },
                {
                  templateName: "Reports template",
                  templatePath: "MAILTEMPLATE_REPORTS_",
                },
                {
                  templateName: "Restore Complete",
                  templatePath: "MAILTEMPLATE_RESTORECOMPLETE_",
                },
                {
                  templateName: "STUN Resolution fails",
                  templatePath: "MAILTEMPLATE_STUNRESOLUTIONFAILS_",
                },
                {
                  templateName: "Trunk Error",
                  templatePath: "MAILTEMPLATE_TRUNKERROR_",
                },
                {
                  templateName: "Trunk failover",
                  templatePath: "MAILTEMPLATE_TRUNKFAILOVER_",
                },
                {
                  templateName: "Trunk status",
                  templatePath: "MAILTEMPLATE_TRUNKSTATUS_",
                },
                {
                  templateName: "VoiceMail",
                  templatePath: "MAILTEMPLATE_VMAIL_",
                },
                {
                  templateName: "Voicemail folder quota reached",
                  templatePath: "MAILTEMPLATE_VMQUOTA_REACHED_",
                },
              ]),
              (this.conferenceTemplatesPaths = [
                "MAILTEMPLATE_CONFERENCE_",
                "MAILTEMPLATE_CONFERENCECANCELLED_",
                "MAILTEMPLATE_WEBMEETING_",
                "MAILTEMPLATE_WEBMEETINGREMINDER_",
                "MAILTEMPLATE_WEBMEETINGCANCELLED_",
              ]),
              (this.loadedTemplates = {}),
              (this.originalLoadedTemplates = {}),
              (this.template = { Lang: "US" }),
              e.$on("saveEdit", () => this.saveCurrent()),
              e.$watch("$ctrl.selectedTemplate", (i) => this.setTemplate(i)),
              (this.selectedTemplate = this.items[0].templatePath);
          }
          setTemplate(e) {
            const n = this.loadedTemplates[e];
            void 0 === n
              ? this.$http
                  .getApi("api/emailTemplate", { params: { templatePath: e } })
                  .then((i) => {
                    (this.template = i.data),
                      this.template.Lang || (this.template.Lang = "US"),
                      (this.loadedTemplates[e] = this.template),
                      (this.originalLoadedTemplates[e] = Object.assign(
                        {},
                        this.template
                      ));
                  })
                  .catch(() => u.noop())
              : (this.template = n);
          }
          populateLanguageTemplate(e) {
            this.$http
              .getApi("api/emailTemplate", {
                params: {
                  templatePath:
                    "US" === e
                      ? `${this.selectedTemplate}DEFAULT`
                      : `${this.selectedTemplate}${e}_DEFAULT`,
                },
              })
              .then((i) => {
                (this.template.From = i.data.From),
                  (this.template.Body = i.data.Body),
                  (this.template.Subject = i.data.Subject);
              })
              .catch(() => u.noop());
          }
          saveCurrent() {
            for (const e in this.loadedTemplates) {
              const n = this.loadedTemplates[e],
                i = this.originalLoadedTemplates[e];
              (n.Body !== i.Body ||
                n.Subject !== i.Subject ||
                n.From !== i.From) &&
                this.$http
                  .postApi("api/emailTemplate", n)
                  .catch(() => u.noop());
            }
          }
          setDefaultClick() {
            this.$http
              .postApi("api/emailTemplate/default", {
                templatePath: this.selectedTemplate,
              })
              .then((i) => {
                this.template = i.data;
              })
              .catch(() => u.noop());
          }
          isSelectedTemplateConference() {
            return this.conferenceTemplatesPaths.includes(
              this.selectedTemplate
            );
          }
        }
        return (t.$inject = ["$scope", "$http"]), t;
      })();
      u
        .module("app")
        .component("emailTemplatesCtrl", {
          controller: yI,
          templateUrl: "js/app/settings/email/email_templates.html",
        }),
        u.module("app").controller("MailServerCtrl", [
          "$scope",
          "$stateParams",
          "$http",
          "MessageBoxSvc",
          "$translate",
          function (t, c, e, n, i) {
            t.onSendTestEmailClick = function () {
              e.post("api/Settings/testEmail", t.Id)
                .then(function (l) {
                  l.data.error
                    ? ((t.errorMsg = l.data.error),
                      (t.errorParams = l.data.parameters),
                      (t.successMsg = void 0))
                    : ((t.errorMsg = void 0),
                      (t.errorParams = null),
                      (t.successMsg = i.instant(
                        "SETTINGS.NETWORK.MAIL_SERVER.MAIL_SEND"
                      )));
                })
                .catch(() => u.noop());
            };
            let a = null;
            t.$watch(
              "activeObject.MailServerType.selected.Id",
              function (l, s) {
                a = s;
              }
            ),
              t.$watch(
                "activeObject.CantChangeSmtpServerFrom3cx._value",
                function () {
                  t.activeObject &&
                    t.activeObject.CantChangeSmtpServerFrom3cx &&
                    t.activeObject.CantChangeSmtpServerFrom3cx._value &&
                    null != a &&
                    n
                      .confirmDialog(
                        "SETTINGS.NETWORK.MAIL_SERVER.CONFIRM_SMTP_TYPE_CHANGE",
                        "SETTINGS.NETWORK.MAIL_SERVER.DO_YOU_WANT_TO_CHANGE_SMTP_SERVER_TYPE",
                        "md"
                      )
                      .then(
                        function () {},
                        function () {
                          t.activeObject.MailServerType.value(a);
                        }
                      );
                }
              ),
              t.$watch(
                "activeObject",
                function () {
                  t.errorMsg = null;
                },
                !0
              );
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/email/mc-select-flag.component.html",
            '<div class="btn-group m-l-xs" uib-dropdown> <button ng-disabled="$ctrl.mcDisabled" type="button" class="btn btn-white" uib-dropdown-toggle style="height:34px"> <img ng-if="$ctrl.selectedFlag" ng-src="{{$ctrl.flags[$ctrl.selectedFlag]}}"> <span class="caret"></span> </button> <ul class="dropdown-menu" style="min-width:0!important" uib-dropdown-menu role="menu" aria-labelledby="single-button"> <li role="menuitem" ng-repeat="(langId, langImage) in $ctrl.flags"> <a ng-click="$ctrl.selectedFlag = langId; $ctrl.onFlagChange({langId});"> <img ng-src="{{langImage}}"> </a> </li> </ul> </div> '
          ),
      ]);
      const ii =
          "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik0yNDQuODcgMjU2SDUxMmMwLTIzLjEwNi0zLjA4LTQ1LjQ5LTguODE5LTY2Ljc4M0gyNDQuODdWMjU2em0wLTEzMy41NjVoMjI5LjU1NmEyNTcuMzUgMjU3LjM1IDAgMCAwLTU5LjA3LTY2Ljc4M0gyNDQuODd2NjYuNzgzek0yNTYgNTEyYzYwLjI0OSAwIDExNS42MjYtMjAuODI0IDE1OS4zNTYtNTUuNjUySDk2LjY0NEMxNDAuMzc0IDQ5MS4xNzYgMTk1Ljc1MSA1MTIgMjU2IDUxMnpNMzcuNTc0IDM4OS41NjVoNDM2Ljg1MmEyNTQuNDc0IDI1NC40NzQgMCAwIDAgMjguNzU1LTY2Ljc4M0g4LjgxOWEyNTQuNDc0IDI1NC40NzQgMCAwIDAgMjguNzU1IDY2Ljc4M3oiIGZpbGw9IiNkODAwMjciLz48cGF0aCBkPSJNMTE4LjU4NCAzOS45NzhoMjMuMzI5bC0yMS43IDE1Ljc2NSA4LjI4OSAyNS41MDktMjEuNjk5LTE1Ljc2NS0yMS42OTkgMTUuNzY1IDcuMTYtMjIuMDM3YTI1Ny40MDcgMjU3LjQwNyAwIDAgMC00OS42NTIgNTUuMzM3aDcuNDc1bC0xMy44MTMgMTAuMDM1YTI1NS41OCAyNTUuNTggMCAwIDAtNi4xOTQgMTAuOTM4bDYuNTk2IDIwLjMwMS0xMi4zMDYtOC45NDFhMjUzLjU2NyAyNTMuNTY3IDAgMCAwLTguMzcyIDE5Ljg3M2w3LjI2NyAyMi4zNjhoMjYuODIybC0yMS43IDE1Ljc2NSA4LjI4OSAyNS41MDktMjEuNjk5LTE1Ljc2NS0xMi45OTggOS40NDRBMjU4LjQ2OCAyNTguNDY4IDAgMCAwIDAgMjU2aDI1NlYwYy01MC41NzIgMC05Ny43MTUgMTQuNjctMTM3LjQxNiAzOS45Nzh6bTkuOTE4IDE5MC40MjItMjEuNjk5LTE1Ljc2NUw4NS4xMDQgMjMwLjRsOC4yODktMjUuNTA5LTIxLjctMTUuNzY1aDI2LjgyMmw4LjI4OC0yNS41MDkgOC4yODggMjUuNTA5aDI2LjgyMmwtMjEuNyAxNS43NjUgOC4yODkgMjUuNTA5em0tOC4yODktMTAwLjA4MyA4LjI4OSAyNS41MDktMjEuNjk5LTE1Ljc2NS0yMS42OTkgMTUuNzY1IDguMjg5LTI1LjUwOS0yMS43LTE1Ljc2NWgyNi44MjJsOC4yODgtMjUuNTA5IDguMjg4IDI1LjUwOWgyNi44MjJsLTIxLjcgMTUuNzY1ek0yMjAuMzI4IDIzMC40bC0yMS42OTktMTUuNzY1TDE3Ni45MyAyMzAuNGw4LjI4OS0yNS41MDktMjEuNy0xNS43NjVoMjYuODIybDguMjg4LTI1LjUwOSA4LjI4OCAyNS41MDloMjYuODIybC0yMS43IDE1Ljc2NSA4LjI4OSAyNS41MDl6bS04LjI4OS0xMDAuMDgzIDguMjg5IDI1LjUwOS0yMS42OTktMTUuNzY1LTIxLjY5OSAxNS43NjUgOC4yODktMjUuNTA5LTIxLjctMTUuNzY1aDI2LjgyMmw4LjI4OC0yNS41MDkgOC4yODggMjUuNTA5aDI2LjgyMmwtMjEuNyAxNS43NjV6bTAtNzQuNTc0IDguMjg5IDI1LjUwOS0yMS42OTktMTUuNzY1LTIxLjY5OSAxNS43NjUgOC4yODktMjUuNTA5LTIxLjctMTUuNzY1aDI2LjgyMmw4LjI4OC0yNS41MDkgOC4yODggMjUuNTA5aDI2LjgyMmwtMjEuNyAxNS43NjV6IiBmaWxsPSIjMDA1MmI0Ii8+PC9zdmc+",
        ai =
          "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik01Mi45MiAxMDAuMTQyYy0yMC4xMDkgMjYuMTYzLTM1LjI3MiA1Ni4zMTgtNDQuMTAxIDg5LjA3N2gxMzMuMTc4TDUyLjkyIDEwMC4xNDJ6bTQ1MC4yNjEgODkuMDc3Yy04LjgyOS0zMi43NTgtMjMuOTkzLTYyLjkxMy00NC4xMDEtODkuMDc2bC04OS4wNzUgODkuMDc2aDEzMy4xNzZ6TTguODE5IDMyMi43ODRjOC44MyAzMi43NTggMjMuOTkzIDYyLjkxMyA0NC4xMDEgODkuMDc1bDg5LjA3NC04OS4wNzVIOC44MTl6TTQxMS44NTggNTIuOTIxYy0yNi4xNjMtMjAuMTA5LTU2LjMxNy0zNS4yNzItODkuMDc2LTQ0LjEwMnYxMzMuMTc3bDg5LjA3Ni04OS4wNzV6TTEwMC4xNDIgNDU5LjA3OWMyNi4xNjMgMjAuMTA5IDU2LjMxOCAzNS4yNzIgODkuMDc2IDQ0LjEwMlYzNzAuMDA1bC04OS4wNzYgODkuMDc0em04OS4wNzUtNDUwLjI2Yy0zMi43NTggOC44My02Mi45MTMgMjMuOTkzLTg5LjA3NSA0NC4xMDFsODkuMDc1IDg5LjA3NVY4LjgxOXptMTMzLjU2NiA0OTQuMzYyYzMyLjc1OC04LjgzIDYyLjkxMy0yMy45OTMgODkuMDc1LTQ0LjEwMWwtODkuMDc1LTg5LjA3NXYxMzMuMTc2em00Ny4yMjItMTgwLjM5NyA4OS4wNzUgODkuMDc2YzIwLjEwOC0yNi4xNjIgMzUuMjcyLTU2LjMxOCA0NC4xMDEtODkuMDc2SDM3MC4wMDV6IiBmaWxsPSIjMDA1MmI0Ii8+PGcgZmlsbD0iI2Q4MDAyNyI+PHBhdGggZD0iTTUwOS44MzMgMjIyLjYwOUgyODkuMzkyVjIuMTY3QTI1OC41NTYgMjU4LjU1NiAwIDAgMCAyNTYgMGMtMTEuMzE5IDAtMjIuNDYxLjc0NC0zMy4zOTEgMi4xNjd2MjIwLjQ0MUgyLjE2N0EyNTguNTU2IDI1OC41NTYgMCAwIDAgMCAyNTZjMCAxMS4zMTkuNzQ0IDIyLjQ2MSAyLjE2NyAzMy4zOTFoMjIwLjQ0MXYyMjAuNDQyYTI1OC4zNSAyNTguMzUgMCAwIDAgNjYuNzgzIDBWMjg5LjM5MmgyMjAuNDQyQTI1OC41MzMgMjU4LjUzMyAwIDAgMCA1MTIgMjU2YzAtMTEuMzE3LS43NDQtMjIuNDYxLTIuMTY3LTMzLjM5MXoiLz48cGF0aCBkPSJNMzIyLjc4MyAzMjIuNzg0IDQzNy4wMTkgNDM3LjAyYTI1Ni42MzYgMjU2LjYzNiAwIDAgMCAxNS4wNDgtMTYuNDM1bC05Ny44MDItOTcuODAyaC0zMS40ODJ2LjAwMXptLTEzMy41NjYgMGgtLjAwMkw3NC45OCA0MzcuMDE5YTI1Ni42MzYgMjU2LjYzNiAwIDAgMCAxNi40MzUgMTUuMDQ4bDk3LjgwMi05Ny44MDR2LTMxLjQ3OXptMC0xMzMuNTY1di0uMDAyTDc0Ljk4MSA3NC45OGEyNTYuNjM2IDI1Ni42MzYgMCAwIDAtMTUuMDQ4IDE2LjQzNWw5Ny44MDMgOTcuODAzaDMxLjQ4MXptMTMzLjU2NiAwTDQzNy4wMiA3NC45ODFhMjU2LjMyOCAyNTYuMzI4IDAgMCAwLTE2LjQzNS0xNS4wNDdsLTk3LjgwMiA5Ny44MDN2MzEuNDgyeiIvPjwvZz48L3N2Zz4=",
        si =
          "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNMCAyNTZjMCAzMS4zMTQgNS42MzMgNjEuMzEgMTUuOTIzIDg5LjA0M0wyNTYgMzY3LjMwNGwyNDAuMDc3LTIyLjI2MUM1MDYuMzY3IDMxNy4zMSA1MTIgMjg3LjMxNCA1MTIgMjU2cy01LjYzMy02MS4zMS0xNS45MjMtODkuMDQzTDI1NiAxNDQuNjk2IDE1LjkyMyAxNjYuOTU3QzUuNjMzIDE5NC42OSAwIDIyNC42ODYgMCAyNTZ6IiBmaWxsPSIjZmZkYTQ0Ii8+PHBhdGggZD0iTTQ5Ni4wNzcgMTY2Ljk1N0M0NTkuOTA2IDY5LjQ3MyAzNjYuMDcxIDAgMjU2IDBTNTIuMDk0IDY5LjQ3MyAxNS45MjMgMTY2Ljk1N2g0ODAuMTU0ek0xNS45MjMgMzQ1LjA0M0M1Mi4wOTQgNDQyLjUyNyAxNDUuOTI5IDUxMiAyNTYgNTEyczIwMy45MDYtNjkuNDczIDI0MC4wNzctMTY2Ljk1N0gxNS45MjN6IiBmaWxsPSIjZDgwMDI3Ii8+PC9zdmc+",
        oi =
          "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik01MTIgMjU2YzAtMTEwLjA3MS02OS40NzItMjAzLjkwNi0xNjYuOTU3LTI0MC4wNzd2NDgwLjE1NUM0NDIuNTI4IDQ1OS45MDYgNTEyIDM2Ni4wNzEgNTEyIDI1NnoiIGZpbGw9IiNkODAwMjciLz48cGF0aCBkPSJNMCAyNTZjMCAxMTAuMDcxIDY5LjQ3MyAyMDMuOTA2IDE2Ni45NTcgMjQwLjA3N1YxNS45MjNDNjkuNDczIDUyLjA5NCAwIDE0NS45MjkgMCAyNTZ6IiBmaWxsPSIjMDA1MmI0Ii8+PC9zdmc+",
        li =
          "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik01MTIgMjU2YzAtMTEwLjA3MS02OS40NzItMjAzLjkwNi0xNjYuOTU3LTI0MC4wNzd2NDgwLjE1NUM0NDIuNTI4IDQ1OS45MDYgNTEyIDM2Ni4wNzEgNTEyIDI1NnoiIGZpbGw9IiNkODAwMjciLz48cGF0aCBkPSJNMCAyNTZjMCAxMTAuMDcxIDY5LjQ3MiAyMDMuOTA2IDE2Ni45NTcgMjQwLjA3N1YxNS45MjNDNjkuNDcyIDUyLjA5NCAwIDE0NS45MjkgMCAyNTZ6IiBmaWxsPSIjNmRhNTQ0Ii8+PC9zdmc+",
        ri =
          "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik00OTYuMDc3IDM0NS4wNDNDNTA2LjM2OCAzMTcuMzEgNTEyIDI4Ny4zMTQgNTEyIDI1NnMtNS42MzItNjEuMzEtMTUuOTIzLTg5LjA0M0gxNS45MjNDNS42MzMgMTk0LjY5IDAgMjI0LjY4NiAwIDI1NnM1LjYzMyA2MS4zMSAxNS45MjMgODkuMDQzTDI1NiAzNjcuMzA0bDI0MC4wNzctMjIuMjYxeiIgZmlsbD0iIzAwNTJiNCIvPjxwYXRoIGQ9Ik0yNTYgNTEyYzExMC4wNzEgMCAyMDMuOTA2LTY5LjQ3MiAyNDAuMDc3LTE2Ni45NTdIMTUuOTIzQzUyLjA5NCA0NDIuNTI4IDE0NS45MjkgNTEyIDI1NiA1MTJ6IiBmaWxsPSIjZDgwMDI3Ii8+PC9zdmc+",
        ci =
          "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNMCAyNTZjMCAxMTAuMDcgNjkuNDcyIDIwMy45MDUgMTY2Ljk1NSAyNDAuMDc2bDIyLjI2Mi0yNDAuMDc3LTIyLjI2Mi0yNDAuMDc2QzY5LjQ3MiA1Mi4wOTUgMCAxNDUuOTI5IDAgMjU2eiIgZmlsbD0iIzZkYTU0NCIvPjxwYXRoIGQ9Ik01MTIgMjU2QzUxMiAxMTQuNjE2IDM5Ny4zODQgMCAyNTYgMGMtMzEuMzE0IDAtNjEuMzExIDUuNjMzLTg5LjA0NSAxNS45MjN2NDgwLjE1NEMxOTQuNjg5IDUwNi4zNjggMjI0LjY4NiA1MTIgMjU2IDUxMmMxNDEuMzg0IDAgMjU2LTExNC42MTYgMjU2LTI1NnoiIGZpbGw9IiNkODAwMjciLz48Y2lyY2xlIGN4PSIxNjYuOTU3IiBjeT0iMjU2IiByPSI4OS4wNDMiIGZpbGw9IiNmZmRhNDQiLz48cGF0aCBkPSJNMTE2Ljg3IDIxMS40Nzh2NTUuNjUyYzAgMjcuNjYyIDIyLjQyNCA1MC4wODcgNTAuMDg3IDUwLjA4N3M1MC4wODctMjIuNDI0IDUwLjA4Ny01MC4wODd2LTU1LjY1MkgxMTYuODd6IiBmaWxsPSIjZDgwMDI3Ii8+PHBhdGggZD0iTTE2Ni45NTcgMjgzLjgyNmMtOS4yMDYgMC0xNi42OTYtNy40OS0xNi42OTYtMTYuNjk2di0yMi4yNmgzMy4zOTF2MjIuMjYxYzAgOS4yMDUtNy40OSAxNi42OTUtMTYuNjk1IDE2LjY5NXoiIGZpbGw9IiNmMGYwZjAiLz48L3N2Zz4=",
        di =
          "/webclient/assets/img/Taiwanlogo.png",
          // "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii00OSAxNDEgNTEyIDUxMiI+PGNpcmNsZSBjeD0iMjA3IiBjeT0iMzk3IiByPSIyNTYiIGZpbGw9IiNkODAwMjciLz48cGF0aCBkPSJtOTEuMSAyOTYuOCAyMi4xIDY4aDcxLjVsLTU3LjggNDIuMSAyMi4xIDY4LTU3LjktNDItNTcuOSA0MiAyMi4yLTY4LTU3LjktNDIuMUg2OXptMTYzLjQgMjQwLjctMTYuOS0yMC44LTI1IDkuNyAxNC41LTIyLjUtMTYuOS0yMC45IDI1LjkgNi45IDE0LjYtMjIuNSAxLjQgMjYuOCAyNiA2LjktMjUuMSA5LjZ6bTMzLjYtNjEgOC0yNS42LTIxLjktMTUuNSAyNi44LS40IDcuOS0yNS42IDguNyAyNS40IDI2LjgtLjMtMjEuNSAxNiA4LjYgMjUuNC0yMS45LTE1LjV6bTQ1LjMtMTQ3LjZMMzIxLjYgMzUzbDE5LjIgMTguNy0yNi41LTMuOC0xMS44IDI0LTQuNi0yNi40LTI2LjYtMy44IDIzLjgtMTIuNS00LjYtMjYuNSAxOS4yIDE4Ljd6bS03OC4yLTczLTIgMjYuNyAyNC45IDEwLjEtMjYuMSA2LjQtMS45IDI2LjgtMTQuMS0yMi44LTI2LjEgNi40IDE3LjMtMjAuNS0xNC4yLTIyLjcgMjQuOSAxMC4xeiIgZmlsbD0iI2ZmZGE0NCIvPjwvc3ZnPg==",
        pi =
          "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNMTUuOTIzIDM0NS4wNDNDNTIuMDk0IDQ0Mi41MjcgMTQ1LjkyOSA1MTIgMjU2IDUxMnMyMDMuOTA2LTY5LjQ3MyAyNDAuMDc3LTE2Ni45NTdMMjU2IDMyMi43ODNsLTI0MC4wNzcgMjIuMjZ6IiBmaWxsPSIjZmZkYTQ0Ii8+PHBhdGggZD0iTTI1NiAwQzE0NS45MjkgMCA1Mi4wOTQgNjkuNDcyIDE1LjkyMyAxNjYuOTU3TDI1NiAxODkuMjE3bDI0MC4wNzctMjIuMjYxQzQ1OS45MDYgNjkuNDcyIDM2Ni4wNzEgMCAyNTYgMHoiLz48cGF0aCBkPSJNMTUuOTIzIDE2Ni45NTdDNS42MzMgMTk0LjY5IDAgMjI0LjY4NiAwIDI1NnM1LjYzMyA2MS4zMSAxNS45MjMgODkuMDQzaDQ4MC4xNTVDNTA2LjM2OCAzMTcuMzEgNTEyIDI4Ny4zMTQgNTEyIDI1NnMtNS42MzItNjEuMzEtMTUuOTIzLTg5LjA0M0gxNS45MjN6IiBmaWxsPSIjZDgwMDI3Ii8+PC9zdmc+",
        RI = {
          US: ii,
          UK: ai,
          DE: pi,
          IT: li,
          RU: ri,
          ZH: di,
          FR: oi,
          ES: si,
          PT: ci,
        };
      function ro(t, c) {
        return t.instant(
          0 === c.SP ? "REPOS.VERSION_NO_PATCH" : "REPOS.VERSION",
          { major: `${c.Major}.${c.Minor}`, patch: c.SP, rev: c.Build }
        );
      }
      u.module("app").component("mcSelectFlag", {
        bindings: { selectedFlag: "=", mcDisabled: "<", onFlagChange: "&" },
        controller: class LI {
          constructor() {
            this.flags = RI;
          }
        },
        templateUrl: "js/app/settings/email/mc-select-flag.component.html",
      }),
        u.module("app").controller("LicenseCtrl", [
          "$scope",
          "$http",
          "$state",
          "$stateParams",
          "$translate",
          "MessageBoxSvc",
          "MyUtilsSvc",
          "SystemStatusSvc",
          function (t, c, e, n, i, a, l, s) {
            let r;
            (t.submitted = !1),
              (t.specialCharacters = '\\/:*?"<>|'),
              (t.specialCharactersPattern = "[^" + t.specialCharacters + "]+"),
              (r = null != n.BackState ? n.BackState : "app.settings.general");
            const p = { selected: {}, possibleValues: [], value: void 0 };
            (t.helper = { CountryForLicense: p }),
              (t.refreshLicense = function () {
                t.saveLicense(!0);
              }),
              (t.presentVersion = function (S) {
                return ro(i, S);
              });
            const f = "SETTINGS.LICENSE.LOAD_LICENSE_DETAILS_HEADER",
              m = "SETTINGS.LICENSE.LOAD_LICENSE_DETAILS_MESSAGE";
            function g() {
              const S = a.openProgressDialog(f, m);
              c.get("api/License")
                .then(function (O) {
                  if (
                    ((t.license = O.data),
                    (t.ResellerNameOriginal = t.license.ResellerName),
                    t.license.LoadingError)
                  ) {
                    const j = t.license.LoadingError.split("\n");
                    (t.licenseError = j[0]),
                      j.length > 1 && (t.licenseErrorComment = j[1]);
                  }
                  (t.helper.CountryForLicense.possibleValues = yn),
                    t.helper.CountryForLicense.value(t.license.CountryID);
                })
                .finally(() => S.close())
                .catch(() => {
                  t.licenseError = "OtherError";
                });
            }
            (p.value = (function o(S) {
              return function (O) {
                if (!arguments.length)
                  return void 0 === S.selected ? void 0 : S.selected.Id;
                S.selected = S.possibleValues.find(function (j) {
                  return j.Id == O;
                });
              };
            })(p)),
              g(),
              (t.editMode = !1),
              (t.ResellerNameOriginal = ""),
              (t.editLicense = function () {
                t.editMode = !0;
              }),
              (t.saveLicense = function (S) {
                if (((t.submitted = !0), !S && !t.licenseData.$valid)) return;
                let O;
                S && (O = a.openProgressDialog(f, m)),
                  (t.activationError = null),
                  c
                    .postApi("api/License/SetLicenseParams", {
                      Key: t.license.Key,
                      CompanyName: t.license.CompanyName,
                      ContactName: t.license.ContactName,
                      EMail: t.license.Email,
                      Phone: t.license.Telephone,
                      Country: t.helper.CountryForLicense.value(),
                      Reseller: t.license.ResellerName,
                    })
                    .then(function (j) {
                      if (j.data.error) {
                        const te =
                            "license_error." +
                            j.data.error.split("\n")[0].replace("\r", ""),
                          X = i.instant(te);
                        t.activationError =
                          i.instant(
                            "INSTALL_WIZARD.DIALOGS.INSTALL_LICENSE.LICENSE_ACTIVATION_FAILED"
                          ) +
                            ": " +
                            X !=
                          te
                            ? X
                            : i.instant("license_error.Unknown");
                      } else (t.license = j.data), (t.ResellerNameOriginal = t.license.ResellerName), (t.editMode = !1);
                    })
                    .finally(function () {
                      S && O.close(), s.LicenseRefreshed();
                    })
                    .catch(() => u.noop());
              }),
              (t.cancel = function () {
                t.editMode
                  ? ((t.editMode = !1),
                    e.go(e.current, {}, { reload: e.current }))
                  : e.go(r, {}, { reload: r });
              }),
              (t.replaceLicense = function () {
                l.openModalEditor(
                  "js/app/settings/license/replace_license.html",
                  t.license.Key,
                  "ReplaceLicenseModalEditCtrl"
                )
                  .result.then(function (S) {
                    (t.license.Key = S), g();
                  })
                  .catch(() => u.noop());
              });
          },
        ]),
        u.module("app").controller("NumberBlacklistCtrl", [
          "$scope",
          "$state",
          "MyUtilsSvc",
          function (t, c, e) {
            const n = e.BaseCollectionServiceMethods("NumberBlackList");
            function i(a) {
              n.getAll()
                .then(function (l) {
                  t.setItems(l.data.list);
                  const s = u.element(z()("#pagerId")).isolateScope();
                  a && 1 != s.currentPage && (s.restoreMyPage = s.currentPage);
                })
                .catch(() => u.noop());
            }
            e.initCollectionController(t, n, {
              edit(a) {
                e.openModalEditor(
                  "js/app/settings/number_blacklist/new_black_list_modal.html",
                  a
                )
                  .result.then(function () {
                    e.reloadState(t);
                  })
                  .catch(() => u.noop());
              },
              refresh: i,
              confirmDeletion: !0,
            }),
              (t.onPageSwitch = function () {
                const a = u.element(z()("#pagerId")).isolateScope();
                a.restoreMyPage &&
                  (a.selectPage(
                    a.numPages < a.restoreMyPage ? a.numPages : a.restoreMyPage
                  ),
                  (a.restoreMyPage = void 0));
              }),
              (t.okClick = function () {
                c.go("app.settings.general");
              }),
              i();
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/parameters/parameter-edit.controller.html",
            '<div class="modal-header"> <button type="button" class="close" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="SETTINGS.PARAMETERS.SECTIONS.CUSTOM_PARAMETERS.EDIT_CUSTOM_PARAMETER">Edit custom parameter</h4> </div> <div class="modal-body"> <text-control-design mc-title="SETTINGS.PARAMETERS.SECTIONS.TBL_HEADING_NAME" prop="$ctrl.param.Name" disabled-field="$ctrl.nameDisabled" maxlength="255"></text-control-design> <text-control-design mc-title="SETTINGS.PARAMETERS.SECTIONS.TBL_HEADING_DESCRIPTION" prop="$ctrl.param.Description" maxlength="1000"></text-control-design> <textarea-control-design mc-title="SETTINGS.PARAMETERS.SECTIONS.TBL_HEADING_VALUE" prop="$ctrl.param.Value" trim="false" rows="3"></textarea-control-design> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$ctrl.save()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save</button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel</button> </div> '
          ),
      ]);
      let wI = (() => {
        class t {
          constructor(e) {
            this.$http = e;
          }
          save() {
            this.resolve.isNew
              ? this.$http
                  .postApi(this.param.url + "/new", this.param)
                  .then(() => {
                    this.close(this.param);
                  })
                  .catch(() => u.noop())
              : this.$http
                  .postApi(this.param.url, this.param)
                  .then(() => {
                    this.close(this.param);
                  })
                  .catch(() => u.noop());
          }
          $onInit() {
            (this.param = this.resolve.param),
              (this.nameDisabled = !this.resolve.isNew);
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").component("parameterEditCtrl", {
        controller: wI,
        bindings: { resolve: "<", close: "&", dismiss: "&" },
        templateUrl:
          "js/app/settings/parameters/parameter-edit.controller.html",
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/parameters/parameters-list.component.html",
            '<label translate="SETTINGS.PARAMETERS.SECTIONS.CUSTOM_PARAMETERS.DESCRIPTION"> This page allows editing of advanced options. Only use this after having been recommended to do so by 3CX Technical Support. ADVANCED USERS ONLY! </label> <br> <button type="button" ng-click="$ctrl.onAddClick()" class="btn btn-sm btn-success m-b-sm" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"> <i class="halflings halflings-plus"></i> Add </button> <input ng-model="$ctrl.search" ng-model-options="{getterSetter: true}" id="inputSearch" class="form-control m-b-lg" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> <hr class="m-t-sm m-b-sm"> <div st-table="$ctrl.displayedItems" st-pipe="$ctrl.loadData()" style="display:flex;flex-direction:column"> <div ng-repeat="row in $ctrl.displayedItems" ng-click="$ctrl.onItemEditClick(row)" class="parameter padder-v"> <div style="display:flex;justify-content:space-between"> <div> <label class="h4 font-thin">{{row.Name}}</label> <p class="small">{{row.Description}}</p> </div> <div style="display:flex"> <copy-to-clipboard mc-hidden="true" mc-class="\'td-ellipsis\'" mc-width="50" mc-copied="row.Value"></copy-to-clipboard> <button style="align-self:start" type="button" mc-stop-event ng-click="$ctrl.onItemDeleteClick(row)" class="btn btn-xs btn-default"><i class="fa fa-times"></i></button> </div> </div> <pre style="background-color:transparent">{{row.Value}}</pre> </div> <div st-pagination="" st-items-by-page="$ctrl.itemsByPage" st-displayed-pages="7" style="align-self:center"></div> </div> '
          ),
      ]);
      let jI = (() => {
        class t {
          constructor(e, n, i, a, l) {
            (this.scope = e),
              (this.$uibModal = n),
              (this.$http = i),
              (this.MessageBoxSvc = a),
              (this.$timeout = l),
              (this.itemsByPage = 10),
              (this.dn$ = new St.t(1)),
              (this.search$ = new xt.X("")),
              (this.stTableState$ = new St.t(1)),
              (this.loadDataImpl = (s) => {
                _t(), (this.stTableState = s), this.stTableState$.next(s);
              });
          }
          get dn() {
            return this._dn;
          }
          set dn(e) {
            (this._dn = e), this.dn$.next(e);
          }
          get search() {
            return this.search$.getValue();
          }
          set search(e) {
            this.search$.next(e);
          }
          $onInit() {
            (this.url = "api/" + this.apiUrl),
              (this.searchSubscription = (0, It.a)([
                this.search$.pipe(Wt()),
                this.byDn
                  ? this.dn$.pipe((0, mn.h)((e) => e && e.length > 0))
                  : (0, Rt.of)(""),
              ])
                .pipe(
                  (0, it.w)(([e, n]) =>
                    this.stTableState$.pipe(
                      (0, it.w)(
                        (i, a) => (
                          0 === a && (i.pagination.start = 0),
                          (0, Lt.D)(
                            this.$http.getApi(this.url, {
                              params: {
                                from: i.pagination.start,
                                number: n,
                                count: this.itemsByPage,
                                filter: e,
                              },
                            })
                          )
                        )
                      )
                    )
                  )
                )
                .subscribe((e) => {
                  this.$timeout(() => {
                    (this.displayedItems = e.data.list),
                      (this.stTableState.pagination.totalItemCount =
                        e.data.count),
                      (this.stTableState.pagination.numberOfPages = Math.ceil(
                        e.data.count / this.itemsByPage
                      ));
                  });
                }));
          }
          $onDestroy() {
            this.searchSubscription.unsubscribe();
          }
          loadData() {
            return this.loadDataImpl;
          }
          refresh() {
            this.stTableState && this.stTableState$.next(this.stTableState);
          }
          onAddClick() {
            this.$uibModal
              .open({
                component: "parameterEditCtrl",
                backdrop: "static",
                resolve: {
                  param: () => ({
                    Name: "NEW_PARAM",
                    Description: "Description",
                    Value: "Value",
                    dn: this.byDn ? this.dn : null,
                    url: this.url,
                  }),
                  isNew: () => !0,
                },
              })
              .result.then(() => {
                this.refresh();
              })
              .catch(() => u.noop());
          }
          onItemDeleteClick(e) {
            this.MessageBoxSvc.confirmDialog(
              "REPOS.CONFIRMATION.HEADER",
              "REPOS.CONFIRMATION.TEXT"
            ).then(() => {
              const n = { Name: e.Name, Dn: void 0 };
              this.byDn && (n.Dn = this.dn),
                this.$http
                  .postApi(this.url + "/delete", n)
                  .then(() => {
                    this.refresh();
                  })
                  .catch(() => u.noop());
            });
          }
          onItemEditClick(e) {
            this.$uibModal
              .open({
                component: "parameterEditCtrl",
                backdrop: "static",
                resolve: {
                  param: () => {
                    const n = u.copy(e);
                    return (n.url = this.url), this.byDn && (n.Dn = this.dn), n;
                  },
                  isNew: () => !1,
                },
              })
              .result.then(() => {
                this.refresh();
              })
              .catch(() => u.noop());
          }
        }
        return (
          (t.$inject = [
            "$scope",
            "$uibModal",
            "$http",
            "MessageBoxSvc",
            "$timeout",
          ]),
          t
        );
      })();
      u.module("app").component("parametersListControl", {
        bindings: { dn: "<", apiUrl: "@", byDn: "@" },
        controller: jI,
        templateUrl:
          "js/app/settings/parameters/parameters-list.component.html",
      });
      let kI = (() => {
        class t {
          constructor(e) {
            this.$http = e;
          }
          getExtraParamsAccessible() {
            return this.$http.getApi(
              "api/CustomParametersList/getExtraParamsAccessible"
            );
          }
          getCustomProfileNames() {
            return this.$http.getApi(
              "api/CustomParametersList/getCustomProfileNames"
            );
          }
          getIPV6BindingValue() {
            return this.$http.getApi(
              "api/CustomParametersList/hasIPV6BindingValue"
            );
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("CustomParametersSvc", kI);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/settings/parameters/dn-properties.component.html",
              '<div> <div class="form-group m-l-xs m-r-xs"> <ajax-dn-select-component header="SETTINGS.PARAMETERS.SECTIONS.DN_PROPERTIES.TITLE" on-selected="$ctrl.setDn($item)"></ajax-dn-select-component> </div> <parameters-list-control ng-if="$ctrl.selectedDn" api-url="dnProperties" by-dn="true" dn="$ctrl.selectedDn"></parameters-list-control> </div> '
            ),
        ]),
        u.module("app").component("dnPropertiesCtrl", {
          controller: class GI {
            setDn(c) {
              this.selectedDn = c.Number;
            }
          },
          templateUrl:
            "js/app/settings/parameters/dn-properties.component.html",
        });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/parameters/parameters.component.html",
            '<div> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SETTINGS.PARAMETERS.TITLE">Parameters Settings</label> <help-button url="{{\'LINKS.SETTINGS_PARAMETERS_HELP_BTN\' | translate}}"></help-button> </div> <div class="panel-body tab-container"> <ul class="nav nav-tabs"> <li role="presentation" ui-sref-active="active"><a ui-sref=".custom"> <span translate="SETTINGS.PARAMETERS.SECTIONS.CUSTOM_PARAMETERS.TITLE">Custom Parameters</span></a> </li> <li ng-if="$ctrl.extraParamsAccessible" role="presentation" ui-sref-active="active"><a ui-sref=".dn"> <span translate="SETTINGS.PARAMETERS.SECTIONS.DN_PROPERTIES.TITLE">DN Properties</span></a> </li> <li ng-if="$ctrl.extraParamsAccessible" role="presentation" ui-sref-active="active"><a ui-sref=".tenant"> <span translate="SETTINGS.PARAMETERS.SECTIONS.TENANT_PARAMETERS.TITLE">Tenant Parameters</span></a> </li> </ul> <div class="tab-content"> <ui-view></ui-view> </div> </div> </div> '
          ),
      ]);
      let FI = (() => {
        class t {
          constructor(e) {
            e.getExtraParamsAccessible().then((n) => {
              this.extraParamsAccessible = n.data;
            });
          }
        }
        return (t.$inject = ["CustomParametersSvc"]), t;
      })();
      u.module("app").component("parametersCtrl", {
        controller: FI,
        templateUrl: "js/app/settings/parameters/parameters.component.html",
      });
      const ui = {
        network: ["SETTINGS.LIST_BUTTONS.NETWORK_BTN"],
        email: ["SETTINGS.LIST_BUTTONS.EMAIL_BTN"],
        security: ["SETTINGS.LIST_BUTTONS.SECURITY_BTN"],
        updates: ["SYSTEM_STATUS.SECTIONS.UPDATES"],
        wordpress: ["SETTINGS.WORDPRESS.TITLE"],
        office365: ["OFFICE365.TITLE"],
        crm: ["SETTINGS.LIST_BUTTONS.INTEGRATION_BTN"],
        hotel: ["SETTINGS.LIST_BUTTONS.HOTEL_SERVICES_BTN"],
        pbx: ["SETTINGS.LIST_BUTTONS.PBX_BTN"],
        license: ["SETTINGS.LIST_BUTTONS.LICENSE_BTN"],
        officeHours: ["SETTINGS.LIST_BUTTONS.OFFICE_HOURS_BTN"],
        musicOnHold: ["SETTINGS.LIST_BUTTONS.MUSIC_ON_HOLD_BTN"],
        systemPrompts: ["SETTINGS.LIST_BUTTONS.SYSTEM_PROMPTS_BTN"],
        vmail: ["SETTINGS.LIST_BUTTONS.VOICEMAIL_BTN"],
        conference: ["SETTINGS.LIST_BUTTONS.CONFERENCING_BTN"],
        parking: ["SETTINGS.LIST_BUTTONS.CALL_PARKING_BTN"],
        phoneSettings: ["SETTINGS.LIST_BUTTONS.3CXPHONE_BTN"],
        e164: ["SETTINGS.LIST_BUTTONS.E164_PROCESSING_BTN"],
        blacklistNumbers: ["SETTINGS.LIST_BUTTONS.BLACKLISTED_NUMBERS_BTN"],
        cdr: ["SETTINGS.LIST_BUTTONS.CDR_BTN"],
        dialCodes: ["SETTINGS.LIST_BUTTONS.DIAL_CODES_BTN"],
        templates: ["SETTINGS.LIST_BUTTONS.TEMPLATES_BTN"],
        hostingMode: ["SETTINGS.LIST_BUTTONS.HOSTING_MODE_SETTINGS"],
        ipBlacklist: ["SYSTEM_STATUS.PBX_STATUS_BOX.BLACKLISTED_IPS"],
        fax: ["SETTINGS.LIST_BUTTONS.FAX_BTN"],
        parameters: ["SETTINGS.LIST_BUTTONS.PARAMETERS_BTN"],
      };
      u.module("app").controller("SettingsCtrl", [
        "$scope",
        "$rootScope",
        "$timeout",
        "$stateParams",
        "SettingsSvc",
        "$state",
        "$translate",
        function (t, c, e, n, i, a, l) {
          t.inputSearch = "";
          const s = (p) =>
            p.reduce((f, m) => f.concat(Array.isArray(m) ? s(m) : m), []);
          function r() {
            c.User = Object.assign({}, c.User);
          }
          let o = {};
          l(s(Object.values(ui))).then(
            (p) => {
              (o = Object.keys(ui).reduce(
                (f, m) => (
                  (f[m] = ui[m].reduce((g, S) => {
                    const O = p[S];
                    return O && g.push(O.toLowerCase()), g;
                  }, [])),
                  f
                ),
                {}
              )),
                r();
            },
            () => {}
          ),
            (t.onSearchChange = () => {
              r();
            }),
            Dt(t.User) || (t.hotelModuleExists = !0),
            (t.isVisible = (p) =>
              !t.inputSearch ||
              !o[p] ||
              o[p].some((f) => f.includes(t.inputSearch.toLowerCase()))),
            (t.onCDRSettingsClick = function () {
              i.editSetting(
                "api/Settings/CDRSettings",
                "app.settings.cdr"
              ).catch(() => u.noop());
            }),
            (t.onExternalAccessSettingsClick = function () {
              this.$state.go("app.settings.appsandplugins");
            }),
            (t.onEMailSettingsClick = function () {
              i.editSetting(
                "api/Settings/NotificationSettings",
                "app.settings.email.mail_server"
              ).catch(() => u.noop());
            }),
            (t.onDialCodesSettingsClick = function () {
              i.editSetting(
                "api/Settings/DialSettings",
                "app.settings.dial_codes"
              ).catch(() => u.noop());
            }),
            (t.onCodecsSettingsClick = function () {
              i.editSetting(
                "api/Settings/CodecsSettings",
                "app.settings.codecs"
              ).catch(() => u.noop());
            }),
            (t.onOptionsSettingsClick = function () {
              i.editSetting(
                "api/Settings/OptionsSettings",
                "app.settings.options"
              ).catch(() => u.noop());
            }),
            (t.onPbxSettingsClick = function () {
              i.editSetting(
                "api/Settings/PbxSettings",
                "app.settings.pbx"
              ).catch(() => u.noop());
            }),
            (t.onLicenseSettingsClick = function () {
              console.log("onLicenseSettingsClick");
            }),
            (t.onNetworkSettingsClick = function () {
              i.editSetting(
                "api/Settings/NetworkSettings",
                "app.settings.network.public_ip"
              ).catch(() => u.noop());
            }),
            (t.onVMailSettingsClick = function () {
              i.editSetting(
                "api/Settings/VoiceMailSettings",
                "app.settings.voice_mail"
              ).catch(() => u.noop());
            }),
            (t.onHostingModeSettingsClick = function () {
              i.editSetting(
                "api/Settings/HostingModeSettings",
                "app.settings.hosting_mode"
              ).catch(() => u.noop());
            }),
            (t.onIpBlacklistClick = function () {
              this.$state.go("app.system_status.ip_blacklist");
            }),
            (t.onE164SettingsClick = function () {
              i.editSetting(
                "api/Settings/E164Settings",
                "app.settings.e164"
              ).catch(() => u.noop());
            }),
            (t.onCallParkingSettingsClick = function () {
              i.editSetting(
                "api/Settings/CallParkingSettings",
                "app.settings.call_parking"
              ).catch(() => u.noop());
            }),
            (t.onClick2CallSettingsClick = function () {
              i.editSetting(
                "api/Settings/Click2CallSettings",
                "app.settings.click2call"
              ).catch(() => u.noop());
            }),
            (t.onOfficeHoursSettingsClick = function () {
              i.editSetting(
                "api/Settings/OfficeHoursSettings",
                "app.settings.office_hours"
              ).catch(() => u.noop());
            }),
            (t.onConferencingSettingsClick = function () {
              i.editSetting(
                "api/Settings/ConferencingSettings",
                "app.settings.webmeeting.video"
              ).catch(() => u.noop());
            }),
            (t.onGoogleSettingsClick = function () {
              i.editSetting(
                "api/Settings/GoogleSettings",
                "app.settings.google.general"
              ).catch(() => u.noop());
            }),
            (t.onCrmSettingsClick = function () {
              Zt(t.User)
                ? i.editCrmSetting().catch(() => u.noop())
                : a.go("app.settings.crm.client");
            }),
            (t.onMusicOnHold = function () {
              i.editSetting(
                "api/Settings/MusicOnHoldSettings",
                "app.settings.music_on_hold.general"
              ).catch(() => u.noop());
            }),
            (t.onFaxSettingsClick = function () {
              i.editSetting("api/Settings/Fax", "app.settings.fax").catch(() =>
                u.noop()
              );
            }),
            (t.onHotelServicesClick = function () {
              i.editSetting(
                "api/Settings/HotelServices",
                "app.settings.hotel_services"
              ).catch(() => u.noop());
            });
        },
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/api/api.component.html",
            '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <h1 class="m-n font-thin h3">API</h1> </div> <div class="wrapper-md"> <panel mc-title="API"> <p>You can regenerate a token for 3CX Customer Portal APP. If you do this 3CX Customer Portal will not have access to this installation anymore. If you still want to allow access please notify 3CX Support on new access token.</p> <button class="btn btn-primary" type="button" ng-click="$ctrl.generateToken()">Generate token</button> </panel> </div> </div> '
          ),
      ]);
      let YI = (() => {
        class t {
          constructor(e, n) {
            (this.$http = e), (this.$uibModal = n);
          }
          generateToken() {
            this.$http
              .postApi("api/settings/customerPortalToken", {})
              .then((e) =>
                this.$uibModal.open({
                  component: "tokenModalComponent",
                  resolve: { token: () => e.data },
                })
              )
              .catch(u.noop);
          }
        }
        return (t.$inject = ["$http", "$uibModal"]), t;
      })();
      u.module("app").component("apiComponent", {
        controller: YI,
        templateUrl: "js/app/settings/api/api.component.html",
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/settings/api/token-modal.component.html",
              '<div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$ctrl.close()">&times;</button> <h4 class="modal-title">Token</h4> </div> <div class="modal-body"> <p>Please save the token. It will be shown only once.</p> <copy-to-clipboard mc-class="\'td-ellipsis\'" mc-copied="$ctrl.resolve.token"></copy-to-clipboard> </div> <div class="modal-footer"> <button class="btn btn-default" type="button" ng-click="$ctrl.close()" translate="REPOS.BUTTONS.CLOSE_BTN" id="btnClose">Close</button> </div> '
            ),
        ]),
        u
          .module("app")
          .component("tokenModalComponent", {
            controller: class QI {},
            templateUrl: "js/app/settings/api/token-modal.component.html",
            bindings: { resolve: "<", close: "&" },
          }),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/crm/clientside/client.html",
                '<div ng-controller="ClientCrmCtrl"> <crm-integrations-update on-performed-update="refresh()"></crm-integrations-update> <div class="panel panel-default"> <crm-upload accept="\'*.zip\'" url="api/crm/upload" on-init="uploadFunc = $upload" on-upload="refresh()"></crm-upload> <div class="panel-heading" translate="SETTINGS.INTEGRATION.INSTALLED">CRM</div> <div class="panel-body"> <button ng-click="uploadFunc()" type="button" class="btn btn-sm btn-default" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"><i class="halflings halflings-download"></i> Download </button> <div class="errors"> <ul> <li ng-show="errorMsg"> <span class="halflings halflings-exclamation-sign"></span> {{\'SETTINGS.INTEGRATION.FILE_IS_TOO_BIG\' | translate}} </li> </ul> </div> </div> <table st-table="displayedItems" st-safe-src="items" class="table table-striped"> <thead> <tr> <th st-sort="Name" translate="SETTINGS.INTEGRATION.TBL_HEADING_PLUGIN_NAME">Name</th> <th st-sort="Version" translate="SETTINGS.INTEGRATION.TBL_HEADING_VERSION">Version</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="row in displayedItems"> <td>{{::row.Name}}</td> <td>{{::row.Version}}</td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="onDeleteClick(row)" class="btn btn-xs btn-default"><i class="fa fa-times"></i></button> </td> </tr> </tbody> </table> </div> </div> '
              ),
          ]),
        u.module("app").controller("ClientCrmCtrl", [
          "$scope",
          "$http",
          function (t, c) {
            function e() {
              c.getApi("api/crm/client")
                .then(function (n) {
                  (t.items = n.data.list),
                    (t.displayedItems = [].concat(t.items));
                })
                .catch(() => u.noop());
            }
            (t.refresh = e),
              (t.onDeleteClick = function (n) {
                c.postApi("api/crm/delete", { Name: n.Name })
                  .then(e)
                  .catch(() => u.noop());
              }),
              e();
          },
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/crm/crm.html",
                '<div> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SETTINGS.INTEGRATION.TITLE">CRM</label> <help-button url="{{\'LINKS.SETTINGS_CRM_INTEGRATION_HELP_BTN\' | translate}}"></help-button> </div> <div class="panel-body tab-container" ng-controller="CrmCtrl"> <ul class="nav nav-tabs"> <li mc-prof role="presentation" ui-sref-active="active" ng-class="serverTabActive ? \'active\' : \'\'"><a ng-click="serverTabClick();"> <span translate="SETTINGS.INTEGRATION.SECTIONS.SERVER">Server Side</span></a> </li> <li role="presentation" ui-sref-active="active"><a ui-sref=".client"> <span translate="SETTINGS.INTEGRATION.SECTIONS.CLIENT">Client Side</span></a> </li> </ul> <div class="tab-content"> <ui-view></ui-view> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/crm/serverside/server.html",
                '<div ng-controller="ServerCrmCtrl"> <crm-integrations-update is-server="true" on-performed-update="refresh()"></crm-integrations-update> <div class="panel panel-default"> <crm-upload accept="\'*.xml\'" url="api/crmList/uploadServerCrm" on-init="uploadFunc = $upload" on-upload="refresh()"></crm-upload> <div class="panel-heading"> <label class="m-n" translate="CRM.CRM_SERVERSIDE_INTEGRATION" style="font-weight:700!important;color:#000!important">CRM Serverside integration</label> <div style="display:inline-block;margin-left:30px"> <button uib-tooltip="{{(activeObject.licenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}" class="btn m-b-xs w-xs" ng-if="activeObject.TemplateCountry.value()" ng-click="testClick()" translate="REPOS.BUTTONS.TEST" id="btnTest" type="button">Test </button> <button uib-tooltip="{{(activeObject.licenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}" class="btn m-b-xs w-xs btn-success" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button">Save </button> <button class="btn m-b-xs w-xs btn-dark" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button">Cancel </button> </div> </div> <div class="panel-body"> <select-control prop="activeObject.CrmTypeType" mc-title="CRM.SELECT_CRM"> <button uib-tooltip="{{(activeObject.licenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}" class="btn btn-default" ng-click="uploadFunc()" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd" type="button">Test </button> <button uib-tooltip="{{(activeObject.licenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}" class="btn btn-default" ng-if="activeObject.TemplateCountry.value()" ng-click="deleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete" type="button">Test </button> <button ng-disabled="showTemplate()" ng-click="viewSource()" class="btn btn-default" translate="CRM.VIEW_SOURCE" type="button">View source</button> </select-control> <div ng-if="activeObject.TemplateCountry.value()"> <div ng-if="!stub.isCustomPlugin"> <label> <span translate="SETTINGS.INTEGRATION.CRM_SERVER_SIDE_INFO" translate-values="{link: stub.translationLink}"></span> </label> </div> <div class="form-group m-t"> <select-enum-control mc-title="SETTINGS.INTEGRATION.CRM_SERVER_PRIORITY" prop="activeObject.PhonebookPriorityOptions"></select-enum-control> </div> <checkbox-control prop="activeObject.PhonebookSync" mc-title="SETTINGS.INTEGRATION.CRM_PHONEBOOK_SYNC"></checkbox-control> <div ng-repeat="variable in stub.standaloneVariables" ng-switch="variable.Type"> <typed-variable-control ng-switch-default="" variable="variable"></typed-variable-control> <variable-oauth-control ng-switch-when="OAuth" variable="variable" all-variables="stub.variables" editor-id="Id"></variable-oauth-control> </div> </div> </div> </div> <div class="panel panel-default" ng-repeat="group in stub.groups"> <div class="panel-heading"> <span ng-if="!group.parentVariable">{{group.groupName}}</span> <typed-variable-control remove-class="true" ng-if="group.parentVariable" variable="group.parentVariable"></typed-variable-control> </div> <div class="panel-body"> <div ng-repeat="variable in group.variables" ng-switch="variable.Type"> <typed-variable-control ng-switch-default="" variable="variable" mc-disabled="group.parentVariable ? !group.parentVariable.value : false"></typed-variable-control> <variable-oauth-control ng-switch-when="OAuth" variable="variable" mc-disabled="group.parentVariable ? !group.parentVariable.value : false" all-variables="stub.variables" editor-id="Id"></variable-oauth-control> </div> </div> </div> </div> '
              ),
          ]);
      class iv extends ft {
        deleteCrmContacts() {
          return this.$http.postApi("api/CrmList/deleteCrmContacts", {});
        }
        deleteServerCrmTemplate(c) {
          return this.$http.postApi(
            `api/CrmList/deleteServerCrm?crmName=${c}`,
            {}
          );
        }
        test(c, e) {
          return this.$http.postApi("api/CrmList/test", { editor: c, num: e });
        }
        getCrmTemplate(c, e) {
          return this.$http.getApi("api/CrmList/template", {
            params: { country: c, name: e },
          });
        }
        createCrm(c) {
          return this.$http.postApi("api/CrmList/createCrm", c);
        }
      }
      u.module("app").factory("CrmSvc", [
        "$http",
        function (c) {
          return new iv("CrmList", void 0, c);
        },
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/crm/crm-update.component.html",
            '<uib-accordion close-others="oneAtATime"> <div uib-accordion-group is-open="$ctrl.isOpen" class="panel-default" is-disabled="$ctrl.isDisabled"> <uib-accordion-heading> <span ng-switch="!$ctrl.isDisabled"> <span ng-switch-when="true"> <span translate="SETTINGS.INTEGRATION.UPDATES"></span> <span>({{$ctrl.updatesCategory.items | outOfDateCount}})</span> <i class="pull-right fa fa-angle-right" ng-class="{\'fa-angle-down\': $ctrl.isOpen, \'fa-angle-right\': !$ctrl.isOpen}"></i> </span> <span ng-switch-default=""> {{\'SETTINGS.INTEGRATION.UPDATES\' | translate}} ({{ \'SYSTEM_STATUS.SECTIONS.UPDATES.UP_TO_DATE\' | translate}}) </span> </span> </uib-accordion-heading> <category-update-control category="$ctrl.updatesCategory" callback="$ctrl.onUpdateComplete(resp)"></category-update-control> </div> </uib-accordion> '
          ),
      ]);
      const On = "sp150",
        ov = [
          On,
          "clients",
          "phones",
          "firmwareupdates",
          "gateway",
          "fxs",
          "provider",
          "languages",
          "promptsets",
          "integration",
          "cert",
          "cti",
          "other_updates",
        ];
      function To(t) {
        return ov.indexOf(t);
      }
      function bo(t, c) {
        t.sort(function (e, n) {
          return To(e[c]) - To(n[c]);
        });
      }
      function hn(t, c) {
        return "firmwareupdates" != t && c >= 3;
      }
      let lv = (() => {
        class t {
          constructor(e) {
            (this.updatesService = e),
              (this.updatesCategory = { items: [] }),
              (this.status = {}),
              (this.isOpen = !1),
              (this.isDisabled = !0);
          }
          refresh() {
            (this.isDisabled = !0),
              (this.isServer
                ? this.updatesService.getServerCrmUpdates()
                : this.updatesService.getClientCrmUpdates()
              ).subscribe({
                next: (n) => {
                  (this.updatesCategory = this.parseUpdates(n)),
                    (this.isDisabled = !this.updatesCategory.items.some(
                      (i) => i.OutOfDate
                    ));
                },
                error: () => {},
              });
          }
          onUpdateComplete() {
            this.refresh(), this.onPerformedUpdate && this.onPerformedUpdate();
          }
          $onInit() {
            this.refresh();
          }
          parseUpdates(e) {
            const n = "SomeCategory";
            return {
              updateToken: e.Key,
              name: n,
              IsMaintananceExpired: e.IsMaintananceExpired,
              displayPriority: "",
              items: e.Entries,
              displayedItems: [].concat(e.Entries),
              showOnlyOutOfDate: !0,
              IsSelectAllEnabled: hn(n, e.Entries.length),
            };
          }
        }
        return (t.$inject = ["UpdatesApiService"]), t;
      })();
      u
        .module("app")
        .component("crmIntegrationsUpdate", {
          bindings: { isServer: "<", onPerformedUpdate: "&" },
          templateUrl: "js/app/settings/crm/crm-update.component.html",
          controller: lv,
        }),
        u.module("app").controller("CrmCtrl", [
          "$scope",
          "SettingsSvc",
          "$state",
          function (t, c, e) {
            function n() {
              t.serverTabActive =
                "app.settings.crm.server" == t.state.current.name;
            }
            (t.state = e),
              n(),
              t.$watch("state.current.name", function () {
                n();
              }),
              (t.serverTabClick = function () {
                c.editCrmSetting().catch(() => u.noop());
              });
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/crm/serverside/variable-oauth-control.html",
            '<div class="form-group m-b" ng-hide="$ctrl.variable.hide"> <label>{{$ctrl.variable.Title}}</label> <div> <button class="btn m-b-xs w-xs btn-success" ng-click="$ctrl.openAuthLink($ctrl.variable, $ctrl.allVariables, $ctrl.editorId)" translate="BACKUP_AND_RESTORE.DIALOGS.LOCATION.GDRIVE_AUTH" type="button">Login</button> </div> <input class="form-control" ng-disabled="true" ng-model="$ctrl.variable.value" ng-model-options="{getterSetter: true, updateOn: \'blur\'}"> </div> '
          ),
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/crm/serverside/auth-wait.component.html",
            '<div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$close()">&times;</button> <h4 class="modal-title" translate="CRM.WAITING_FOR_AUTHORIZATION"> Network Capture </h4> </div> <div class="modal-body"> <form> <div class="form-group" style="text-align:center"> <i class="fa fa-spin fa-cog fa-4x"></i> </div> </form> </div> <div class="modal-footer" style="text-align:center"> <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="$close()" translate="REPOS.BUTTONS.CANCEL_BTN">Cancel</button> </div> '
          ),
      ]);
      let uv = (() => {
        class t {
          constructor(e, n, i) {
            (this.$http = e), (this.$uibModal = n), (this.$q = i);
          }
          openAuthLink(e, n, i) {
            const a = window.location.origin + "/api/oauth2crm",
              l = window.open("", "_blank");
            this.$http
              .postApi("/api/CrmList/setoauthstate", {
                editor: i,
                variable: e.Name,
                redirectUri: a,
              })
              .then((s) => {
                const r = this.$q.defer(),
                  o = this.$http.get(
                    "/api/CrmList/getoauth/" + i + "/" + e.Name,
                    { timeout: r.promise }
                  ),
                  p = this.$uibModal.open({
                    templateUrl:
                      "js/app/settings/crm/serverside/auth-wait.component.html",
                  });
                p.result
                  .finally(() => {
                    r.resolve();
                  })
                  .catch(() => u.noop()),
                  o.then(
                    (S) => {
                      e.value(S.data.Value), p.close();
                    },
                    () => {
                      p.close();
                    }
                  );
                const f = (S, O = (j) => j) => (
                    n.forEach(function (j) {
                      S = S.replace("[" + j.Name + "]", O(j.value()));
                    }),
                    (S = (S = S.replace("[RedirectUri]", O(a))).replace(
                      "[State]",
                      O(s.data.state)
                    ))
                  ),
                  m = f(e.RequestUrl),
                  g = f(e.RequestUrlParameters, encodeURIComponent);
                l.location.href = `${m}?${g}`;
              })
              .catch(() => u.noop());
          }
          cancelAuth(e) {
            e.value("");
          }
        }
        return (t.$inject = ["$http", "$uibModal", "$q"]), t;
      })();
      function fn(t, c, e) {
        (t.stub = e),
          c.forEach((n) =>
            (function hv(t, c) {
              t.Choices || (t.Choices = []),
                (t._value = c.value()[t.Name]),
                (t.value = function (e) {
                  if (!arguments.length) return t._value;
                  {
                    t._value = e;
                    const n = c.value();
                    (n[t.Name] = e),
                      c.value(n),
                      (t.errorMsg = null),
                      (t.class = void 0),
                      t.dependentVariables &&
                        t.dependentVariables.forEach((i) => {
                          i.disabled = !e;
                        });
                  }
                });
            })(n, t)
          ),
          (e.variables = c);
      }
      u.module("app").component("variableOauthControl", {
        bindings: { allVariables: "<", variable: "<", editorId: "<" },
        controller: uv,
        templateUrl:
          "js/app/settings/crm/serverside/variable-oauth-control.html",
      });
      class fv {
        constructor(c) {
          (this.groupName = c), (this.variables = []);
        }
      }
      u.module("app").controller("ServerCrmCtrl", [
        "$scope",
        "$http",
        "$stateParams",
        "CrmSvc",
        "MyUtilsSvc",
        "EditSvc",
        "$uibModal",
        "$translate",
        "SettingsSvc",
        "MessageBoxSvc",
        function (t, c, e, n, i, a, l, s, r, o) {
          (t.Id = e.Id), (t.showSource = !1);
          const p = {
            pluginName: "",
            variables: [],
            standaloneVariables: [],
            groups: [],
            isCustomPlugin: !1,
            translationLink: "",
          };
          (t.stub = p),
            (t.testClick = () => {
              l.open({
                component: "serverCrmTest",
                size: "lg",
                backdrop: "static",
                resolve: { Id: () => t.Id },
              });
            }),
            (t.deleteClick = () => {
              !t.activeObject ||
                !t.activeObject.TemplateCountry ||
                !t.activeObject.TemplateCountry.value() ||
                o
                  .confirmDialog(
                    "REPOS.CONFIRMATION.HEADER",
                    "REPOS.CONFIRMATION.DELETE_CRM"
                  )
                  .then(() => {
                    n.deleteServerCrmTemplate(
                      t.activeObject.TemplateName.value()
                    )
                      .then((m) => {
                        m.data.deleted &&
                          r.editCrmSetting().catch(() => u.noop());
                      })
                      .catch(() => u.noop());
                  })
                  .catch(() => u.noop());
            }),
            (t.viewSource = () => {
              l.open({
                component: "templateSource",
                size: "lg",
                resolve: { value: () => t.activeObject.TemplateSource.value },
              });
            }),
            (t.showTemplate = () =>
              t.activeObject && 0 === t.activeObject.CrmTypeType.value()),
            (t.refresh = () => {
              r.editCrmSetting().catch(() => u.noop());
            }),
            t.$watch("activeObject.TemplateName._value", function (m) {
              void 0 !== m &&
                (function f() {
                  if (
                    !t.activeObject ||
                    !t.activeObject.TemplateCountry ||
                    !t.activeObject.TemplateCountry.value()
                  )
                    return (
                      (p.groups = []),
                      (p.standaloneVariables = []),
                      void (p.variables = [])
                    );
                  n.getCrmTemplate(
                    t.activeObject.TemplateCountry.value(),
                    t.activeObject.TemplateName.value()
                  )
                    .then(function (m) {
                      if (!m.data) return;
                      const g = m.data.Parameters,
                        S = m.data.Name;
                      fn(t.activeObject.VariableChoices, g, p);
                      const O = [],
                        j = g.reduce((X, K) => {
                          if (K.Parent) {
                            let Q = X[K.Parent];
                            Q ||
                              ((Q = new fv(K.Parent)),
                              (Q.parentVariable = g.find(
                                (_e) => _e.Name === K.Parent
                              )),
                              Q.parentVariable && O.push(Q.parentVariable),
                              (X[K.Parent] = Q)),
                              Q.variables.push(K),
                              O.push(K);
                          }
                          return X;
                        }, {});
                      (p.groups = Object.values(j)),
                        Object.values(j).forEach((X) => {
                          !X.parentVariable ||
                            ((X.parentVariable.dependentVariables =
                              X.variables),
                            X.variables.forEach((K) => {
                              K.disabled = !X.parentVariable.value();
                            }));
                        }),
                        (p.standaloneVariables = g.filter(
                          (X) => !O.includes(X)
                        )),
                        (p.pluginName = S);
                      const te = s.instant("LINKS.SERVER_SIDE_CRM." + S);
                      te.includes("LINKS.SERVER_SIDE_CRM.")
                        ? (p.isCustomPlugin = !0)
                        : ((p.isCustomPlugin = !1), (p.translationLink = te));
                    })
                    .catch(() => u.noop());
                })();
            }),
            i
              .initEditController(t, a, "app.settings.general")
              .catch(() => u.noop());
        },
      ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/settings/crm/serverside/template-source.component.html",
              '<div class="modal-header"> <h4 class="modal-title" translate="CRM.TEMPLATE_SOURCE"></h4> </div> <div class="modal-body" ui-ace-lazy-load> <div ui-ace="{mode: \'xml\', onLoad: aceLoaded, showPrintMargin: false}" mc-ace-suppress-warning ng-model="$ctrl.value" ng-readonly="true"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$ctrl.close()" translate="REPOS.BUTTONS.CLOSE_BTN" id="btnClose">Close</button> </div> '
            ),
        ]),
        u.module("app").component("templateSource", {
          bindings: { modalInstance: "<", resolve: "<" },
          templateUrl:
            "js/app/settings/crm/serverside/template-source.component.html",
          controller: class Tv {
            $onInit() {
              this.value = this.resolve.value();
            }
            close() {
              this.modalInstance.close();
            }
          },
        });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/crm/serverside/server-crm-test.component.html",
            '<div class="modal-header"> <h4 class="modal-title" translate="CRM.TEST"></h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="CRM.ENTER_SEARCH_NUMBER">Please enter number to search</label> <input type="text" class="form-control" placeholder="{{\'CRM.ENTER_SEARCH_NUMBER\' | translate}}" ng-model="$ctrl.searchPhone"> </div> <div ng-if="$ctrl.testResponse.isError"> <div uib-alert ng-class="\'alert-danger\'"> {{$ctrl.testResponse.exceptionMessage}} </div> <pre class="scrollable-pre">{{$ctrl.testResponse.log}}</pre> </div> <div ng-if="!$ctrl.testResponse.isError && $ctrl.testResponse !== $ctrl.initialTestResponse"> <div ng-switch="$ctrl.testResponse.result.length > 0"> <div ng-switch-when="true"> <uib-tabset> <uib-tab heading="{{\'CRM.SEARCH_RESULT\' | translate}}"> <pre class="scrollable-pre">{{$ctrl.testResponse.result|json}}</pre> </uib-tab> <uib-tab heading="{{\'CRM.CRM_LOG\' | translate}}"> <pre class="scrollable-pre">{{$ctrl.testResponse.log}}</pre> </uib-tab> </uib-tabset> </div> <div ng-switch-when="false"> <div uib-alert ng-class="\'alert-warning\'"> {{\'CRM.SUCCESS_NO_RESULT\'|translate}} </div> <pre class="scrollable-pre">{{$ctrl.testResponse.log}}</pre> </div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$ctrl.test()" translate="REPOS.BUTTONS.TEST" id="btnTest" ng-disabled="!$ctrl.searchPhone">Test </button> <button type="button" class="btn btn-default" ng-click="$ctrl.close()" translate="REPOS.BUTTONS.CLOSE_BTN" id="btnClose">Close </button> </div> '
          ),
      ]);
      const hi = { isError: !1, result: [], log: "" };
      let Ev = (() => {
        class t {
          constructor(e, n) {
            (this.$http = e),
              (this.crmService = n),
              (this.initialTestResponse = hi),
              (this.testResponse = hi),
              (this.searchPhone = "555-1234");
          }
          test() {
            !this.searchPhone ||
              this.crmService
                .test(Number(this.resolve.Id), this.searchPhone)
                .then(
                  (e) => {
                    this.testResponse = e.data;
                  },
                  () => {
                    this.testResponse = hi;
                  }
                );
          }
          close() {
            this.modalInstance.close();
          }
        }
        return (t.$inject = ["$http", "CrmSvc"]), t;
      })();
      u.module("app").component("serverCrmTest", {
        bindings: { modalInstance: "<", resolve: "<" },
        templateUrl:
          "js/app/settings/crm/serverside/server-crm-test.component.html",
        controller: Ev,
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/crm/crm-upload.component.html",
            '<input id="fileInput" name="fileInput" type="file" class="hide" accept="{{$ctrl.accept}}"> '
          ),
      ]);
      let _v = (() => {
        class t {
          constructor(e, n, i) {
            (this.$element = e), (this.$http = n), (this.MessageBoxSvc = i);
          }
          $onInit() {
            const e = this.$element.find("input[type=file]")[0];
            z()(e).change(() => {
              const n = new FormData();
              n.append("fileInput", e.files[0]),
                this.$http.postFormData(this.url, n).then(
                  (i) => {
                    this.onUpload && this.onUpload(i);
                  },
                  (i) => {
                    413 === i.status ||
                      this.MessageBoxSvc.alertBox(
                        "WARNINGS.SERVER_ERROR",
                        i.data.Message
                      ).catch(() => u.noop());
                  }
                );
            }),
              this.onInit && this.onInit({ $upload: () => this.upload() });
          }
          upload() {
            const e = this.$element.find("input[type=file]")[0];
            setTimeout(function () {
              z()(e).val(""), z()(e).trigger("click");
            });
          }
        }
        return (t.$inject = ["$element", "$http", "MessageBoxSvc"]), t;
      })();
      u.module("app").component("crmUpload", {
        bindings: { url: "@", accept: "<", onInit: "&", onUpload: "&" },
        templateUrl: "js/app/settings/crm/crm-upload.component.html",
        controller: _v,
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/settings/crm/serverside/typed-variable-control.html",
              '<div ng-hide="$ctrl.variable.hide" ng-switch="$ctrl.variable.Type"> <div ng-switch-when="String"> <label>{{$ctrl.variable.Title}}</label> <div ng-switch="$ctrl.variable.Editor"> <text-control ng-switch-when="Sql" maxlength="2048" prop="$ctrl.variable"></text-control> <text-control ng-switch-default="" maxlength="500" prop="$ctrl.variable"></text-control> </div> </div> <div ng-switch-when="Password"> <label>{{$ctrl.variable.Title}}</label> <password-control prop="$ctrl.variable" maxlength="100"></password-control> </div> <div class="form-group m-b" ng-switch-when="List"> <label>{{$ctrl.variable.Title}}</label> <select class="form-control" ng-disabled="$ctrl.variable.disabled" ng-options="value as value for value in $ctrl.variable.ListValues" ng-model="$ctrl.variable.value" ng-model-options="{getterSetter: true}"> </select> </div> <checkbox-control remove-class="{{$ctrl.removeClass}}" mc-title="{{$ctrl.variable.Title}}" ng-switch-when="Boolean" prop="$ctrl.variable"></checkbox-control> </div> '
            ),
        ]),
        u
          .module("app")
          .component("typedVariableControl", {
            bindings: { removeClass: "<", variable: "<" },
            templateUrl:
              "js/app/settings/crm/serverside/typed-variable-control.html",
            controller: [function () {}],
          }),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/settings/wordpress/wordpress-click2talk.html",
                '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SETTINGS.WORDPRESS.TITLE"></label> <a class="btn m-l-lg m-b-xs w-xs btn-success" ui-sref="app.settings.general" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save</a> </div> <div class="panel-body"> <div class="tab-content"> <div class="panel panel-default"> <div class="panel-heading" translate="SETTINGS.WORDPRESS.WEBMEETING_WEBINAR_PLUGIN"> Webmeeting / Webinar Plugin </div> <div class="panel-body"> <div class="form-group"> <label translate="SETTINGS.WORDPRESS.WEBMEETING_WEBINAR_DESCRIPTION"> The 3CX Webinar Plugin for WordPress allows you to display the list of webinars on your WordPress Site. For this to work, an API Token is required. Click Generate and copy the token to the WordPress Plugin Configuration section, "API Token". </label> </div> <webmeeting-token></webmeeting-token> </div> </div> </div> </div> </div> '
              ),
          ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/settings/wordpress/show-generated-script.component.html",
              '<div class="modal-header"> <button type="button" class="close" ng-click="$ctrl.close()">&times;</button> <h4 class="modal-title" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.SHOW_GENERATED_SCRIPT_MODAL.TITLE">Live Chat & Talk Code</h4> </div> <div class="modal-body" ui-ace-lazy-load=""> <div class="form-group"> <label translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.SHOW_GENERATED_SCRIPT_MODAL.DESCRIPTION"> The code below is generated based on the selections you have made. Click "Copy" and paste this extract in the HTML of your site. </label> </div> <div ui-ace="{mode: \'xml\', onLoad: aceLoaded, showPrintMargin: false}" mc-ace-suppress-warning ng-model="$ctrl.item" ng-readonly="true" style="height:420px"></div> </div> <div class="modal-footer"> <copy-to-clipboard-button mc-copied="$ctrl.item" mc-text="\'REPOS.TEXT.COPY\'"></copy-to-clipboard-button> <button type="button" class="btn btn-default" ng-click="$ctrl.close()" translate="REPOS.BUTTONS.CLOSE_BTN" id="btnClose">Close</button> </div> '
            ),
        ]),
        u.module("app").component("showGeneratedScript", {
          templateUrl:
            "js/app/settings/wordpress/show-generated-script.component.html",
          bindings: { resolve: "<", modalInstance: "<" },
          controller: class Rv {
            $onInit() {
              this.item = this.resolve.item;
            }
            close() {
              this.modalInstance.close();
            }
          },
        });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/wordpress/integrate-live-chat-and-talk.component.html",
            ' <div class="form-group"> <label translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_DESCRIPTION"> This section allows you to generate all the code you need, allowing developers to easily add "3CX Live Chat & Talk" to any website without the need to manually write code. Fill in the options below and click "Generate". The resulting code will be displayed on screen. </label> </div> <uib-accordion close-others="oneAtATime"> <div uib-accordion-group="" is-open="$ctrl.isSetupAndAuthenticationSectionOpen" class="panel-default"> <uib-accordion-heading> <span translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.SETUP_AND_AUTHENTICATION"></span> <i class="pull-right fa fa-angle-right" ng-class="{\'fa-angle-down\': $ctrl.isSetupAndAuthenticationSectionOpen, \'fa-angle-right\': !$ctrl.isSetupAndAuthenticationSectionOpen}"></i> </uib-accordion-heading> <text-control-design maxlength="500" mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.PHONESYSTEM_URL" prop="$ctrl.liveChatAndTalkSettings.phoneSystemUrl" disabled-field="true"></text-control-design> <div class="form-group"> <label class="control-label" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.FRIENDLY_NAME">Friendly Name</label> <ui-select ng-model="$ctrl.liveChatAndTalkSettings.party"> <ui-select-match placeholder="{{\'SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.SELECT_EXTENSION_QUEUE\'|translate}}"> {{$select.selected.Name}} </ui-select-match> <ui-select-choices repeat="dn.LiveChatAndTalkFriendlyName as dn in $ctrl.dnsWithFriendlyName | filter: $select.search"> <span>{{dn.Name}}</span> </ui-select-choices> </ui-select> <div class="errors" ng-if="$ctrl.partyRequiredError"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.REQUIRED_FIELD">Required Field</span> </li> </ul> </div> <div class="information" ng-if="!$ctrl.HasAnyFriendlyNameSpecified()"> <ul> <li> <span class="fa fa-info-circle" style="color:#004085"></span> {{\'SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.NO_FRIENDLY_NAMES_SPECIFIED\' |translate}} </li> </ul> </div> </div> <div class="form-group"> <label class="control-label" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.AUTHENTICATION">Authentication</label> <select class="form-control" ng-model="$ctrl.liveChatAndTalkSettings.authentication" name="authentication" ng-disabled="$ctrl.IsPhoneOnlyMode()"> <option value="both" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.AUTHENTICATION_OPTIONS.NAME_AND_EMAIL">Name And Email</option> <option value="name" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.AUTHENTICATION_OPTIONS.NAME">Name</option> <option value="email" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.AUTHENTICATION_OPTIONS.EMAIL">Email</option> <option value="none" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.AUTHENTICATION_OPTIONS.NONE">None</option> </select> </div> <text-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.AUTHENTICATION_MESSAGE" maxlength="250" prop="$ctrl.liveChatAndTalkSettings.authenticationMessage" disabled-field="$ctrl.IsPhoneOnlyMode()"></text-control-design> <text-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.UNAVAILABLE_MESSAGE" maxlength="250" prop="$ctrl.liveChatAndTalkSettings.unavailableMessage" disabled-field="$ctrl.IsPhoneOnlyMode()"></text-control-design> <checkbox-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.ENABLED_ON_MOBILE" prop="$ctrl.liveChatAndTalkSettings.enabledOnMobile"></checkbox-control-design> </div> </uib-accordion> <uib-accordion close-others="oneAtATime"> <div uib-accordion-group="" is-open="$ctrl.isApplicationFeaturesSectionOpen" class="panel-default"> <uib-accordion-heading> <span translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.APPLICATION_FEATURES"></span> <i class="pull-right fa fa-angle-right" ng-class="{\'fa-angle-down\': $ctrl.isApplicationFeaturesSectionOpen, \'fa-angle-right\': !$ctrl.isApplicationFeaturesSectionOpen}"></i> </uib-accordion-heading> <div class="form-group"> <label class="control-label" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.MODE">Mode</label> <select class="form-control" ng-model="$ctrl.liveChatAndTalkSettings.mode" name="mode"> <option value="chatAndPhone" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.MODE_OPTIONS.CHAT_AND_PHONE">Chat And Phone</option> <option value="phoneOnly" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.MODE_OPTIONS.PHONE_ONLY">Phone</option> <option value="chatOnly" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.MODE_OPTIONS.CHAT_ONLY">Chat</option> <option value="bothignoreownership" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.MODE_OPTIONS.CHAT_AND_PHONE_IGNORE">Chat And Phone - Ignore Queue Ownership</option> </select> </div> <checkbox-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.ALLOW_VIDEO" prop="$ctrl.liveChatAndTalkSettings.allowVideo" mc-disabled="!$ctrl.IsChatAndTalkMode() && !$ctrl.IsChatAndTalkIgnoreQueueOwnershipMode()"></checkbox-control-design> <checkbox-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.ENABLE_SOUND_NOTIFICATIONS" prop="$ctrl.liveChatAndTalkSettings.enableSoundNotifications" mc-disabled="$ctrl.IsPhoneOnlyMode()"></checkbox-control-design> <checkbox-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.SHOW_TYPING_INDICATOR" prop="$ctrl.liveChatAndTalkSettings.showTypingIndicator" mc-disabled="$ctrl.IsPhoneOnlyMode()"></checkbox-control-design> <checkbox-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.ENABLE_AUTO_FOCUS" prop="$ctrl.liveChatAndTalkSettings.autoFocus" mc-disabled="$ctrl.IsPhoneOnlyMode()"></checkbox-control-design> </div> </uib-accordion> <uib-accordion close-others="oneAtATime"> <div uib-accordion-group="" is-open="$ctrl.isWindowOptionsSectionOpen" class="panel-default"> <uib-accordion-heading> <span translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.WINDOW_SETTINGS"></span> <i class="pull-right fa fa-angle-right" ng-class="{\'fa-angle-down\': $ctrl.isWindowOptionsSectionOpen, \'fa-angle-right\': !$ctrl.isWindowOptionsSectionOpen}"></i> </uib-accordion-heading> <text-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.WINDOW_TITLE" prop="$ctrl.liveChatAndTalkSettings.windowTitle" disabled-field="$ctrl.IsPhoneOnlyMode()"></text-control-design> <text-control-design maxlength="500" mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.WINDOW_ICON" prop="$ctrl.liveChatAndTalkSettings.windowIcon" disabled-field="$ctrl.IsPhoneOnlyMode()" maxlength="200"></text-control-design> <div class="errors" ng-if="$ctrl.windowIconUrlError"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.INVALID_URL">Invalid Url</span> </li> </ul> </div> <checkbox-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.SHOW_OPERATOR_NAME" prop="$ctrl.liveChatAndTalkSettings.showOperatorActualName" mc-disabled="$ctrl.IsPhoneOnlyMode()"></checkbox-control-design> <text-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.OPERATOR_NAME" prop="$ctrl.liveChatAndTalkSettings.operatorName" disabled-field="$ctrl.IsPhoneOnlyMode()"></text-control-design> <checkbox-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.SHOW_OPERATOR_IMAGE" prop="$ctrl.liveChatAndTalkSettings.showOperatorActualImage" mc-disabled="$ctrl.IsPhoneOnlyMode()"></checkbox-control-design> <text-control-design maxlength="500" mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.OPERATOR_IMAGE" prop="$ctrl.liveChatAndTalkSettings.operatorImage" disabled-field="$ctrl.IsPhoneOnlyMode()" maxlength="200"></text-control-design> <div class="errors" ng-if="$ctrl.operatorImageUrlError"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.INVALID_URL">Invalid Url</span> </li> </ul> </div> <text-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.WELCOME_MESSAGE" maxlength="250" prop="$ctrl.liveChatAndTalkSettings.welcomeMessage" disabled-field="$ctrl.IsPhoneOnlyMode()"></text-control-design> <text-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.PHONE_CALL_HOVER" prop="$ctrl.liveChatAndTalkSettings.phoneCallHoverText" disabled-field="!$ctrl.IsPhoneOnlyMode()"></text-control-design> <checkbox-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.WINDOW_POPOUT" prop="$ctrl.liveChatAndTalkSettings.windowPopout" mc-disabled="$ctrl.IsPhoneOnlyMode()"></checkbox-control-design> <checkbox-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.WINDOW_LOAD_START_MINIMIZED" prop="$ctrl.liveChatAndTalkSettings.windowStartMinimized" mc-disabled="$ctrl.IsPhoneOnlyMode()"></checkbox-control-design> <checkbox-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.ENABLE_POWERED_BY" prop="$ctrl.liveChatAndTalkSettings.enablePoweredby" mc-disabled="$ctrl.IsPhoneOnlyMode()"></checkbox-control-design> <div class="form-group"> <label class="control-label" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.STYLE_MINIMIZED">Window Style</label> <select class="form-control" ng-model="$ctrl.liveChatAndTalkSettings.styleWhenMinimized" ng-disabled="$ctrl.IsPhoneOnlyMode()"> <option value="bubble" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.STYLE_MINIMIZED_OPTIONS.BUBBLE">Bubble</option> <option value="tab" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.STYLE_MINIMIZED_OPTIONS.TAB">Tab</option> </select> </div> </div> </uib-accordion> <uib-accordion close-others="oneAtATime"> <div uib-accordion-group="" is-open="$ctrl.isWindowStyleSectionOpen" class="panel-default"> <uib-accordion-heading> <span translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.WINDOW_STYLE"></span> <i class="pull-right fa fa-angle-right" ng-class="{\'fa-angle-down\': $ctrl.isWindowStyleSectionOpen, \'fa-angle-right\': !$ctrl.isWindowStyleSectionOpen}"></i> </uib-accordion-heading> <div class="form-group"> <label class="control-label" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.POSITION">Position</label> <select class="form-control" ng-model="$ctrl.liveChatAndTalkSettings.position" name="position" ng-disabled="false"> <option value="bottomRight" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.POSITION_OPTIONS.BOTTOM_RIGHT">Bottom Right</option> <option value="bottomLeft" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.POSITION_OPTIONS.BOTTOM_LEFT">Bottom Left</option> </select> </div> <div class="form-group"> <label class="control-label" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.ANIMATION_STYLE">Animation Style</label> <select class="form-control" ng-model="$ctrl.liveChatAndTalkSettings.animationStyle"> <option value="none" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.ANIMATION_STYLE_OPTIONS.NONE">None</option> <option value="fadeIn" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.ANIMATION_STYLE_OPTIONS.FADE_IN">Fade In</option> <option value="slideLeft" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.ANIMATION_STYLE_OPTIONS.SLIDE_LEFT">Slide Left</option> <option value="slideUp" translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.ANIMATION_STYLE_OPTIONS.SLIDE_UP">Slide Up</option> </select> </div> <color-picker-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.PRIMARY_COLOR" prop="$ctrl.liveChatAndTalkSettings.primaryColor">Primary color</color-picker-control-design> <color-picker-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.SECONDARY_COLOR" prop="$ctrl.liveChatAndTalkSettings.secondaryColor">Secondary color</color-picker-control-design> <text-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.WINDOW_HEIGHT" prop="$ctrl.liveChatAndTalkSettings.windowHeight" disabled-field="$ctrl.IsPhoneOnlyMode()" maxlength="4">Window Height(px)</text-control-design> <div class="errors" ng-if="$ctrl.windowHeightError"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.INVALID_NUMBER">Invalid Number</span> </li> </ul> </div> <text-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.WINDOW_WIDTH" prop="$ctrl.liveChatAndTalkSettings.windowWidth" disabled-field="$ctrl.IsPhoneOnlyMode()" maxlength="4">Window Width(px)</text-control-design> <div class="errors" ng-if="$ctrl.windowWidthError"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.INVALID_NUMBER">Invalid Number</span> </li> </ul> </div> </div> </uib-accordion> <uib-accordion close-others="oneAtATime"> <div uib-accordion-group="" is-open="$ctrl.isConnectSectionOpen" class="panel-default"> <uib-accordion-heading> <span translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.CONNECT"></span> <i class="pull-right fa fa-angle-right" ng-class="{\'fa-angle-down\': $ctrl.isConnectSectionOpen, \'fa-angle-right\': !$ctrl.isConnectSectionOpen}"></i> </uib-accordion-heading> <text-control-design maxlength="500" mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.FACEBOOK_URL" prop="$ctrl.liveChatAndTalkSettings.facebookIntegrationUrl" disabled-field="$ctrl.IsPhoneOnlyMode()" maxlength="200"></text-control-design> <div class="errors" ng-if="$ctrl.facebookIntegrationUrlError"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.INVALID_URL">Invalid Url</span> </li> </ul> </div> <text-control-design maxlength="500" mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.TWITTER_URL" prop="$ctrl.liveChatAndTalkSettings.twitterIntegrationUrl" disabled-field="$ctrl.IsPhoneOnlyMode()" maxlength="200"></text-control-design> <div class="errors" ng-if="$ctrl.twitterIntegrationUrlError"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.INVALID_URL">Invalid Url</span> </li> </ul> </div> <text-control-design mc-title="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.EMAIL_URL" prop="$ctrl.liveChatAndTalkSettings.emailIntegrationUrl" disabled-field="$ctrl.IsPhoneOnlyMode()" maxlength="100"></text-control-design> <div class="errors" ng-if="$ctrl.emailIntegrationUrlError"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> <span translate="SETTINGS.WORDPRESS.WEBSITE_CODE_GENERATOR_TAB.INVALID_EMAIL">Invalid Email</span> </li> </ul> </div> </div> </uib-accordion> <div style="text-align:right"> <button class="btn btn-default" ng-click="$ctrl.onResetClick()" translate="REPOS.BUTTONS.RESET_TO_DEFAULT_BTN" type="button"> <i class="halflings halflings-refresh"></i> Reset to Default </button> <button class="btn btn-default" ng-click="$ctrl.onGenerateClick()" translate="REPOS.BUTTONS.GENERATE_TOKEN_BTN" type="button"> <i class="halflings halflings-cog"></i>Generate </button> </div> '
          ),
      ]);
      var Mv = w(57660);
      function fi(t) {
        return (0, Mv.l)(t, !0, !0);
      }
      u.module("app").directive("multipleEmails", function () {
        return {
          require: "ngModel",
          link(t, c, e, n) {
            n.$parsers.unshift(function (i) {
              let a = !0;
              return (
                "" !== i && (a = !i.split(",").some((s) => !fi(s))),
                n.$setValidity("multipleEmails", a),
                i
              );
            });
          },
        };
      });
      let wv = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$scope = e),
              (this.$uibModal = n),
              (this.$http = i),
              (this.MessageBoxSvc = a),
              (this.liveChatAndTalkSettings = {}),
              (this.partyRequiredError = !1),
              (this.operatorImageUrlError = !1),
              (this.windowIconUrlError = !1),
              (this.windowHeightError = !1),
              (this.windowWidthError = !1),
              (this.facebookIntegrationUrlError = !1),
              (this.twitterIntegrationUrlError = !1),
              (this.emailIntegrationUrlError = !1),
              (this.isSetupAndAuthenticationSectionOpen = !1),
              (this.isApplicationFeaturesSectionOpen = !1),
              (this.isWindowOptionsSectionOpen = !1),
              (this.isWindowStyleSectionOpen = !1),
              (this.isConnectSectionOpen = !1);
          }
          getCallUsUrl() {
            return this.phoneSystemUrl + "callus.js";
          }
          static get positionBottomRight() {
            return "position: fixed; bottom: 8px; right: 8px; z-index: 99999;";
          }
          static get positionBottomLeft() {
            return "position: fixed; bottom: 8px; left: 8px; z-index: 99999;";
          }
          static get primaryColorDefault() {
            return "#007bc7";
          }
          static get secondaryColorDefault() {
            return "#ffffff";
          }
          get defaultCallUsProperties() {
            return {
              phoneSystemUrl: this.phoneSystemUrl,
              party: "",
              mode: "chatAndPhone",
              allowVideo: !1,
              authentication: "none",
              authenticationMessage: "",
              unavailableMessage: "",
              welcomeMessage: "Hello! How can I help you?",
              phoneCallHoverText: "Call Us",
              operatorName: "Support",
              operatorImage: "",
              enableSoundNotifications: !1,
              showTypingIndicator: !0,
              autoFocus: !0,
              ignoreOwnership: !1,
              enabledOnMobile: !0,
              windowTitle: "Contact Us",
              windowPopout: !0,
              windowIcon: "",
              windowStartMinimized: !1,
              position: "bottomRight",
              primaryColor: t.primaryColorDefault,
              secondaryColor: t.secondaryColorDefault,
              windowHeight: "470",
              windowWidth: "250",
              styleWhenMinimized: "bubble",
              enablePoweredby: !1,
              facebookIntegrationUrl: "",
              twitterIntegrationUrl: "",
              emailIntegrationUrl: "",
              animationStyle: "none",
              showOperatorActualName: !1,
              showOperatorActualImage: !1,
            };
          }
          $onInit() {
            this.$http
              .getApi("api/IntegrateLiveChatAndTalk")
              .then((e) => {
                (this.phoneSystemUrl = e.data.PhoneSystemUrl),
                  (this.dnsWithFriendlyName = e.data.DNsWithFriendlyName);
              })
              .finally(() => {
                this.loadSettingsFromLocalStorage();
              })
              .catch(() => u.noop()),
              this.$scope.$watch(
                "$ctrl.liveChatAndTalkSettings",
                () => this.saveSettingsToLocalStorage(),
                !0
              ),
              this.$scope.$watch(
                "$ctrl.liveChatAndTalkSettings.mode",
                () => this.changeCallMode(),
                !0
              );
          }
          GenerateScriptCode() {
            let e = "";
            const n =
                "bottomLeft" == this.liveChatAndTalkSettings.position
                  ? t.positionBottomLeft
                  : t.positionBottomRight,
              i = this.liveChatAndTalkSettings.primaryColor
                ? "--call-us-form-header-background:" +
                  this.liveChatAndTalkSettings.primaryColor +
                  ";"
                : "",
              a = this.liveChatAndTalkSettings.secondaryColor
                ? "--call-us-header-text-color:" +
                  this.liveChatAndTalkSettings.secondaryColor +
                  ";"
                : "";
            return (
              this.IsPhoneOnlyMode()
                ? (e +=
                    '<call-us-phone \n    style="' +
                    n +
                    i +
                    a +
                    '"\n    phonesystem-url="' +
                    this.phoneSystemUrl +
                    '"\n    party="' +
                    this.liveChatAndTalkSettings.party +
                    '"\n    call-title="' +
                    this.liveChatAndTalkSettings.phoneCallHoverText +
                    '"\n    enable-onmobile="' +
                    !!this.liveChatAndTalkSettings.enabledOnMobile +
                    '"\n    animation-style="' +
                    this.liveChatAndTalkSettings.animationStyle +
                    '">\n</call-us-phone>')
                : (e +=
                    '<call-us \n    style="' +
                    n +
                    i +
                    a +
                    (this.liveChatAndTalkSettings.windowHeight
                      ? "--call-us-form-height:" +
                        this.liveChatAndTalkSettings.windowHeight +
                        "px;"
                      : "") +
                    (this.liveChatAndTalkSettings.windowWidth
                      ? "--call-us-form-width:" +
                        this.liveChatAndTalkSettings.windowWidth +
                        "px;"
                      : "") +
                    '"\n    phonesystem-url="' +
                    this.phoneSystemUrl +
                    '"\n    party="' +
                    this.liveChatAndTalkSettings.party +
                    '"\n    allow-call="' +
                    this.IsChatAndTalkMode() +
                    '"\n    allow-video="' +
                    this.liveChatAndTalkSettings.allowVideo +
                    '"\n    authentication="' +
                    this.liveChatAndTalkSettings.authentication +
                    '"\n' +
                    (this.liveChatAndTalkSettings.authenticationMessage
                      ? '    authentication-message= "' +
                        this.liveChatAndTalkSettings.authenticationMessage +
                        '"\n'
                      : "") +
                    (this.liveChatAndTalkSettings.unavailableMessage
                      ? '    unavailable-message= "' +
                        this.liveChatAndTalkSettings.unavailableMessage +
                        '"\n'
                      : "") +
                    (this.liveChatAndTalkSettings.welcomeMessage
                      ? '    invite-message= "' +
                        this.liveChatAndTalkSettings.welcomeMessage +
                        '"\n'
                      : "") +
                    (this.liveChatAndTalkSettings.operatorName
                      ? '    operator-name="' +
                        this.liveChatAndTalkSettings.operatorName +
                        '"\n'
                      : "") +
                    (this.liveChatAndTalkSettings.operatorImage
                      ? '    operator-icon="' +
                        this.liveChatAndTalkSettings.operatorImage +
                        '"\n'
                      : "") +
                    (this.liveChatAndTalkSettings.facebookIntegrationUrl
                      ? '    facebook-integration-url="' +
                        this.liveChatAndTalkSettings.facebookIntegrationUrl +
                        '"\n'
                      : "") +
                    (this.liveChatAndTalkSettings.twitterIntegrationUrl
                      ? '    twitter-integration-url="' +
                        this.liveChatAndTalkSettings.twitterIntegrationUrl +
                        '"\n'
                      : "") +
                    (this.liveChatAndTalkSettings.emailIntegrationUrl
                      ? '    email-integration-url="' +
                        this.liveChatAndTalkSettings.emailIntegrationUrl +
                        '"\n'
                      : "") +
                    '    allow-soundnotifications="' +
                    !!this.liveChatAndTalkSettings.enableSoundNotifications +
                    '"\n    enable-poweredby="' +
                    !!this.liveChatAndTalkSettings.enablePoweredby +
                    '"\n    ignore-queueownership="' +
                    !!this.IsChatAndTalkIgnoreQueueOwnershipMode() +
                    '"\n    show-typing-indicator="' +
                    !!this.liveChatAndTalkSettings.showTypingIndicator +
                    '"\n    auto-focus="' +
                    !!this.liveChatAndTalkSettings.autoFocus +
                    '"\n    enable-onmobile="' +
                    !!this.liveChatAndTalkSettings.enabledOnMobile +
                    '"\n    popout="' +
                    !!this.liveChatAndTalkSettings.windowPopout +
                    '"\n' +
                    (this.liveChatAndTalkSettings.windowTitle
                      ? '    window-title="' +
                        this.liveChatAndTalkSettings.windowTitle +
                        '"\n'
                      : "") +
                    (this.liveChatAndTalkSettings.windowIcon
                      ? '    window-icon="' +
                        this.liveChatAndTalkSettings.windowIcon +
                        '"\n'
                      : "") +
                    '    show-operator-actual-name="' +
                    !!this.liveChatAndTalkSettings.showOperatorActualName +
                    '"\n    show-operator-actual-image="' +
                    !!this.liveChatAndTalkSettings.showOperatorActualImage +
                    '"\n    animation-style="' +
                    this.liveChatAndTalkSettings.animationStyle +
                    '"\n    minimized="' +
                    !!this.liveChatAndTalkSettings.windowStartMinimized +
                    '"\n    minimized-style="' +
                    this.liveChatAndTalkSettings.styleWhenMinimized +
                    '">\n</call-us>'),
              (e +=
                '\n<script src="' +
                this.getCallUsUrl() +
                '" charset="utf-8"></script>'),
              e
            );
          }
          onGenerateClick() {
            if (this.HasInvalidFields())
              return void this.OpenSectionsWithInvalidFields();
            const e = this.GenerateScriptCode();
            this.$uibModal.open({
              size: "lg",
              backdrop: "static",
              component: "showGeneratedScript",
              resolve: { item: () => e },
              keyboard: !0,
            });
          }
          HasInvalidFields() {
            return (
              (this.partyRequiredError = !1),
              (this.operatorImageUrlError = !1),
              (this.windowIconUrlError = !1),
              (this.windowHeightError = !1),
              (this.windowWidthError = !1),
              (this.facebookIntegrationUrlError = !1),
              (this.twitterIntegrationUrlError = !1),
              (this.emailIntegrationUrlError = !1),
              this.IsPhoneOnlyMode()
                ? (this.partyRequiredError =
                    !this.liveChatAndTalkSettings.party)
                : ((this.partyRequiredError =
                    !this.liveChatAndTalkSettings.party),
                  (this.operatorImageUrlError = !t.IsValidUrl(
                    this.liveChatAndTalkSettings.operatorImage
                  )),
                  (this.facebookIntegrationUrlError =
                    !t.IsValidUrl(
                      this.liveChatAndTalkSettings.facebookIntegrationUrl
                    ) ||
                    !t.IsValidFacebookUrl(
                      this.liveChatAndTalkSettings.facebookIntegrationUrl
                    )),
                  (this.twitterIntegrationUrlError =
                    !t.IsValidUrl(
                      this.liveChatAndTalkSettings.twitterIntegrationUrl
                    ) ||
                    !t.IsValidTwitterUrl(
                      this.liveChatAndTalkSettings.twitterIntegrationUrl
                    )),
                  (this.emailIntegrationUrlError = !fi(
                    this.liveChatAndTalkSettings.emailIntegrationUrl
                  )),
                  (this.windowIconUrlError = !t.IsValidUrl(
                    this.liveChatAndTalkSettings.windowIcon
                  )),
                  (this.windowHeightError = !t.IsValidPositiveNumber(
                    this.liveChatAndTalkSettings.windowHeight
                  )),
                  (this.windowWidthError = !t.IsValidPositiveNumber(
                    this.liveChatAndTalkSettings.windowWidth
                  ))),
              this.partyRequiredError ||
                this.operatorImageUrlError ||
                this.windowIconUrlError ||
                this.windowHeightError ||
                this.windowWidthError ||
                this.facebookIntegrationUrlError ||
                this.twitterIntegrationUrlError ||
                this.emailIntegrationUrlError
            );
          }
          static IsValidUrl(e) {
            return (
              !e ||
              /^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9.-]+([-.]{1}[a-z0-9]+)*[a-z]{2,5}(:[0-9]{1,5})?(\/[a-zA-Z0-9-._~:/?#@!$&*=;+%()']*)?$/i.test(
                e
              )
            );
          }
          static IsValidFacebookUrl(e) {
            return !e || /^(https?:\/\/)?((w{3}\.)?)facebook.com\/.*/i.test(e);
          }
          static IsValidTwitterUrl(e) {
            return !e || /^(https?:\/\/)?((w{3}\.)?)twitter.com\/.*/i.test(e);
          }
          static IsValidPositiveNumber(e) {
            const n = Number(e);
            return !e || (n !== 1 / 0 && n >= 0);
          }
          OpenSectionsWithInvalidFields() {
            (this.isSetupAndAuthenticationSectionOpen =
              this.partyRequiredError),
              (this.isWindowOptionsSectionOpen =
                this.operatorImageUrlError || this.windowIconUrlError),
              (this.isWindowStyleSectionOpen =
                this.windowHeightError || this.windowWidthError),
              (this.isConnectSectionOpen =
                this.facebookIntegrationUrlError ||
                this.twitterIntegrationUrlError ||
                this.emailIntegrationUrlError);
          }
          IsPhoneOnlyMode() {
            return "phoneOnly" === this.liveChatAndTalkSettings.mode;
          }
          IsChatAndTalkMode() {
            return "chatAndPhone" === this.liveChatAndTalkSettings.mode;
          }
          IsChatOnlyMode() {
            return "chatOnly" === this.liveChatAndTalkSettings.mode;
          }
          IsChatAndTalkIgnoreQueueOwnershipMode() {
            return "bothignoreownership" === this.liveChatAndTalkSettings.mode;
          }
          HasAnyFriendlyNameSpecified() {
            return (
              this.dnsWithFriendlyName && this.dnsWithFriendlyName.length > 0
            );
          }
          changeCallMode() {
            this.IsChatOnlyMode() &&
              (this.liveChatAndTalkSettings.allowVideo = !1);
          }
          onResetClick() {
            this.MessageBoxSvc.confirmDialog(
              "REPOS.CONFIRMATION.HEADER",
              "REPOS.TEXT.ARE_YOU_SURE_RESET_SETTINGS"
            )
              .then(() => {
                (this.liveChatAndTalkSettings = this.defaultCallUsProperties),
                  localStorage.setItem(
                    "liveChatAndTalkSettings",
                    JSON.stringify(this.liveChatAndTalkSettings)
                  );
              })
              .catch(() => u.noop());
          }
          saveSettingsToLocalStorage() {
            u.equals(this.liveChatAndTalkSettings, {}) ||
              localStorage.setItem(
                "liveChatAndTalkSettings",
                JSON.stringify(this.liveChatAndTalkSettings)
              );
          }
          loadSettingsFromLocalStorage() {
            const e = localStorage.getItem("liveChatAndTalkSettings");
            null !== e
              ? ((this.liveChatAndTalkSettings = JSON.parse(e)),
                "chatAndPhone" === this.liveChatAndTalkSettings.mode &&
                  this.liveChatAndTalkSettings.ignoreOwnership &&
                  (this.liveChatAndTalkSettings.mode = "bothignoreownership"),
                this.dnsWithFriendlyName.some(
                  (i) =>
                    i.LiveChatAndTalkFriendlyName ==
                    this.liveChatAndTalkSettings.party
                ) || (this.liveChatAndTalkSettings.party = ""))
              : (this.liveChatAndTalkSettings = this.defaultCallUsProperties);
          }
        }
        return (
          (t.$inject = ["$scope", "$uibModal", "$http", "MessageBoxSvc"]), t
        );
      })();
      u.module("app").component("integrateLiveChatAndTalk", {
        controller: wv,
        templateUrl:
          "js/app/settings/wordpress/integrate-live-chat-and-talk.component.html",
      });
      let Pv = (() => {
        class t {
          constructor(e, n) {
            (this.$http = e), (this.$state = n);
          }
          editCrmSetting() {
            return this.editSetting(
              "api/CrmList/CrmSettings",
              "app.settings.crm.server"
            );
          }
          editSetting(e, n, i) {
            return this.$http.edit(e).then((a) => {
              this.$state.go(n, {
                Id: a.data.Id,
                ActiveObject: a.data.ActiveObject,
                BackState: i,
              });
            });
          }
          NewHoliday() {
            return this.$http.edit("api/Settings/NewHoliday");
          }
          onCDRSettingsClick() {
            this.editSetting(
              "api/Settings/CDRSettings",
              "app.settings.cdr",
              "app.menu.reporting"
            ).catch(() => u.noop());
          }
          onFaxSettingsClick() {
            this.editSetting(
              "api/Settings/Fax",
              "app.settings.fax",
              "app.menu.advanced"
            ).catch(() => u.noop());
          }
          onAdminCredentialsClick() {
            this.editSetting(
              "api/Settings/AdminCredentials",
              "app.settings.security.credentials",
              "app.menu.security"
            ).catch(() => u.noop());
          }
          onAllowedCountryCodesClick() {
            this.editSetting(
              "api/Settings/AllowedCountryCodes",
              "app.settings.security.allowed_country_codes",
              "app.menu.security"
            ).catch(() => u.noop());
          }
          onAntiHackingClick() {
            this.editSetting(
              "api/Settings/AntiHacking",
              "app.settings.security.anti_hacking",
              "app.menu.security"
            ).catch(() => u.noop());
          }
          onConsoleRestrictionsClick() {
            this.editSetting(
              "api/Settings/ConsoleRestrictions",
              "app.settings.security.console_restrictions",
              "app.menu.security"
            ).catch(() => u.noop());
          }
          onSecureSipClick() {
            this.editSetting(
              "api/Settings/SecureSip",
              "app.settings.security.secure_sip",
              "app.menu.security"
            ).catch(() => u.noop());
          }
          onTunnelClick() {
            this.editSetting(
              "api/Settings/Tunnel",
              "app.settings.security.tunnel",
              "app.menu.security"
            ).catch(() => u.noop());
          }
        }
        return (t.$inject = ["$http", "$state"]), t;
      })();
      u.module("app").service("SettingsSvc", Pv);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/system_prompts/system-prompts.component.html",
            '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SETTINGS.SYSTEM_PROMPTS.TITLE">System Prompts Settings</label> <help-button url="{{\'LINKS.SETTINGS_SYSTEM_PROMPTS_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel-heading" ng-if="($ctrl.updatesCategory.items | outOfDateCount) == 0"> {{\'SETTINGS.SYSTEM_PROMPTS.UPDATES\' | translate }} ({{ \'SYSTEM_STATUS.SECTIONS.UPDATES.UP_TO_DATE\' | translate}}) </div> <uib-accordion close-others="oneAtATime" ng-if="($ctrl.updatesCategory.items | outOfDateCount) > 0"> <div uib-accordion-group="" is-open="$ctrl.updatesCategory.isOpen" class="panel-default"> <uib-accordion-heading> <span translate="SETTINGS.SYSTEM_PROMPTS.UPDATES"></span> <span> ({{$ctrl.updatesCategory.items | outOfDateCount}}) </span> <i class="pull-right fa fa-angle-right" ng-class="{\'fa-angle-down\': $ctrl.updatesCategory.isOpen, \'fa-angle-right\': !$ctrl.updatesCategory.isOpen}"></i> </uib-accordion-heading> <category-update-control category="$ctrl.updatesCategory" callback="$ctrl.onPerformedUpdate(resp)"></category-update-control> </div> </uib-accordion> <div class="panel panel-default"> <input id="fileInput" name="fileInput" type="file" class="hide"> <div class="panel-heading" translate="SETTINGS.SYSTEM_PROMPTS.SYSTEM_PROMPTS">System Prompts</div> <div class="panel-body" sticky-to-top=""> <button ng-click="$ctrl.onDownloadClick()" ng-disabled="!isAnySelected" type="button" class="btn btn-sm btn-default" translate="REPOS.BUTTONS.DOWNLOAD_BTN" id="btnDownload"><i class="halflings halflings-download"></i> Download</button> <button ng-click="$ctrl.onPlayOnPhoneClick()" ng-disabled="!isAnySelected" type="button" class="btn btn-sm btn-default" translate="REPOS.BUTTONS.PLAY_BY_PHONE_BTN" id="btnPlayByPhone"><i class="halflings halflings-phone"></i> Play by Phone</button> <button ng-click="$ctrl.onRecordClick()" ng-disabled="!isAnySelected || $ctrl.isStandartEnglishPromptsSet" type="button" class="btn btn-sm btn-default" translate="SETTINGS.SYSTEM_PROMPTS.LIST_BUTTONS.RECORD_BY_PHONE_BTN"><i class="halflings halflings-record"></i> Record by Phone</button> <button ng-click="$ctrl.onUploadPromptClick()" type="button" class="btn btn-sm btn-default" ng-disabled="!isAnySelected || $ctrl.isStandartEnglishPromptsSet" translate="REPOS.BUTTONS.BROWSE_BTN" id="btnBrowse"><i class="halflings halflings-folder-open"></i> Browse</button> <button type="button" ng-click="$ctrl.onManageClick()" class="btn btn-sm btn-default" translate="SETTINGS.SYSTEM_PROMPTS.LIST_BUTTONS.MANAGE_PROMPTSETS_BTN"><i class="halflings halflings-tasks"></i> Manage Promptsets</button> </div> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped"> <thead> <tr> <th st-sort="PromptId" translate="SETTINGS.SYSTEM_PROMPTS.TBL_HEADING_PROMPT_ID">Prompt ID</th> <th st-sort="File" translate="SETTINGS.SYSTEM_PROMPTS.TBL_HEADING_FILE">File</th> <th class="col-responsive" st-sort="Description" translate="SETTINGS.SYSTEM_PROMPTS.TBL_HEADING_DESCRIPTION">Description</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="row in displayedItems" st-select-row="row" st-select-mode="single" ng-click="onItemClick(row)"> <td>{{row.PromptId}}</td> <td>{{row.File}}</td> <td class="col-responsive" ng-bind-html="row.Description"></td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </div> </div> </div> </div> '
          ),
      ]);
      let kv = (() => {
        class t {
          constructor(e, n, i, a, l, s, r, o, p) {
            (this.$scope = e),
              (this.$http = n),
              (this.$window = i),
              (this.$uibModal = a),
              (this.$element = l),
              (this.extensionSelectService = r),
              (this.updatesService = o),
              (this.MessageBoxSvc = p),
              (this.updatesCategory = { items: [] }),
              (this.promptSets = []),
              (this.service =
                s.BaseCollectionServiceMethods("SystemPromptList")),
              s.initCollectionController(e, this.service, {
                refresh: () => this.refresh(),
              });
          }
          $onInit() {
            const e = this.$element.find("input[type=file]")[0];
            z()(e).change(() => {
              const n = new FormData();
              n.append("fileInput", e.files[0]),
                n.append(
                  "promptId",
                  this.$scope.getSelectedItems()[0].PromptId
                ),
                this.$http.postFormData("api/SystemPromptList/upload", n).then(
                  function () {},
                  function () {}
                );
            }),
              this.refresh();
          }
          refresh() {
            this.service
              .getAll()
              .then((e) => {
                this.$scope.setItems(e.data.list, !1),
                  (this.isStandartEnglishPromptsSet =
                    "Standard English Prompts Set" == e.data.name);
              })
              .catch(() => u.noop()),
              this.$http
                .get("api/SystemPromptList/promptSets")
                .then((e) => {
                  this.promptSets = e.data.list;
                  for (const n of this.promptSets)
                    if (n.Active) {
                      this.activePromptSet = n;
                      break;
                    }
                })
                .catch(() => u.noop()),
              this.refreshUpdates();
          }
          refreshUpdates() {
            this.updatesService.getPromptSetUpdates().subscribe({
              next: (e) => {
                this.updatesCategory = this.parseUpdates(e);
              },
              error: () => {},
            });
          }
          onPerformedUpdate() {
            this.refresh();
          }
          onPlayOnPhoneClick() {
            this.extensionSelectService
              .showPlayOnPhoneModal(this.$scope.extension)
              .then((e) => {
                const n = this.$scope.getSelectedItems()[0].PromptId;
                return this.$http.postApi("api/SystemPromptList/play", {
                  ExtId: e,
                  PromptId: n,
                });
              });
          }
          parseUpdates(e) {
            const n = "SomeCategory";
            return {
              updateToken: e.Key,
              name: n,
              IsMaintananceExpired: e.IsMaintananceExpired,
              displayPriority: "",
              items: e.Entries,
              displayedItems: [].concat(e.Entries),
              showOnlyOutOfDate: !0,
              IsSelectAllEnabled: hn(n, e.Entries.length),
            };
          }
          onDownloadClick() {
            const e = this.$scope.getSelectedItems()[0].PromptId;
            this.$window.location.assign(
              "api/SystemPromptList/download?promptId=" + e
            );
          }
          onManageClick() {
            this.$uibModal
              .open({
                size: "md",
                component: "manageSystemPromptsDialog",
                backdrop: "static",
                resolve: {
                  promptSets: () => this.promptSets,
                  promptSet: () => this.activePromptSet,
                  updatesCategory: () => this.updatesCategory,
                },
              })
              .result.then((e) => {
                e.promptSetUpdate &&
                  (this.updatePromptSets(e.promptSetUpdate),
                  this.refreshUpdates()),
                  e.selected && this.onSetCurrentPromptsetClick(e.selected);
              })
              .catch(() => u.noop());
          }
          onRecordClick() {
            this.$uibModal
              .open({
                templateUrl:
                  "tpl/general_dialogs/recording_dialog_no_filename.html",
                backdrop: "static",
                controller: "RecordDialogCtrl",
                resolve: {
                  recordExtensionNumber: () => this.$scope.extension,
                  forbid: () => null,
                },
              })
              .result.then((e) => {
                const n = this.$scope.getSelectedItems()[0].PromptId;
                this.$http
                  .postApi("api/SystemPromptList/record", {
                    ExtId: e.recordExtensionNumber,
                    PromptId: n,
                  })
                  .catch(() => u.noop());
              })
              .catch(() => u.noop());
          }
          onSetCurrentPromptsetClick(e) {
            e != this.activePromptSet &&
              this.$http
                .postApi("api/SystemPromptList/setActivePromptSet", {
                  Name: e.Name,
                })
                .then((n) => {
                  this.$scope.setItems(n.data.list, !1),
                    (this.isStandartEnglishPromptsSet =
                      "Standard English Prompts Set" == n.data.name),
                    (this.activePromptSet = e);
                })
                .catch(() => u.noop());
          }
          updatePromptSets(e) {
            this.promptSets = e.data.PromptSets;
            for (const n of this.promptSets)
              if (n.Active) {
                this.activePromptSet = n;
                break;
              }
            this.$scope.setItems(e.data.Prompts.list, !1),
              (this.isStandartEnglishPromptsSet =
                "Standard English Prompts Set" == e.data.name);
          }
          onUploadPromptClick() {
            const e = this.$element.find("input[type=file]")[0];
            setTimeout(function () {
              z()(e).val(""), z()(e).trigger("click");
            });
          }
        }
        return (
          (t.$inject = [
            "$scope",
            "$http",
            "$window",
            "$uibModal",
            "$element",
            "MyUtilsSvc",
            "ExtensionSelectService",
            "UpdatesApiService",
            "MessageBoxSvc",
          ]),
          t
        );
      })();
      u.module("app").component("systemPromptsCtrl", {
        controller: kv,
        templateUrl:
          "js/app/settings/system_prompts/system-prompts.component.html",
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/system_prompts/dialogs/manage/manage-system-prompts.component.html",
            ' <div class="modal-header"> <button type="button" class="close" ng-click="$ctrl.dismissPromptSet()">&times;</button> <h4 class="modal-title" translate="SETTINGS.SYSTEM_PROMPTS.DIALOGS.MANAGE_PROMPTSET.MANAGE_PROMPTSET">Manage Prompt Set</h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="SETTINGS.SYSTEM_PROMPTS.DIALOGS.MANAGE_PROMPTSET.ACTIVE_PROMPTSET">Active Prompt Set</label> <div class="input-group"> <select class="form-control m-b" ng-model="$ctrl.promptSet" ng-options="ps as ps.Name for ps in $ctrl.promptSets"></select> <span class="input-group-btn"> <button class="btn btn-default" ng-click="$ctrl.onCopyCLicked($ctrl.promptSet)" translate="SETTINGS.SYSTEM_PROMPTS.DIALOGS.MANAGE_PROMPTSET.LIST_BUTTONS.COPY_BTN" type="button"> <i class="halflings halflings-inbox"></i> Copy Promptset </button> </span> <span class="input-group-btn"> <button class="btn btn-default" ng-click="$ctrl.onDeleteCurrentPromptsetClick($ctrl.promptSet)" ng-disabled="!$ctrl.promptSet.CanBeDeleted" translate="SETTINGS.SYSTEM_PROMPTS.DIALOGS.MANAGE_PROMPTSET.LIST_BUTTONS.DELETE_BTN" type="button"> <i class="halflings halflings-remove"></i> Delete Promptset </button> </span> </div> </div> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-change="$ctrl.onAlternatePronunciationChange($ctrl.promptSet, $ctrl.promptSet.UseAlternateNumberPronunciation)" ng-model="$ctrl.promptSet.UseAlternateNumberPronunciation"> <i></i> <span translate="SETTINGS.SYSTEM_PROMPTS.DIALOGS.MANAGE_PROMPTSET.USER_ALTERNATE_PRONUNCIATION">{{mcTitle}}</span></label> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="$ctrl.setPromptSet($ctrl.promptSet)" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">OK</button> <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="$ctrl.dismissPromptSet()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel</button> </div> '
          ),
      ]);
      let Gv = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$scope = e),
              (this.$http = n),
              (this.$uibModal = i),
              (this.MessageBoxSvc = a),
              (this.respondedPromptSet = void 0);
          }
          $onInit() {
            (this.promptSets = this.resolve.promptSets),
              (this.promptSet = this.resolve.promptSet),
              (this.updatesCategory = this.resolve.updatesCategory);
          }
          onCopyCLicked(e) {
            this.$uibModal
              .open({
                size: "sm",
                component: "copyPromptsDialog",
                backdrop: "static",
                resolve: {
                  promptSet: () => this.promptSet,
                  promptSets: () => this.promptSets,
                },
              })
              .result.then((n) => {
                this.$http
                  .postApi("api/SystemPromptList/copyPromptSet", {
                    Src: n.promptSet.Name,
                    Dst: n.promptCopyName,
                    UseAlternateNumberPronunciation:
                      n.useAlternateNumberPronunciation,
                  })
                  .then((i) => {
                    this.updateManagerResults(i);
                  })
                  .catch(() => u.noop());
              })
              .catch(() => u.noop());
          }
          onDeleteCurrentPromptsetClick(e) {
            this.MessageBoxSvc.confirmDialog(
              "REPOS.CONFIRMATION.HEADER",
              "REPOS.CONFIRMATION.TEXT"
            )
              .then(() => {
                this.$http
                  .postApi("api/SystemPromptList/deletePromptSet", {
                    Name: e.Name,
                  })
                  .then((n) => {
                    this.updateManagerResults(n);
                  })
                  .catch(() => u.noop());
              })
              .catch((n) => {
                console.log(n), u.noop();
              });
          }
          updateManagerResults(e) {
            (this.promptSets = e.data.PromptSets),
              (this.promptSet = this.promptSets.find((n) => n.Active)),
              (this.respondedPromptSet = e);
          }
          onAlternatePronunciationChange(e, n) {
            this.$http
              .postApi("api/SystemPromptList/setAlternatePronunciation", {
                Name: e.Name,
                Value: n,
              })
              .catch(() => u.noop());
          }
          setPromptSet(e) {
            this.close({
              $value: { selected: e, promptSetUpdate: this.respondedPromptSet },
            });
          }
          dismissPromptSet() {
            this.respondedPromptSet
              ? this.close({
                  $value: { promptSetUpdate: this.respondedPromptSet },
                })
              : this.dismiss();
          }
        }
        return (
          (t.$inject = ["$scope", "$http", "$uibModal", "MessageBoxSvc"]), t
        );
      })();
      u.module("app").component("manageSystemPromptsDialog", {
        templateUrl:
          "js/app/settings/system_prompts/dialogs/manage/manage-system-prompts.component.html",
        controller: Gv,
        bindings: { resolve: "<", close: "&", dismiss: "&" },
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/settings/system_prompts/dialogs/copy/copy-prompts.component.html",
              '<div class="modal-header"> <button type="button" class="close" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="SETTINGS.SYSTEM_PROMPTS.DIALOGS.MANAGE_PROMPTSET.CREATE_COPY_OF_PROMPTSET">Create a Copy of Prompt Set</h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="SETTINGS.SYSTEM_PROMPTS.DIALOGS.MANAGE_PROMPTSET.NAME_FOR_PROMPTSET">Name for Prompt Set</label> <input type="text" class="form-control m-b" ng-model="$ctrl.promptCopyName" maxlength="50"> </div> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="$ctrl.useAlternateNumberPronunciationCopy"> <i></i> <span translate="SETTINGS.SYSTEM_PROMPTS.DIALOGS.MANAGE_PROMPTSET.USER_ALTERNATE_PRONUNCIATION">{{mcTitle}}</span></label> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-disabled="!$ctrl.promptCopyNameValid($ctrl.promptCopyName)" ng-click="$ctrl.copy($ctrl.promptSet, $ctrl.promptCopyName, $ctrl.useAlternateNumberPronunciationCopy)">Ok</button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel</button> </div> '
            ),
        ]),
        u.module("app").component("copyPromptsDialog", {
          templateUrl:
            "js/app/settings/system_prompts/dialogs/copy/copy-prompts.component.html",
          controller: class Fv {
            constructor() {}
            $onInit() {
              (this.promptSets = this.resolve.promptSets),
                (this.promptSet = this.resolve.promptSet);
            }
            promptCopyNameValid(c) {
              if (!c) return !1;
              for (const e of this.promptSets) if (e.Name == c) return !1;
              return !0;
            }
            copy(c, e, n) {
              this.close({
                $value: {
                  promptSet: c,
                  promptCopyName: e,
                  useAlternateNumberPronunciation: n,
                },
              });
            }
          },
          bindings: { resolve: "<", close: "&", dismiss: "&" },
        });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/templates/templates.component.html",
            '<div> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SETTINGS.TEMPLATES.TITLE">Template Settings</label> <button uib-tooltip="{{getRestrictedTooltip() | translate}}" class="btn m-l-lg m-b-xs w-xs btn-success" ng-click="$ctrl.okClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button">Save </button> <button class="btn m-b-xs w-xs btn-dark" ng-click="$ctrl.cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button">Cancel </button> <help-button url="{{\'LINKS.SETTINGS_TEMPLATES_HELP_BTN\' | translate}}"></help-button> </div> <div class="panel-body"> <input id="fileInput" name="fileInput" type="file" class="hide" accept=".ph.xml"> <div class="panel panel-default"> <div class="panel-heading font-bold" translate="SETTINGS.TEMPLATES.TEMPLATE_FILES"></div> <div class="panel-body" ui-ace-lazy-load=""> <div class="m-b"> <button uib-tooltip="{{$ctrl.getRestrictedTooltip() | translate}}" type="button" ng-click="$ctrl.onUploadClick()" class="btn btn-sm btn-success" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd">Add </button> <button uib-tooltip="{{$ctrl.getRestrictedTooltip() | translate}}" type="button" ng-click="$ctrl.onCopyClick()" ng-disabled="!$ctrl.template" class="btn btn-sm btn-default" translate="REPOS.BUTTONS.COPY_BTN" id="btnCopy">Copy </button> <button uib-tooltip="{{$ctrl.getRestrictedTooltip() | translate}}" type="button" ng-click="$ctrl.onDeleteClick()" ng-disabled="!$ctrl.template.IsCustom" class="btn btn-sm btn-default" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete">Delete </button> <button uib-tooltip="{{$ctrl.getRestrictedTooltip() | translate}}" type="button" ng-click="$ctrl.onSaveClick()" ng-disabled="!$ctrl.template.IsCustom" class="btn btn-sm btn-default" translate="REPOS.BUTTONS.SAVE_CONTENT_BTN" id="btnSaveContent">Save </button> </div> <div class="errors" ng-if="$ctrl.template.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{$ctrl.template.errorMsg}} </li> </ul> </div> <div class="form-group"> <select class="form-control m-b" ng-model="$ctrl.templateName" ng-model-options="{getterSetter: true}" ng-options="item.label as item.label group by item.category for item in $ctrl.templates"> </select> </div> <div ui-ace="{mode: \'xml\', onLoad: aceLoaded, showPrintMargin: false}" mc-ace-suppress-warning="" ng-model="$ctrl.template.Value" ng-attr-readonly="{{(!$ctrl.template.IsCustom)?true:undefined}}" id="aceeditor"></div> </div> </div> </div> </div> '
          ),
      ]);
      let Yv = (() => {
        class t {
          constructor(e, n, i, a, l, s) {
            (this.$state = n),
              (this.$element = i),
              (this.$uibModal = a),
              (this.PhoneTemplatesSvc = l),
              (this.MessageBoxSvc = s),
              (this.template = {}),
              (this.licenseRestricted = !Zt(e.User));
          }
          get templateName() {
            return this._templateName;
          }
          set templateName(e) {
            (this._templateName = e),
              this.templateName &&
                this.PhoneTemplatesSvc.getTemplateByName(this.templateName)
                  .catch(() => ({ data: void 0 }))
                  .then(({ data: n }) => {
                    this.template = n;
                  });
          }
          $onInit() {
            (this.fileInput = this.$element.find("input[type=file]")[0]),
              z()(this.fileInput).change(() => {
                if (this.licenseRestricted) return;
                const e = new FormData();
                e.append("fileInput", this.fileInput.files[0]),
                  this.PhoneTemplatesSvc.uploadTemplate(e)
                    .then((n) => {
                      const { filename: i } = n.data;
                      return this.PhoneTemplatesSvc.getParsedTemplates().then(
                        (a) => {
                          this.setTemplatesList(a, i);
                        }
                      );
                    })
                    .catch(u.noop);
              }),
              this.PhoneTemplatesSvc.getParsedTemplates()
                .then((e) => {
                  this.setTemplatesList(e);
                })
                .catch(u.noop);
          }
          setTemplatesList(e, n) {
            var i;
            (this.templates = e),
              (this.templateName =
                n ||
                (null === (i = this.templates.find((a) => !a.disabled)) ||
                void 0 === i
                  ? void 0
                  : i.label));
          }
          doesTemplateExist(e) {
            return this.templates.some(
              (n) => n.label.toLowerCase() === e.toLowerCase()
            );
          }
          okClick() {
            this.licenseRestricted || this.$state.go("app.settings.general");
          }
          cancelClick() {
            this.$state.go("app.settings.general");
          }
          onUploadClick() {
            this.licenseRestricted ||
              (z()(this.fileInput).val(""),
              z()(this.fileInput).trigger("click"));
          }
          onDeleteClick() {
            this.licenseRestricted ||
              this.MessageBoxSvc.confirmDialog()
                .then(() =>
                  this.PhoneTemplatesSvc.deleteTemplate(this.template.Filename)
                )
                .then(() => this.PhoneTemplatesSvc.getParsedTemplates())
                .then((e) => this.setTemplatesList(e))
                .catch(u.noop);
          }
          onSaveClick() {
            this.licenseRestricted ||
              this.PhoneTemplatesSvc.saveTemplate(
                this.template.Filename,
                this.template.Value
              )
                .then((e) => {
                  const n = z()("#aceeditor")[0].env.editor;
                  n.gotoLine(e.data.line, e.data.position),
                    e.data.success
                      ? ((this.template.errorMsg = void 0),
                        n.getSession().clearAnnotations())
                      : (n
                          .getSession()
                          .setAnnotations([
                            {
                              row: e.data.line,
                              column: e.data.position,
                              text: e.data.message,
                              type: "error",
                            },
                          ]),
                        (this.template.errorMsg = e.data.message));
                })
                .catch(u.noop);
          }
          onCopyClick() {
            this.licenseRestricted ||
              this.$uibModal
                .open({
                  templateUrl:
                    "js/app/settings/templates/template_copy_modal.html",
                  backdrop: "static",
                  controller: [
                    "$scope",
                    "oldFilename",
                    (e, n) => {
                      (e.oldFilename = n),
                        (e.newFilenameValid = (i) => (
                          (e.invalidChars = /[^a-z0-9_.]/.test(i)),
                          !e.invalidChars &&
                            i &&
                            !this.doesTemplateExist(i + ".ph.xml")
                        ));
                    },
                  ],
                  size: "md",
                  resolve: {
                    oldFilename: () =>
                      this.template.Filename.replace(
                        /\.ph\.xml$/,
                        ""
                      ).toLowerCase(),
                  },
                })
                .result.then((e) => {
                  e &&
                    this.PhoneTemplatesSvc.copyTemplate(
                      this.template.Filename.replace(/\.ph\.xml$/, ""),
                      e
                    )
                      .then(() => this.PhoneTemplatesSvc.getParsedTemplates())
                      .then((n) => this.setTemplatesList(n, e + ".ph.xml"))
                      .catch(u.noop);
                })
                .catch(u.noop);
          }
          getRestrictedTooltip() {
            return this.licenseRestricted
              ? "REPOS.TEXT.PROFESSIONAL_REQUIRED"
              : "";
          }
        }
        return (
          (t.$inject = [
            "$rootScope",
            "$state",
            "$element",
            "$uibModal",
            "PhoneTemplatesSvc",
            "MessageBoxSvc",
          ]),
          t
        );
      })();
      u.module("app").component("templatesComponent", {
        templateUrl: "js/app/settings/templates/templates.component.html",
        controller: Yv,
      });
      const Xv = [0, 1, 2, 4],
        Lo = {
          0: "SETTINGS.TEMPLATES.PREFERRED",
          1: "SETTINGS.TEMPLATES.SUPPORTED",
          2: "SETTINGS.TEMPLATES.THIRD_PARTY",
          4: "SETTINGS.TEMPLATES.CUSTOM",
        };
      let qv = (() => {
        class t {
          constructor(e, n) {
            (this.$http = e), (this.$translate = n);
          }
          getTemplateByName(e) {
            return this.$http.getApi("api/PhoneTemplates/templateByName", {
              params: { filename: e },
            });
          }
          getPhoneTemplates() {
            return this.$http.get("api/PhoneTemplates");
          }
          copyTemplate(e, n) {
            return this.$http.postApi("api/PhoneTemplates/copy", {
              src: e,
              dst: n,
            });
          }
          uploadTemplate(e) {
            return this.$http.postFormData("api/PhoneTemplates/upload", e);
          }
          getParsedPhoneModels() {
            return this.getPhoneTemplates().then(({ data: e }) =>
              this.parsePhoneModels(e)
            );
          }
          getParsedTemplates() {
            return this.getPhoneTemplates().then(({ data: e }) =>
              this.parsePhoneTemplateFiles(e)
            );
          }
          parsePhoneModels(e) {
            return this.parseTemplateFiles(e, (n) => n.Models);
          }
          parsePhoneTemplateFiles(e) {
            return this.parseTemplateFiles(e, (n) => n.Id);
          }
          deleteTemplate(e) {
            return this.$http.postApi("api/PhoneTemplates/delete", {
              filename: e,
            });
          }
          saveTemplate(e, n) {
            return this.$http.postApi("api/PhoneTemplates/save", {
              filename: e,
              content: n,
            });
          }
          parseTemplateFiles(e, n) {
            return this.$translate(Object.values(Lo)).then((i) => {
              const a = e.reduce((l, s) => {
                if (3 === s.TemplateType) return l;
                const r = s.IsCustom ? 4 : s.TemplateType;
                return (l[r] = (l[r] || []).concat(n(s))), l;
              }, {});
              return Xv.reduce((l, s) => {
                const r = a[s];
                if (null == r || !r.length) return l;
                const o = i[Lo[s]];
                return l.concat(
                  r
                    .sort((p, f) => p.localeCompare(f))
                    .map((p) => ({ label: p, category: o }))
                );
              }, []);
            });
          }
        }
        return (t.$inject = ["$http", "$translate"]), t;
      })();
      u.module("app").service("PhoneTemplatesSvc", qv);
      const Qv = JSON.parse(
        '[{"Id":"121","_str":"-12:00 (International Date Line West)","zone":"-12:00","LinuxTimezone":"Etc/GMT-12","WindowsTimezone":"UTC+12"},{"Id":"120","_str":"-11:00 (Midway Island, Samoa)","zone":"-11:00","LinuxTimezone":"Pacific/Samoa","WindowsTimezone":"UTC-11"},{"Id":"1","_str":"-10:00 United States - Hawaii-Aleutian","zone":"-10:00","LinuxTimezone":"Pacific/Honolulu","WindowsTimezone":"Hawaiian Standard Time"},{"Id":"2","_str":"-10:00 United States - Alaska-Aleutian","zone":"-10:00","LinuxTimezone":"US/Aleutian","WindowsTimezone":"Aleutian Standard Time"},{"Id":"122","_str":"-9:30 Alaskan Standard (Marquesas Islands)","zone":"-9:30","LinuxTimezone":"Pacific/Marquesas","WindowsTimezone":"Marquesas Standard Time"},{"Id":"3","_str":"-9:00 United States - Alaska Time","zone":"-9:00","LinuxTimezone":"America/Juneau","WindowsTimezone":"Alaskan Standard Time"},{"Id":"4","_str":"-8:00 Canada (Vancouver, Whitehorse)","zone":"-8:00","LinuxTimezone":"America/Vancouver","WindowsTimezone":"Pacific Standard Time"},{"Id":"5","_str":"-8:00 Mexico (Tijuana, Mexicali)","zone":"-8:00","LinuxTimezone":"America/Tijuana","WindowsTimezone":"Pacific Standard Time (Mexico)"},{"Id":"6","_str":"-8:00 United States - Pacific Time","zone":"-8:00","LinuxTimezone":"US/Pacific","WindowsTimezone":"Pacific Standard Time"},{"Id":"7","_str":"-7:00 Canada (Edmonton, Calgary)","zone":"-7:00","LinuxTimezone":"America/Edmonton","WindowsTimezone":"Mountain Standard Time"},{"Id":"8","_str":"-7:00 Mexico (Mazatlan, Chihuahua)","zone":"-7:00","LinuxTimezone":"America/Mazatlan","WindowsTimezone":"Mountain Standard Time (Mexico)"},{"Id":"9","_str":"-7:00 United States - Mountain Time","zone":"-7:00","LinuxTimezone":"US/Mountain","WindowsTimezone":"Mountain Standard Time"},{"Id":"10","_str":"-7:00 United States - MST no DST","zone":"-7:00","LinuxTimezone":"Etc/GMT+7","WindowsTimezone":"US Mountain Standard Time"},{"Id":"11","_str":"-6:00 Canada - Manitoba (Winnipeg)","zone":"-6:00","LinuxTimezone":"America/Winnipeg","WindowsTimezone":"Central Standard Time"},{"Id":"12","_str":"-6:00 Chile (Easter Islands)","zone":"-6:00","LinuxTimezone":"Pacific/Easter","WindowsTimezone":"Easter Island Standard Time"},{"Id":"13","_str":"-6:00 Mexico (Mexico City, Acapulco)","zone":"-6:00","LinuxTimezone":"America/Mexico_City","WindowsTimezone":"Central Standard Time (Mexico)"},{"Id":"14","_str":"-6:00 United States - Central Time","zone":"-6:00","LinuxTimezone":"US/Central","WindowsTimezone":"Central Standard Time"},{"Id":"124","_str":"-6:00 Honduras (without DST)","zone":"-6:00","LinuxTimezone":"Etc/GMT+6","WindowsTimezone":"Central America Standard Time"},{"Id":"0","_str":"-5:00 United States - Eastern Time","zone":"-5:00","LinuxTimezone":"US/Eastern","WindowsTimezone":"Eastern Standard Time"},{"Id":"15","_str":"-5:00 Bahamas (Nassau)","zone":"-5:00","LinuxTimezone":"America/Nassau","WindowsTimezone":"Eastern Standard Time"},{"Id":"40","_str":"-5:00 Caicos","zone":"-5:00","LinuxTimezone":"America/Grand_Turk","WindowsTimezone":"Turks And Caicos Standard Time"},{"Id":"16","_str":"-5:00 Canada (Montreal, Ottawa, Quebec)","zone":"-5:00","LinuxTimezone":"America/Montreal","WindowsTimezone":"Eastern Standard Time"},{"Id":"17","_str":"-5:00 Cuba (Havana)","zone":"-5:00","LinuxTimezone":"America/Havana","WindowsTimezone":"Cuba Standard Time"},{"Id":"125","_str":"-5:00 Colombia, Peru, Panam\xe1, Puerto Rico (without DST)","zone":"-5:00","LinuxTimezone":"America/Panama","WindowsTimezone":"SA Pacific Standard Time"},{"Id":"18","_str":"-4:00 Venezuela (Caracas)","zone":"-4:00","LinuxTimezone":"America/Caracas","WindowsTimezone":"Venezuela Standard Time"},{"Id":"19","_str":"-4:00 Canada (Halifax, Saint John)","zone":"-4:00","LinuxTimezone":"America/Halifax","WindowsTimezone":"Atlantic Standard Time"},{"Id":"20","_str":"-4:00 Chile (Santiago)","zone":"-4:00","LinuxTimezone":"America/Santiago","WindowsTimezone":"Pacific SA Standard Time"},{"Id":"21","_str":"-4:00 Paraguay (Asunc cedilion)","zone":"-4:00","LinuxTimezone":"America/Asuncion","WindowsTimezone":"Paraguay Standard Time"},{"Id":"22","_str":"-4:00 United Kingdom - Bermuda (Bermuda)","zone":"-4:00","LinuxTimezone":"Atlantic/Bermuda","WindowsTimezone":"Atlantic Standard Time"},{"Id":"23","_str":"-4:00 United Kingdom (Falkland Islands)","zone":"-4:00","LinuxTimezone":"Atlantic/Stanley","WindowsTimezone":"SA Eastern Standard Time"},{"Id":"24","_str":"-4:00 Trinidad Tobago","zone":"-4:00","LinuxTimezone":"America/Port_of_Spain","WindowsTimezone":"Atlantic Standard Time"},{"Id":"25","_str":"-3:30 Canada - New Foundland (St. Johns)","zone":"-3:30","LinuxTimezone":"America/St_Johns","WindowsTimezone":"Newfoundland Standard Time"},{"Id":"26","_str":"-3:00 Denmark - Greenland (Nuuk)","zone":"-3:00","LinuxTimezone":"America/Godthab","WindowsTimezone":"Greenland Standard Time"},{"Id":"27","_str":"-3:00 Argentina (Buenos Aires)","zone":"-3:00","LinuxTimezone":"America/Argentina/Buenos_Aires","WindowsTimezone":"Argentina Standard Time"},{"Id":"28","_str":"-3:00 Brazil (East)","zone":"-3:00","LinuxTimezone":"America/Sao_Paulo","WindowsTimezone":"E. South America Standard Time"},{"Id":"29","_str":"-3:00 Brazil (West)","zone":"-3:00","LinuxTimezone":"America/Sao_Paulo","WindowsTimezone":"E. South America Standard Time"},{"Id":"123","_str":"-2:00 (Mid-Atlantic)","zone":"-2:00","LinuxTimezone":"Atlantic/South_Georgia","WindowsTimezone":"UTC-02"},{"Id":"30","_str":"-2:00 Brazil (no DST)","zone":"-2:00","LinuxTimezone":"America/Noronha","WindowsTimezone":"UTC-02"},{"Id":"41","_str":"-1:00 Cape Verde","zone":"-1:00","LinuxTimezone":"Atlantic/Cape_Verde","WindowsTimezone":"Cape Verde Standard Time"},{"Id":"31","_str":"-1:00 Portugal (Azores)","zone":"-1:00","LinuxTimezone":"Atlantic/Azores","WindowsTimezone":"Azores Standard Time"},{"Id":"32","_str":"0:00 Denmark - Faroe Islands (Torshaven)","zone":"0:00","LinuxTimezone":"Atlantic/Faroe","WindowsTimezone":"GMT Standard Time"},{"Id":"33","_str":"0:00 Ireland (Dublin)","zone":"0:00","LinuxTimezone":"Europe/Dublin","WindowsTimezone":"GMT Standard Time"},{"Id":"126","_str":"0:00 Atlantic/Reykjavik","zone":"0:00","LinuxTimezone":"Atlantic/Reykjavik","WindowsTimezone":"Greenwich Standard Time"},{"Id":"34","_str":"0:00 Portugal (Lisboa, Porto, Funchal)","zone":"0:00","LinuxTimezone":"Europe/Lisbon","WindowsTimezone":"GMT Standard Time"},{"Id":"35","_str":"0:00 Spain - Canary Islands (Las Palmas)","zone":"0:00","LinuxTimezone":"Atlantic/Canary","WindowsTimezone":"GMT Standard Time"},{"Id":"36","_str":"0:00 United Kingdom (London)","zone":"0:00","LinuxTimezone":"Europe/London","WindowsTimezone":"GMT Standard Time"},{"Id":"37","_str":"+1:00 Albania (Tirane)","zone":"1:00","LinuxTimezone":"Europe/Tirane","WindowsTimezone":"Central Europe Standard Time"},{"Id":"38","_str":"+1:00 Austria (Vienna)","zone":"1:00","LinuxTimezone":"Europe/Vienna","WindowsTimezone":"W. Europe Standard Time"},{"Id":"39","_str":"+1:00 Belgium (Brussels)","zone":"1:00","LinuxTimezone":"Europe/Brussels","WindowsTimezone":"Romance Standard Time"},{"Id":"42","_str":"+1:00 Croatia (Zagreb)","zone":"1:00","LinuxTimezone":"Europe/Zagreb","WindowsTimezone":"Central Europe Standard Time"},{"Id":"43","_str":"+1:00 Czech Republic (Prague)","zone":"1:00","LinuxTimezone":"Europe/Prague","WindowsTimezone":"Central Europe Standard Time"},{"Id":"44","_str":"+1:00 Denmark (Kopenhaven)","zone":"1:00","LinuxTimezone":"Europe/Copenhagen","WindowsTimezone":"Romance Standard Time"},{"Id":"45","_str":"+1:00 France (Paris)","zone":"1:00","LinuxTimezone":"Europe/Paris","WindowsTimezone":"Romance Standard Time"},{"Id":"46","_str":"+1:00 Germany (Berlin)","zone":"1:00","LinuxTimezone":"Europe/Berlin","WindowsTimezone":"W. Europe Standard Time"},{"Id":"47","_str":"+1:00 Hungary (Budapest)","zone":"1:00","LinuxTimezone":"Europe/Budapest","WindowsTimezone":"Central Europe Standard Time"},{"Id":"48","_str":"+1:00 Italy (Rome)","zone":"1:00","LinuxTimezone":"Europe/Rome","WindowsTimezone":"W. Europe Standard Time"},{"Id":"49","_str":"+1:00 Luxembourg (Luxembourg)","zone":"1:00","LinuxTimezone":"Europe/Luxembourg","WindowsTimezone":"W. Europe Standard Time"},{"Id":"50","_str":"+1:00 Makedonia (Skopje)","zone":"1:00","LinuxTimezone":"Europe/Skopje","WindowsTimezone":"Central Europe Standard Time"},{"Id":"51","_str":"+1:00 Netherlands (Amsterdam)","zone":"1:00","LinuxTimezone":"Europe/Amsterdam","WindowsTimezone":"W. Europe Standard Time"},{"Id":"52","_str":"+1:00 Namibia (Windhoek)","zone":"1:00","LinuxTimezone":"Africa/Windhoek","WindowsTimezone":"Namibia Standard Time"},{"Id":"53","_str":"+1:00 Norway (Oslo)","zone":"1:00","LinuxTimezone":"Europe/Oslo","WindowsTimezone":"W. Europe Standard Time"},{"Id":"54","_str":"+1:00 Poland (Warszawa)","zone":"1:00","LinuxTimezone":"Europe/Warsaw","WindowsTimezone":"Central European Standard Time"},{"Id":"55","_str":"+1:00 Slovak Republic (Bratislava)","zone":"1:00","LinuxTimezone":"Europe/Bratislava","WindowsTimezone":"Central Europe Standard Time"},{"Id":"56","_str":"+1:00 Spain (Madrid, Palma)","zone":"1:00","LinuxTimezone":"Europe/Madrid","WindowsTimezone":"Romance Standard Time"},{"Id":"57","_str":"+1:00 Sweden (Stockholm)","zone":"1:00","LinuxTimezone":"Europe/Stockholm","WindowsTimezone":"W. Europe Standard Time"},{"Id":"58","_str":"+1:00 Swiss (Bern)","zone":"1:00","LinuxTimezone":"Europe/Zurich","WindowsTimezone":"W. Europe Standard Time"},{"Id":"59","_str":"+1:00 United Kingdom (Gibraltar)","zone":"1:00","LinuxTimezone":"Europe/Gibraltar","WindowsTimezone":"W. Europe Standard Time"},{"Id":"60","_str":"+1:00 Serbia (Beograd)","zone":"1:00","LinuxTimezone":"Europe/Belgrade","WindowsTimezone":"Central Europe Standard Time"},{"Id":"61","_str":"+1:00 West Africa Time","zone":"1:00","LinuxTimezone":"Africa/Brazzaville","WindowsTimezone":"W. Central Africa Standard Time"},{"Id":"63","_str":"+2:00 Bulgaria (Sofia)","zone":"2:00","LinuxTimezone":"Europe/Sofia","WindowsTimezone":"FLE Standard Time"},{"Id":"64","_str":"+2:00 Cyprus (Nicosia)","zone":"2:00","LinuxTimezone":"Europe/Nicosia","WindowsTimezone":"GTB Standard Time"},{"Id":"65","_str":"+2:00 Central Africa Time","zone":"2:00","LinuxTimezone":"Africa/Kigali","WindowsTimezone":"South Africa Standard Time"},{"Id":"66","_str":"+2:00 Egypt (Cairo)","zone":"2:00","LinuxTimezone":"Africa/Cairo","WindowsTimezone":"Egypt Standard Time"},{"Id":"67","_str":"+2:00 Estonia (Tallinn)","zone":"2:00","LinuxTimezone":"Europe/Tallinn","WindowsTimezone":"FLE Standard Time"},{"Id":"68","_str":"+2:00 Finland (Helsinki)","zone":"2:00","LinuxTimezone":"Europe/Helsinki","WindowsTimezone":"FLE Standard Time"},{"Id":"69","_str":"+2:00 Gaza Strip (Gaza)","zone":"2:00","LinuxTimezone":"Asia/Gaza","WindowsTimezone":"West Bank Standard Time"},{"Id":"70","_str":"+2:00 Greece (Athens)","zone":"2:00","LinuxTimezone":"Europe/Athens","WindowsTimezone":"GTB Standard Time"},{"Id":"71","_str":"+2:00 Israel (Tel Aviv)","zone":"2:00","LinuxTimezone":"Asia/Tel_Aviv","WindowsTimezone":"Israel Standard Time"},{"Id":"72","_str":"+2:00 Jordan (Amman)","zone":"2:00","LinuxTimezone":"Asia/Amman","WindowsTimezone":"Jordan Standard Time"},{"Id":"73","_str":"+2:00 Latvia (Riga)","zone":"2:00","LinuxTimezone":"Europe/Riga","WindowsTimezone":"FLE Standard Time"},{"Id":"74","_str":"+2:00 Lebanon (Beirut)","zone":"2:00","LinuxTimezone":"Asia/Beirut","WindowsTimezone":"Middle East Standard Time"},{"Id":"75","_str":"+2:00 Moldova (Kishinev)","zone":"2:00","LinuxTimezone":"Europe/Bucharest","WindowsTimezone":"GTB Standard Time"},{"Id":"76","_str":"+2:00 Russia (Kaliningrad)","zone":"2:00","LinuxTimezone":"Europe/Kaliningrad","WindowsTimezone":"Kaliningrad Standard Time"},{"Id":"77","_str":"+2:00 Romania (Bucharest)","zone":"2:00","LinuxTimezone":"Europe/Bucharest","WindowsTimezone":"GTB Standard Time"},{"Id":"78","_str":"+2:00 Syria (Damascus)","zone":"2:00","LinuxTimezone":"Asia/Damascus","WindowsTimezone":"Syria Standard Time"},{"Id":"80","_str":"+2:00 Ukraine (Kyiv, Odessa)","zone":"2:00","LinuxTimezone":"Europe/Kiev","WindowsTimezone":"FLE Standard Time"},{"Id":"62","_str":"+3:00 Belarus (Minsk)","zone":"3:00","LinuxTimezone":"Europe/Minsk","WindowsTimezone":"Belarus Standard Time"},{"Id":"79","_str":"+3:00 Turkey (Ankara)","zone":"3:00","LinuxTimezone":"Asia/Istanbul","WindowsTimezone":"Turkey Standard Time"},{"Id":"81","_str":"+3:00 East Africa Time","zone":"3:00","LinuxTimezone":"Africa/Addis_Ababa","WindowsTimezone":"E. Africa Standard Time"},{"Id":"82","_str":"+3:00 Iraq (Baghdad)","zone":"3:00","LinuxTimezone":"Asia/Baghdad","WindowsTimezone":"Arabic Standard Time"},{"Id":"83","_str":"+3:00 Russia (Moscow)","zone":"3:00","LinuxTimezone":"Europe/Moscow","WindowsTimezone":"Russian Standard Time"},{"Id":"84","_str":"+3:30 Iran (Teheran)","zone":"3:30","LinuxTimezone":"Asia/Tehran","WindowsTimezone":"Iran Standard Time"},{"Id":"85","_str":"+4:00 Armenia (Yerevan)","zone":"4:00","LinuxTimezone":"Asia/Yerevan","WindowsTimezone":"Caucasus Standard Time"},{"Id":"86","_str":"+4:00 Azerbaijan (Baku)","zone":"4:00","LinuxTimezone":"Asia/Baku","WindowsTimezone":"Azerbaijan Standard Time"},{"Id":"87","_str":"+4:00 Georgia (Tbilisi)","zone":"4:00","LinuxTimezone":"Asia/Tbilisi","WindowsTimezone":"Georgian Standard Time"},{"Id":"88","_str":"+4:00 Kazakstan (Aqtau)","zone":"4:00","LinuxTimezone":"Asia/Aqtau","WindowsTimezone":"West Asia Standard Time"},{"Id":"89","_str":"+4:00 Russia (Samara)","zone":"4:00","LinuxTimezone":"Europe/Samara","WindowsTimezone":"Russia Time Zone 3"},{"Id":"90","_str":"+4:00 United Arab Emirates (Dubai)","zone":"4:00","LinuxTimezone":"Asia/Dubai","WindowsTimezone":"Arabian Standard Time"},{"Id":"91","_str":"+4:30 Afghanistan (Kabul)","zone":"4:30","LinuxTimezone":"Asia/Kabul","WindowsTimezone":"Afghanistan Standard Time"},{"Id":"92","_str":"+5:00 Kazakstan (Aqtobe)","zone":"5:00","LinuxTimezone":"Asia/Aqtobe","WindowsTimezone":"West Asia Standard Time"},{"Id":"93","_str":"+5:00 Kyrgyzstan (Bishkek)","zone":"5:00","LinuxTimezone":"Asia/Bishkek","WindowsTimezone":"Central Asia Standard Time"},{"Id":"94","_str":"+5:00 Pakistan (Islamabad)","zone":"5:00","LinuxTimezone":"Asia/Karachi","WindowsTimezone":"Pakistan Standard Time"},{"Id":"95","_str":"+5:00 Russia (Chelyabinsk)","zone":"5:00","LinuxTimezone":"Asia/Yekaterinburg","WindowsTimezone":"Ekaterinburg Standard Time"},{"Id":"96","_str":"+5:30 India (Calcutta)","zone":"5:30","LinuxTimezone":"Asia/Calcutta","WindowsTimezone":"India Standard Time"},{"Id":"97","_str":"+5:45 (Kathmandu)","zone":"5:45","LinuxTimezone":"Asia/Kathmandu","WindowsTimezone":"Nepal Standard Time"},{"Id":"98","_str":"+6:00 Kazakstan (Astana, Almaty)","zone":"6:00","LinuxTimezone":"Asia/Almaty","WindowsTimezone":"Central Asia Standard Time"},{"Id":"99","_str":"+6:00 Russia (Omsk)","zone":"6:00","LinuxTimezone":"Asia/Novosibirsk","WindowsTimezone":"N. Central Asia Standard Time"},{"Id":"100","_str":"+6:30 (Rangoon)","zone":"6:30","LinuxTimezone":"Asia/Rangoon","WindowsTimezone":"Myanmar Standard Time"},{"Id":"101","_str":"+7:00 Russia (Krasnoyarsk, Novosibirsk)","zone":"7:00","LinuxTimezone":"Asia/Krasnoyarsk","WindowsTimezone":"North Asia Standard Time"},{"Id":"102","_str":"+7:00 Thailand (Bangkok)","zone":"7:00","LinuxTimezone":"Asia/Bangkok","WindowsTimezone":"SE Asia Standard Time"},{"Id":"103","_str":"+8:00 China (Beijing)","zone":"8:00","LinuxTimezone":"Asia/Macao","WindowsTimezone":"China Standard Time"},{"Id":"104","_str":"+8:00 Singapore (Singapore)","zone":"8:00","LinuxTimezone":"Asia/Singapore","WindowsTimezone":"Singapore Standard Time"},{"Id":"105","_str":"+8:00 Australia (Perth)","zone":"8:00","LinuxTimezone":"Australia/Perth","WindowsTimezone":"W. Australia Standard Time"},{"Id":"106","_str":"+9:00 Korea (Seoul)","zone":"9:00","LinuxTimezone":"Asia/Seoul","WindowsTimezone":"Korea Standard Time"},{"Id":"107","_str":"+9:00 Japan (Tokyo)","zone":"9:00","LinuxTimezone":"Asia/Tokyo","WindowsTimezone":"Tokyo Standard Time"},{"Id":"108","_str":"+9:30 Australia (Adelaide)","zone":"9:30","LinuxTimezone":"Australia/Adelaide","WindowsTimezone":"Cen. Australia Standard Time"},{"Id":"109","_str":"+9:30 Australia (Darwin)","zone":"9:30","LinuxTimezone":"Australia/Darwin","WindowsTimezone":"AUS Central Standard Time"},{"Id":"110","_str":"+10:00 Australia (Sydney, Melbourne, Canberra)","zone":"10:00","LinuxTimezone":"Australia/Sydney","WindowsTimezone":"AUS Eastern Standard Time"},{"Id":"111","_str":"+10:00 Australia (Brisbane)","zone":"10:00","LinuxTimezone":"Australia/Brisbane","WindowsTimezone":"E. Australia Standard Time"},{"Id":"112","_str":"+10:00 Australia (Hobart)","zone":"10:00","LinuxTimezone":"Australia/Hobart","WindowsTimezone":"Tasmania Standard Time"},{"Id":"113","_str":"+10:00 Russia (Vladivostok)","zone":"10:00","LinuxTimezone":"Asia/Vladivostok","WindowsTimezone":"Vladivostok Standard Time"},{"Id":"114","_str":"+10:30 Australia (Lord Howe Islands)","zone":"10:30","LinuxTimezone":"Australia/Lord_Howe","WindowsTimezone":"Lord Howe Standard Time"},{"Id":"115","_str":"+11:00 New Caledonia (Noumea)","zone":"11:00","LinuxTimezone":"Pacific/Noumea","WindowsTimezone":"Central Pacific Standard Time"},{"Id":"116","_str":"+12:00 New Zealand (Wellington, Auckland)","zone":"12:00","LinuxTimezone":"Pacific/Auckland","WindowsTimezone":"New Zealand Standard Time"},{"Id":"117","_str":"+12:00 Russia (Anadyr, Kamchatka)","zone":"12:00","LinuxTimezone":"Asia/Anadyr","WindowsTimezone":"Russia Time Zone 11"},{"Id":"118","_str":"+12:45 New Zealand (Chatham Islands)","zone":"12:45","LinuxTimezone":"Pacific/Chatham","WindowsTimezone":"Chatham Islands Standard Time"},{"Id":"119","_str":"+13:00 Tonga (Nukualofa)","zone":"13:00","LinuxTimezone":"Pacific/Tongatapu","WindowsTimezone":"Tonga Standard Time"}]'
      );
      u.module("app").controller("TimeZoneCtrl", [
        "$scope",
        "MessageBoxSvc",
        "SystemServicesSvc",
        function (t, c, e) {
          const n = {
            selected: { zoneId: void 0 },
            possibleValues: [],
            value: void 0,
          };
          function i(a) {
            n.selected = n.possibleValues.find(function (l) {
              return l.zoneId === a;
            });
          }
          (n.value = function (a) {
            if (!arguments.length)
              return void 0 === n.selected ? void 0 : n.selected;
            (n.selected = a),
              t.activeObject.TimeZoneId.value(a.zoneId),
              t.activeObject.TimeZoneOffset.value(a.zoneOffset);
          }),
            t.$on("afterSave", (a, l) => {
              !l ||
                !l.OsTimezoneChanged ||
                c
                  .confirmDialog(
                    "SETTINGS.OFFICE_HOURS.RESTART_ALL_SERVICES_REQUEST_HEADER",
                    "SETTINGS.OFFICE_HOURS.RESTART_ALL_SERVICES_REQUEST",
                    "md"
                  )
                  .then(function () {
                    e.restartAllServices().catch(() => u.noop());
                  })
                  .catch(() => u.noop());
            }),
            (t.TimeZone = n),
            (t.TimeZone.possibleValues = Qv.map(function (a) {
              return { zoneId: a.Id, zoneOffset: a.zone, _str: a._str };
            })),
            void 0 !== n.selected.zoneId && i(n.selected.zoneId),
            t.$watch("activeObject", function (a) {
              void 0 !== a && i(a.TimeZoneId._value);
            });
        },
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/language-selector.component.html",
            '<div ng-class="{\'form-group\': !mcInline}"> <label ng-show="$ctrl.mcTitle != undefined && $ctrl.mcTitleParam === undefined" translate="{{::$ctrl.mcTitle}}"></label> <label ng-show="$ctrl.mcTitle != undefined && $ctrl.mcTitleParam != undefined"> {{$ctrl.mcTitle | translate : {param: $ctrl.mcTitleParam} }} </label> <select id="languageSelector" class="form-control" ng-model="$ctrl.activeObject.value" ng-model-options="{getterSetter: true}"> <option ng-repeat="lang in $ctrl.languages" value="{{lang.key}}">{{lang.label}}</option> </select> </div> '
          ),
      ]);
      const Jv = [
        { key: "EN", label: "English (US)" },
        { key: "UK", label: "English (UK)" },
        { key: "DE", label: "Deutsch" },
        { key: "FR", label: "Fran\xe7ais" },
        { key: "ES", label: "Espa\xf1ol" },
        { key: "IT", label: "Italiano" },
        { key: "PT", label: "Portugu\xeas" },
        { key: "RU", label: "\u0420\u0443\u0441\u0441\u043a\u0438\u0439" },
        { key: "PL", label: "Polski" },
        { key: "ZH", label: "\u4e2d\u6587" },
      ];
      u.module("app").component("languageSelector", {
        bindings: {
          activeObject: "=",
          mcTitle: "@",
          mcTitleParam: "@",
          mcInline: "@",
        },
        controller: class eN {
          constructor() {
            this.languages = Jv;
          }
          $onInit() {
            !this.activeObject ||
              ((void 0 === this.activeObject.value() ||
                !this.languages.some(
                  (c) => c.key === this.activeObject.value()
                )) &&
                this.activeObject.value("EN"));
          }
        },
        templateUrl: "js/app/settings/language-selector.component.html",
      });
      function sN(t, c) {
        return t.lib < c.lib ? -1 : t.lib > c.lib ? 1 : 0;
      }
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/licenses.component.html",
            '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="REPOS.BUTTONS.CREDITS"></label> </div> <div class="panel-body"> <p ng-repeat="license in $ctrl.licenseDescriptions"><a target="_blank" href="{{$ctrl.licenses[license.licenseFilename].default}}" class="dashed_link">{{license.lib}}</a></p> </div> </div> '
          ),
      ]);
      const oN = (function iN(t) {
          return t
            .keys()
            .filter((e) => e.startsWith("."))
            .map(t);
        })(w(66786)),
        lN = (function aN(t) {
          const c = {};
          return t.keys().forEach((e) => (c[e.substring(2)] = t(e))), c;
        })(w(42081));
      u.module("app").component("licenses", {
        templateUrl: "js/app/settings/licenses.component.html",
        controller: class rN {
          constructor() {
            (this.licenses = lN),
              (this.licenseDescriptions = oN
                .flatMap((c) =>
                  c.references.map((e) => ({
                    lib: e,
                    licenseFilename: c.licenseFilename,
                  }))
                )
                .sort(sN));
          }
        },
      }),
        u.module("app").controller("EmailTemplateEditCtrl", [
          "$scope",
          "$http",
          "$translate",
          "templateName",
          function (t, c, e, n) {
            (t.template = {}),
              (t.subjectTitle = e.instant(
                "SETTINGS.EMAIL.EMAIL_TEMPLATES.SUBJECT"
              )),
              (t.saveAndClose = function () {
                c.postApi("api/emailTemplate", t.template)
                  .then(function () {
                    t.$close();
                  })
                  .catch(() => u.noop());
              }),
              c
                .getApi("api/emailTemplate", { params: { templatePath: n } })
                .then(function (i) {
                  t.template = i.data;
                })
                .catch(() => u.noop());
          },
        ]),
        u.module("app").controller("SettingsWebmeetingCtrl", [function () {}]),
        u.module("app").controller("WebMeetingSettingsCtrl", [
          "$scope",
          "MessageBoxSvc",
          function (t, c) {
            (t.onBeforeSave = (n) =>
              n.ConferenceMcuServer.selected.Id ===
                this.initialConferenceMcuServerOption ||
              c.confirmDialog(
                "REPOS.CONFIRMATION.HEADER",
                "SETTINGS.CONFERENCING.SELECT_REGION_CONFIRMATION_MESSAGE",
                "md"
              )),
              (t.onObjectAssigned = (n) => {
                this.initialConferenceMcuServerOption =
                  n.ConferenceMcuServer.selected.Id;
              });
          },
        ]),
        u.module("app").controller("webmeetingSettingsVideo", [
          "$scope",
          "$rootScope",
          "$http",
          "$element",
          "$uibModal",
          "$timeout",
          "$translate",
          function (t, c, e, n, i, a, l) {
            const s = n.find("input[type=file]")[0];
            z()(s).change(function () {
              a(function () {
                !(function o(p) {
                  const f = p.files[0],
                    m = t.activeObject;
                  if (f.size > 2097152)
                    return void (m.ConferenceLogoPath.errorMsg = l.instant(
                      "WARNINGS.INVALID_IMAGE_FILE"
                    ));
                  const g = new FormData();
                  g.append("fileInput", f),
                    g.append("id", m.Id),
                    e.postFormData("api/file/uploadWebMeetingLogo", g).then(
                      function (S) {
                        (m.ConferenceLogoPath.errorMsg = void 0),
                          m.ConferenceLogoPath.value(S.data.Path);
                      },
                      function (O) {
                        m.ConferenceLogoPath.errorMsg = O.data.Message;
                      }
                    );
                })(s);
              });
            }),
              (t.CustomizeEmailTemplate = function (p) {
                return i.open({
                  size: "lg",
                  backdrop: "static",
                  templateUrl:
                    "js/app/settings/webmeeting/edit_email_template_modal.html",
                  controller: "EmailTemplateEditCtrl",
                  keyboard: !0,
                  resolve: { templateName: () => p },
                });
              }),
              (t.onUploadClick = function () {
                setTimeout(function () {
                  z()(s).val(""), z()(s).trigger("click");
                });
              }),
              (t.onDeleteClick = function () {
                t.activeObject.ConferenceLogoPath.value("");
              });
          },
        ]),
        u.module("app").controller("webmeetingSettingsAudio", [
          "$scope",
          "$rootScope",
          "$http",
          "$element",
          "$uibModal",
          function (t, c, e, n, i) {
            t.CustomizeEmailTemplate = function (a) {
              return i.open({
                size: "lg",
                backdrop: "static",
                templateUrl:
                  "js/app/settings/webmeeting/edit_email_template_modal.html",
                controller: "EmailTemplateEditCtrl",
                keyboard: !0,
                resolve: { templateName: () => a },
              });
            };
          },
        ]),
        u.module("app").controller("webmeetingSettingsEmail", [
          "$scope",
          "$rootScope",
          "$http",
          "$element",
          "$uibModal",
          function (t, c, e, n, i) {
            t.CustomizeEmailTemplate = function (a) {
              return i.open({
                size: "lg",
                backdrop: "static",
                templateUrl:
                  "js/app/settings/webmeeting/edit_email_template_modal.html",
                controller: "EmailTemplateEditCtrl",
                keyboard: !0,
                resolve: { templateName: () => a },
              });
            };
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/webmeeting/webmeeting-token.component.html",
            '<div class="form-group m-b"> <label translate="SETTINGS.WORDPRESS.APIToken">API Token</label> <div class="input-group" style="width:100%"> <form> <input class="form-control m-b" autocomplete="off" type="{{(!passwordControl.passwordCheckbox)? \'password\': \'text\'}}" ng-class="(passwordControl.passwordCheckbox) ? \'unConceal\' : \'conceal\'" maxlength="50" ng-model="apiToken" ng-model-options="{getterSetter: true, updateOn: valueChanged ? \'default\' : \'blur\'}" ng-disabled="true" ng-trim="false"> </form> <span class="input-group-btn" ng-if="!hideEye"> <button class="btn btn-default" ng-click="$ctrl.onGenerateClick()" translate="REPOS.BUTTONS.GENERATE_TOKEN_BTN" id="btnGenerateToken" type="button"> <i class="halflings halflings-upload"></i>Generate </button> <copy-to-clipboard-button mc-copied="apiToken" mc-disable="!apiToken"></copy-to-clipboard-button> <button class="btn btn-default" ng-model="passwordControl.passwordCheckbox" ng-disabled="!apiToken" title="{{\'REPOS.TEXT.VIEW\' | translate}}" ng-click="passwordControl.passwordCheckbox = !passwordControl.passwordCheckbox" type="button"> <span class="halflings halflings-eye-open"></span> </button> <button class="btn btn-default" ng-click="$ctrl.onDeleteClick()" ng-disabled="!apiToken" title="{{\'REPOS.TEXT.DELETE\' | translate}}" id="btnDeleteToken" type="button"> <span class="halflings halflings-remove"></span> </button> </span> </div> </div> '
          ),
      ]);
      const Po =
        "js/app/settings/webmeeting/webmeeting-token-show.component.html";
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            Po,
            '<div class="modal-header"> <h4 class="modal-title" translate="SYSTEM_STATUS.DIALOGS.WEBMEETING.HEADER"></h4> </div> <div class="modal-body"> <label translate="SYSTEM_STATUS.DIALOGS.WEBMEETING.TOKEN"></label> <link-to-clipboard mc-inactive="true" mc-url="$ctrl.resolve.token"></link-to-clipboard> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$ctrl.close()" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">OK</button> </div> '
          ),
      ]);
      const Ho = Po;
      u.module("app").component("tokenShowComponent", {
        templateUrl: Ho,
        bindings: { resolve: "<", close: "&", dismiss: "&" },
      });
      let hN = (() => {
        class t {
          constructor(e, n, i) {
            (this.$scope = e),
              (this.$http = n),
              (this.MessageBoxSvc = i),
              this.$http.postApi("api/webmeeting/get", {}).then((a) => {
                this.$scope.apiToken = a.data.token;
              }),
              (e.passwordControl = { passwordCheckbox: !1 });
          }
          onGenerateClick() {
            this.$http.postApi("api/webmeeting/generate", {}).then((e) => {
              e.data.result
                ? (this.$scope.apiToken = e.data.token)
                : this.MessageBoxSvc.alertBox(
                    "WARNINGS.SERVER_ERROR",
                    "API token generation failed. Reason: " + e.data.error
                  ).catch(() => u.noop());
            });
          }
          onDeleteClick() {
            this.$http.postApi("api/webmeeting/delete", {}).then((e) => {
              const n = e.data;
              n.error
                ? this.MessageBoxSvc.messageBox(
                    "SYSTEM_STATUS.DIALOGS.WEBMEETING.HEADER",
                    n.error
                  )
                : (this.$scope.apiToken = "");
            });
          }
        }
        return (t.$inject = ["$scope", "$http", "MessageBoxSvc"]), t;
      })();
      u.module("app").component("webmeetingToken", {
        templateUrl:
          "js/app/settings/webmeeting/webmeeting-token.component.html",
        controller: hN,
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/settings/webmeeting/api-token.component.html",
              '<div class="form-group m-b"> <div class="input-group" style="width:100%"> <form> <input class="form-control m-b" autocomplete="off" type="{{(!passwordControl.passwordCheckbox)? \'password\': \'text\'}}" ng-class="(passwordControl.passwordCheckbox) ? \'unConceal\' : \'conceal\'" maxlength="50" ng-model="apiToken" ng-model-options="{getterSetter: true, updateOn: valueChanged ? \'default\' : \'blur\'}" ng-disabled="true" ng-trim="false"> </form> <span class="input-group-btn" ng-if="!hideEye"> <button class="btn btn-default" ng-click="$ctrl.onGenerateClick()" translate="REPOS.BUTTONS.GENERATE_TOKEN_BTN" id="btnGenerateToken" type="button"> <i class="halflings halflings-upload"></i>Generate </button> <copy-to-clipboard-button mc-copied="apiToken" mc-disable="!apiToken"></copy-to-clipboard-button> <button class="btn btn-default" ng-model="passwordControl.passwordCheckbox" ng-disabled="!apiToken" title="{{\'REPOS.TEXT.VIEW\' | translate}}" ng-click="passwordControl.passwordCheckbox = !passwordControl.passwordCheckbox" type="button"> <span class="halflings halflings-eye-open"></span> </button> <button class="btn btn-default" ng-click="$ctrl.onDeleteClick()" ng-disabled="!apiToken" title="{{\'REPOS.TEXT.DELETE\' | translate}}" id="btnDeleteToken" type="button"> <span class="halflings halflings-remove"></span> </button> </span> </div> </div> '
            ),
        ]),
        u
          .module("app")
          .component("apiTokenShowComponent", {
            templateUrl: Ho,
            bindings: { resolve: "<", close: "&", dismiss: "&" },
          });
      let mN = (() => {
        class t {
          constructor(e, n) {
            (this.$scope = e),
              (this.$http = n),
              this.$http.postApi("api/webmeeting/getApiKey", {}).then((i) => {
                this.$scope.apiToken = i.data;
              }),
              (e.passwordControl = { passwordCheckbox: !1 });
          }
          onGenerateClick() {
            this.$http
              .postApi("api/webmeeting/generateApiKey", {})
              .then((e) => {
                e.data && (this.$scope.apiToken = e.data);
              });
          }
          onDeleteClick() {
            this.$http.postApi("api/webmeeting/deleteApiKey", {}).then((e) => {
              this.$scope.apiToken = "";
            });
          }
        }
        return (t.$inject = ["$scope", "$http"]), t;
      })();
      u.module("app").component("webmeetingApi", {
        templateUrl: "js/app/settings/webmeeting/api-token.component.html",
        controller: mN,
      });
      var Kt = w(18505);
      let TN = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$translate = e),
              (this.channelR = n),
              (this.$http = i),
              (this.$timeout = a),
              (this._status$ = new St.t(1));
          }
          $onInit() {
            this.webMeetingSyncSubscription$ = this.syncStatus$.subscribe(
              (e) => {
                this.$timeout(() => {
                  console.log(e), (this.CurrentStatus = e);
                });
              }
            );
          }
          $onDestroy() {
            this.webMeetingSyncSubscription$.unsubscribe(),
              this.branch$.unsubscribe();
          }
          RefreshClicked() {
            this.$http
              .postApi("api/Settings/refreshWebMeetingSync", {})
              .catch(() => u.noop());
          }
          get syncStatus$() {
            return (
              this.branch$ ||
                (this.branch$ = this.channelR
                  .sendBranch(
                    {
                      subName: "SubscribeWebMeetingSynch",
                      unSubName: "UnSubscribeWebMeetingSynch",
                    },
                    this.channelR.sub("SetWebmeetingSyncStatus").pipe(
                      (0, Kt.b)(([e]) => {
                        this._status$.next(e);
                      })
                    )
                  )
                  .subscribe()),
              this._status$
            );
          }
        }
        return (
          (t.$inject = ["$translate", "ChannelRSvc", "$http", "$timeout"]), t
        );
      })();
      u
        .module("app")
        .component("webMeetingSync", {
          controller: TN,
          templateUrl:
            "js/app/settings/webmeeting/webmeeting-sync.component.html",
        }),
        u.module("app").directive("adminAfterSave", [
          "AuthenticationSvc",
          (t) => ({
            controller: [
              "$scope",
              function (c) {
                c.$on("afterSave", (e, n) => {
                  t.getCurrentUser().catch(() => u.noop());
                });
              },
            ],
          }),
        ]);
      var gt = w(1396);
      function Uo(t) {
        try {
          if (!t.AccessRestricted._value) return !0;
          const c = (0, gt.parse)(t.MyIpAddress._value),
            e = c.range();
          return (
            "loopback" === e ||
            "linkLocal" === e ||
            "private" === e ||
            t.IpWhitelist._value.some((n) => {
              if ((0, gt.isValid)(n))
                return c.toString() === (0, gt.parse)(n).toString();
              const i = (0, gt.parseCIDR)(n);
              return "target" === (0, gt.subnetMatch)(c, { target: i });
            })
          );
        } catch (c) {
          return !1;
        }
      }
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/security/console-restrictions.component.html",
            '<div class="panel panel-default"> <div class="panel-heading" translate="SETTINGS.SECURITY.CONSOLE_RESTRICTIONS.TITLE"> Console Restrictions</div> <div class="panel-body"> <div class="form-group m-b-lg"> <p> <span translate="SETTINGS.SECURITY.CONSOLE_RESTRICTIONS.INFO"></span><br> </p> </div> <div class="form-group" ng-hide="$ctrl.activeObject.AccessRestricted.hide"> <div class="radio m-b-md"> <label class="i-checks"> <input type="radio" ng-model="$ctrl.activeObject.AccessRestricted.value" ng-model-options="{getterSetter: true}" value="false" convert-to-bool=""> <i></i> <span translate="SETTINGS.SECURITY.CONSOLE_RESTRICTIONS.ALLOW_ACCESS_FROM_EVERYWHERE"></span> </label> </div> <div class="radio m-b-md"> <label class="i-checks"> <input type="radio" ng-model="$ctrl.activeObject.AccessRestricted.value" ng-model-options="{getterSetter: true}" value="true" convert-to-bool=""> <i></i> <span translate="SETTINGS.SECURITY.CONSOLE_RESTRICTIONS.ALLOW_ACCESS_TO_SPECIFIC_IP_ADDRESSES"></span> </label> </div> </div> <div class="form-group" style="max-width:500px" ng-switch="$ctrl.isMyIpAddressAllowed($ctrl.activeObject)"> <div ng-switch-when="true"> <div uib-alert="" class="alert-info"> <div translate="SETTINGS.SECURITY.CONSOLE_RESTRICTIONS.CURRENT_IP_IS_ALLOWED">Your current IP address is allowed:</div> <div>{{$ctrl.activeObject.MyIpAddress._value}} ({{$ctrl.getIpRange($ctrl.activeObject.MyIpAddress._value)}})</div> </div> </div> <div ng-switch-default=""> <div uib-alert="" class="alert-danger"> <div translate="SETTINGS.SECURITY.CONSOLE_RESTRICTIONS.CURRENT_IP_IS_RESTRICTED">Your current IP address is restricted:</div> <div>{{$ctrl.activeObject.MyIpAddress._value}} ({{$ctrl.getIpRange($ctrl.activeObject.MyIpAddress._value)}})</div> </div> </div> </div> <p ng-hide="$ctrl.activeObject.IpWhitelist.hide"> <span translate="SETTINGS.SECURITY.CONSOLE_RESTRICTIONS.ENTER_IP_ADDRESSES"></span> <br> </p> <div class="form-group" style="max-width:500px" ng-hide="$ctrl.activeObject.IpWhitelist.hide"> <button type="button" ng-click="$ctrl.onAddClick()" ng-disabled="$ctrl.activeObject.AccessRestricted._value === false" class="btn btn-sm btn-success" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"><i class="halflings halflings-plus"></i> Add</button> </div> <div class="form-group"> <table class="table table-striped" style="max-width:500px"> <thead> <tr> <th translate="SETTINGS.SECURITY.CONSOLE_RESTRICTIONS.IP_MASK_HEADER">IP/mask</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="row in $ctrl.activeObject.IpWhitelist._value"> <td>{{::row}}</td> <td> <button type="button" mc-stop-event ng-click="$ctrl.deleteAddress(row)" ng-disabled="$ctrl.activeObject.AccessRestricted._value === false" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> <tr ng-repeat="row in $ctrl.additionalIp"> <td>{{::row}}</td> <td> </td> </tr> </tbody> </table> </div> </div> </div> '
          ),
      ]);
      let EN = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$scope = e),
              (this.$stateParams = n),
              (this.$state = i),
              (this.$uibModal = a),
              (this.additionalIp = [
                "10.0.0.0/8",
                "172.16.0.0/12",
                "192.168.0.0/16",
                "169.254.0.0/16",
                "fe80::/10",
              ]),
              (this.isMyIpAddressAllowed = Uo),
              e.$parent.$watch("activeObject", (l) => {
                this.activeObject = l;
              });
          }
          onAddClick() {
            this.$uibModal
              .open({
                component: "addWhiteListModal",
                size: "md",
                backdrop: "static",
                resolve: {
                  existingIp: () =>
                    this.activeObject.IpWhitelist.value().concat(
                      this.additionalIp
                    ),
                },
              })
              .result.then(
                (e) => {
                  const n = [...this.activeObject.IpWhitelist.value()];
                  n.includes(e) ||
                    this.additionalIp.includes(e) ||
                    (n.push(e), this.activeObject.IpWhitelist.value(n));
                },
                () => {}
              );
          }
          getIpRange(e) {
            try {
              return (0, gt.parse)(e).range();
            } catch (n) {
              return "unknown";
            }
          }
          deleteAddress(e) {
            const n = this.activeObject.IpWhitelist.value();
            this.activeObject.IpWhitelist.value(n.filter((i) => i != e));
          }
          $onInit() {}
        }
        return (
          (t.$inject = ["$scope", "$stateParams", "$state", "$uibModal"]), t
        );
      })();
      u
        .module("app")
        .component("consoleRestrictions", {
          controller: EN,
          templateUrl:
            "js/app/settings/security/console-restrictions.component.html",
        }),
        u.module("app").controller("SecurityCtrl", [
          "$scope",
          "MessageBoxSvc",
          "$translate",
          function (t, c, e) {
            t.onBeforeSave = (n) => {
              if (Uo(n)) return !0;
              {
                const i = e.instant(
                  "SETTINGS.SECURITY.CONSOLE_RESTRICTIONS.BLOCK_ACCESS_MESSAGE",
                  { Ip: n.MyIpAddress._value }
                );
                return c.confirmDialog(
                  "SETTINGS.SECURITY.CONSOLE_RESTRICTIONS.ATTENTION_REQUIRED",
                  i
                );
              }
            };
          },
        ]);
      var AN = w(87802),
        CN = w.n(AN);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/security/add-whitelist-modal.component.html",
            ' <form name="clientForm" id="AddWhiteListForm" novalidate role="form" autocomplete="off" mc-submit="$ctrl.saveClick()"> <div class="modal-header"> <button type="button" class="close" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.TITLE_WHITELIST">Whitelist IP or Range of IP Addresses</h4> </div> <div class="modal-body"> <div class="form-group"> <label class="w-full"> <span translate="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.SPECIFY_IP_OR_RANGE_INFO_WHITELIST">Specify an IP or range of IP addresses</span> </label> </div> <div class="form-group"> <select class="form-control" ng-model="$ctrl.isIpRange" convert-to-bool ng-change="$ctrl.paramChange()" id="isIpRange"> <option value="false" translate="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.ADD_SINGLE_IP_ADDRESS.ADD_SINGLE_IP_ADDRESS">Add single IP Address</option> <option value="true" translate="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.ADD_RANGE_IP_ADDRESSES.ADD_RANGE_IP_ADDRESSES">Add a range of IP Addresses</option> </select> </div> <div class="form-group"> <label translate="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.ADD_RANGE_IP_ADDRESSES.NETWORK_ADDRESS"></label> <input type="text" name="ipAddr" required id="ipAddr" class="form-control" placeholder="{{\'SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.ADD_RANGE_IP_ADDRESSES.NETWORK_ADDRESS\'|translate}}" ng-change="$ctrl.paramChange()" ng-model="$ctrl.ipAddr"> <div class="errors" ng-if="clientForm.$submitted"> <ul ng-messages="clientForm.ipAddr.$error"> <li ng-message="required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.INVALID_IP_MASK"></span> </li> <li ng-message="duplicate"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.IP_PRESENTS_IN_WHITELIST"></span> </li> </ul> </div> </div> <div class="form-group"> <label translate="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.ADD_RANGE_IP_ADDRESSES.SUBNET_MASK"></label> <select class="form-control" id="mask" ng-model="$ctrl.mask" ng-change="$ctrl.onMaskChange()" ng-options="$ctrl.maskLabel(mask) for mask in $ctrl.allowedMasks" ng-disabled="!$ctrl.isIpRange || $ctrl.allowedMasks.length === 0"> </select> </div> <div class="form-group"> <label translate="SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.ADD_RANGE_IP_ADDRESSES.IP_ADDRESS_RANGE"></label> <input type="text" class="form-control m-b" placeholder="{{\'SYSTEM_STATUS.DIALOGS.ADD_BLACKLIST.ADD_RANGE_IP_ADDRESSES.IP_ADDRESS_RANGE\'|translate}}" ng-model="$ctrl.ipRange" ng-disabled="true"> </div> </div> <div class="modal-footer"> <button type="submit" form="AddWhiteListForm" class="btn btn-default" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save</button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </form> '
          ),
      ]);
      let NN = (() => {
        class t {
          constructor(e, n) {
            (this.$scope = e),
              (this.$element = n),
              (this.isIpRange = !1),
              (this.ipRange = ""),
              (this.mask = ""),
              (this.allowedMasks = []);
          }
          saveClick() {
            const e = (0, gt.parse)(this.ipAddr).toString();
            this.close({ $value: this.isIpRange ? e + "/" + this.mask : e });
          }
          maskLabel(e) {
            return "/" + e;
          }
          onMaskChange() {
            if (this.ipAddr && this.mask)
              try {
                const e = this.ipAddr + "/" + this.mask,
                  n = new (CN())(e),
                  [i, a] = n.toRange();
                this.ipRange = i + " - " + a;
              } catch (e) {
                this.ipRange = "";
              }
            this.validateDuplicates();
          }
          paramChange() {
            if ((0, gt.isValid)(this.ipAddr)) {
              const e = (0, gt.parse)(this.ipAddr),
                n = /\d+\.\d+\.\d+\.\d+/;
              if ("ipv4" == e.kind() && !n.test(this.ipAddr))
                return void this.invalidateAddr();
              if (this.isIpRange) {
                let i = 0;
                const a = e
                  .toByteArray()
                  .map(
                    (l) =>
                      ((65793 *
                        (((2050 * l) & 139536) | ((32800 * l) & 558144))) >>
                        16) &
                      255
                  );
                for (const [l, s] of a.entries())
                  for (let r = 0; r < 8; ++r)
                    s & (1 << r) && (i = 8 * l + r + 1);
                (this.allowedMasks = (function vN(t, c) {
                  return new Array(c - t).fill(1).map((e, n) => n + t);
                })(i, "ipv4" === e.kind() ? 33 : 129)),
                  (this.ipRange = e.toString()),
                  (this.mask = this.allowedMasks[0]),
                  this.onMaskChange();
              } else
                (this.allowedMasks = "ipv4" === e.kind() ? ["32"] : ["128"]),
                  (this.ipRange = e.toString()),
                  (this.mask = this.allowedMasks[0]);
              this.$scope.clientForm.ipAddr.$setValidity("required", !0);
            } else
              this.$scope.clientForm.ipAddr.$setValidity("duplicate", !0),
                this.invalidateAddr();
            this.validateDuplicates();
          }
          validateDuplicates() {
            if ((0, gt.isValid)(this.ipAddr)) {
              const e = (0, gt.parse)(this.ipAddr).toString();
              this.$scope.clientForm.ipAddr.$setValidity(
                "duplicate",
                !this.resolve.existingIp.includes(
                  this.isIpRange ? e + "/" + this.mask : e
                )
              );
            } else this.$scope.clientForm.ipAddr.$setValidity("duplicate", !0);
          }
          invalidateAddr() {
            this.$scope.clientForm.ipAddr.$setValidity("required", !1),
              (this.ipRange = ""),
              (this.allowedMasks = []),
              (this.mask = "");
          }
          $onInit() {
            setTimeout(() => {
              this.$element.find("#ipAddr")[0].focus();
            });
          }
        }
        return (t.$inject = ["$scope", "$element"]), t;
      })();
      u
        .module("app")
        .component("addWhiteListModal", {
          bindings: { resolve: "<", close: "&", dismiss: "&" },
          controller: NN,
          templateUrl:
            "js/app/settings/security/add-whitelist-modal.component.html",
        }),
        u.module("app").directive("securityAfterSave", [
          "RestartSipService",
          (t) => ({
            controller: [
              "$scope",
              function (c) {
                c.$on("afterSave", (e, n) => {
                  t.processAfterSaveData(n);
                });
              },
            ],
          }),
        ]),
        u.module("app").controller("ReplaceLicenseModalEditCtrl", [
          "$scope",
          "MyUtilsSvc",
          "response",
          "$http",
          "MessageBoxSvc",
          "$translate",
          function (t, c, e, n, i, a) {
            (t.oldLicenseKey = e),
              (t.newLicenseKey = ""),
              (t.replaceError = ""),
              (t.cancelClick = function () {
                t.$dismiss("cancel");
              }),
              (t.replaceClick = function () {
                t.replaceError = "";
                const l = i.openProgressDialog(
                  "SETTINGS.LICENSE.REPLACE_LICENSE_KEY.TITLE",
                  "SETTINGS.LICENSE.REPLACE_LICENSE_KEY.REPLACING_LICENSE_KEY"
                );
                n.postApi("api/License/ReplaceLicense", {
                  NewLicenseKey: t.newLicenseKey,
                })
                  .then(function (s) {
                    if ((l.close(), !s.data.Success)) {
                      let r = s.data.Error;
                      return (
                        a.instant(r) == r && (r = "license_error.Unknown"),
                        void (t.replaceError = r)
                      );
                    }
                    t.$close(t.newLicenseKey.trim());
                  })
                  .catch(() => u.noop());
              });
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/firmware/firmware-cleanup.component.html",
            '<div class="form-group m-b form-inline" ng-if="$ctrl.report.totalSize"> <strong translate="SETTINGS.3CXPHONE.CLEANING_OPTION">Cleaning Option</strong> <div class="line line-dashed b-b line-lg"></div> <span> <span translate="SETTINGS.3CXPHONE.UNUSED_FIRMWARE_FILES"></span><span>{{$ctrl.report.totalSize|bytes}}</span> <button class="btn btn-success btn-sm" style="margin-left:5px" translate="REPOS.BUTTONS.CLEANUP" ng-click="$ctrl.cleanup()"></button> </span> </div> '
          ),
      ]);
      let xN = (() => {
        class t {
          constructor(e, n) {
            (this.$http = e),
              (this.$uibModal = n),
              (this.report = { count: 0, totalSize: 0, fileNames: [] });
          }
          $onInit() {
            this.$http
              .getApi("/api/firmware/unused")
              .then((e) => {
                this.report = e.data;
              })
              .catch(u.noop);
          }
          cleanup() {
            this.$uibModal
              .open({
                component: "firmwareCleanupModal",
                size: "lg",
                backdrop: "static",
                resolve: { fileNames: () => this.report.fileNames },
              })
              .result.then((e) => {
                this.$http
                  .postApi("/api/firmware/clean", { keepFileNames: e })
                  .then((n) => {
                    this.report = n.data;
                  })
                  .catch(u.noop);
              })
              .catch(u.noop);
          }
        }
        return (t.$inject = ["$http", "$uibModal"]), t;
      })();
      u.module("app").component("firmwareCleanup", {
        templateUrl: "js/app/settings/firmware/firmware-cleanup.component.html",
        controller: xN,
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/settings/firmware/firmware-cleanup-modal.component.html",
            '<div class="modal-header"> <button type="button" class="close" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="REPOS.BUTTONS.CLEANUP"></h4> </div> <div class="modal-body"> <div class="form-group"> <div style="display:flex;flex-direction:row;height:250px"> <div class="selector-list"> <label translate="SETTINGS.3CXPHONE.CLEANUP_FILES"></label> <ul> <li ng-repeat="item in $ctrl.removeFileNames" title="{{::item}}"> <span style="flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap">{{::item}}</span> <button class="btn btn-default m-l-sm btn-sm" ng-click="$ctrl.moveRight([item])"> &#62; </button> </li> </ul> </div> <div style="display:flex;flex-direction:column;justify-content:space-evenly;align-items:center" class="m-r-sm m-l-sm"> <div class="btn-group-vertical"> <button class="btn btn-default btn-sm" ng-disabled="$ctrl.removeFileNames.length===0" ng-click="$ctrl.moveRight($ctrl.removeFileNames)"> &#62;&#62; </button> <button class="btn btn-default btn-sm" ng-disabled="$ctrl.keepFileNames.length===0" ng-click="$ctrl.moveLeft($ctrl.keepFileNames)"> &#60;&#60; </button> </div> </div> <div class="selector-list"> <label translate="SETTINGS.3CXPHONE.KEEP_FILES"></label> <ul> <li ng-repeat="item in $ctrl.keepFileNames" title="{{::item}}"> <button class="btn btn-default m-r-sm btn-sm" ng-click="$ctrl.moveLeft([item])"> &#60; </button> <span style="flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap">{{::item}}</span> </li> </ul> </div> </div> </div> </div> <div class="modal-footer"> <button type="submit" class="btn btn-default" ng-click="$ctrl.close({$value: $ctrl.keepFileNames})" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save</button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> '
          ),
      ]);
      let DN = (() => {
        class t {
          constructor(e) {
            (this.$http = e),
              (this.removeFileNames = []),
              (this.keepFileNames = []);
          }
          $onInit() {
            this.removeFileNames = this.resolve.fileNames;
          }
          moveRight(e) {
            (this.keepFileNames = this.keepFileNames
              .concat(e)
              .sort((n, i) => n.localeCompare(i))),
              (this.removeFileNames = this.removeFileNames.filter(
                (n) => !e.includes(n)
              ));
          }
          moveLeft(e) {
            (this.removeFileNames = this.removeFileNames
              .concat(e)
              .sort((n, i) => n.localeCompare(i))),
              (this.keepFileNames = this.keepFileNames.filter(
                (n) => !e.includes(n)
              ));
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u
        .module("app")
        .component("firmwareCleanupModal", {
          bindings: { resolve: "<", close: "&", dismiss: "&" },
          templateUrl:
            "js/app/settings/firmware/firmware-cleanup-modal.component.html",
          controller: DN,
        }),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/system_status/activity_log.html",
                '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.ACTIVITY_LOG">Activity Log</label> <help-button url="{{\'LINKS.ACTIVITY_LOG_HELP_BTN\' | translate }}"></help-button> </div> <div class="wrapper-md" ng-controller="ActivityLogListCtrl"> <div class="panel panel-default"> <div class="panel-heading" translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.ACTIVITY_LOG"> Activity Log</div> <div class="panel-body" sticky-to-top> <div class="input-group"> <span class="input-group-btn"> <button type="button" ng-click="purge()" class="btn btn btn-default" translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.PURGE_BTN"> <i class="fa fa-recycle"></i> Purge </button> <button type="button" ng-click="filter()" class="btn btn btn-default" translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.FILTER_BTN"> <i class="fa fa-filter"></i> Filter </button> <button type="button" ng-click="refresh()" class="btn btn btn-default" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.REFRESH_BTN"> <i class="fa fa-refresh"></i> Refresh </button> <button type="button" ng-click="goToLogs()" class="btn btn btn-default" translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.LOGS_BTN"> <i class="fa fa-refresh"></i>Logs</button> </span> <div class="input-group" style="margin-left:10px;margin-right:10px"> <select class="form-control m-b" ng-hide="interfaces === undefined || interfaces.possibleValues === undefined || interfaces.possibleValues.length === 0" ng-model="interfaces.value" ng-options="i as getLabel(i) for i in interfaces.possibleValues"> </select> <span class="input-group-btn"> <button type="button" ng-click="capture(interfaces.value)" class="btn btn btn-default" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.CAPTURE_BTN"> <i class="fa fa-play"></i> Capture </button> </span> </div> <span class="input-group-btn"> <button type="button" data-toggle="modal" ng-click="loadLogLevelParams()" data-target="#loggingLevel" class="btn btn btn-default" translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.SETTINGS_BTN"> <i class="fa fa-gear"></i> Settings </button> </span> </div> </div> <div style="overflow-x:auto"> <table st-table="displayedItems" st-safe-src="items" class="table table-striped"> <thead> <tr> <th colspan="12"><input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"></th> </tr> </thead> <tbody> <tr ng-repeat="row in displayedItems" st-select-row="row" class="ng-scope ng-isolate-scope"> <td class="ng-binding" style="white-space:pre-wrap">{{row.TimeStamp | mcDateFormat }} - {{row.Message}}</td> </tr> </tbody> </table> </div> <button type="button" ng-disabled="lastRecNo == 0" ng-click="loadMoreEvents()" class="btn btn-sm btn-success pull-right m-t-sm" translate="SYSTEM_STATUS.EVENT_LOG.LOAD_MORE_BTN"> Load more </button> </div> <activity-logging-level-modal></activity-logging-level-modal> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/system_status/activity_log_filter_modal.html",
                '<div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="SYSTEM_STATUS.DIALOGS.ACTIVITY_LOG.TITLE"> Add Phone </h4> </div> <div class="modal-body"> <form> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="filter.SearchByDate"> <i></i> <span translate="SYSTEM_STATUS.DIALOGS.ACTIVITY_LOG.SEARCH_BY_DATE"></span></label> <input date-range-picker class="form-control date-picker m-b-md" type="text" ng-keydown="$event.preventDefault()" placeholder="SYSTEM_STATUS.DIALOGS.ACTIVITY_LOG.SELECT_RANGE" ng-disabled="!filter.SearchByDate" ng-model="date" options="options"> </div> <div class="form-group"> <label translate="SYSTEM_STATUS.DIALOGS.ACTIVITY_LOG.SEARCH_BY_EXTENSION">Search by extension</label> <select class="form-control m-b" ng-model="filter.Extension" ng-options="ext.Id as ext._str for ext in extensions"> </select> </div> <div class="form-group"> <label translate="SYSTEM_STATUS.DIALOGS.ACTIVITY_LOG.SEARCH_BY_CALL">Search by call</label> <select class="form-control m-b" ng-model="filter.Call" ng-options="call.Id as call._str for call in calls"> </select> </div> </form> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save</button> <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/system_status/capture_modal.html",
                '<div class="modal-header" data-backdrop="static"> <button type="button" class="close" data-dismiss="modal" ng-click="$close()">&times;</button> <h4 class="modal-title" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.CAPTURE"> Network Capture </h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.CAPTUREINFO">Network traffic is being captured on your 3CX Server</label> <ul> <li translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.CAPTURE_POINT_1"><strong>IMPORTANT:</strong> This feature should be used in debugging mode. DO NOT LEAVE THE CAPTURE RUNNING.</li> <li translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.CAPTURE_POINT_2">Replicate your test call quickly so the capture file remains small in size making it easier for you to download and send via email.</li> <li translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.CAPTURE_POINT_3">Only ONE Management console session should capture traffic. Do not launch multiple management console sessions capturing traffic simultaneously.</li> <li translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.CAPTURE_POINT_4">Do not navigate away from this page whilst a capture is in progress.</li> </ul> </div> <form> <div class="form-group" style="text-align:center"> <i class="fa fa-spin fa-cog fa-4x"></i> </div> </form> </div> <div class="modal-footer" style="text-align:center"> <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="$close()" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.STOP_BTN">Stop</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/system_status/capture_report_modal.html",
                '<div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.CAPTURE"> Capture </h4> </div> <div class="modal-body"> <form> <div class="form-group"> <p> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.CAPTURE_CAN_BE_DOWNLOADED"> Your capture can be downloaded from </span> <a class="dashed_link" href="/api/capture/download" ng-click="$dismiss()"> <span translate="EXTENSIONS.EDITOR.PROVISIONING.HERE"> here.</span> </a> </p> <p> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.YOU_CAN_ALSO"> You can also </span> <a class="dashed_link" href="#" ng-click="$dismiss();generateSupportInfo($event);"> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.GENERATE_SUPPORT_INFORMATION"> Generate support information package </span> </a> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.WILL_INCLUDE_CAPTURE_FILES"> and this will also include the capture files. </span> </p> <p translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.SECURITY_PURPOSES_DELETED"> For security purposes, both pcaps and support packages will be deleted the moment they are downloaded. </p> </div> </form> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="$dismiss()" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">OK</button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/system_status/extensions.html",
                '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SYSTEM_STATUS.SECTIONS.EXTENSIONS.EXTENSIONS">Extensions Status</label> </div> <div class="wrapper-md" ng-controller="SystemStatusExtensionListCtrl"> <div class="panel panel-default"> <div class="panel-heading" translate="SYSTEM_STATUS.SECTIONS.EXTENSIONS.SYSTEM_EXTENSIONS"> System Extensions </div> <div st-table="displayedItems" st-safe-src="translatedItems" st-set-filter="extensions"> <div class="b-t b-b wrapper-tbl"> <div class="panel-body form-inline" ng-hide="true"> <checkbox-control-filter mc-title="SYSTEM_STATUS.SECTIONS.EXTENSIONS.IVR" predicate="IVR" prop="IVR"></checkbox-control-filter> <checkbox-control-filter mc-title="SYSTEM_STATUS.SECTIONS.EXTENSIONS.QUEUES" predicate="Queue" prop="Queue"></checkbox-control-filter> <checkbox-control-filter mc-title="SYSTEM_STATUS.SECTIONS.EXTENSIONS.RING_GROUPS" predicate="RingGroup" prop="RingGroup"></checkbox-control-filter> <checkbox-control-filter mc-title="SYSTEM_STATUS.SECTIONS.EXTENSIONS.CONFERENCE" predicate="ConferencePlaceExtension" prop="ConferencePlaceExtension"></checkbox-control-filter> <checkbox-control-filter mc-title="SYSTEM_STATUS.SECTIONS.EXTENSIONS.FAX" predicate="FaxExtension" prop="FaxExtension"></checkbox-control-filter> <checkbox-control-filter mc-title="SYSTEM_STATUS.SECTIONS.EXTENSIONS.PARK_EXTENSIONS" predicate="ParkExtension" prop="ParkExtension"></checkbox-control-filter> <checkbox-control-filter mc-title="SYSTEM_STATUS.SECTIONS.EXTENSIONS.SPECIAL_MENUS" predicate="SpecialMenu" prop="SpecialMenu"></checkbox-control-filter> </div> <input st-search class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped table-fixed" ng-init="IVR=true; Queue=true; RingGroup=true; ConferencePlaceExtension=true; FaxExtension=true; ParkExtension=true; SpecialMenu=true;"> <thead> <tr> <th st-sort="isRegistered" translate="SYSTEM_STATUS.SECTIONS.EXTENSIONS.TBL_HEADING_STATUS">Status</th> <th st-sort="number" translate="REPOS.TEXT.EXTENSION">Extension</th> <th ng-if="showExtensions" st-sort="userStatus" translate="SYSTEM_STATUS.SECTIONS.EXTENSIONS.TBL_HEADING_USER_STATUS">User Status</th> <th ng-if="showExtensions" st-sort="queues" translate="SYSTEM_STATUS.SECTIONS.EXTENSIONS.TBL_HEADING_QUEUES">Queues</th> <th st-sort="extensionName" translate="SYSTEM_STATUS.SECTIONS.EXTENSIONS.TBL_HEADING_NAME">Name</th> </tr> </thead> <tbody> <tr ng-repeat="row in displayedItems" st-select-row="row" st-select-mode="multiple" ng-click="onItemClick(row)"> <td class="col-ext"> <div> <i ng-if="row.isRegistered" class="fa fa-circle pull-left text-xs m-t-xs m-r-md" style="color:green"></i> <i ng-if="!row.isRegistered" class="fa fa-circle pull-left text-xs m-t-xs m-r-md" style="color:red"></i> {{row.registrationName}} </div> </td> <td class="col-ext">{{::row.number}}</td> <td ng-if="showExtensions">{{customLabel[row.userStatus] || row.userStatus}}</td> <td ng-if="showExtensions">{{::row.queues}}</td> <td>{{row.extensionName}}</td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </div> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/system_status/firewall_checker.html",
                '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SYSTEM_STATUS.SECTIONS.FIREWALL_CHECKER.TITLE">Firewall Checker</label> <help-button url="{{\'LINKS.FIREWALL_CHECK\' | translate}}"></help-button> </div> <div class="wrapper-md" ng-controller="FirewallCheckerCtrl"> <div class="panel panel-default"> <div class="panel-heading" translate="SYSTEM_STATUS.SECTIONS.FIREWALL_CHECKER.FIREWALL_CHECKER"> Firewall Checker</div> <div class="panel-body" style="padding-bottom:0"> <label translate="SYSTEM_STATUS.SECTIONS.FIREWALL_CHECKER.INFO">3CX PhoneSystem and 3CX PhoneSystem SIP/RTP Tunneling Proxy services are going to be stopped before the Firewall Check is performed.</label> </div> <div class="panel-body" style="padding-top:0"> <div class="list-group" ng-show="false"> <progressbar class="progress-striped active m-b-sm" value="10" type="info"> <span translate="SYSTEM_STATUS.SECTIONS.FIREWALL_CHECKER.FIREWALL_CHECKER_PROGRESS"> Firewall Checker in progress...</span> </progressbar> </div> <button type="button" ng-click="firewallStart()" ng-disabled="state.running || state.stopping" class="btn btn-sm btn-default" translate="SYSTEM_STATUS.SECTIONS.FIREWALL_CHECKER.RUN_BTN"> <i class="fa fa-play"></i> Run </button> <button type="button" ng-click="firewallStop()" ng-disabled="!state.running || state.stopping" class="btn btn-sm btn-default" translate="SYSTEM_STATUS.SECTIONS.FIREWALL_CHECKER.STOP_BTN" async> <i class="fa fa-stop"></i> Stop </button> </div> <div ng-bind-html="state.html" class="panel-body" style="width:100%;min-height:600px;padding:0 30px 30px 30px" rows="4" cols="50"></div> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/system_status/gen_support_page_message.html",
                '<div class="modal-content"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="SYSTEM_STATUS.DIALOGS.GEN_SUPPORT_HEADER"></h4> </div> <div class="modal-body"> <span translate="SYSTEM_STATUS.DIALOGS.GEN_SUPPORT_MESSAGE"> Backup started<br> You may close this dialog and Backup will continue in the background.<br> An email will be sent to the admin when the backup is complete.<br> </span> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-click="$close()">Ok </button> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/system_status/ip_blacklist.html",
                '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SYSTEM_STATUS.SECTIONS.IP_BLACKLIST.IP_BLACKLIST">IP Blacklist</label> <help-button url="{{\'LINKS.IP_BLACKLISTED_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md" ng-controller="IpBlacklistCtrl"> <input id="fileInput" name="fileInput" type="file" class="hide" accept=".json"> <div class="panel panel-default"> <div class="panel-heading" translate="SYSTEM_STATUS.SECTIONS.IP_BLACKLIST.IP_BLACKLIST"> IP Blacklist</div> <div class="panel-body"> <button type="button" ng-click="onAddClick()" class="btn btn-sm btn-success" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"> <i class="halflings halflings-plus"></i> Add </button> <button type="button" class="btn btn-sm btn-default" ng-disabled="!isOneSelected" ng-click="onEditClick()" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"> <i class="halflings halflings-pencil"></i>Edit </button> <button type="button" class="btn btn-sm btn-default" ng-disabled="!isAnySelected || !allowDelete" ng-click="onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i>Delete </button> <import-control mc-accept=".json" url="ipBlackList"></import-control> <button type="button" class="btn btn-sm btn-default" translate="REPOS.BUTTONS.EXPORT_BTN" id="btnExport" ng-click="onExportClick()">Export</button> </div> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped table-fixed" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all> </th> <th st-sort="IpAddress" translate="SYSTEM_STATUS.SECTIONS.IP_BLACKLIST.TBL_HEADING_IP_ADDREESS">IP Address</th> <th st-sort="SubnetMask" translate="SYSTEM_STATUS.SECTIONS.IP_BLACKLIST.TBL_HEADING_SUBNET_MASK">Subnet Mask</th> <th st-sort="Action" translate="SYSTEM_STATUS.SECTIONS.IP_BLACKLIST.TBL_HEADING_ACTION">Action</th> <th class="col-responsive" st-sort="ExpirationDate" translate="SYSTEM_STATUS.SECTIONS.IP_BLACKLIST.TBL_HEADING_EXPIRATION_DATE">Expiration Date</th> <th class="col-responsive" st-sort="IpAddressRange" translate="SYSTEM_STATUS.SECTIONS.IP_BLACKLIST.TBL_HEADING_IP_ADDRESS_RANGE">IP address range</th> <th class="col-responsive" st-sort="Description" translate="SYSTEM_STATUS.SECTIONS.IP_BLACKLIST.TBL_HEADING_DESCRIPTION">Description</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="row in displayedItems track by row.Id" ng-click="onItemEditClick(row)"> <td class="col-btn" mc-select-row="row"></td> <td>{{row.IpAddress}}</td> <td>{{row.SubnetMask}}</td> <td translate="{{row.Action}}"></td> <td class="col-responsive">{{row.ExpirationDate | mcDateFormat}}</td> <td class="col-responsive">{{row.IpAddressRange}}</td> <td class="col-responsive">{{row.Description}}</td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="onItemDeleteClick(row)" class="btn btn-xs btn-default" ng-disabled="!row.CanBeDeleted"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </div> </div> </div> </div> '
              ),
          ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/system_status/system_status.html",
            '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SYSTEM_STATUS.TITLE">Status</label> <help-button url="{{\'LINKS.SYSTEM_STATUS_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="row"> <div class="col-md-12 col-lg-4 text-center"> <div class="panel b-a"> <div class="panel-heading no-border bg-dark"> <div class="h4 text-white text-center" translate="SYSTEM_STATUS.SYSTEM_STATUS_BOX.SYSTEM_STATUS_TITLE">System Status </div> </div> <div class="inline m-t-sm" style="width:100%"> <flot dataset="$ctrl.dataset" options="$ctrl.options.cpu_usage" height="264px"></flot> </div> <div class="panel-footer bg-light lter wrapper m-t-md" style="min-height:142px"> <div class="row"> <div class="col-md-4" style="min-height:120px"> <small class="text-muted block m-b-sm no-wrap" translate="SYSTEM_STATUS.SYSTEM_STATUS_BOX.DISK_USAGE">Disk Usage </small> <div easypiechart options="$ctrl.options.disc_usage" percent="$ctrl.data.DiskUsage" class="easyPieChart margin-auto" style="width:80px"> <div style="position:relative;text-align:center;top:28px;width:80px"> <span class="step">{{$ctrl.data.DiskUsage}}% <span translate="SYSTEM_STATUS.SYSTEM_STATUS_BOX.USED">used</span></span> </div> </div> <div style="position:relative;top:60px" ng-if="$ctrl.dataAvailable" class="no-wrap"> <small class="block m-b-sm">{{$ctrl.data.FreeDiskSpace | bytes}} <span translate="REPOS.FREE"></span></small> </div> </div> <div class="col-md-4" style="min-height:120px"> <small class="text-muted block m-b-sm no-wrap" translate="SYSTEM_STATUS.SYSTEM_STATUS_BOX.MEMORY_USAGE">Memory Usage </small> <div easypiechart options="$ctrl.options.memory" percent="$ctrl.data.PhysicalMemoryUsage" class="easyPieChart margin-auto" style="width:80px"> <div style="position:relative;text-align:center;top:28px;width:80px"> <span class="step">{{$ctrl.data.PhysicalMemoryUsage}}% <span translate="SYSTEM_STATUS.SYSTEM_STATUS_BOX.USED">used</span></span> </div> </div> <div style="position:relative;top:60px" ng-if="$ctrl.dataAvailable" class="no-wrap"> <small class="block m-b-sm">{{$ctrl.data.FreePhysicalMemory | bytes}} <span translate="REPOS.FREE"></span></small> </div> </div> <div class="col-md-4" style="min-height:120px"> <small class="text-muted block m-b-sm no-wrap" translate="SYSTEM_STATUS.SYSTEM_STATUS_BOX.PERFORMANCE">Performance </small> <div easypiechart options="$ctrl.options.performance" percent="$ctrl.data.CpuUsage" class="easyPieChart margin-auto" style="width:80px"> <div style="position:relative;text-align:center;top:28px;width:80px" class="no-wrap"> <span class="step">{{$ctrl.data.CpuUsage}}/100%</span> </div> </div> </div> </div> </div> </div> </div> <div class="col-md-6 col-lg-4"> <div class="panel b-a"> <div class="panel-heading no-border bg-dark"> <div class="h4 text-white text-center" translate="SYSTEM_STATUS.PBX_STATUS_BOX.PBX_STATUS_TITLE">PBX Status </div> </div> <div class="list-group no-radius alt"> <a class="list-group-item" ui-sref="app.siptrunks" ng-disabled="$ctrl.isTrunksDisabled()"> <span ng-if="$ctrl.dataAvailable" class="badge green-color">{{$ctrl.data.TrunksRegistered}}/{{$ctrl.data.TrunksTotal}}</span> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.TRUNKS_UP"> Trunks Up</span></a> <a class="list-group-item" ui-sref="app.extensions"> <span ng-if="$ctrl.dataAvailable" class="badge green-color">{{$ctrl.data.ExtensionsRegistered}}/{{$ctrl.data.ExtensionsTotal}}</span> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.EXTENSIONS_UP"> Extensions Up</span></a> <a class="list-group-item" ui-sref="app.system_status.active_calls"> <span ng-if="$ctrl.dataAvailable" class="badge green-color">{{$ctrl.data.CallsActive}}/{{$ctrl.data.MaxSimCalls}}</span> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.NUMBER_CALLS_IN_USE"> Number of calls in use</span></a> <a class="list-group-item" ui-sref="app.system_status.ip_blacklist"> <span ui-sref="app.system_status.ip_blacklist" ng-if="$ctrl.dataAvailable" class="badge green-color">{{$ctrl.data.BlacklistedIpCount}}</span> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.BLACKLISTED_IPS"> Blacklisted IPs</span></a> <a class="list-group-item" href=""> <span ng-click="$ctrl.callHistoryPurge()" class="badge bg-dark text-white"> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.PURGE">Purge</span> <span ng-if="!$ctrl.dbInfo"> <i class="fa fa-spin fa-spinner m-r-xs m-l-xs"></i> </span> <span>{{$ctrl.roundNumber($ctrl.dbInfo.CallHistoryCount)}}</span> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.CALLS">calls</span> </span> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.CALL_HISTORY" ng-disabled="$ctrl.isCallHistoryDisabled()" ui-sref="app.call_log">Call History</span> </a> <a class="list-group-item" href=""> <span ng-click="$ctrl.chatMessagesPurge()" class="badge bg-dark text-white" ng-if="$ctrl.$rootScope.User.isChatLogEnabled"> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.PURGE">Purge</span> <span ng-if="!$ctrl.dbInfo"> <i class="fa fa-spin fa-spinner m-r-xs m-l-xs"></i> </span> <span>{{$ctrl.roundNumber($ctrl.dbInfo.ChatMessagesCount)}}</span> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.MESSAGES">messages</span> </span> <span class="badge green-color text-white" ng-if="$ctrl.$rootScope.User.isChatLogEnabled"> <span ng-click="$ctrl.setEnableChatLogs(false)" translate="SYSTEM_STATUS.PBX_STATUS_BOX.ENABLED"></span> </span> <span class="badge bg-dark text-white" ng-if="!$ctrl.$rootScope.User.isChatLogEnabled"> <span ng-click="$ctrl.setEnableChatLogs(true)" translate="SYSTEM_STATUS.PBX_STATUS_BOX.DISABLED"></span> </span> <span ng-if="$ctrl.$rootScope.User.isChatLogEnabled" translate="SYSTEM_STATUS.PBX_STATUS_BOX.CHAT_LOGS" ui-sref="app.chat_messages" ng-disabled="$ctrl.isChatLogDisabled()"></span> <span ng-if="!$ctrl.$rootScope.User.isChatLogEnabled" translate="SYSTEM_STATUS.PBX_STATUS_BOX.CHAT_LOGS"></span> </a> <a class="list-group-item" href=""> <span class="badge green-color text-white" ng-if="$ctrl.data.IsAuditLogEnabled"> <span ng-click="$ctrl.canUseAudit($event) && $ctrl.setEnableAuditLogs(false)" translate="SYSTEM_STATUS.PBX_STATUS_BOX.ENABLED"></span> </span> <span class="badge bg-dark text-white" ng-if="!$ctrl.data.IsAuditLogEnabled"> <span ng-click="$ctrl.canUseAudit($event) && $ctrl.setEnableAuditLogs(true)" translate="SYSTEM_STATUS.PBX_STATUS_BOX.DISABLED"></span> </span> <span ng-if="$ctrl.data.IsAuditLogEnabled" translate="SYSTEM_STATUS.PBX_STATUS_BOX.AUDIT_LOG" ui-sref="app.audit"></span> <span ng-if="!$ctrl.data.IsAuditLogEnabled" translate="SYSTEM_STATUS.PBX_STATUS_BOX.AUDIT_LOG"></span> </a> <a class="list-group-item" ng-click="$ctrl.setBackupSchedule()"> <span class="badge bg-dark text-white" ng-if="$ctrl.data.BackupScheduled"> <span>{{($ctrl.data.LastBackupDateTime === null)?\'--\':($ctrl.data.LastBackupDateTime| mcDateFormat)}}</span> </span> <span class="badge {{$ctrl.data.BackupScheduled ? \'green-color\' : \'red-color\'}}">{{$ctrl.data.BackupScheduled ? \'ON\' : \'OFF\'}}</span> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.BACKUP">Automatic Backups</span> </a> <a class="list-group-item" ng-click="$ctrl.setQuota()" ng-if="!$ctrl.data || $ctrl.data.RecordingState === 0 || !$ctrl.$rootScope.User.isProfessional"> <span ng-if="$ctrl.dataAvailable && $ctrl.Infrequent.data.RecordingStopped" class="badge red-color">{{\'SYSTEM_STATUS.PBX_STATUS_BOX.RECORDING_DISABLED\' | translate}}</span> <span ng-if="$ctrl.dataAvailable && $ctrl.Infrequent.data.RecordingQuotaReached && !$ctrl.Infrequent.data.RecordingStopped" class="badge red-color">{{$ctrl.Infrequent.data.RecordingUsedSpace | bytes}} / {{$ctrl.Infrequent.data.RecordingQuota | bytes}}</span> <span ng-if="$ctrl.dataAvailable && !$ctrl.Infrequent.data.RecordingQuotaReached && !$ctrl.Infrequent.data.RecordingStopped" class="badge green-color">{{$ctrl.Infrequent.data.RecordingUsedSpace | bytes}} / {{$ctrl.Infrequent.data.RecordingQuota | bytes}}</span> <span ng-if="$ctrl.data.isRecSyncRequired" class="badge red-color" translate="SYSTEM_STATUS.PBX_STATUS_BOX.CLICK_TO_CONVERT_RECORDINGS">Click to Convert Recordings!</span> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.RECORDING">Recording</span> </a> <a class="list-group-item" ng-if="$ctrl.$rootScope.User.isProfessional && $ctrl.data && $ctrl.data.RecordingState === 2"> <span class="badge green-color" translate="SYSTEM_STATUS.PBX_STATUS_BOX.CONVERTING">Converting...</span> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.RECORDING">Recording</span> </a> <a class="list-group-item" ng-click="$ctrl.convertRecordingsClick()" ng-if="$ctrl.$rootScope.User.isProfessional && $ctrl.data && $ctrl.data.RecordingState === 1"> <span class="badge red-color" translate="SYSTEM_STATUS.PBX_STATUS_BOX.CLICK_TO_CONVERT_RECORDINGS">Click to Convert Recordings!</span> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.RECORDING">Recording</span> </a> <a class="list-group-item" ng-click="$ctrl.convertRecordingsErrorClick()" ng-if="$ctrl.$rootScope.User.isProfessional && $ctrl.data && $ctrl.data.RecordingState === 3"> <span class="badge red-color" translate="SYSTEM_STATUS.PBX_STATUS_BOX.FAILED_TO_CONVERT_RECORDINGS">Failed to Convert Recordings!</span> <span translate="SYSTEM_STATUS.PBX_STATUS_BOX.RECORDING">Recording</span> </a> </div> <div class="hbox text-center b-b b-light text-sm" style="height:41px"> <a ui-sref="app.system_status.firewall_checker" class="col text-muted b-r b-light" style="padding-top:11px;position:relative"> <span class="badge green-color text-white" ng-show="$ctrl.singleStatus.Health && $ctrl.singleStatus.Health.Firewall">&#10003;</span> <span class="badge red-color text-white" ng-show="$ctrl.singleStatus.Health && !$ctrl.singleStatus.Health.Firewall">!</span> <span class="m-b-sm" translate="SYSTEM_STATUS.PBX_STATUS_BOX.FIREWALL">Firewall</span> </a> <a ng-click="$ctrl.showTrunksError()" class="col text-muted b-r b-light" style="padding-top:11px;position:relative"> <span class="badge green-color" ng-if="$ctrl.singleStatus.Health && $ctrl.singleStatus.Health.Trunks">&#10003;</span> <span class="badge red-color text-white" ng-if="$ctrl.singleStatus.Health && !$ctrl.singleStatus.Health.Trunks">!</span> <span class="m-b-sm" translate="SYSTEM_STATUS.PBX_STATUS_BOX.TRUNKS">Trunks</span> </a> <a ng-click="$ctrl.showPhonesError()" class="col text-muted" style="padding-top:11px;position:relative"> <span class="badge green-color" ng-if="$ctrl.singleStatus.Health && $ctrl.singleStatus.Health.Phones">&#10003;</span> <span class="badge red-color text-white" ng-if="$ctrl.singleStatus.Health && !$ctrl.singleStatus.Health.Phones">!</span> <span class="m-b-sm" translate="SYSTEM_STATUS.PBX_STATUS_BOX.PHONES">Phones</span> </a> </div> <div class="hbox text-center b-b b-light text-sm" style="height:41px"> <a ui-sref="app.system_status.services" class="col text-muted b-r b-light" style="padding-top:11px;position:relative"> <span class="badge green-color" ng-if="$ctrl.dataAvailable && !$ctrl.data.HasNotRunningServices">&#10003;</span> <span class="badge" style="background-color:red" ng-if="$ctrl.dataAvailable && $ctrl.data.HasNotRunningServices">!</span> <span class="m-b-sm" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES">Services</span> </a> <a ng-show="$ctrl.$rootScope.User.consoleEnabled" target="_blank" href="#/console" class="col text-muted b-r b-r-light" style="padding-top:11px;position:relative" translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.CONSOLE_BTN"> Console </a> <a ui-sref="app.system_status.extensions({showExtensions: false, showSystemExtensions: true})" class="col text-muted" style="padding-top:11px;position:relative"> <span class="badge green-color" ng-if="$ctrl.dataAvailable && !$ctrl.data.HasUnregisteredSystemExtensions">&#10003;</span> <span class="badge" style="background-color:red" ng-if="$ctrl.dataAvailable && $ctrl.data.HasUnregisteredSystemExtensions">!</span> <span class="m-b-sm" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SYSTEM_EXTENSIONS">System Extensions</span> </a> </div> </div> </div> <div class="col-md-6 col-lg-4"> <div class="panel b-a"> <div class="panel-heading no-border bg-dark"> <div class="h4 text-white text-center" translate="SYSTEM_STATUS.SYSTEM_INFO">System Info</div> </div> <div class="list-group no-radius alt"> <a class="list-group-item" ng-click="$ctrl.gotoLicense()"> <span class="text-muted pull-right" ng-if="$ctrl.dataAvailable">{{$ctrl.data.LicenseKey}}</span> <copy-badge class="badge no-bg list-hidden-item" ng-if="$ctrl.dataAvailable" value="{{$ctrl.data.LicenseKey}}"></copy-badge> <span role="button" class="badge no-bg text-xs halflings halflings-refresh" ng-click="$ctrl.refreshLicense($event)"> </span> <span translate="SYSTEM_STATUS.SYSTEM_INFO.LICENSE_STATUS">License</span> </a> <a class="list-group-item" ng-click="$ctrl.gotoLicense()"> <span class="m-l-xs text-muted pull-right" ng-if="$ctrl.dataAvailable && $ctrl.data.LicenseActive && $ctrl.data.Activated"><span translate="SETTINGS.LICENSE.{{$ctrl.data.ProductCode}}"></span></span> <span class="badge red-color" ng-if="$ctrl.dataAvailable && (!$ctrl.data.LicenseActive || !$ctrl.data.Activated)"><span translate="SYSTEM_STATUS.SYSTEM_INFO.ACTIVATION_FAILED"></span></span> <span ng-if="$ctrl.isLicenseUpgradeAvailable()" role="button" class="badge bg-dark text-white" translate="SYSTEM_STATUS.SYSTEM_INFO.UPGRADE" ng-click="$ctrl.upgradeLicense($event)"></span> <span translate="SETTINGS.LICENSE.PRODUCT">Product</span> </a> <a class="list-group-item" ng-click="$ctrl.gotoLicense()"> <span ng-if="$ctrl.dataAvailable" class="m-l-xs text-muted pull-right">{{$ctrl.data.MaxSimCalls}}</span> <span ng-if="$ctrl.isSimCallsUpgradeAvailable()" role="button" class="badge bg-dark text-white" translate="SYSTEM_STATUS.SYSTEM_INFO.UPGRADE" ng-click="$ctrl.upgradeLicense($event)"></span> <span translate="SYSTEM_STATUS.SYSTEM_INFO.SIM_CALLS">Sim calls</span> </a> <a class="list-group-item" ng-click="$ctrl.gotoLicense()"> <span ng-if="$ctrl.dataAvailable" class="text-muted pull-right">{{$ctrl.data.MaxSimMeetingParticipants}}</span> <span translate="SYSTEM_STATUS.SYSTEM_INFO.SIM_MEETING_PARTICIPANTS">Sim meeting participants</span> </a> <a class="list-group-item" ng-click="$ctrl.gotoLicense()"> <span ng-if="$ctrl.dataAvailable && !$ctrl.data.IsSpla" translate="SYSTEM_STATUS.SYSTEM_INFO.MAINTENANCE">Maintenance Expiry</span> <span ng-if="$ctrl.dataAvailable && $ctrl.data.IsSpla" translate="SYSTEM_STATUS.SYSTEM_INFO.EXPIRY_DATE">Expiry Date</span> <span class="text-muted pull-right m-l-xs"> <span ng-if="$ctrl.dataAvailable && $ctrl.data.MaintenanceExpiresAt">{{$ctrl.data.MaintenanceExpiresAt | mcDateOnlyFormat}}</span> </span> <span ng-if="!$ctrl.isLinkedToReseller()" role="button" class="badge bg-dark text-white" translate="SYSTEM_STATUS.SYSTEM_INFO.RENEW" ng-click="$ctrl.renewLicense($event)"></span> <span class="badge green-color" ng-if="$ctrl.dataAvailable && $ctrl.data.Support" span translate="SYSTEM_STATUS.SYSTEM_INFO.ACTIVE">Active</span> <span class="badge red-color" ng-if="$ctrl.dataAvailable && !$ctrl.data.Support" span translate="SYSTEM_STATUS.SYSTEM_INFO.EXPIRED">Expired</span> </a> <a class="list-group-item" ng-click="$ctrl.gotoLicense()"> <span class="text-muted pull-right" ng-if="$ctrl.dataAvailable">{{$ctrl.version}}</span> <span translate="SYSTEM_STATUS.SYSTEM_INFO.3CX_VERSION">Version</span> </a> <a class="list-group-item"> <span translate="SYSTEM_STATUS.SYSTEM_INFO.RESELLER">Reseller</span> <span class="text-muted pull-right m-l-xs"> <span>{{$ctrl.data.ResellerName}}</span> </span> <span translate="SYSTEM_STATUS.SYSTEM_INFO.LINK_RESELLER" class="badge bg-dark text-white" ng-if="$ctrl.data.ResellerName == \'\'" ng-click="$ctrl.linkReseller()">Link</span> <span translate="SYSTEM_STATUS.SYSTEM_INFO.UNLINK_RESELLER" class="badge bg-dark text-white" ng-if="$ctrl.data != undefined && $ctrl.data.ResellerName != undefined && $ctrl.data.ResellerName != \'\' " ng-click="$ctrl.unlinkReseller()">Unlink</span> </a> <a class="list-group-item" ng-click="$ctrl.gotoNetworkSettings(\'app.settings.network.fqdn\')"> <span ng-if="$ctrl.dataAvailable" class="text-muted pull-right">{{$ctrl.data.FQDN}}</span> <copy-badge class="badge no-bg list-hidden-item" ng-if="$ctrl.dataAvailable" value="{{$ctrl.data.FQDN}}"></copy-badge> <span translate="SYSTEM_STATUS.SYSTEM_INFO.FQDN">FQDN</span> </a> <a class="list-group-item"> <span ng-if="$ctrl.dataAvailable" class="text-muted pull-right" ng-show="$ctrl.data.Ip.indexOf(\'Static\')!=-1" ng-click="$ctrl.gotoNetworkSettings(\'app.settings.network.public_ip\')">{{$ctrl.data.Ip}}</span> <span ng-if="$ctrl.dataAvailable" class="badge red-color" ng-show="$ctrl.data.Ip.indexOf(\'Static\')==-1" ng-click="$ctrl.gotoNetworkSettings(\'app.settings.network.public_ip\')">{{$ctrl.data.Ip}}</span> <span ng-if="$ctrl.dataAvailable" class="badge red-color" ng-show="!$ctrl.data.LocalIpValid" translate="SYSTEM_STATUS.SYSTEM_INFO.INVALID_LOCAL_IP" ng-click="$ctrl.gotoNetworkSettingsInvalidLocalIp(\'app.settings.network.public_ip\')">IP Address Mismatch</span> <copy-badge class="badge no-bg list-hidden-item" ng-if="$ctrl.dataAvailable" value="{{$ctrl.data.IpV4}}"></copy-badge> <span translate="SYSTEM_STATUS.SYSTEM_INFO.IP" ng-click="$ctrl.gotoNetworkSettings(\'app.settings.network.public_ip\')">IP</span> </a> <a class="list-group-item" ng-click="$ctrl.gotoNetworkSettings(\'app.settings.network.public_ip\')"> <span ng-if="$ctrl.dataAvailable && $ctrl.data.IpV6" class="text-muted pull-right">{{$ctrl.data.IpV6}}</span> <span ng-if="$ctrl.dataAvailable && !$ctrl.data.IpV6" class="badge bg-dark text-white" translate="SYSTEM_STATUS.SYSTEM_INFO.NONE"></span> <copy-badge class="badge no-bg list-hidden-item" ng-if="$ctrl.dataAvailable && $ctrl.data.IpV6" value="{{$ctrl.data.IpV6}}"></copy-badge> <span translate="SYSTEM_STATUS.SYSTEM_INFO.IPV6">IP</span> </a> <a class="list-group-item" ui-sref="app.outbound_rules"> <span ng-if="$ctrl.dataAvailable && !$ctrl.data.OutboundRules" class="badge bg-dark text-white" translate="SYSTEM_STATUS.SYSTEM_INFO.NO_OUTBOUND_RULES"></span> <span ng-if="$ctrl.dataAvailable && $ctrl.data.OutboundRules" class="text-muted pull-right"> {{$ctrl.data.OutboundRules}}</span> <span translate="SYSTEM_STATUS.SYSTEM_INFO.OUTBOUND_RULES">Outbound Rules</span> </a> </div> </div> </div> </div> <div mc-admin> <div class="line line-dashed b-b line-lg m-b"></div> <div class="row text-center"> <a ui-sref="app.siptrunks" class="col-sm-2" ng-disabled="$ctrl.isTrunksDisabled()"> <div class="wrapper bg-info text-ellipsis disabled-gray" ng-disabled="$ctrl.isTrunksDisabled()"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-cog"></span></span> <small class="text-white" translate="SYSTEM_STATUS.SECTIONS.TRUNKS">Trunks</small> </div> </a> <a ui-sref="app.phones" class="col-sm-2" ng-disabled="$ctrl.isPhonesDisabled()"> <div class="wrapper bg-info text-ellipsis disabled-gray" ng-disabled="$ctrl.isPhonesDisabled()"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-phone"></span></span> <small class="text-white" translate="SYSTEM_STATUS.SECTIONS.PHONES">Phones</small> </div> </a> <div class="col-sm-2" style="display:inline"> <a ui-sref="app.audit" ng-click="$ctrl.canUseAudit($event)"> <div class="wrapper bg-info text-ellipsis"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-book"></span></span> <small class="text-white" translate="AUDIT.TITLE">Audit log</small> </div> </a> </div> <a ui-sref="app.system_status.event_log" class="col-sm-2"> <div class="wrapper bg-info text-ellipsis"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-file"></span> </span> <small class="text-white" translate="SYSTEM_STATUS.SECTIONS.EVENT_LOG.EVENTS">Events</small> </div> </a> <a ui-sref="app.system_status.activity_log" class="col-sm-2"> <div class="wrapper bg-info text-ellipsis"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-hdd"></span></span> <small class="text-white" translate="SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG">Activity Log</small> </div> </a> <a ui-sref="app.updates.all" class="col-sm-2"> <div class="wrapper bg-info text-ellipsis"> <span class="m-b-xs h1 block text-white"><span class="halflings halflings-download-alt"></span></span> <small class="text-white" translate="SYSTEM_STATUS.SECTIONS.UPDATES">Updates</small> </div> </a> </div> <div class="line line-dashed b-b line-lg m-b m-t-md"></div> <div class="panel-heading bg-dark"> <span class="h4 text-white"> <a ui-sref="app.system_status.event_log" translate="SYSTEM_STATUS.EVENT_LOG.EVENT_LOG_TITLE">Event log</a></span> <button type="button" class="btn btn-xs pull-right bg-white" data-toggle="modal" data-target="#eventLog"> <i class="fa fa-gear"></i></button> <button ng-click="$ctrl.eventLogPurge()" type="button" class="btn btn-xs pull-right bg-white m-r-sm" translate="SYSTEM_STATUS.EVENT_LOG.PURGE_BTN"><i class="fa fa-recycle"></i> Purge </button> </div> <ul class="list-group list-group-lg no-radius m-b-none m-t-n-xxs"> <li class="list-group-item clearfix b-l-3x ng-scope b-l-{{row.alert}}" ng-repeat="row in displayedCollection | limitTo:limit"> <div class="pull-right text-sm text-muted"> <span class="hidden-xs ng-binding">09/02/2016</span> <i class="fa fa-paperclip ng-hide m-l-sm" ng-show="" aria-hidden="true"></i> </div> <div class="clear"> <div><a ui-sref="app.mail.detail({mailId:mail.id})" class="text-md ng-binding" href="#/app/mail/6">{{row.from}}</a> </div> <div class="text-ellipsis m-t-xs ng-binding">{{row.description}}</div> </div> </li> </ul> <div class="m-sm"> <span class="m-r-sm" translate="SYSTEM_STATUS.EVENT_LOG.WARNING"><i class="fa fa-circle text-warning text-xs m-t-sm"></i> Warning</span> <span class="m-r-sm" translate="SYSTEM_STATUS.EVENT_LOG.ERROR"> <i class="fa fa-circle text-danger text-xs m-t-sm"></i> Error</span> <span class="m-r-sm" translate="SYSTEM_STATUS.EVENT_LOG.INFORMATIONAL"> <i class="fa fa-circle text-info text-xs m-t-sm"></i> Informational</span> </div> <mc-event-list events="$ctrl.events"></mc-event-list> <button ui-sref="app.system_status.event_log" type="button" class="btn btn-sm btn-success pull-right m-t-sm" translate="SYSTEM_STATUS.EVENT_LOG.LOAD_MORE_BTN"> Load more </button> <system-status-event-log-modal></system-status-event-log-modal> </div> </div> </div> '
          ),
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/system_status/active_calls.html",
            '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SYSTEM_STATUS.SECTIONS.ACTIVE_CALLS.ACTIVE_CALLS">Active Calls</label> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="SYSTEM_STATUS.SECTIONS.ACTIVE_CALLS.ACTIVE_CALLS"> Active Calls</div> <table st-table="displayedItems" st-safe-src="items" class="table table-striped"> <thead> <tr> <td colspan="12"> <input st-search class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </td> </tr> <tr> <th st-sort="Status" translate="SYSTEM_STATUS.SECTIONS.ACTIVE_CALLS.STATUS">Status</th> <th st-sort="Caller" translate="SYSTEM_STATUS.SECTIONS.ACTIVE_CALLS.CALLER">Caller</th> <th st-sort="Callee" translate="SYSTEM_STATUS.SECTIONS.ACTIVE_CALLS.CALLEE">Callee</th> <th st-sort="Duration" translate="SYSTEM_STATUS.SECTIONS.ACTIVE_CALLS.DURATION">Duration</th> <th st-sort="LastChangeStatus" translate="SYSTEM_STATUS.SECTIONS.ACTIVE_CALLS.LAST_CHANGE_STATUS">Last change status</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="row in displayedItems track by row.Id"> <td>{{row.Status}}</td> <td>{{row.Caller}}</td> <td>{{row.Callee}}</td> <td>{{row.Duration | amDurationFormat}}</td> <td>{{row.LastChangeStatus | mcDateFormat}}</td> <td> <button type="button" mc-stop-event ng-click="$ctrl.onCallDropClick(row.Id)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> <tfoot> <tr> <td colspan="9" class="text-center"> <pagination st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7" id="pagerId" st-page-change="$ctrl.onPageSwitch(newPage)"></pagination> </td> </tr> </tfoot> </table> </div> </div> </div> '
          ),
      ]);
      let JN = (() => {
        class t {
          constructor(e, n, i) {
            (this.$http = n),
              i.Poll(e, e, "api/activeCalls", function (a) {
                const l = u.element(z()("#pagerId")).isolateScope();
                1 != l.currentPage && (l.restoreMyPage = l.currentPage);
                const s = ae()(a.Now);
                (e.items = a.list.map((r) =>
                  Object.assign(Object.assign({}, r), {
                    Duration: r.EstablishedAt
                      ? s.diff(ae()(r.EstablishedAt))
                      : void 0,
                  })
                )),
                  (e.displayedItems = [].concat(e.items));
              });
          }
          onCallDropClick(e) {
            this.$http
              .postApi("api/activeCalls/drop", { Id: e })
              .catch(() => u.noop());
          }
          onPageSwitch() {
            const e = u.element(z()("#pagerId")).isolateScope();
            e.restoreMyPage &&
              (e.selectPage(
                e.numPages < e.restoreMyPage ? e.numPages : e.restoreMyPage
              ),
              (e.restoreMyPage = void 0));
          }
        }
        return (t.$inject = ["$scope", "$http", "SystemStatusSvc"]), t;
      })();
      u.module("app").component("activeCalls", {
        controller: JN,
        templateUrl: "js/app/system_status/active_calls.html",
      });
      let ey = (() => {
        class t {
          constructor(e) {
            this.$http = e;
          }
          purge() {
            return this.$http.postApi("api/ActivityLog/purge", {});
          }
          getEvents(e, n) {
            return this.$http.getApi("api/ActivityLog", {
              params: { startFrom: e, count: n },
            });
          }
          getFilter() {
            return this.$http.getApi("api/ActivityLog/getFilter");
          }
          getExtensions() {
            return this.$http.getApi("api/ActivityLog/getExtensions");
          }
          getCalls(e) {
            return this.$http.getApi("api/ActivityLog/getCalls", {
              params: { extension: e },
            });
          }
          setFilter(e) {
            return this.$http.postApi("api/ActivityLog/setFilter", e);
          }
          getLogLevel() {
            return this.$http.getApi("api/ActivityLog/getLogLevel");
          }
          setLogLevel(e) {
            return this.$http.postApi("api/ActivityLog/setLogLevel", e);
          }
          getKeepLogs() {
            return this.$http.getApi("api/ActivityLog/getKeepLogs");
          }
          setKeepLogs(e) {
            return this.$http.postApi("api/ActivityLog/setKeepLogs", e);
          }
          getKeepDays() {
            return this.$http.getApi("api/ActivityLog/getKeepDays");
          }
          setKeepDays(e) {
            return this.$http.postApi("api/ActivityLog/setKeepDays", e);
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("ActivityLogSvc", ey),
        u.module("app").controller("ActivityLogFilterCtrl", [
          "$scope",
          "$uibModalInstance",
          "ActivityLogSvc",
          "filter",
          function (t, c, e, n) {
            (t.filter = n),
              (t.options = {
                ranges: cn(ae()()),
                timePicker: !0,
                alwaysShowCalendars: !0,
                showDropdowns: !0,
                locale: { format: "LLL" },
              }),
              (t.date = {
                startDate: ae()(n.StartDate),
                endDate: ae()(n.EndDate),
              }),
              (t.interfaces = []),
              t.$watch("filter.Extension", function i(a) {
                e.getCalls(a)
                  .then(function (l) {
                    const s = l.data.map(function (r) {
                      return { Id: r, _str: r };
                    });
                    s.unshift({ Id: null, _str: "All calls" }), (t.calls = s);
                  })
                  .catch(() => u.noop());
              }),
              e
                .getExtensions()
                .then(function (a) {
                  const l = a.data.map(function (s) {
                    return { Id: s, _str: s };
                  });
                  l.unshift({ Id: null, _str: "All extensions" }),
                    (t.extensions = l);
                })
                .catch(() => u.noop()),
              (t.saveClick = function () {
                null != t.date.startDate &&
                  (t.filter.StartDate = t.date.startDate.format()),
                  null != t.date.endDate &&
                    (t.filter.EndDate = t.date.endDate.format()),
                  c.close(t.filter);
              });
          },
        ]),
        u.module("app").controller("ActivityLogListCtrl", [
          "$scope",
          "$uibModal",
          "ActivityLogSvc",
          "MessageBoxSvc",
          "CaptureSvc",
          "$translate",
          "$state",
          "AuthenticationSvc",
          function (t, c, e, n, i, a, l, s) {
            function p(m) {
              e.getEvents(m, 100)
                .then(function (g) {
                  (t.items = 0 != m ? t.items.concat(g.data) : g.data),
                    (t.displayedItems = [].concat(t.items)),
                    g.data.length < 100
                      ? (t.lastRecNo = 0)
                      : (function o() {
                          t.lastRecNo = t.items.length > 0 ? t.items.length : 0;
                        })();
                })
                .catch(() => u.noop());
            }
            (t.items = []),
              (t.lastRecNo = 0),
              (t.filter = function () {
                e.getFilter()
                  .then(function (m) {
                    c.open({
                      templateUrl:
                        "js/app/system_status/activity_log_filter_modal.html",
                      controller: "ActivityLogFilterCtrl",
                      backdrop: "static",
                      resolve: { filter: () => m.data },
                    })
                      .result.then(function (g) {
                        e.setFilter(g)
                          .then(() => {
                            p(0);
                          })
                          .catch(() => u.noop());
                      })
                      .catch(() => u.noop());
                  })
                  .catch(() => u.noop());
              }),
              (t.logSettings = { logLevel: 0, keepLogs: !1, keepDays: 0 }),
              (t.keepDaysSelected =
                !s.getUser().isHosted3CX || Dt(s.getUser()) ? [1, 5, 10] : [1]),
              (t.purge = function () {
                n.confirmDialog(
                  "REPOS.CONFIRMATION.HEADER",
                  "REPOS.CONFIRMATION.TEXT_ALL"
                )
                  .then(function () {
                    e.purge()
                      .then(function () {
                        p(0);
                      })
                      .catch(() => u.noop());
                  })
                  .catch(() => u.noop());
              }),
              (t.goToLogs = function () {
                l.go("app.system_status.logs");
              }),
              (t.loadMoreEvents = function () {
                p(t.lastRecNo);
              }),
              (t.loadLogLevelParams = function () {
                e
                  .getLogLevel()
                  .then(function (m) {
                    t.logSettings.logLevel = m.data;
                  })
                  .catch(() => u.noop()),
                  e
                    .getKeepLogs()
                    .then(function (m) {
                      t.logSettings.keepLogs = m.data;
                    })
                    .catch(() => u.noop()),
                  e
                    .getKeepDays()
                    .then(function (m) {
                      const g = Number.parseInt(m.data, 10);
                      t.logSettings.keepDays = t.keepDaysSelected.includes(g)
                        ? g
                        : 1;
                    })
                    .catch(() => u.noop());
              }),
              t.loadLogLevelParams(),
              (t.saveLogSettings = function () {
                e.setLogLevel(t.logSettings.logLevel).catch(() => u.noop()),
                  e.setKeepLogs(t.logSettings.keepLogs).catch(() => u.noop()),
                  e.setKeepDays(t.logSettings.keepDays).catch(() => u.noop());
              }),
              (t.capture = function (m) {
                c.open({
                  templateUrl: "js/app/system_status/capture_modal.html",
                  controller: "CaptureCtrl",
                  size: "md",
                  backdrop: "static",
                  keyboard: !1,
                  resolve: { interfc: () => m },
                }).result.then(
                  function () {
                    c.open({
                      templateUrl:
                        "js/app/system_status/capture_report_modal.html",
                      controller: "GenerateSupportInfoCtrl",
                      size: "md",
                      backdrop: "static",
                      keyboard: !1,
                    }).result.catch(() => u.noop());
                  },
                  function () {
                    console.log("Failed");
                  }
                );
              }),
              (t.refresh = function () {
                p(0);
              }),
              (t.getLabel = function (m) {
                return "*" === m
                  ? a.instant(
                      "SYSTEM_STATUS.SECTIONS.ACTIVITY_LOG.ALL_INTERFACES"
                    )
                  : m;
              }),
              p(0),
              (function f() {
                i.getInterfaces()
                  .then(function (m) {
                    t.interfaces = m.data;
                  })
                  .catch(() => u.noop());
              })();
          },
        ]),
        u.module("app").controller("CaptureCtrl", [
          "$scope",
          "$uibModalInstance",
          "$q",
          "CaptureSvc",
          "interfc",
          function (t, c, e, n, i) {
            const a = e.defer();
            t.$on("$destroy", function () {
              (a.promise.userCancelled = !0), a.resolve();
            }),
              n.start(a, i).then(
                () => {
                  c.close();
                },
                () => {
                  c.dismiss();
                }
              );
          },
        ]);
      let ty = (() => {
        class t {
          constructor(e) {
            this.$http = e;
          }
          start(e, n) {
            return this.$http.postApi(
              "api/capture",
              { Interface: n },
              { timeout: e.promise }
            );
          }
          getInterfaces() {
            return this.$http.getApi("api/capture/getInterfaces");
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("CaptureSvc", ty);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/system_status/event-log.component.html",
            '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SYSTEM_STATUS.EVENT_LOG.EVENT_LOG_WINDOW.TITLE">Event Log</label> <help-button url="{{\'LINKS.EVENT_LOG_HELP_BTN\' | translate }}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default m-b-n-xxs form-inline"> <div class="panel-heading" translate="SYSTEM_STATUS.EVENT_LOG.EVENT_LOG_WINDOW.EVENT_LOG"> Event Log </div> <div class="panel-body"> <div class="form-group"> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="$ctrl.showWarningsValue" ng-model-options="{getterSetter: true, updateOn: \'default\'}"> <i></i> <span translate="SYSTEM_STATUS.DIALOGS.EVENT_LOG.WARNINGS"></span></label> </div> </div> <div class="form-group"> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="$ctrl.showErrorsValue" ng-model-options="{getterSetter: true, updateOn: \'default\'}"> <i></i> <span translate="SYSTEM_STATUS.DIALOGS.EVENT_LOG.ERRORS"></span></label> </div> </div> <div class="form-group"> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="$ctrl.showInformationValue" ng-model-options="{getterSetter: true, updateOn: \'default\'}"> <i></i> <span translate="SYSTEM_STATUS.DIALOGS.EVENT_LOG.INFORMATION"></span></label> </div> </div> <button ng-click="$ctrl.eventLogPurge()" type="button" class="btn btn-sm btn-default pull-right" translate="SYSTEM_STATUS.EVENT_LOG.EVENT_LOG_WINDOW.PURGE_BTN"> <i class="fa fa-recycle"></i> Purge </button> </div> </div> <mc-event-list show-search="true" events="$ctrl.eventLogVM.events"></mc-event-list> <button type="button" ng-click="$ctrl.loadMoreEvents()" class="btn btn-sm btn-success pull-right m-t-sm" translate="SYSTEM_STATUS.EVENT_LOG.LOAD_MORE_BTN"> Load more </button> </div> </div> '
          ),
      ]);
      let ay = (() => {
        class t {
          constructor(e, n, i) {
            (this.$http = e),
              (this.messageBoxService = n),
              (this.systemStatusService = i),
              (this.eventLogVM = {}),
              (this.myNumberOfEvents = 250);
          }
          $onInit() {
            this.refreshEvents();
          }
          get showErrorsValue() {
            return this.eventLogVM.ShowErrors2;
          }
          set showErrorsValue(e) {
            this.systemStatusService
              .ShowErrors2(e)
              .then(() => {
                this.refreshEvents();
              })
              .catch(() => u.noop());
          }
          get showWarningsValue() {
            return this.eventLogVM.ShowWarnings2;
          }
          set showWarningsValue(e) {
            this.systemStatusService
              .ShowWarnings2(e)
              .then(() => {
                this.refreshEvents();
              })
              .catch(() => u.noop());
          }
          get showInformationValue() {
            return this.eventLogVM.ShowInformation2;
          }
          set showInformationValue(e) {
            this.systemStatusService
              .ShowInformation2(e)
              .then(() => {
                this.refreshEvents();
              })
              .catch(() => u.noop());
          }
          eventLogPurge() {
            this.messageBoxService
              .confirmDialog(
                "REPOS.CONFIRMATION.HEADER",
                "REPOS.CONFIRMATION.TEXT_ALL"
              )
              .then(() => {
                this.systemStatusService
                  .PurgeEventLog()
                  .then(() => {
                    this.refreshEvents();
                  })
                  .catch(() => u.noop());
              })
              .catch(() => u.noop());
          }
          loadMoreEvents() {
            (this.myNumberOfEvents += 250), this.refreshEvents();
          }
          refreshEvents() {
            this.$http
              .get(
                "api/SystemStatus/getEventLog?page=true&count=" +
                  this.myNumberOfEvents
              )
              .then((e) => {
                this.eventLogVM = e.data;
              })
              .catch(() => u.noop());
          }
        }
        return (t.$inject = ["$http", "MessageBoxSvc", "SystemStatusSvc"]), t;
      })();
      u
        .module("app")
        .component("eventLogListCtrl", {
          controller: ay,
          templateUrl: "js/app/system_status/event-log.component.html",
        }),
        u.module("app").controller("FirewallCheckerCtrl", [
          "$scope",
          "$timeout",
          "FirewallCheckerSvc",
          function (t, c, e) {
            let n;
            function i(l) {
              (t.state = l.data),
                t.state.running ? (n = c(a, 500)) : c.cancel(n);
            }
            const a = () => {
              e.state()
                .then(i)
                .catch(() => u.noop());
            };
            (t.firewallStart = function () {
              e.start()
                .then(i)
                .catch(() => u.noop());
            }),
              (t.firewallStop = function () {
                e.stop()
                  .then(i)
                  .catch(() => u.noop());
              }),
              (t.refresh = a),
              a();
          },
        ]),
        u.module("app").controller("IpBlacklistCtrl", [
          "$scope",
          "MyUtilsSvc",
          function (t, c) {
            const e = c.BaseCollectionServiceMethods("IpBlackList");
            function n() {
              e.getAll()
                .then(function (i) {
                  t.setItems(i.data.list);
                })
                .catch(() => u.noop());
            }
            (t.onExportClick = () => {
              window.location.replace("/api/ipBlackList/export");
            }),
              c.initCollectionController(t, e, {
                edit(i) {
                  c.openModalEditor(
                    "tpl/general_dialogs/new_ip_blacklist_modal.html",
                    i
                  )
                    .result.then(function () {
                      c.reloadState(t);
                    })
                    .catch(() => u.noop());
                },
                refresh: n,
                confirmDeletion: !0,
              }),
              n();
          },
        ]);
      function ly(t) {
        return (
          0 == t.indexOf("3CXPhoneSystemMC") ||
          0 == t.indexOf("3CXCfgServ") ||
          0 == t.indexOf("3CX PhoneSystem Database Server") ||
          0 == t.indexOf("nginx") ||
          0 == t.indexOf("postgresql")
        );
      }
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/system_status/system-services.component.html",
            '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.SERVICES">Services</label> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.SERVICES"> Services</div> <div class="panel-body"> <button type="button" ng-disabled="!$ctrl.startStopEnabled()" ng-click="$ctrl.serviceStart()" class="btn btn-sm btn-default" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.START_BTN"> <i class="fa fa-play"></i> Start </button> <button type="button" ng-disabled="!$ctrl.startStopEnabled()" ng-click="$ctrl.serviceStop()" class="btn btn-sm btn-default" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.STOP_BTN"> <i class="fa fa-stop"></i> Stop </button> <button type="button" ng-disabled="!$ctrl.restartEnabled()" ng-click="$ctrl.serviceRestart()" class="btn btn-sm btn-default" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.RESTART_BTN"> <i class="icon-refresh"></i> Restart </button> </div> <table st-table="$ctrl.displayedCollection" st-safe-src="$ctrl.services" class="table table-striped"> <thead> <tr> <th st-sort="DisplayName" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.TBL_HEADING_SERVICE_NAME">Service Name</th> <th style="text-align:right" st-sort="MemoryUsed" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.TBL_HEADING_MEMORY_USED">Memory Usage</th> <th style="text-align:right" st-sort="CpuUsage" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.TBL_HEADING_CPU_USED">CPU Usage</th> <th style="text-align:right" st-sort="ThreadCount" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.TBL_HEADING_THREADS">Threads</th> <th style="text-align:right" st-sort="HandleCount" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.TBL_HEADING_HANDLES">Handles</th> <th st-sort="Status" translate="SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.TBL_HEADING_STATUS">Status</th> </tr> </thead> <tbody> <tr ng-repeat="row in $ctrl.displayedCollection track by row.Name" st-select-row="row" st-select-mode="multiple"> <td>{{row.DisplayName}}</td> <td style="text-align:right">{{row.MemoryUsed | kbytes : 0 : 1}}</td> <td style="text-align:right">{{("00"+row.CpuUsage).slice(-2)}}</td> <td style="text-align:right">{{row.ThreadCount}}</td> <td style="text-align:right">{{row.HandleCount}}</td> <td class="{{row.Status == 4 ? \'green-color-text\' : (row.Status == 1 ? \'text-danger\' : \'yellow-color-text\')}}">{{ row.Status == 1 ? (\'SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.SERVICE_STATUS_STOPPED\' | translate) : row.Status == 2 ? (\'SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.SERVICE_STATUS_PENDING_START\' | translate) : row.Status == 3 ? (\'SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.SERVICE_STATUS_PENDING_STOP\' | translate) : row.Status == 4 ? (\'SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.SERVICE_STATUS_RUNNING\' | translate): row.Status == 5 ? (\'SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.SERVICE_STATUS_PENDING_CONTINUE\' | translate) : row.Status == 6 ? (\'SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.SERVICE_STATUS_PENDING_PAUSE\' | translate): row.Status == 7 ? (\'SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.SERVICE_STATUS_PAUSED\' | translate) : (\'SYSTEM_STATUS.PBX_STATUS_BOX.SERVICES.SERVICE_STATUS_UNKNOWN\' | translate)}}</td> </tr> <tr style="font-weight:700"> <td></td> <td style="text-align:right">{{$ctrl.memoryUsed | kbytes : 0 : 1}}</td> <td style="text-align:right">{{("00"+$ctrl.cpuUsage).slice(-2)}}</td> <td></td> <td></td> <td></td> </tr> </tbody> </table> </div> </div> </div> '
          ),
      ]);
      let ry = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$state = e),
              (this.$timeout = n),
              (this.$http = i),
              (this.SystemServicesSvc = a),
              (this.isActive = !1),
              (this.displayedCollection = []),
              (this.cpuUsage = 0),
              (this.memoryUsed = 0),
              (this.services = []);
          }
          $onInit() {
            this.SystemServicesSvc.getAll()
              .then((e) => {
                this.updateServiceList(e.data), this.Poll("api/ServiceList");
              })
              .catch(() => u.noop());
          }
          $onDestroy() {
            (this.isActive = !1),
              void 0 !== this.promise && this.$timeout.cancel(this.promise);
          }
          updateServiceList(e) {
            (e = e.sort((n, i) =>
              n.DisplayName < i.DisplayName
                ? -1
                : n.DisplayName > i.DisplayName
                ? 1
                : 0
            )),
              (this.services = e),
              (this.cpuUsage = e
                .map((n) => n.CpuUsage)
                .reduce((n, i) => n + i, 0)),
              (this.memoryUsed = e
                .map((n) => n.MemoryUsed)
                .reduce((n, i) => n + i, 0)),
              (this.displayedCollection = e);
          }
          Poll(e) {
            this.isActive = !0;
            const n = () => {
                this.isActive && (this.promise = this.$timeout(i, 1e3));
              },
              i = () => {
                this.$http
                  .get(e)
                  .then((a) => {
                    this.services.forEach((l) => {
                      if (l.isSelected) {
                        const s = a.data.find((r) => r.Name == l.Name);
                        null != s && (s.isSelected = !0);
                      }
                    }),
                      this.updateServiceList(a.data);
                  })
                  .finally(n)
                  .catch(() => u.noop());
              };
            i();
          }
          getSelectedItemsNames() {
            return this.getSelectedItems().map((e) => e.Name);
          }
          getSelectedItems() {
            return this.displayedCollection.filter((e) => e.isSelected);
          }
          startStopEnabled() {
            const e = this.getSelectedItems();
            return (
              0 != e.length &&
              void 0 === e.find((n) => !1 === n.startStopEnabled)
            );
          }
          restartEnabled() {
            const e = this.getSelectedItems();
            return (
              0 != e.length && void 0 === e.find((n) => !1 === n.restartEnabled)
            );
          }
          serviceStart() {
            this.$http
              .postApi("api/ServiceList/start", this.getSelectedItemsNames())
              .then((e) => {
                this.updateServiceList(e.data);
              })
              .catch(() => u.noop());
          }
          serviceStop() {
            this.$http
              .postApi("api/ServiceList/stop", this.getSelectedItemsNames())
              .then((e) => {
                this.updateServiceList(e.data);
              })
              .catch(() => u.noop());
          }
          serviceRestart() {
            const e = this.getSelectedItemsNames(),
              n = void 0 !== e.find(ly);
            this.$http
              .postApi("api/ServiceList/restart", e)
              .then((i) => {
                this.updateServiceList(i.data);
              })
              .catch(() => u.noop()),
              n && this.$state.go("login");
          }
        }
        return (
          (t.$inject = ["$state", "$timeout", "$http", "SystemServicesSvc"]), t
        );
      })();
      u.module("app").component("systemServicesComponent", {
        templateUrl: "js/app/system_status/system-services.component.html",
        controller: ry,
      });
      const gi = {
          lineWidth: 3,
          trackColor: "#e8eff0",
          barColor: "#23b7e5",
          scaleColor: !1,
          color: "#fff",
          size: 80,
          lineCap: "butt",
          rotate: 45,
          animate: 1e3,
        },
        Yo = u.copy(gi);
      Yo.barColor = "#27c24c";
      let dy = (() => {
        class t {
          constructor(e, n, i, a, l, s, r, o, p, f, m, g, S, O) {
            (this.$localStorage = e),
              (this.$rootScope = n),
              (this.$http = a),
              (this.$state = l),
              (this.SettingsSvc = s),
              (this.SystemStatusSvc = r),
              (this.MessageBoxSvc = p),
              (this.$translate = f),
              (this.$window = m),
              (this.recordings = g),
              (this.bsModalService = S),
              (this.channelRSvc = O),
              (this.singleStatus = {}),
              (this.data = {
                MaxSimCalls: 0,
                ExtensionsRegistered: 0,
                ExtensionsTotal: 0,
                HasUnregisteredSystemExtensions: !1,
                HasNotRunningServices: !1,
                TrunksRegistered: 0,
                TrunksTotal: 0,
                CallsActive: 0,
                BlacklistedIpCount: 0,
                Version: "",
                MemoryUsage: 0,
                PhysicalMemoryUsage: 0,
                CpuUsage: 0,
                CpuUsageHistory: [],
              }),
              (this.dataset = [
                {
                  data: [],
                  points: { show: !0, radius: 6 },
                  splines: { show: !0, tension: 0.45, lineWidth: 5, fill: 0 },
                },
              ]),
              (this.dataAvailable = !1),
              (this.myNumberOfEvents = 0),
              (this.sub = new mt.w0()),
              (this.options = {
                cpu_usage: {
                  colors: ["#23b7e5"],
                  series: { shadowSize: 3 },
                  xaxis: {
                    mode: "time",
                    font: { color: "#ccc" },
                    position: "bottom",
                    tickFormatter: (j) => ae()(j).format("LTS"),
                  },
                  yaxis: { font: { color: "#ccc" }, min: 0, max: 100 },
                  grid: {
                    hoverable: !0,
                    clickable: !0,
                    borderWidth: 0,
                    color: "#ccc",
                  },
                  tooltip: !0,
                  tooltipOpts: { defaultTheme: !1, shifts: { x: 0, y: 20 } },
                },
                disc_usage: gi,
                memory: gi,
                performance: Yo,
              }),
              (this.Infrequent = {}),
              e.data && ((this.data = e.data), (this.dataAvailable = !0)),
              e.Infrequent && (this.Infrequent.data = e.Infrequent),
              this.refreshDbInformation(),
              r.Poll(i, this, "api/SystemStatus", () => this.dataPollFn()),
              r.Poll(
                i,
                this.Infrequent,
                "api/SystemStatus/AdditionalStatus",
                () => {
                  this.$localStorage.Infrequent = this.Infrequent.data;
                },
                600
              ),
              i.$watch("$ctrl.numberOfEvents", (j) => {
                0 != i.myNumberOfEvents &&
                  i.myNumberOfEvents < j &&
                  (i.myNumberOfEvents = j),
                  null != j &&
                    r
                      .NumberOfEvents(j)
                      .then(() => {
                        this.refreshEvents();
                      })
                      .catch(() => u.noop());
              }),
              i.$watch("$ctrl.purgeEventLogAfter", function (j) {
                null != j && r.PurgeEventLogAfter(j).catch(() => u.noop());
              }),
              this.refreshEvents(),
              this.getSingleStatus();
          }
          refreshDbInformation() {
            this.SystemStatusSvc.GetDbInformation()
              .then((e) => this.dbInformation(e))
              .catch(() => u.noop());
          }
          $onInit() {
            const e = this.channelRSvc
              .sub("RemoveTag")
              .pipe(
                (0, mn.h)((n) =>
                  n.find((i) => "CHATS_PURGE" === i || "CALLS_PURGE" === i)
                )
              )
              .subscribe({
                next: () => {
                  this.refreshDbInformation();
                },
              });
            this.sub.add(e);
          }
          saveData() {
            this.dataAvailable && (this.$localStorage.data = this.data);
          }
          dataPollFn() {
            (this.dataAvailable = null != this.data),
              this.dataAvailable && void 0 !== this.data.CpuUsageHistory
                ? ((function cy(t) {
                    for (let c = 0, e = t.length; c < e; c++)
                      t[c][0] = new Date(t[c][0]);
                  })(this.data.CpuUsageHistory),
                  (this.dataset[0].data = this.data.CpuUsageHistory))
                : (this.dataset[0].data = []),
              this.saveData();
          }
          dbInformation(e) {
            this.dbInfo = e.data;
          }
          refreshEvents() {
            this.$http
              .get(
                "api/SystemStatus/getEventLog?count=" + this.myNumberOfEvents
              )
              .then((e) => {
                (this.events = e.data.events),
                  (this.numberOfEvents = e.data.NumberOfEvents),
                  (this.showWarnings = e.data.ShowWarnings),
                  (this.showErrors = e.data.ShowErrors),
                  (this.showInformation = e.data.ShowInformation),
                  (this.purgeEventLogAfter = e.data.PurgeEventLogAfter);
              })
              .catch(() => u.noop());
          }
          refreshLicense(e) {
            e.stopPropagation();
            const n = this.MessageBoxSvc.openProgressDialog(
              "SETTINGS.LICENSE.LOAD_LICENSE_DETAILS_HEADER",
              "SETTINGS.LICENSE.LOAD_LICENSE_DETAILS_MESSAGE"
            );
            this.$http
              .get("api/SystemStatus/RefreshLicense")
              .then((i) => {
                (this.data = i.data), this.dataPollFn();
              })
              .catch((i) => {
                const a = i.data
                  ? "license_error." + i.data.split("\n")[0].replace("\r", "")
                  : i.statusText;
                this.MessageBoxSvc.alertBox(
                  "INSTALL_WIZARD.DIALOGS.INSTALL_LICENSE.LICENSE_ACTIVATION_FAILED",
                  a
                ),
                  u.noop();
              })
              .finally(() => {
                n.close(), this.SystemStatusSvc.LicenseRefreshed();
              });
          }
          eventLogPurge() {
            this.MessageBoxSvc.confirmDialog(
              "REPOS.CONFIRMATION.HEADER",
              "REPOS.CONFIRMATION.TEXT_ALL"
            )
              .then(() => {
                this.SystemStatusSvc.PurgeEventLog()
                  .then(() => {
                    this.refreshEvents();
                  })
                  .catch(() => u.noop());
              })
              .catch(() => u.noop());
          }
          callHistoryPurge() {
            var e;
            const n = this.bsModalService.show(js),
              i = n.content;
            return null === (e = n.onHide) || void 0 === e
              ? void 0
              : e
                  .pipe(
                    (0, Nt.q)(1),
                    (0, We.U)(() => i)
                  )
                  .subscribe({
                    next: (a) => {
                      if (a.result == qe.q.Ok)
                        switch (a.value.option) {
                          case Qe.All:
                            this.SystemStatusSvc.PurgeCallHistory(!0);
                            break;
                          case Qe.FilterByDate:
                            this.SystemStatusSvc.PurgeCallHistory(
                              !1,
                              a.value.custom
                            );
                            break;
                          case Qe.Year:
                            this.SystemStatusSvc.PurgeCallHistoryUpToTheDate(
                              vn()
                            );
                            break;
                          case Qe.Month:
                            this.SystemStatusSvc.PurgeCallHistoryUpToTheDate(
                              Nn()
                            );
                        }
                    },
                  });
          }
          performSetChatLogsRequest(e) {
            this.$http
              .postApi("api/Chat/SetChatLogsEnabled", e)
              .then(() => {
                this.$window.location.reload();
              })
              .catch(() => u.noop());
          }
          setEnableChatLogs(e) {
            e
              ? this.MessageBoxSvc.confirmDialog(
                  "SYSTEM_STATUS.PBX_STATUS_BOX.CONFIRM_ENABLE_CHAT_HEADER",
                  "SYSTEM_STATUS.PBX_STATUS_BOX.CONFIRM_ENABLE_CHAT_MESSAGE",
                  "md"
                )
                  .then(() => this.performSetChatLogsRequest(e))
                  .catch(() => u.noop())
              : this.MessageBoxSvc.confirmDialog(
                  "SYSTEM_STATUS.PBX_STATUS_BOX.CONFIRM_DISABLE_CHAT_HEADER",
                  "SYSTEM_STATUS.PBX_STATUS_BOX.CONFIRM_DISABLE_CHAT_MESSAGE",
                  "md"
                )
                  .then(() => this.performSetChatLogsRequest(e))
                  .catch(() => u.noop());
          }
          setEnableAuditLogs(e) {
            const n = () =>
              this.$http
                .postApi("api/Audit/setAuditLogStatus", e)
                .then(() => {
                  this.data.IsAuditLogEnabled = e;
                })
                .catch(() => u.noop());
            e
              ? this.MessageBoxSvc.confirmDialog(
                  "SYSTEM_STATUS.PBX_STATUS_BOX.CONFIRM_ENABLE_AUDIT_LOG_MESSAGE_HEADER",
                  "SYSTEM_STATUS.PBX_STATUS_BOX.CONFIRM_ENABLE_AUDIT_LOG_MESSAGE",
                  "md"
                )
                  .then(n)
                  .catch(() => u.noop())
              : this.MessageBoxSvc.confirmDialog(
                  "SYSTEM_STATUS.PBX_STATUS_BOX.CONFIRM_DISABLE_AUDIT_LOG_MESSAGE_HEADER",
                  "SYSTEM_STATUS.PBX_STATUS_BOX.CONFIRM_DISABLE_AUDIT_LOG_MESSAGE",
                  "md"
                )
                  .then(n)
                  .catch(() => u.noop());
          }
          chatMessagesPurge() {
            var e;
            const n = this.bsModalService.show(us),
              i = n.content;
            return null === (e = n.onHide) || void 0 === e
              ? void 0
              : e
                  .pipe(
                    (0, Nt.q)(1),
                    (0, We.U)(() => i)
                  )
                  .subscribe({
                    next: (a) => {
                      if (a.result == qe.q.Ok)
                        switch (a.value.option) {
                          case Qe.All:
                            this.SystemStatusSvc.PurgeChatMessages(!0);
                            break;
                          case Qe.FilterByDate:
                            this.SystemStatusSvc.PurgeChatMessages(
                              !1,
                              a.value.custom
                            );
                            break;
                          case Qe.Year:
                            this.SystemStatusSvc.PurgeChatMessagesUpToTheDate(
                              vn()
                            );
                            break;
                          case Qe.Month:
                            this.SystemStatusSvc.PurgeChatMessagesUpToTheDate(
                              Nn()
                            );
                        }
                    },
                  });
          }
          loadMoreEvents() {
            (this.myNumberOfEvents +=
              0 == this.myNumberOfEvents
                ? 2 * this.numberOfEvents
                : this.numberOfEvents),
              this.refreshEvents();
          }
          showErrorsValue(e) {
            if (void 0 === e) return this.showErrors;
            this.SystemStatusSvc.ShowErrors(e)
              .then(() => {
                this.refreshEvents();
              })
              .catch(() => u.noop());
          }
          showWarningsValue(e) {
            if (void 0 === e) return this.showWarnings;
            this.SystemStatusSvc.ShowWarnings(e)
              .then(() => {
                this.refreshEvents();
              })
              .catch(() => u.noop());
          }
          showInformationValue(e) {
            if (void 0 === e) return this.showInformation;
            this.SystemStatusSvc.ShowInformation(e)
              .then(() => {
                this.refreshEvents();
              })
              .catch(() => u.noop());
          }
          setBackupSchedule() {
            this.$state.go("app.backup_and_restore", { SetBackup: !0 });
          }
          convertRecordingsErrorClick() {
            this.MessageBoxSvc.confirmDialog(
              "REPOS.TEXT.INFORMATION",
              "RECORDINGS.ERROR_CONFIRMATION"
            )
              .then(() => {
                this.recordings.convertRecordings();
              })
              .catch(() => u.noop());
          }
          convertRecordingsClick() {
            this.MessageBoxSvc.confirmDialog(
              "REPOS.CONFIRMATION.HEADER",
              "RECORDINGS.CONVERT_CONFIRMATION",
              "md"
            )
              .then(() => {
                this.recordings.convertRecordings();
              })
              .catch(() => u.noop());
          }
          upgradeLicense(e) {
            e.stopPropagation(),
              this.$window.open(
                `https://portal.3cx.com/customer/systems/shop?license=${this.data.LicenseKey}&action=manage`,
                "_blank"
              );
          }
          renewLicense(e) {
            e.stopPropagation(),
              this.$window.open(
                `https://portal.3cx.com/customer/systems/shop?license=${this.data.LicenseKey}&action=renew`,
                "_blank"
              );
          }
          get version() {
            const e = this.data.Version.split(".");
            return 4 !== e.length
              ? this.data.Version
              : ro(this.$translate, {
                  Major: +e[0],
                  Minor: +e[1],
                  SP: +e[2],
                  Build: +e[3],
                });
          }
          isLicenseUpgradeAvailable() {
            return !this.isLinkedToReseller() && !this.isEnterprise();
          }
          isSimCallsUpgradeAvailable() {
            return !this.isLinkedToReseller() && this.data.MaxSimCalls < 1024;
          }
          isLinkedToReseller() {
            return !!this.data.ResellerName;
          }
          isEnterprise() {
            var e;
            return null === (e = this.data.ProductCode) || void 0 === e
              ? void 0
              : e.startsWith("3CXPSPROFENT");
          }
          setQuota() {
            !ms(this.$rootScope.User) ||
              ("3CXPSSPLA" !== this.data.ProductCode &&
                "3CXPS" !== this.data.ProductCode &&
                this.$state.go("app.recordings", { SetQuota: !0 }));
          }
          gotoPhoneSettings() {
            this.SettingsSvc.editSetting(
              "api/Settings/PhoneSettings",
              "app.settings.phone",
              "app.system_status.all"
            ).catch(() => u.noop());
          }
          gotoWebmeetingSettings() {
            this.SettingsSvc.editSetting(
              "api/Settings/ConferencingSettings",
              "app.settings.webmeeting.video",
              "app.system_status.all"
            ).catch(() => u.noop());
          }
          gotoNetworkSettings(e) {
            this.SettingsSvc.editSetting(
              "api/Settings/NetworkSettings",
              e,
              "app.system_status.all"
            ).catch(() => u.noop());
          }
          gotoNetworkSettingsInvalidLocalIp(e) {
            const i = this.$translate.instant(
              "SYSTEM_STATUS.SYSTEM_INFO.INVALID_LOCAL_IP_MSG",
              { p0: this.data.AvailableLocalIps, p1: this.data.CurrentLocalIp }
            );
            this.MessageBoxSvc.confirmDialog(
              "SYSTEM_STATUS.SYSTEM_INFO",
              i,
              "lg"
            )
              .then(() => {
                this.SettingsSvc.editSetting(
                  "api/Settings/NetworkSettings",
                  e,
                  "app.system_status.all"
                ).catch(() => u.noop());
              })
              .catch(() => u.noop());
          }
          isTrunksDisabled() {
            return !fs(this.$rootScope.User);
          }
          isCallHistoryDisabled() {
            return !gs(this.$rootScope.User);
          }
          isChatLogDisabled() {
            return !qn(this.$rootScope.User);
          }
          isPhonesDisabled() {
            return !hs(this.$rootScope.User);
          }
          gotoLicense() {
            !(
              (!this.$rootScope.User.IsHostingMode &&
                this.$rootScope.User.roles.includes("Admin")) ||
              (this.$rootScope.User.IsHostingMode &&
                this.$rootScope.User.roles.includes("HostingAdmin"))
            ) ||
              this.SettingsSvc.editSetting(
                "api/Settings/ConferencingSettings",
                "app.settings.license",
                "app.system_status.all"
              ).catch(() => u.noop());
          }
          linkReseller() {
            this.MessageBoxSvc.resellerInputBoxDialog()
              .then((e) => {
                const i = this.$translate.instant(
                  "SYSTEM_STATUS.SYSTEM_INFO.RESELLER_INFO",
                  { p0: e.data.Id, p1: e.data.Name }
                );
                this.MessageBoxSvc.confirmDialog("REPOS.CONFIRMATION.HEADER", i)
                  .then(() => {
                    const a = this.MessageBoxSvc.openProgressDialog(
                      "REPOS.PROGRESS.LOADING",
                      "REPOS.PROGRESS.WAIT"
                    );
                    this.SystemStatusSvc.LinkReseller(e.data.Id).then(
                      () => {
                        (this.data.ResellerName = e.data.Name),
                          this.saveData(),
                          a.close();
                      },
                      () => {
                        a.close(),
                          this.MessageBoxSvc.alertBox(
                            "WARNINGS.WARNING",
                            "WARNINGS.RESELLER_NOT_FOUND"
                          ).catch(() => u.noop());
                      }
                    );
                  })
                  .catch(() => u.noop());
              })
              .catch(() => u.noop());
          }
          unlinkReseller() {
            this.MessageBoxSvc.confirmDialog(
              "REPOS.CONFIRMATION.HEADER",
              "SYSTEM_STATUS.SYSTEM_INFO.UNLINK_CONFIRMATION"
            )
              .then(() => {
                const e = this.MessageBoxSvc.openProgressDialog(
                  "REPOS.PROGRESS.LOADING",
                  "REPOS.PROGRESS.WAIT"
                );
                this.SystemStatusSvc.UnlinkReseller().then(
                  () => {
                    (this.data.ResellerName = ""), this.saveData(), e.close();
                  },
                  () => {
                    e.close();
                  }
                );
              })
              .catch(() => u.noop());
          }
          showTrunksError() {
            this.singleStatus.Health &&
              !this.singleStatus.Health.Trunks &&
              this.MessageBoxSvc.alertBox(
                "WARNINGS.WARNING",
                "SYSTEM_STATUS.PBX_STATUS_BOX.TRUNKS_ERROR_MESSAGE"
              ).catch(() => u.noop());
          }
          showPhonesError() {
            this.singleStatus.Health &&
              !this.singleStatus.Health.Phones &&
              this.MessageBoxSvc.alertBox(
                "WARNINGS.WARNING",
                "SYSTEM_STATUS.PBX_STATUS_BOX.PHONES_ERROR_MESSAGE"
              ).catch(() => u.noop());
          }
          getSingleStatus() {
            this.$localStorage.singleStatus &&
              (this.singleStatus = this.$localStorage.singleStatus),
              this.$http
                .get("api/SystemStatus/GetSingleStatus")
                .then((e) => {
                  (this.singleStatus = e.data),
                    (this.$localStorage.singleStatus = this.singleStatus);
                })
                .catch(() => u.noop());
          }
          canUseAudit(e) {
            return !!yt(this.$rootScope.User);
          }
          roundNumber(e) {
            if (isNaN(e)) return "";
            let n = "";
            return (
              (n =
                e > 1e6
                  ? "1m+"
                  : e < 1001
                  ? e.toString()
                  : Math.floor(e / 1e3).toString() + "k+"),
              n
            );
          }
          $onDestroy() {
            this.sub.unsubscribe();
          }
        }
        return (
          (t.$inject = [
            "$localStorage",
            "$rootScope",
            "$scope",
            "$http",
            "$state",
            "SettingsSvc",
            "SystemStatusSvc",
            "BackupAndRestoreSvc",
            "MessageBoxSvc",
            "$translate",
            "$window",
            "RecordingSvc",
            "bsModalService",
            "ChannelRSvc",
          ]),
          t
        );
      })();
      u
        .module("app")
        .factory("bsModalService", (0, $.dV)(et.tT))
        .factory("NgZone", (0, $.dV)(d.R0b))
        .component("systemStatusComponent", {
          templateUrl: "js/app/system_status/system_status.html",
          controller: dy,
        }),
        u.module("app").filter("extensions", [
          "$filter",
          function () {
            return function (t, c) {
              return t.filter(function (e) {
                return (
                  e.isSystemExtension &&
                  ("" === c.$ ||
                    void 0 === c.$ ||
                    e.number.toLowerCase().includes(c.$.toLowerCase()) ||
                    e.extensionName.toLowerCase().includes(c.$.toLowerCase()) ||
                    e.registrationName
                      .toLowerCase()
                      .includes(c.$.toLowerCase()))
                );
              });
            };
          },
        ]),
        u.module("app").controller("SystemStatusExtensionListCtrl", [
          "$scope",
          "SystemStatusSvc",
          "CustomParametersSvc",
          "$translate",
          function (t, c, e, n) {
            c.PollList(t, "api/SystemStatus/Extensions"),
              (t.customLabel = []),
              (t.translatedItems = []),
              e
                .getCustomProfileNames()
                .then(function (i) {
                  (t.customLabel["Custom 1"] = i.data[0]),
                    (t.customLabel["Custom 2"] = i.data[1]);
                })
                .catch(() => u.noop()),
              (t.onCollectionChanged = (i) => {
                na(
                  i.map((l) => ({
                    Id: l.Id,
                    isRegistered: l.IsRegistered,
                    registrationName: t.registrationName(l.IsRegistered),
                    number: l.Number,
                    queues: l.Queues,
                    userStatus: l.UserStatus,
                    extensionName: t.translateExtensionName(l),
                    isSystemExtension: l.IsSystemExtension,
                  })),
                  t.translatedItems
                );
              }),
              (t.registrationName = function (i) {
                return n.instant(
                  i
                    ? "SYSTEM_STATUS.SECTIONS.EXTENSIONS.REGISTERED"
                    : "SYSTEM_STATUS.SECTIONS.EXTENSIONS.NOT_REGISTERED"
                );
              }),
              (t.translateExtensionName = function (i) {
                return i.Type.includes("faxextension")
                  ? n.instant("SYSTEM_STATUS.SECTIONS.EXTENSIONS.FAXFXSATA")
                  : i.Type.includes("specialmenu")
                  ? n.instant(
                      "SYSTEM_STATUS.SECTIONS.EXTENSIONS.VOICEMAIL_SERVICE"
                    )
                  : "*777" === i.Number || "*888" === i.Number
                  ? n.instant(
                      "SYSTEM_STATUS.SECTIONS.EXTENSIONS.ECHO_TEST_SERVICE"
                    )
                  : i.Type.includes("conferenceplaceextension")
                  ? n.instant("SYSTEM_STATUS.SECTIONS.EXTENSIONS.CONFERENCE")
                  : i.Type.includes("parkextension") && i.Number.includes("SP")
                  ? n.instant(
                      "SYSTEM_STATUS.SECTIONS.EXTENSIONS.SHARED_PARKING"
                    )
                  : i.Type.includes("parkextension") && !i.Number.includes("SP")
                  ? n.instant("SYSTEM_STATUS.SECTIONS.EXTENSIONS.CALL_PARKING")
                  : i.Name;
              });
          },
        ]),
        u
          .module("app")
          .directive("activityLoggingLevelModal", () => ({
            templateUrl:
              "tpl/general_dialogs/activity_logging_level_modal.html",
            scope: !0,
          })),
        u
          .module("app")
          .directive("systemStatusEventLogModal", () => ({
            templateUrl:
              "tpl/general_dialogs/system_status_event_log_modal.html",
            scope: !0,
          }));
      let py = (() => {
        class t {
          constructor(e) {
            this.$http = e;
          }
          start() {
            return this.$http.postApi("api/firewall/start", {});
          }
          stop() {
            return this.$http.postApi("api/firewall/stop", {});
          }
          state() {
            return this.$http.getApi("api/firewall");
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("FirewallCheckerSvc", py);
      let uy = (() => {
        class t extends ft {
          constructor(e) {
            super("ServiceList", void 0, e);
          }
          restartAllServices() {
            return this.$http.post("api/ServiceList/RestartAll", {});
          }
          restartSystemService() {
            this.$http
              .post("api/ServiceList/restart", ["3CXPhoneSystem01"])
              .catch(() => u.noop());
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("SystemServicesSvc", uy);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/system_status/reseller-input-box-dialog.component.html",
            '<form autocomplete="off" name="resellerInputBoxForm" novalidate mc-submit="$ctrl.submit()"> <div class="modal-header"> <h4 class="modal-title" translate="REPOS.CONFIRMATION.HEADER"></h4> </div> <div class="modal-body"> <label translate="SYSTEM_STATUS.SYSTEM_INFO.LINK_CONFIRMATION"></label> <br> <ul> <li translate="SYSTEM_STATUS.SYSTEM_INFO.LICENSE_KEY_REGISTRATION_DATA"> License key and registration data </li> <li translate="SYSTEM_STATUS.SYSTEM_INFO.EXPIRATION_INFO_RELATED_LICENSE_KEY_MAINTENANCE"> Expiration information related to license key and maintenance </li> <li translate="SYSTEM_STATUS.SYSTEM_INFO.EXTENSION_COUNT_AND_DISK_SPACE"> Extension count, and disk space </li> <li translate="SYSTEM_STATUS.SYSTEM_INFO.BACKUP_INFORMATION"> Backup information </li> <li translate="SYSTEM_STATUS.SYSTEM_INFO.ABILITY_CREATE_SUPPORT_TICKETS"> Ability to create support tickets on your behalf </li> <li translate="SYSTEM_STATUS.SYSTEM_INFO.UPGRADES_AND_UPDATES"> Upgrades and updates </li> </ul> <input type="text" pattern="\\d*" maxlength="10" required class="form-control" ng-model="$ctrl.resellerName" name="resellerName"> <div class="errors" ng-if="resellerInputBoxForm.$submitted"> <ul ng-messages="resellerInputBoxForm.resellerName.$error"> <li ng-message="required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.EMPTY_STRING_PROPERTY"></span> </li> <li ng-message="pattern"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.WIZARD_SHOULD_CONTAIN_ONLY_DIGITS"></span> </li> <li ng-message="notFound"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.RESELLER_NOT_FOUND"></span> </li> </ul> </div> </div> <div class="modal-footer"> <button type="submit" class="btn btn-default" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">OK </button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel </button> </div> </form> '
          ),
      ]);
      let gy = (() => {
        class t {
          constructor(e, n) {
            (this.$scope = e), (this.SystemStatusSvc = n);
          }
          get resellerName() {
            return this._resellerName;
          }
          set resellerName(e) {
            this.$scope.resellerInputBoxForm.resellerName.$setValidity(
              "notFound",
              !0
            ),
              (this._resellerName = e);
          }
          submit() {
            this.SystemStatusSvc.GetResellerInfo(this.resellerName).then(
              (e) => {
                this.close({ $value: e });
              },
              () => {
                this.$scope.resellerInputBoxForm.resellerName.$setValidity(
                  "notFound",
                  !1
                );
              }
            );
          }
        }
        return (t.$inject = ["$scope", "SystemStatusSvc"]), t;
      })();
      u.module("app").component("resellerInputBoxDialog", {
        bindings: { close: "&", dismiss: "&" },
        templateUrl:
          "js/app/system_status/reseller-input-box-dialog.component.html",
        controller: gy,
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/system_status/mc-event-list.component.html",
              '<div st-table="$ctrl.displayedItems" st-safe-src="$ctrl.events"> <ul class="list-group list-group-lg no-radius m-b-none" ng-if="$ctrl.showSearch"> <li class="list-group-item clearfix ng-scope"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </li> </ul> <ul class="list-group list-group-lg no-radius m-b-none m-t-n-xxs"> <li class="list-group-item b-l-3x b-l-{{row.alert}}" ng-repeat="row in $ctrl.displayedItems"> <div class="text-md">{{row.message}}</div> <div class="hidden-xs text-sm text-muted"> <span class="m-r-sm" href="">{{row.source}}</span> <span class="label bg-light m-r-sm">ID: {{row.eventid}}</span> <span>{{row.timegenerated | mcDateFormat}}</span> </div> </li> </ul> </div> '
            ),
        ]),
        u
          .module("app")
          .component("mcEventList", {
            bindings: { events: "<", showSearch: "<" },
            templateUrl: "js/app/system_status/mc-event-list.component.html",
          });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/system_status/copy-badge.component.html",
            '<span role="button" class="text-xs fa fa-clipboard" ng-click="$ctrl.copy($event)"> </span> '
          ),
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/components/copy-to-clipboard-button.html",
            '<button class="btn btn-default" title="{{\'REPOS.TEXT.COPY\' | translate}}" id="btnCopyToClipboard" ng-disabled="$ctrl.mcDisable" uib-tooltip="{{(\'REPOS.TEXT.COPY_TO_CLIPBOARD\' | translate)}}" tooltip-is-open="$ctrl.tooltipIsOpen" tooltip-enable="$ctrl.tooltipIsOpen" tooltip-placement="top" ng-click="$event.stopPropagation(); $ctrl.copyToClipboard()" type="button"> <span ng-if="$ctrl.mcText">{{$ctrl.mcText | translate}}</span> &nbsp; <i class="fa fa-clipboard"></i> </button> '
          ),
      ]);
      const Ko = (t) => {
        const c = document.createElement("textarea");
        (c.value = t),
          document.body.append(c),
          c.select(),
          document.execCommand("copy"),
          c.remove();
      };
      u.module("app").component("copyToClipboardButton", {
        templateUrl: "js/components/copy-to-clipboard-button.html",
        controller: class Cy {
          constructor() {
            this.tooltipIsOpen = !1;
          }
          copyToClipboard() {
            Ko(this.mcCopied), (this.tooltipIsOpen = !0);
          }
        },
        bindings: { mcCopied: "<", mcText: "<", mcDisable: "<" },
      }),
        u.module("app").component("copyBadge", {
          bindings: { value: "@" },
          templateUrl: "js/app/system_status/copy-badge.component.html",
          controller: class _y {
            copy(c) {
              c.stopPropagation(), Ko(this.value);
            }
          },
        });
      let Iy = (() => {
        class t {
          constructor(e, n) {
            (this.messageBoxService = e), (this.systemServices = n);
          }
          processAfterSaveData(e) {
            !e ||
              !e.RequireSipServerRestart ||
              this.messageBoxService
                .confirmDialog(
                  "SETTINGS.SECURITY.SECURE_SIP.REQUEST_SERVICE_RESTART_ON_SECURE_SIP_CHANGED_HEADER",
                  "SETTINGS.SECURITY.SECURE_SIP.REQUEST_SERVICE_RESTART_ON_SECURE_SIP_CHANGED",
                  "md"
                )
                .then(() => {
                  this.systemServices.restartSystemService();
                })
                .catch(() => u.noop());
          }
        }
        return (t.$inject = ["MessageBoxSvc", "SystemServicesSvc"]), t;
      })();
      u.module("app").service("RestartSipService", Iy);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/trunks/add_cid_formatting_modal.html",
              '<div class="modal-header"> <button type="button" class="close" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="TRUNKS_GATEWAY.DIALOGS.ADD_FORMATTING.TITLE"> </h4> </div> <div class="modal-body"> <text-control mc-title="TRUNKS_GATEWAY.DIALOGS.ADD_FORMATTING.SOURCE_PATTERN" prop="activeObject.SourcePattern"></text-control> <text-control mc-title="TRUNKS_GATEWAY.DIALOGS.ADD_FORMATTING.REPLACE_PATTERN" prop="activeObject.ReplacePattern"></text-control> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave"> Save </button> <button type="button" class="btn btn-default" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel"> Close </button> </div> '
            ),
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/add_did_modal.html",
                '<div class="modal-header"> <button type="button" class="close" ng-click="cancelClick()">&times;</button> <h4 class="modal-title" translate="INBOUND_RULES.ADD_DID_BTN"> Add Inbound Rule </h4> </div> <div class="modal-body"> <div class="form-group"> <text-control mc-title="INBOUND_RULES.EDITOR.ENTER_DIRECT_NUMBER" prop="activeObject.Mask" placeholder="Enter {{mode}} direct number or mask"></text-control> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave"> Save </button> <button type="button" class="btn btn-default" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel"> Close </button> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/advanced.html",
                '<panel mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.TRUNK_OPTIONS_TITLE"> <checkbox-control prop="trunk.EnableInboundCalls" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.ENABLE_INBOUND"> </checkbox-control> <checkbox-control prop="trunk.EnableOutboundCalls" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.ENABLE_OUTBOUND"> </checkbox-control> <checkbox-control prop="trunk.DisableVideo" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.DISABLE_VIDEO"> </checkbox-control> </panel> <panel mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.ADVANCED"> <checkbox-control prop="gateway.DeliverAudio" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.PBX_DELIVERS_AUDIO"> </checkbox-control> <checkbox-control prop="gateway.SupportReinvite" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.SUPPORTS_RE_INVITE"> </checkbox-control> <checkbox-control prop="gateway.SupportReplaces" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.SUPPORTS_REPLACES"> </checkbox-control> <div class="form-group" ng-if="stub.isVoipProvider"> <checkbox-control prop="trunk.PublicIPinSIPEnabled" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.PUBLIC_IP_IN_SIP_VIA_HEADER"></checkbox-control> <text-control prop="trunk.PublicIPinSIP" placeholder="TRUNKS_GATEWAY.EDITOR.ADVANCED.PUBLIC_IP"></text-control> </div> <div class="form-group" ng-if="stub.isVoipProvider"> <checkbox-control prop="trunk.SecondaryRegistrarEnabled" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.ALTERNATIVE_PROXY"></checkbox-control> <text-control prop="trunk.SecondaryRegistrar" ng-show="trunk.SecondaryRegistrarEnabled._value" maxlength="250" placeholder="TRUNKS_GATEWAY.EDITOR.ADVANCED.ALTERNATIVE_PROXY"></text-control> </div> <checkbox-control ng-if="stub.isVoipProvider" prop="gateway.RegistrarInvite" hidden mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.REGISTRAR_INVITE"></checkbox-control> <select-enum-control prop="gateway.SRTPMode" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.SRTP"></select-enum-control> <div ng-if="stub.isVoipProvider"> <number-control prop="gateway.TimeBetweenRegistartion" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.REREGISTER_TIMEOUT" placeholder="TRUNKS_GATEWAY.EDITOR.ADVANCED.REREGISTER_TIMEOUT"></number-control> <select-enum-control prop="gateway.IPInRegistrationContact" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.SELECT_IP_USE_CONTACT_CONNECTION_FIELDS"></select-enum-control> <text-control prop="gateway.SpecifiedIPForRegistrationContact" placeholder="TRUNKS_GATEWAY.EDITOR.ADVANCED.IP_ADDRESS"></text-control> </div> <select-enum-control ng-if="stub.isVoipProvider" prop="trunk.TransportRestriction" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.TRANSPORT_RESTRICTION"></select-enum-control> <mc-certificate-upload ng-if="trunk.TransportRestriction.value().indexOf(\'TLS\') > -1" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.TLS_ROOT_CERTIFICATE" mc-cert-expiry-date-prop="trunk.ProviderRootCertificateExpirationDate" mc-cert-file-prop="trunk.ProviderRootCertificateFile" mc-cert-prop="trunk.ProviderRootCertificate"></mc-certificate-upload> <select-enum-control ng-if="stub.isVoipProvider" prop="trunk.IPRestriction" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.IP_RESTRICTION"></select-enum-control> <div class="information" ng-show="trunk.IPRestriction.selected === \'TypeOfIPDestriction.IPV6\' && !haveIpv6biniding"> <ul> <li> <span class="fa fa-info-circle" style="color:#004085"></span> {{\'TRUNKS_GATEWAY.EDITOR.ADVANCED.IP_RESTRICTION_IPV6_NOTE\' |translate}} </li> </ul> </div> </panel> <panel mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.GATEWAY_OPTIONS_TITLE" ng-if="stub.configurationVisible"> <variable-control ng-repeat="variable in stub2.variables" variable="variable"></variable-control> </panel> <panel mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.CODEC_PRIORITY" ng-if="stub.isVoipProvider"> <set-control prop="gateway.Codecs" mc-title="BRIDGES.EDITOR.DIALOGS.ADD_CODECS.TITLE" button-title="REPOS.BUTTONS.OK_BTN"> <set-control-codecs></set-control-codecs> </set-control> </panel> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/did.html",
                '<tuple-array-control prop="trunk.SourceIDByDIDNumbers" maxlength="trunk.MaxDidsAllowed"> <div> <div class="panel panel-default"> <div class="panel-heading font-bold" translate="TRUNKS_GATEWAY.EDITOR.LIST_BUTTONS.DID_BTN"> </div> <div class="panel-body" sticky-to-top=""> <button type="button" ng-click="onAddClick()" ng-disabled="!did.isAllValid()" class="btn btn-sm btn-success"><i class="halflings halflings-plus"></i> <span translate="INBOUND_RULES.ADD_DID_BTN">Add Rule</span> </button> <button type="button" mc-stop-event ng-click="did.deleteSelectedDids()" ng-disabled="!(allowDelete() && did.isAllValid())" class="btn btn-sm btn-default btn-responsive" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"><i class="halflings halflings-remove"></i> Delete </button> </div> <table st-table="displayedCollection" st-safe-src="items" st-default-on-add class="table table-striped" did mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th translate="INBOUND_RULES.TBL_HEADING_DID_NUMBER">DID/DPI Number</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="item in displayedCollection.slice(0, itemsByPage) track by item.seq"> <td class="col-btn" mc-select-row="item"></td> <td ng-click="did.rowClicked(itemForm)"> <form editable-form name="itemForm" shown="inserted === item"> <span e-class="form-control" e-name="numberField" e-ng-keypress="keypress($event, itemForm)" e-maxlength="50" editable-text="item._str" e-ng-keyup="did.inspectValue($index, $data, itemForm, item, items)" e-ng-focus="did.inspectValue($index, $data, itemForm, item, items)" e-ng-blur="did.focusOut($event, $index, $data, itemForm, item, items)"> {{item._str}} </span> </form> </td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="did.deleteElement(item, $index, itemForm)" class="btn btn-xs btn-default" ng-disabled="did.lastUnvalidForm && !(did.lastUnvalidForm == itemForm) || !canBeDeleted(item)"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody><tfoot ng-if="items.length >= itemsByPage"> <tr> <td colspan="9" class="text-center"> <div ng-disabled="did.lastUnvalidForm && !(did.lastUnvalidForm == itemForm)" class="compact-pagination" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </td> </tr> </tfoot> </table> </div> </div> </tuple-array-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/sms.html",
                '<sms-control active-object="activeObject" stub="stubSms" mc-title="SMS"></sms-control> '
              ),
          ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/trunks/sms-control.html",
            '<div class="panel panel-default"> <mc-check-box-panel [prop]="$ctrl.messagingEnabled" [hide]="$ctrl.messaging" mc-title="{{$ctrl.mcTitle}}"> </mc-check-box-panel> <div class="panel-body"> <variable-control active-object="$ctrl.activeObject" disabled="!$ctrl.messagingEnabled._value" translation-context="TRUNKS_GATEWAY.EDITOR.SMS.VARIABLES." ng-repeat="variable in $ctrl.variables" variable="variable"></variable-control> <telegram-btn ng-if="$ctrl.isTelegram" stub="$ctrl.stub" active-object="$ctrl.activeObject"></telegram-btn> <span ng-if="$ctrl.hasWebhook"> <p class="m-b" translate="TRUNKS_GATEWAY.EDITOR.SMS.WEBHOOK">Copy webhook url</p> <copy-to-clipboard mc-class="\'td-ellipsis\'" mc-copied="$ctrl.getWebhookLink"></copy-to-clipboard> </span> </div> </div> '
          ),
      ]);
      var tl = nt()("js/app/trunks/add_cid_formatting_modal.html"),
        jy =
          '<div class="panel panel-default"> <checkbox-control-header prop="trunk.E164ProcessIncomingNumber" mc-title="TRUNKS_GATEWAY.EDITOR.FORMATTING.E164_PROCESS_INBOUND"> </checkbox-control-header> <div class="panel-body"> <div class="form-group"> <label translate="TRUNKS_GATEWAY.EDITOR.FORMATTING.E164_COUNTRY">Country</label> <select class="form-control" ng-options="ext.Id as ext._str for ext in countryCodes" ng-model="trunk.CountryCode.value" ng-disabled="trunk.CountryCode.disabled" ng-model-options="{getterSetter: true}"> </select> <div class="errors" ng-if="trunk.CountryCode.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{trunk.CountryCode.errorMsg}} </li> </ul> </div> </div> </div> </div> <panel mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.OUTBOUND_CALLER_ID"> <text-control prop="trunk.OutboundCallerId" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.SPECIFY_OUTBOUND_CALLER_ID"> </text-control> </panel> <panel mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.REFORMAT_INCOMING_OUTGOING_CALLER"> <label> <span translate="TRUNKS_GATEWAY.EDITOR.FORMATTING.REFORMAT_CALLER_ID_BY_CONF_MATCHING_PATTERNS"> Reformat Incoming or Outgoing Caller Identification numbers by configuring matching patterns. </span> <a href="{{\'LINKS.SIP_TRUNKS_CALLER_ID\' | translate}}" target="_blank" class="dashed_link"> <span translate="REPOS.TEXT.CLICK_HERE_MORE_INFO"></span> </a> </label> <div class="form-group"> <strong translate="REPOS.TEXT.INBOUND" class="padding-top-sm"></strong> <div class="line line-dashed b-b line-lg padding-bottom-sm"></div> <div class="margin-top-lg"> <property-list-control prop="trunk.InCIDFormattings" object-id="::Id" modal-editor-url="' +
          tl +
          '"> <formatting-list></formatting-list> </property-list-control> </div> </div> <div class="form-group"> <strong translate="REPOS.TEXT.OUTBOUND" class="padding-top-sm"></strong> <div class="line line-dashed b-b line-lg padding-bottom-sm"></div> <div class="margin-top-lg"> <property-list-control prop="trunk.OutCIDFormattings" object-id="::Id" modal-editor-url="' +
          tl +
          '"> <formatting-list></formatting-list> </property-list-control> </div> </div> </panel> ';
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) => t.put("js/app/trunks/formatting.html", jy),
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/formatting_list.html",
                ' <button type="button" ng-click="onAddClick()" class="btn btn-sm btn-success" id="btnAdd"> <span translate="REPOS.BUTTONS.ADD_BTN"><i class="halflings halflings-plus"></i>Add</span> </button> <button type="button" class="btn btn-sm btn-default" ng-disabled="!isAnySelected" ng-click="onDeleteClick()"><i class="halflings halflings-remove"></i><span translate="EXTENSIONS.EDITOR.FORWARDING_RULES.EXCEPTIONS_LIST.DELETE_EXCEPTION_BTN"> Delete</span> </button> <button type="button" class="btn btn-sm btn-default" ng-disabled="!moveUpEnabled" ng-click="onMoveUpClick()"><i class="fa fa-level-up"></i><span translate="EXTENSIONS.EDITOR.FORWARDING_RULES.EXCEPTIONS_LIST.MOVE_UP_EXCEPTION_BTN">Move Up</span></button> <button type="button" class="btn btn-sm btn-default" ng-disabled="!moveDownEnabled" ng-click="onMoveDownClick()"><i class="fa fa-level-down"></i> <span translate="EXTENSIONS.EDITOR.FORWARDING_RULES.EXCEPTIONS_LIST.MOVE_DOWN_EXCEPTION_BTN">Move Down</span></button> <table st-table="displayedItems" st-safe-src="items" class="table table-striped" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all="item"> </th> <th st-sort="SourcePattern._value" translate="TRUNKS_GATEWAY.DIALOGS.ADD_FORMATTING.SOURCE_PATTERN">Source pattern</th> <th st-sort="ReplacePattern._value" translate="TRUNKS_GATEWAY.DIALOGS.ADD_FORMATTING.REPLACE_PATTERN">Replace pattern</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="item in displayedItems" ng-click="onItemEditClickEx(item)"> <td class="col-btn" mc-select-row="item"></td> <td> {{item.SourcePattern._value}} <div class="errors"> <ul> <li ng-show="item.SourcePattern.errorMsg"> <span class="halflings halflings-exclamation-sign"></span> {{item.SourcePattern.errorMsg}} </li> </ul> </div> </td> <td> {{item.ReplacePattern._value}} <div class="errors"> <ul> <li ng-show="item.ReplacePattern.errorMsg"> <span class="halflings halflings-exclamation-sign"></span> {{item.ReplacePattern.errorMsg}} </li> </ul> </div> </td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="onItemDeleteClick(item)" class="btn btn-xs btn-default"><i class="fa fa-times"></i> </button> </td> </tr> </tbody> <tfoot> <tr> <td colspan="4" class="text-center"> <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </td> </tr> </tfoot> </table> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/general.html",
                '<panel mc-title="TRUNKS_GATEWAY.EDITOR.GENERAL.TRUNK_INFORMATION_TITLE"> <text-control prop="gateway.Name" mc-title="TRUNKS_GATEWAY.EDITOR.GENERAL.ENTER_NAME_OF_TRUNK"></text-control> <label translate="TRUNKS_GATEWAY.EDITOR.GENERAL.SIP_SERVER_HOSTNAME_OR_IP">SIP server hostname or IP</label> <div class="row m-b"> <div ng-class="[gateway.Host.class,(stub.isVoipProvider && !gateway.HostAutoDiscovery._value) ? \'col-sm-8\' : \'col-sm-10\']"> <input type="text" class="form-control" maxlength="255" ng-model="gateway.Host.value" ng-model-options="{getterSetter: true, updateOn: \'blur\'}"> <div class="errors" ng-show="gateway.Host.errorMsg"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> {{gateway.Host.errorMsg}} </li> </ul> </div> </div> <div class="col-sm-2" ng-class="gateway.Port.class" ng-if="(!gateway.HostAutoDiscovery._value && stub.isVoipProvider) || !stub.isVoipProvider"> <input type="number" class="form-control" placeholder="5060" max="100000" ng-pattern="/^[0-9]{1,6}$/" ng-model="gateway.Port.value" ng-model-options="{getterSetter: true, updateOn: \'blur\'}"> </div> <div class="col-sm-2" ng-if="stub.isVoipProvider" style="float:right"> <checkbox-control mc-title="TRUNKS_GATEWAY.EDITOR.GENERAL.AUTO_DISCOVERY" prop="gateway.HostAutoDiscovery"> </checkbox-control> </div> </div> <div class="m-b m-l-sm" ng-if="!gateway.ProvLink.hide"> <span translate="EXTENSIONS.EDITOR.PROVISIONING.PROVISION_LINK" class="m-r-xs"></span> {{gateway.ProvLink.value().replace(\'http://\', \'\')}} </div> <div ng-if="stub.isVoipProvider"> <label translate="TRUNKS_GATEWAY.EDITOR.GENERAL.OUTBOUND_PROXY">Outbound Proxy</label> <div class="row m-b"> <div ng-class="[gateway.ProxyHost.class,!gateway.ProxyAutoDiscovery._value ? \'col-sm-8\' : \'col-sm-10\']"> <input type="text" class="form-control" maxlength="255" ng-model="gateway.ProxyHost.value" ng-model-options="{getterSetter: true, updateOn: \'blur\'}"> <div class="errors" ng-show="gateway.ProxyHost.errorMsg"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> {{gateway.ProxyHost.errorMsg}} </li> </ul> </div> </div> <div class="col-sm-2" ng-class="gateway.ProxyPort.class" ng-if="!gateway.ProxyAutoDiscovery._value"> <input type="number" class="form-control" placeholder="5060" max="100000" ng-pattern="/^[0-9]{1,6}$/" ng-model="gateway.ProxyPort.value" ng-model-options="{getterSetter: true, updateOn: \'blur\'}"> <div class="errors" ng-show="gateway.ProxyPort.errorMsg"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> {{gateway.ProxyPort.errorMsg}} </li> </ul> </div> </div> <div class="col-sm-2" ng-class="gateway.ProxyPort.class" style="float:right"> <checkbox-control mc-title="TRUNKS_GATEWAY.EDITOR.GENERAL.AUTO_DISCOVERY" prop="gateway.ProxyAutoDiscovery"> </checkbox-control> </div> </div> </div> <div ng-if="stub.configurationVisible"> <variable-control variable="stub.gatewayMask" ng-if="stub.gatewayMask !== undefined"></variable-control> <variable-control variable="stub.toneSet" ng-if="stub.toneSet !== undefined"></variable-control> </div> <number-control prop="trunk.SimultaneousCalls" mc-title="TRUNKS_GATEWAY.EDITOR.GENERAL.NUMBER_OF_SIM_CALLS"> </number-control> <number-control prop="gateway.PortsNumber" mc-title="TRUNKS_GATEWAY.DIALOGS.ADD_GATEWAY.PORTS_NUMBER"> </number-control> </panel> <panel mc-title="TRUNKS_GATEWAY.EDITOR.GENERAL.AUTHENTICATION_TITLE"> <select-enum-control prop="gateway.RequireRegistrationFor" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.REQUIRE_REGISTRATION_FOR"></select-enum-control> <text-control prop="trunk.AuthId" maxlength="255" mc-title="TRUNKS_GATEWAY.EDITOR.GENERAL.AUTHENTICATION_ID"> </text-control> <password-control prop="trunk.AuthPassword" mc-title="TRUNKS_GATEWAY.EDITOR.GENERAL.AUTHENTICATION_PASSWORD" maxlength="255"> </password-control> <checkbox-control prop="trunk.UseSeparateAuthID" mc-title="TRUNKS_GATEWAY.EDITOR.GENERAL.3WAY_AUTHENTICATION" remove-class="true"></checkbox-control> <password-control prop="trunk.SeparateAuthID" maxlength="255"></password-control> </panel> <panel mc-title="TRUNKS_GATEWAY.EDITOR.GENERAL.ROUTING"> <text-control prop="trunk.MainDidNumber" mc-title="TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.DID_NUMBER"> </text-control> <routing-control type="\'trunk\'" prop="trunk.Routing._value"></routing-control> </panel> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/inbound_parameters.html",
                '<panel mc-title="TRUNKS_GATEWAY.EDITOR.INBOUND_PARAMETERS.SIP_HEADERS_INBOUND_TITLE"> <div class="form-group"> <label translate="TRUNKS_GATEWAY.EDITOR.INBOUND_PARAMETERS.SIP_HEADERS_INBOUND_LABEL"></label> </div> <table style="width:100%"> <tr ng-repeat="paramItem in gateway.InboundParameters._value"> <td> <div class="col-md-6"> <label class="m-b" translate="{{::paramItem.Description._value}}"></label> </div> <div class="col-md-6"> <select-enum-control prop="paramItem.Value" mc-no-translate mc-title="{{paramItem.Description._value}}"> </select-enum-control> </div> </td> </tr> </table> </panel> <div class="panel panel-default"> <checkbox-control-header prop="gateway.CallSourceIdentificationEnabled" mc-title="TRUNKS_GATEWAY.EDITOR.INBOUND_PARAMETERS.CALL_SOURCE_IDENTIFICATION"> </checkbox-control-header> <div class="panel-body"> <label translate="TRUNKS_GATEWAY.EDITOR.INBOUND_PARAMETERS.CALL_SOURCE_IDENTIFICATION_INFO"> Configure this option only when the SIP Trunk is IP based (peering), or does not support automatic inbound call detection. If you have multiple trunks from the same vendor and you have incoming call association problems, you might need to test with it on and off and see what works best for this SIP Trunk </label> <select-enum-control mc-no-translate prop="gateway.FirstSourceIDParameterSIPField"></select-enum-control> <select-enum-control mc-no-translate prop="gateway.FirstSourceIDParameterValue"></select-enum-control> <text-control prop="gateway.FirstSourceIDParameterCustomValue"></text-control> <checkbox-control prop="gateway.StrictTrustMatching" mc-title="TRUNKS_GATEWAY.EDITOR.INBOUND_PARAMETERS.STRICT_TRUST_MATCHING"> </checkbox-control></div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/outbound-parameters-control.html",
                '<panel mc-title="TRUNKS_GATEWAY.EDITOR.OUTBOUND_PARAMETERS.SIP_HEADERS_INBOUND_TITLE"> <div class="form-group"> <label translate="TRUNKS_GATEWAY.EDITOR.OUTBOUND_PARAMETERS.SIP_HEADERS_INBOUND_LABEL"></label> </div> <div class="row"> <div class="col-sm-4"> <label class="font-bold" translate="TRUNKS_GATEWAY.EDITOR.OUTBOUND_PARAMETERS.TBL_HEADING_SIP_FIELD"> SIP Field </label> </div> <div class="col-sm-4"> <label class="font-bold" translate="TRUNKS_GATEWAY.EDITOR.OUTBOUND_PARAMETERS.TBL_HEADING_VARIABLE"> Variable </label> </div> <div class="col-sm-4"> <label class="font-bold" translate="TRUNKS_GATEWAY.EDITOR.OUTBOUND_PARAMETERS.TBL_HEADING_CUSTOM_VALUE"> Custom Value </label> </div> </div> <div ng-repeat="paramItem in $ctrl.params"> <div class="row"> <div class="col-sm-4"> <label class="m-b" translate="{{::paramItem.Description._value}}"> </label> </div> <div class="col-sm-4"> <select-enum-control mc-no-translate prop="paramItem.Value"></select-enum-control> </div> <div class="col-sm-4"> <text-control prop="paramItem.CustomValue"></text-control> </div> </div> </div> </panel> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/outbound_parameters.html",
                '<outbound-parameters-control params="gateway.OutboundParameters._value"></outbound-parameters-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/trunk_editor.html",
                '<div ng-controller="TrunkEditorCtrl"> <input id="fileInput" name="fileInput" type="file" class="hide" accept=".pem"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3">{{::gateway.Name.value()}}</label> <a id="generateDeviceConfig" href="api/TrunkList/generateDeviceConfig?id={{::Id}}"></a> <button ng-if="stub.isGateway" class="btn m-l-lg m-b-xs" ng-click="stub.generateDeviceConfig()" translate="REPOS.BUTTONS.GENERATE_DEVICE_CONFIG_BTN" id="btnGenerateDeviceConfig" type="button">Generate device config </button> <button uib-tooltip="{{(activeObject.licenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED_TRUNK\' : \'\') | translate}}" ng-class="{\'m-l-lg\' : !stub.isGateway}" class="btn m-b-xs w-xs btn-success" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button">Save </button> <button class="btn m-b-xs w-xs btn-dark" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button">Cancel </button> <help-button url="{{\'LINKS.SIP_TRUNKS_HELP_BTN\' | translate }}"></help-button> </div> <div class="wrapper-md tab-container"> <ul class="nav nav-tabs"> <li role="presentation" ui-sref-active="active"> <a ui-sref=".general" translate="TRUNKS_GATEWAY.EDITOR.LIST_BUTTONS.GENERAL_BTN"> General </a> </li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".did" translate="TRUNKS_GATEWAY.EDITOR.LIST_BUTTONS.DID_BTN"> DID </a> </li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".formatting" translate="TRUNKS_GATEWAY.EDITOR.LIST_BUTTONS.FORMATTING_BTN"> Reformat caller ID </a> </li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".advanced" translate="TRUNKS_GATEWAY.EDITOR.LIST_BUTTONS.ADVANCED_BTN"> Options </a> </li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".inbound_parameters" translate="TRUNKS_GATEWAY.EDITOR.LIST_BUTTONS.INBOUND_PARAMETERS_BTN"> Inbound Parameters </a> </li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".outbound_parameters" translate="TRUNKS_GATEWAY.EDITOR.LIST_BUTTONS.OUTBOUND_PARAMETERS_BTN"> Outbound Parameters </a> </li> <li ng-if="hasSms()" role="presentation" ui-sref-active="active"> <a ui-sref=".sms" translate="TRUNKS_GATEWAY.EDITOR.LIST_BUTTONS.SMS_BTN"> SMS </a> </li> </ul> <div class="tab-content"> <ui-view></ui-view> </div> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/trunk_list.html",
                '<div ng-controller="TrunkListCtrl"> <list-control api_url="TrunkList" get-editor-state="GetEditorState(item)" confirm-deletion> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="TRUNKS_GATEWAY.TRUNKS_GATEWAY_MAIN_TITLE">Trunks / Gateways</label> <help-button url="{{\'LINKS.SIP_TRUNKS_HELP_BTN\' | translate }}"></help-button> </div> <div class="wrapper-md"> <div class="alert-list"> <div uib-alert="" class="alert-danger" ng-if="hasIpSipTrunkInHosted"> <span translate="TRUNKS_GATEWAY.IP_SIP_TRUNK_WITH_HOSTED_WARNING"></span> </div> </div> <div class="panel panel-default"> <div class="panel-heading" translate="TRUNKS_GATEWAY.TRUNKS_GATEWAY_TITLE">SIP Trunks</div> <div class="panel-body" sticky-to-top> <trunk-wizard on-new-sbc="onNewSbc(sbc)"></trunk-wizard> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="onTrunkEditClick()" ng-disabled="!isOneSelected || (isOneSelected && disableEditBtn(isLicenceStandard))" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"> <i class="halflings halflings-pencil"></i> Edit </button> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="onDeleteClick()" ng-disabled="!isAnySelected || !allowDelete" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i> Delete </button> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="onEnableAllClick()" id="btnEnableAll" translate="SYSTEM_STATUS.SECTIONS.TRUNKS.ENABLE_ALL_BTN"> <i class="fa fa-random"></i> Enable All </button> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="onDisableAllClick()" id="btnDisableAll" translate="SYSTEM_STATUS.SECTIONS.TRUNKS.DISABLE_ALL_BTN"> <i class="fa fa-ban"></i> Disable All </button> <refresh-registration-control license-restricted="isRefreshTrunksRegistrationProhibited"> </refresh-registration-control> <trunk-import selected-id="getSelectedTrunkId()"></trunk-import> <button type="button" class="btn btn-sm btn-default btn-responsive" ng-disabled="!isCorrectSelectedSbcsToPush()" ng-click="onPushClick()" translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.PUSH_CONFIG"> <i class="fa fa-ban"></i> Push config </button> <sbc-update selected-sbc="getSelectedSBCUpdate()"></sbc-update> </div> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped table-fixed" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="IsRegistered" class="col-btn"></th> <th st-sort="Name" translate="TRUNKS_GATEWAY.TBL_HEADING_NAME">Name</th> <th st-sort="Host" translate="TRUNKS_GATEWAY.TBL_HEADING_HOST">Host</th> <th class="col-responsive" st-sort="Type" translate="TRUNKS_GATEWAY.TBL_HEADING_TYPE">Type</th> <th class="col-responsive" st-sort="SimCalls" translate="TRUNKS_GATEWAY.TBL_HEADING_SIM_CALLS">Sim Calls</th> <th class="col-responsive" st-sort="ExternalNumber" translate="TRUNKS_GATEWAY.TBL_HEADING_MAIN_TRUNK_NUMBER">Main DID</th> <th class="col-responsive" st-sort="RegisterSentTime" translate="SYSTEM_STATUS.SECTIONS.TRUNKS.TBL_HEADING_REGISTER_SENT">Register Sent</th> <th class="col-responsive" st-sort="RegisterOkTime" translate="SYSTEM_STATUS.SECTIONS.TRUNKS.TBL_HEADING_REGISTER_OK">Register OK</th> <th class="col-responsive" st-sort="RegisterFailedTime" translate="SYSTEM_STATUS.SECTIONS.TRUNKS.TBL_HEADING_LAST_FAILED_REGISTER">Last Failed Register</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-click="!onTrunkItemEditClick(item, isLicenceStandard)" ng-repeat="item in displayedItems"> <td class="col-btn" mc-select-row="item"></td> <td class="fit-content-width"> <div ng-if="!isSBC(item)"> <warning-tooltip ng-if="item.ConfigurationIssue" alert="\'WARNINGS.TRUNK_CONFIGURATION_ISSUE\' | translate"></warning-tooltip> <span ng-if="!item.ConfigurationIssue && item.IsRegistered"><i class="fa fa-circle pull-left text-xs m-t-xs m-r-md" style="color:green"></i></span> <span ng-if="!item.ConfigurationIssue && !item.IsRegistered"><i class="fa fa-circle pull-left text-xs m-t-xs m-r-md" style="color:red"></i></span> </div> <div ng-if="isSBC(item)"> <span ng-if="!item.Status.Status"><i class="fa fa-circle pull-left text-xs m-t-xs m-r-md" style="color:green"></i></span> <span ng-if="item.Status.Status"><i class="fa fa-circle pull-left text-xs m-t-xs m-r-md" style="color:red"></i></span> </div> </td> <td> <i ng-if="item.IsExpiredProviderRootCertificate" class="fa fa-exclamation-triangle" style="color:red" uib-tooltip="{{\'TRUNKS_GATEWAY.TLS_CERTIFICATE_EXPIRED_ON\' | translate}} {{item.ExpiredProviderRootCertificateDate | mcDateFormat}}"></i> <i ng-if="item.Legacy && !item.Status.Status" class="fa fa-exclamation-triangle" style="color:red" uib-tooltip="{{\'TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.LEGACY_WARNING\' | translate}}"></i> <span>{{::item.Name}} &nbsp;</span> <span ng-if="item.OutOfDate && !item.Legacy && !isSbcRouterPhone(item)" style="top:-5px"> <i style="color:#00f;font-size:12px" uib-tooltip="{{\'TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.UPDATE_WARNING\' | translate}}"> {{\'SYSTEM_STATUS.SECTIONS.TRUNKS.UPDATE\' | translate}} </i> </span> </td> <td>{{::item.Host || \'--\'}}</td> <td class="col-responsive">{{::item.Type}}</td> <td class="col-responsive">{{::item.SimCalls}}</td> <td class="col-responsive"> <span ng-if="isSBC(item) && item.Version">{{\'TRUNKS_GATEWAY.VERSION_SBC\' | translate}} {{item.Version}}</span> <span ng-if="isSBC(item) && !item.Version">--</span> <span ng-if="!isSBC(item)">{{item.ExternalNumber}}</span> </td> <td class="col-responsive"> <span ng-if="isSBC(item)"> <span ng-if="!item.Status.Status"><i class="fa fa-arrow-up" style="color:green"></i></span> <span ng-if="item.Status.Status"> <i class="fa fa-arrow-down" style="color:red"></i></span> {{item.Status.Time|mcTimeFormat}} </span> <span ng-if="!isSBC(item)">{{item.RegisterSentTime ? (item.RegisterSentTime | mcDateFormat) : \'--\'}}</span> </td> <td class="col-responsive">{{item.RegisterOkTime ? (item.RegisterOkTime | mcDateFormat) : \'--\'}}</td> <td class="col-responsive">{{item.RegisterFailedTime ? (item.RegisterFailedTime | mcDateFormat) : \'--\'}}</td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="onItemDeleteClick(item)" ng-disabled="!item.CanBeDeleted" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> </div> </div> </div> </div> </list-control> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/bridges/advanced.html",
                '<panel mc-title="BRIDGES.EDITOR.ADVANCED.CONFIGURE_ADVANCED_OPTIONS"> <checkbox-control prop="trunk.EnableInboundCalls" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.ENABLE_INBOUND"> </checkbox-control> <checkbox-control prop="trunk.EnableOutboundCalls" mc-title="TRUNKS_GATEWAY.EDITOR.ADVANCED.ENABLE_OUTBOUND"> </checkbox-control> <checkbox-control mc-title="BRIDGES.EDITOR.ADVANCED.SUPPORTS_REINVITE" prop="gateway.SupportReinvite"></checkbox-control> <div ng-if="!activeObject.IsWebmeetingBridge.value()"> <checkbox-control mc-title="BRIDGES.EDITOR.ADVANCED.SUPPORTS_REPLACES" prop="gateway.SupportReplaces"></checkbox-control> <checkbox-control mc-title="BRIDGES.EDITOR.ADVANCED.PBX_DELIVERS_AUDIO" prop="gateway.DeliverAudio"></checkbox-control> <select-enum-control prop="gateway.SRTPMode" mc-title="BRIDGES.EDITOR.ADVANCED.SWITCH_ON_SECURE_RTP"></select-enum-control> </div> </panel> <outbound-parameters-control ng-if="!activeObject.IsWebmeetingBridge.value()" params="bridgeOutboundParams"></outbound-parameters-control> <panel mc-title="BRIDGES.EDITOR.ADVANCED.CODEC_PRIORITIES"> <set-control prop="gateway.Codecs" mc-title="BRIDGES.EDITOR.DIALOGS.ADD_CODECS.TITLE" button-title="REPOS.BUTTONS.OK_BTN"> <set-control-codecs></set-control-codecs> </set-control> </panel>'
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/bridges/bridge_editor.html",
                '<div ng-controller="BridgeEditorCtrl"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3">{{::gateway.Name.value()}}</label> <button uib-tooltip="{{(activeObject.licenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED\' : \'\') | translate}}" class="btn m-l-lg m-b-xs w-xs btn-success" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button">Save</button> <button class="btn m-b-xs w-xs btn-dark" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button">Cancel</button> <help-button url="{{\'LINKS.BRIDGES_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md tab-container"> <ul class="nav nav-tabs"> <li role="presentation" ui-sref-active="active"><a ui-sref=".general" translate="BRIDGES.EDITOR.LIST_BUTTONS.GENERAL_BTN">General</a></li> <li ng-if="!activeObject.IsWebmeetingBridge.value()" role="presentation" ui-sref-active="active"><a ui-sref=".remote_presence" translate="BRIDGES.EDITOR.LIST_BUTTONS.PRESENCE_BTN">Presence</a></li> <li role="presentation" ui-sref-active="active"><a ui-sref=".advanced" translate="BRIDGES.EDITOR.LIST_BUTTONS.ADVANCED_BTN">Advanced</a></li> </ul> <form name="outerForm"> <div class="tab-content"> <ui-view></ui-view> </div> </form> </div> </div> '
              ),
          ]);
      var aO =
        '<panel mc-title="BRIDGES.EDITOR.GENERAL.TITLE"> <text-control prop="gateway.Name" mc-title="BRIDGES.EDITOR.GENERAL.NAME_OF_BRIDGE" placeholder="BRIDGES.EDITOR.GENERAL.NAME_OF_BRIDGE"></text-control> <text-control prop="trunk.Number" mc-title="BRIDGES.EDITOR.GENERAL.VIRTUAL_EXTENSION_NUMBER" placeholder="BRIDGES.EDITOR.GENERAL.VIRTUAL_EXTENSION_NUMBER"></text-control> <text-control prop="trunk.RemotePBXPrefix" mc-title="BRIDGES.EDITOR.GENERAL.OUTBOUND_RULE_PREFIX" placeholder="BRIDGES.EDITOR.GENERAL.OUTBOUND_RULE_PREFIX"></text-control> <number-control prop="trunk.SimultaneousCalls" mc-title="BRIDGES.EDITOR.GENERAL.NUMBER_OF_SIM_CALLS"></number-control> </panel> <panel mc-title="BRIDGES.EDITOR.GENERAL.TYPE_OF_BRIDGE"> <div class="form-group m-b" ng-if="gateway.BridgeType.selected == \'BridgeType.Master\'"> <label translate="BRIDGES.EDITOR.GENERAL.MASTER_BRIDGE_INFO">This "Master" Bridge will receive registrations only. The other PBX must register with this password:</label> <password-control prop="trunk.AuthPassword"></password-control> </div> <div class="form-group m-b" ng-if="gateway.BridgeType.selected == \'BridgeType.Slave\'"> <label translate="BRIDGES.EDITOR.GENERAL.SLAVE_BRIDGE_INFO">This "Slave" Bridge will register with the remote system. In Direct (UDP) mode, all traffic will be sent via UDP and will use multiple ports</label> <password-control prop="trunk.AuthPassword" mc-title="BRIDGES.EDITOR.GENERAL.AUTHENTICATION_PASSWORD"></password-control> </div> </panel> <panel mc-title="BRIDGES.EDITOR.GENERAL.MASTER_PBX" ng-if="!activeObject.IsWebmeetingBridge.value()"> <div class="col-sm-12 no-padder"> <checkbox-control prop="trunk.TunnelEnabled" mc-title="BRIDGES.EDITOR.GENERAL.ALLOW_TUNNELED_CONNECTION"></checkbox-control> </div> <label class="col-sm-12 no-padder" translate="BRIDGES.EDITOR.GENERAL.REMOTE_END_BRIDGE_TUNNEL_IP_AND_PORT"></label> <div class="col-sm-11 no-padder" ng-class="{\'has-error\': trunk.TunnelRemoteAddr.errorMsg}"> <div ng-hide="trunk.TunnelRemoteAddr.hide"> <text-control template-url="' +
        nt()("tpl/controls/text-control-without-wrap-and-margin.html") +
        '" prop="trunk.TunnelRemoteAddr" maxlength="250" placeholder="BRIDGES.EDITOR.GENERAL.REMOTE_END_BRIDGE_TUNNEL_IP"></text-control> </div> </div> <div class="col-sm-1 no-padder" ng-class="{\'has-error\': trunk.TunnelRemotePort.errorMsg}"> <div ng-hide="trunk.TunnelRemoteAddr.hide" ng-class="prop.class"> <input type="number" class="form-control" min="0" max="100000" placeholder="5090" ng-model="trunk.TunnelRemotePort.value" ng-model-options="{getterSetter: true, updateOn: \'blur\'}" ng-disabled="trunk.TunnelRemoteAddr.disabled" required> </div> </div> <div class="col-sm-12 no-padder errors" ng-show="trunk.TunnelRemoteAddr.errorMsg || trunk.TunnelRemotePort.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{trunk.TunnelRemoteAddr.errorMsg || trunk.TunnelRemotePort.errorMsg}} </li> </ul> </div> <div class="col-sm-12 no-padder m-t" ng-if="gateway.BridgeType.selected == \'BridgeType.Slave\'"> <number-control prop="gateway.TimeBetweenRegistartion" mc-title="BRIDGES.EDITOR.GENERAL.TIME_BETWEEN_REGISTRATION_ATTEMPTS" placeholder="BRIDGES.EDITOR.GENERAL.TIME_BETWEEN_REGISTRATION_ATTEMPTS"></number-control> </div> </panel> ';
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) => t.put("js/app/trunks/bridges/general.html", aO),
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/bridges/remote_presence.html",
                '<div class="panel panel-default"> <checkbox-control-header prop="trunk.PublishPresence" mc-title="BRIDGES.EDITOR.REMOTE_PBX.PUBLISH_INFORMATION"> </checkbox-control-header> <fieldset class="panel-body"> <label class="clear" translate="BRIDGES.EDITOR.REMOTE_PBX.SELECT_GROUPS_TO_PUBLISH">Select groups which you want to publish to remote PBX</label> <set-control prop="trunk.PublishGroups" mc-title="BRIDGES.EDITOR.DIALOGS.ADD_GROUP.SELECT_GROUPS_TO_PUBLISH" button-title="REPOS.BUTTONS.OK_BTN"> <set-control-groups></set-control-groups> </set-control> </fieldset> </div> <div class="panel panel-default"> <checkbox-control-header prop="trunk.ReceivePresence" mc-title="BRIDGES.EDITOR.REMOTE_PBX.RECEIVE_INFORMATION"> </checkbox-control-header> <fieldset class="panel-body"> <text-control prop="activeObject.RemoteMyPhoneUriHost" mc-title="BRIDGES.EDITOR.REMOTE_PBX.URI_TO_MYPHONE" maxlength="250" placeholder="BRIDGES.EDITOR.REMOTE_PBX.ENTER_IP_ADDRESS_OR_FQDN"></text-control> <label class="clear" translate="BRIDGES.EDITOR.REMOTE_PBX.USERS_THAT_CAN_SEE_CONNECTION"> Users than can see this connection in 3CXPhone</label> <mc-extensions prop="trunk.AllowedExtensions" show-membership="true" dialog-title="BRIDGES.EDITOR.DIALOGS.ADD_USERS_CAN_SEE.TITLE"> </mc-extensions> </fieldset> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/messaging/messaging_general.html",
                '<panel mc-title="TRUNKS_GATEWAY.EDITOR.GENERAL.TRUNK_INFORMATION_TITLE"> <text-control prop="trunk.Name" mc-title="TRUNKS_GATEWAY.EDITOR.GENERAL.ENTER_NAME_OF_TRUNK"></text-control> </panel> <sms-control active-object="activeObject" stub="stubSms" messaging="true" mc-title="TRUNKS_GATEWAY.EDITOR.GENERAL.CONFIGURE"></sms-control> <panel mc-title="TRUNKS_GATEWAY.EDITOR.GENERAL.ROUTE"> <text-control prop="trunk.MainDidNumber" mc-title="TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.MESSAGING_NUMBER"> </text-control> <routing-control type="\'trunk\'" prop="trunk.Routing._value"></routing-control> </panel> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/trunks/messaging/messaging_editor.html",
                '<div ng-controller="MessagingEditorCtrl"> <input id="fileInput" name="fileInput" type="file" class="hide" accept=".pem"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3">{{::trunk.Name.value()}}</label> <button uib-tooltip="{{(activeObject.licenseRestricted ? \'REPOS.TEXT.PROFESSIONAL_REQUIRED_TRUNK\' : \'\') | translate}}" ng-class="{\'m-l-lg\' : !stub.isGateway}" class="btn m-b-xs w-xs btn-success" ng-click="saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" type="button">Save </button> <button class="btn m-b-xs w-xs btn-dark" ng-click="cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel" type="button">Cancel </button> <help-button url="{{providerHelpUrl() | translate }}"></help-button> </div> <div class="wrapper-md tab-container"> <ul class="nav nav-tabs"> <li role="presentation" ui-sref-active="active"> <a ui-sref=".general" translate="TRUNKS_GATEWAY.EDITOR.LIST_BUTTONS.GENERAL_BTN"> General </a> </li> </ul> <div class="tab-content"> <ui-view></ui-view> </div> </div> </div> '
              ),
          ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/trunks/messaging/telegram/telegram-btn.component.html",
              '<button class="btn m-b-xs m-t-xs btn-success" ng-click="$ctrl.showWizard()"> Authorize </button> <div ng-if="$ctrl.panel === \'verification_code\' && !$ctrl.done"> <div class="form-group m-b" aria-hidden="false"> <label>Enter the verification code</label> <input type="text" class="form-control" placeholder="" maxlength="50" ng-model="$ctrl.smsCode"> </div> <button class="btn m-b-xs m-t-xs btn-success" ng-click="$ctrl.sendVerificationCode()"> Send Verification code </button> </div> <div ng-if="$ctrl.panel === \'password\' && !$ctrl.done"> <div class="form-group m-b" aria-hidden="false"> <label>Enter the verification code</label> <input type="text" class="form-control" placeholder="" maxlength="50" ng-model="$ctrl.password"> </div> <button class="btn m-b-xs m-t-xs btn-success" ng-click="$ctrl.sendPassword()"> Send password </button> </div> '
            ),
        ]),
        u.module("app").directive("did", [
          "$translate",
          "$uibModal",
          function (t) {
            return {
              restrict: "EAC",
              link(c) {
                (c.did = {}),
                  (c.did.validatedElements = []),
                  (c.did.lastUnvalidForm = void 0),
                  (c.did.range = []),
                  (c.did.rowClicked = function (e) {
                    c.did.lastUnvalidForm
                      ? c.did.lastUnvalidForm.$show()
                      : e.$show();
                  }),
                  (c.did.isAllValid = function () {
                    return (
                      0 == c.did.validatedElements.filter((e) => 0 == e).length
                    );
                  }),
                  (c.did.inspectValue = function (e, n, i, a, l) {
                    (c.did.validatedElements[e] = c.did.validate({
                      index: e,
                      newDidValue: n,
                      form: i,
                      oldDidItem: a,
                      didItems: l,
                    })),
                      (c.did.lastUnvalidForm = c.did.validatedElements[e]
                        ? void 0
                        : i);
                  }),
                  (c.did.focusOut = function (e, n, i, a, l, s) {
                    c.did.validate({
                      index: n,
                      newDidValue: i,
                      form: a,
                      oldDidItem: l,
                      didItems: s,
                      showError: !0,
                    })
                      ? (a.$submit(),
                        c.push(l.seq),
                        (c.did.lastUnvalidForm = void 0))
                      : (c.did.lastUnvalidForm = a);
                  }),
                  (c.did.validate = function (e) {
                    return -1 == e.newDidValue.search(/^[a-zA-Z0-9+*]+$/)
                      ? (e.showError &&
                          t("WARNINGS.DID_NUMBER_IS_INVALID").then((a) => {
                            e.form.$setError("numberField", a);
                          }),
                        !1)
                      : e.newDidValue.length < 4
                      ? (e.showError &&
                          t("WARNINGS.LENGHT_NOT_LESS_THAN_CHARS", {
                            p0: 4,
                          }).then((a) => {
                            e.form.$setError("numberField", a);
                          }),
                        !1)
                      : e.didItems.find(
                          (a) => a !== e.oldDidItem && a._str === e.newDidValue
                        )
                      ? (e.showError &&
                          t("WARNINGS.DID_NUMBER_MUST_BE_DISTINCT").then(
                            (a) => {
                              e.form.$setError("numberField", a);
                            }
                          ),
                        !1)
                      : (e.form.$setError(null, ""), !0);
                  }),
                  (c.did.deleteElement = function (e, n, i) {
                    delete c.did.validatedElements[n],
                      i == c.did.lastUnvalidForm &&
                        (c.did.lastUnvalidForm = void 0),
                      i.$setError("numberField", null),
                      i.$submit(),
                      c.onItemDeleteClick(e);
                  }),
                  (c.did.deleteSelectedDids = function () {
                    c.deleteSelected();
                  }),
                  (c.padZero = function (e, n) {
                    return (e = e.toString()).length < n
                      ? c.padZero("0" + e, n)
                      : e;
                  });
              },
            };
          },
        ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/trunks/did_range.component.html",
              '<form name="rangeForm" novalidate role="form" mc-submit="$ctrl.onSubmit()" ng-model="$ctrl.params" max="$ctrl.maxAvalCount" did-range-validation="$ctrl.params" autocomplete="off"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="INBOUND_RULES.DIALOGS.DID.RANGES_HEADER"> Add DID Ranges </h4> </div> <div class="modal-body"> <label translate="INBOUND_RULES.DIALOGS.DID.TEXT"></label> <label translate="INBOUND_RULES.DIALOGS.DID.EXAMPLE"></label> <hr> <div class="form-group"> <label translate="INBOUND_RULES.DIALOGS.DID.ENTER_START_NUMBER">From</label> <input ng-model="$ctrl.params.from" name="numberFrom" ng-pattern="$ctrl.pattern" class="form-control" type="text" placeholder="{{\'INBOUND_RULES.DIALOGS.DID.FROM\' | translate}}" ng-minlength="4" ng-maxlength="15" required> <div class="errors" ng-if="rangeForm.$submitted"> <ul ng-messages="rangeForm.numberFrom.$error"> <li ng-message="maxlength"> <span class="halflings halflings-exclamation-sign"></span> <span translate="TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.DID_NUMBER_CANNOT_BE_MORE_THEN_15_DIGITS"></span> </li> <li ng-message="minlength"> <span class="halflings halflings-exclamation-sign"></span> <span translate="TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.DID_NUMBER_CANNOT_BE_LESS_THEN_4_DIGITS"></span> </li> <li ng-message="required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.DID_NUMBER_CANNOT_BE_LESS_THEN_4_DIGITS"></span> </li> <li ng-message="pattern"> <span class="halflings halflings-exclamation-sign"></span> <span translate="INBOUND_RULES.DIALOGS.DID.DIDS_RANGES_SHOULD_START_WITH_STAR_OR_NUMBER"></span> </li> </ul> </div> </div> <div class="form-group"> <label translate="INBOUND_RULES.DIALOGS.DID.ENTER_END_NUMBER">To</label> <input ng-model="$ctrl.params.to" name="numberTo" ng-pattern="$ctrl.pattern" class="form-control" type="text" placeholder="{{\'INBOUND_RULES.DIALOGS.DID.TO\' | translate}}" ng-maxlength="15" ng-minlength="4" required> <div class="errors" ng-if="rangeForm.$submitted"> <ul ng-messages="rangeForm.numberTo.$error"> <li ng-message="maxlength"> <span class="halflings halflings-exclamation-sign"></span> <span translate="TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.DID_NUMBER_CANNOT_BE_MORE_THEN_15_DIGITS"></span> </li> <li ng-message="minlength"> <span class="halflings halflings-exclamation-sign"></span> <span translate="TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.DID_NUMBER_CANNOT_BE_LESS_THEN_4_DIGITS"></span> </li> <li ng-message="required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.DID_NUMBER_CANNOT_BE_LESS_THEN_4_DIGITS"></span> </li> <li ng-message="pattern"> <span class="halflings halflings-exclamation-sign"></span> <span translate="INBOUND_RULES.DIALOGS.DID.DIDS_RANGES_SHOULD_START_WITH_STAR_OR_NUMBER"></span> </li> </ul> </div> <div class="errors" ng-if="rangeForm.$submitted"> <ul ng-messages="rangeForm.$error"> <li ng-message="fieldsIsNotTheSameLength"> <span class="halflings halflings-exclamation-sign"></span> <span translate="INBOUND_RULES.DIALOGS.DID.DIDS_RANGES_SHOULD_BE_SAME_LENGTH"></span> </li> <li ng-message="firstCharIsNotEquals"> <span class="halflings halflings-exclamation-sign"></span> <span translate="INBOUND_RULES.DIALOGS.DID.DID_START_STAR"></span> </li> <li ng-message="wrongOrder"> <span class="halflings halflings-exclamation-sign"></span> <span translate="INBOUND_RULES.DIALOGS.DID.START_NUMBER_SHOULD_BE_LESS"></span> </li> <li ng-message="maxCountExceeded"> <span class="halflings halflings-exclamation-sign"></span> <span>{{"INBOUND_RULES.DIALOGS.DID.DIFFERENCE_BETWEEN_SHOULD_BE_LESS" | translate:{count:100} }} </span> </li> <li ng-message="MAXNOOFDIDSExceeded"> <span class="halflings halflings-exclamation-sign"></span> <span>{{"INBOUND_RULES.DIALOGS.DID.MAXNOOFDIDS_EXCEEDED" | translate:{length: $ctrl.resolve.maxlength} }} </span> </li> </ul> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-primary" type="submit" translate="INBOUND_RULES.DIALOGS.DID.ADD_RANGES">Add</button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel </button> </div> </form> '
            ),
        ]),
        u.module("app").component("addDidRange", {
          templateUrl: "js/app/trunks/did_range.component.html",
          controller: class mO {
            constructor() {
              this.pattern = "^\\+[0-9]*$|^\\*[0-9]*$|^[0-9]*$";
            }
            get maxAvalCount() {
              return this.resolve.maxlength;
            }
            onSubmit() {
              (this.params.star =
                this.params.from[0] === this.params.to[0] &&
                "*" === this.params.to[0]),
                (this.params.plus =
                  this.params.from[0] === this.params.to[0] &&
                  "+" === this.params.to[0]),
                this.close({ $value: this.params });
            }
          },
          bindings: { resolve: "<", close: "&", dismiss: "&" },
        }),
        u.module("app").factory("defsApiService", (0, $.dV)(De.Ai)),
        u.module("app").component("smsControl", {
          controller: [
            "defsApiService",
            "MessageBoxSvc",
            class TO {
              constructor(c, e) {
                c.getSystemParameters()
                  .pipe((0, Nt.q)(1))
                  .subscribe({
                    next: (n) => {
                      this.fqdn = n.PbxExternalHost;
                    },
                    error: (n) => {
                      e.error(n);
                    },
                  });
              }
              get variables() {
                var c, e;
                return null !==
                  (e =
                    null === (c = this.stub) || void 0 === c
                      ? void 0
                      : c.variables) && void 0 !== e
                  ? e
                  : [];
              }
              get webhook() {
                var c, e;
                return (
                  (null ===
                    (e =
                      null === (c = this.activeObject) || void 0 === c
                        ? void 0
                        : c.MessagingProvider._value.SmsWebhook) || void 0 === e
                    ? void 0
                    : e._value) || ""
                );
              }
              get messagingEnabled() {
                var c;
                return null === (c = this.activeObject) || void 0 === c
                  ? void 0
                  : c.MessagingProvider._value.MessagingEnabled;
              }
              get configId() {
                var c;
                return (
                  (null === (c = this.activeObject) || void 0 === c
                    ? void 0
                    : c.MessagingProvider._value.SmsConfigId._value) || ""
                );
              }
              get providerType() {
                var c, e;
                return (
                  (null ===
                    (e =
                      null === (c = this.activeObject) || void 0 === c
                        ? void 0
                        : c.MessagingProvider._value.SmsProviderType) ||
                  void 0 === e
                    ? void 0
                    : e._value) || ""
                );
              }
              get hasWebhook() {
                var c, e;
                return (
                  (null ===
                    (e =
                      null === (c = this.activeObject) || void 0 === c
                        ? void 0
                        : c.MessagingProvider._value.HasWebhook) || void 0 === e
                    ? void 0
                    : e._value) || !1
                );
              }
              get isTelegram() {
                return "telegram" === this.providerType;
              }
              get getWebhookLink() {
                const c = this.fqdn
                  ? `https://${this.fqdn}`
                  : `${window.location.protocol}//${window.location.host}`;
                return this.activeObject
                  ? `${c}/sms/${this.providerType}/${this.configId}`.toLocaleLowerCase()
                  : "";
              }
            },
          ],
          bindings: {
            activeObject: "<",
            stub: "<",
            messaging: "<",
            mcTitle: "@",
          },
          templateUrl: "js/app/trunks/sms-control.html",
        }),
        u
          .module("app")
          .component("outboundParametersControl", {
            bindings: { params: "<" },
            templateUrl: "js/app/trunks/outbound-parameters-control.html",
          });
      let bO = (() => {
        class t extends ft {
          constructor(e) {
            super("TrunkList", void 0, e);
          }
          getProviderCountryList() {
            return this.$http.getApi("api/TrunkList/providerCountries");
          }
          getGatewayBrandList() {
            return this.$http.getApi("api/TrunkList/gatewayBrands");
          }
          getGatewayTemplate(e) {
            return this.$http.getApi("api/TrunkList/gateway", {
              params: { filename: e },
            });
          }
          getVoipProviderTemplate(e) {
            return this.$http.getApi("api/TrunkList/voiptemplate", {
              params: { filename: e },
            });
          }
          getProviders(e) {
            return this.$http.getApi("api/TrunkList/providers", {
              params: { country: e },
            });
          }
          getGateways(e) {
            return this.$http.getApi("api/TrunkList/gateways", {
              params: { brand: e },
            });
          }
          getGatewayPreviews() {
            return this.$http.getApi("api/TrunkList/gatewayPreviews");
          }
          createProvider(e) {
            return this.$http.postApi("api/TrunkList/createProvider", e);
          }
          importTrunkProvider(e) {
            return this.$http.postApi("api/TrunkList/importTrunkProvider", e);
          }
          createMessaging(e) {
            return this.$http.postApi("api/TrunkList/createMessaging", e);
          }
          createGateway(e) {
            return this.$http.postApi("api/TrunkList/createGateway", e);
          }
          createSbc(e) {
            return this.$http.postApi("api/TrunkList/createSbc", e);
          }
          pushSBCs(e) {
            return this.$http.postApi("api/TrunkList/push_sbc_settings", e);
          }
          generateDeviceConfig(e) {
            return this.$http.getApi(
              "api/TrunkList/generateDeviceConfig?id=" + e
            );
          }
          setMessaging(e) {
            return this.$http.postApi("api/TrunkList/setMessaging", { Id: e });
          }
          saveDeviceConfig(e) {
            return this.$http.postApi(
              "api/TrunkList/saveDeviceConfig?id=" + e,
              {}
            );
          }
          disconnectCall(e) {
            return this.$http.postApi("api/TrunkList/disconnectCall", e);
          }
          enableAll() {
            return this.$http.postApi("api/TrunkList/enableAll", {});
          }
          disableAll() {
            return this.$http.postApi("api/TrunkList/disableAll", {});
          }
          refreshRegistration(e) {
            return this.$http.postApi("api/TrunkList/refreshRegistration", e);
          }
          updateSBCVersion(e) {
            return this.$http.postApi(
              "api/TrunkList/sbc_update",
              JSON.stringify(e)
            );
          }
          getSBCUpdateInformation(e) {
            return this.$http.getApi("api/TrunkList/SbcUpdaterVersion", {
              params: { id: e },
            });
          }
          createMasterBridge() {
            return this.$http.postApi("api/TrunkList/CreateMasterBridge", {});
          }
          createSlaveBridge() {
            return this.$http.postApi("api/TrunkList/createSlaveBridge", {});
          }
          hasIpSipTrunkInHosted() {
            return this.$http.getApi("api/TrunkList/hasIpSipTrunkInHosted");
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      function xn(t, c, e = !0) {
        const n = {};
        return (
          void 0 === n[t] &&
            (n[t] = e ? c.getGatewayTemplate(t) : c.getVoipProviderTemplate(t)),
          n[t]
        );
      }
      u.module("app").service("TrunksSvc", bO);
      const al = (t) =>
        "%%tone_set_data%%" === t.Name ||
        "%%port_number%%" === t.Name ||
        "%%gateway_mask%%" === t.Name;
      u.module("app").controller("TrunkEditorCtrl", [
        "$scope",
        "$stateParams",
        "$window",
        "$translate",
        "MyUtilsSvc",
        "EditSvc",
        "TrunksSvc",
        "CustomParametersSvc",
        "$element",
        "$timeout",
        "$http",
        "MessageBoxSvc",
        function (t, c, e, n, i, a, l, s, r, o, p, f) {
          t.Id = c.Id;
          const m = c.Id;
          t.countryCodes = [{ Id: "", _str: "Not specified" }, ...yn];
          const g = {
              isVoipProvider: !1,
              isGateway: !1,
              configurationVisible: !1,
              hasDeviceConfig: !1,
              generateDeviceConfig: void 0,
              toneSet: void 0,
              gatewayMask: void 0,
              variables: [],
            },
            S = {},
            O = {};
          function j() {
            n("TRUNKS_GATEWAY.NO_TONE_SETS")
              .then(function () {})
              .catch(() => u.noop());
          }
          function X(Q) {
            t.activeObject.MessagingProvider._value &&
              Q.data.SmsVariables &&
              Q.data.SmsVariables.length > 0 &&
              fn(
                t.activeObject.MessagingProvider._value.SmsVariables,
                Q.data.SmsVariables,
                O
              );
          }
          (t.stub = g),
            (t.stub2 = S),
            (t.stubSms = O),
            s
              .getIPV6BindingValue()
              .then(function (Q) {
                t.haveIpv6biniding = Q.data;
              })
              .catch(() => u.noop()),
            (t.getExternalLineName = function (Q) {
              let _e = "(" + Q._str + ")";
              const Le = Q.ExternalNumber.value();
              return void 0 !== Le && Le.length > 0 && (_e = Le + " " + _e), _e;
            }),
            t.$watch("activeObject.Gateway._value", function (Q) {
              void 0 !== Q &&
                (function te(Q) {
                  (t.gateway = Q),
                    (g.isVoipProvider =
                      "TypeOfGateway.VoipProvider" === Q.TypeOfGateway.value()),
                    (g.isGateway =
                      "TypeOfGateway.Gateway" === Q.TypeOfGateway.value() ||
                      "TypeOfGateway.Unknown" === Q.TypeOfGateway.value());
                  const _e = Q.TemplateName.value();
                  !_e ||
                    xn(_e, l, g.isGateway)
                      .then((Le) => {
                        var Me, Ze;
                        if (
                          ((t.templateResponse = Le),
                          null === Le.data || "" === Le.data)
                        )
                          return;
                        const pt = "Grandstream GXW-4104" === Le.data.Name;
                        if (
                          ((g.hasDeviceConfig =
                            null !==
                              (Ze =
                                null ===
                                  (Me = Le.data.DeviceConfigDataStream) ||
                                void 0 === Me
                                  ? void 0
                                  : Me.some(Boolean)) &&
                            void 0 !== Ze &&
                            Ze),
                          (g.generateDeviceConfig = function () {
                            let ct = "";
                            _e.includes("Bero")
                              ? (ct = "/app/api/3CX.php")
                              : _e.includes("Khomp")
                              ? (ct = "/3CX.html")
                              : _e.includes("Patton") && (ct = "/imp-cfg.html");
                            try {
                              e.open(
                                "http://" + t.gateway.Host.value() + ct,
                                "_blank"
                              );
                            } catch (qw) {
                              console.error(qw);
                            }
                            (t.validationSuccesseful = () => {
                              pt
                                ? l.saveDeviceConfig(m)
                                : g.hasDeviceConfig &&
                                  document
                                    .getElementById("generateDeviceConfig")
                                    .click();
                            }),
                              t.serverValidation();
                          }),
                          X(Le),
                          void 0 === Le.data.Variables ||
                            0 === Le.data.Variables.length)
                        )
                          return void j();
                        const At = Le.data.Variables;
                        (g.configurationVisible = !0),
                          fn(
                            Q.VariableChoices,
                            At.filter((ct) => al(ct)),
                            g
                          ),
                          fn(
                            Q.VariableChoices2,
                            At.filter((ct) => !al(ct)),
                            S
                          ),
                          (g.toneSet = At.find(
                            (ct) => "%%tone_set_data%%" === ct.Name
                          )),
                          void 0 === g.toneSet && j(),
                          (g.gatewayMask = At.find(
                            (ct) => "%%gateway_mask%%" === ct.Name
                          ));
                      })
                      .catch(() => u.noop());
                })(Q);
            }),
            t.$watch("activeObject.MessagingProvider._value", function (Q) {
              void 0 !== Q &&
                (function K() {
                  t.templateResponse
                    ? X(t.templateResponse)
                    : t.gateway.TemplateName.value() &&
                      xn(t.gateway.TemplateName.value(), l, g.isGateway)
                        .then((Q) => {
                          null === Q.data ||
                            "" === Q.data ||
                            ((t.templateResponse = Q), X(Q));
                        })
                        .catch(() => u.noop());
                })();
            }),
            t.$watch("activeObject", function (Q) {
              void 0 !== Q && (t.trunk = Q);
            }),
            (t.hasSms = function () {
              var Q, _e, Le, Me;
              return (
                (null ===
                  (Me =
                    null ===
                      (Le =
                        null ===
                          (_e =
                            null === (Q = t.trunk) || void 0 === Q
                              ? void 0
                              : Q.MessagingProvider) || void 0 === _e
                          ? void 0
                          : _e._value) || void 0 === Le
                      ? void 0
                      : Le.HasSmsTemplate) || void 0 === Me
                  ? void 0
                  : Me._value) || !1
              );
            }),
            i.initEditController(t, a, "app.siptrunks").catch(() => u.noop()),
            (t.isValidDate = function (Q) {
              return null !== Q.match(/\d+/g);
            });
        },
      ]),
        u.module("app").controller("TrunkListCtrl", [
          "$scope",
          "$state",
          "MyUtilsSvc",
          "TrunksSvc",
          "ChannelRSvc",
          "$uibModal",
          function (t, c, e, n, i, a) {
            (t.sbcSubscription$ = i
              .sendBranch(
                { subName: "subscribeSbc", unSubName: "unSubscribeSbc" },
                i.sub("SetSbcStatus").pipe(
                  (0, We.U)(([l]) => {
                    console.log("received notification from server");
                    const s = t.items.map((r) => (r.Id === l.Id && (r = l), r));
                    t.setItems(s, !0), t.$apply();
                  })
                )
              )
              .subscribe()),
              (t.copyLowerCaseNestedParameters = (l, s) => (
                Object.keys(l).forEach((r) => {
                  const o = r.charAt(0).toLowerCase() + r.slice(1),
                    p = s[o];
                  void 0 !== p && "object" == typeof l[r]
                    ? (l[r] = t.copyLowerCaseNestedParameters(l[r], p))
                    : void 0 !== p && (l[r] = p);
                }),
                l
              )),
              n
                .hasIpSipTrunkInHosted()
                .then(function (l) {
                  t.hasIpSipTrunkInHosted = l.data;
                })
                .catch(() => u.noop()),
              t.$on("$destroy", function () {
                t.sbcSubscription$.unsubscribe();
              }),
              (t.getSelectedTrunkId = () => {
                const l = t.getSelectedItems();
                return l && 1 === l.length && "Provider" === l[0].Type
                  ? l[0].Id
                  : void 0;
              }),
              (t.getSelectedSBCUpdate = () => {
                const l = t.getSelectedItems();
                return !l ||
                  1 !== l.length ||
                  !l[0].OutOfDate ||
                  l[0].Status.Status ||
                  l[0].Legacy ||
                  "SBC" !== l[0].Type ||
                  t.isSbcRouterPhone(l[0])
                  ? void 0
                  : l[0];
              }),
              (t.isSbcRouterPhone = (l) => "SBC" === l.Type && !!l.PhoneMac),
              (t.disableEditBtn = (l) => {
                const s = t.getSelectedItems();
                return !(1 !== s.length || !l) && t.isWebmeetingBridge(s[0]);
              }),
              (t.isCorrectSelectedSbcsToPush = () => {
                const l = t.getSelectedItems(),
                  s = l.filter((r) => "SBC" === r.Type && !r.Status.Status);
                return l.length > 0 && s.length === l.length;
              }),
              (t.onTrunkEditClick = () => {
                const l = t.getSelectedItems()[0];
                t.onTrunkItemEditClick(l);
              }),
              (t.onTrunkItemEditClick = (l, s) => {
                "SBC" !== l.Type
                  ? !l.HasDevice && l.HasMessaging
                    ? n.setMessaging(l.Id).then((r) => {
                        c.go("app.trunk_messaging_editor.general", r.data);
                      })
                    : ((s && !t.isWebmeetingBridge(l)) || !s) &&
                      t.onItemEditClick(l)
                  : c.go("app.sbc_editor", { Id: l.Id });
              }),
              (t.GetEditorState = (l) =>
                l.ActiveObject &&
                l.ActiveObject.TypeOfGateway &&
                "TypeOfGateway.Bridge" == l.ActiveObject.TypeOfGateway.selected
                  ? "app.bridge_editor.general"
                  : "app.siptrunks_editor.general"),
              (t.onNewSbc = (l) => {
                t.items.push(l);
              }),
              (t.onEnableAllClick = function () {
                n.enableAll()
                  .then(function (l) {
                    t.setItems(l.data.list);
                  })
                  .catch(() => u.noop());
              }),
              (t.onDisableAllClick = function () {
                n.disableAll()
                  .then(function (l) {
                    t.setItems(l.data.list);
                  })
                  .catch(() => u.noop());
              }),
              (t.onPushClick = function () {
                return a
                  .open({ component: "sbcPushDialog", size: "md", resolve: {} })
                  .result.then(() => {
                    const l = t.getSelectedItems();
                    n.pushSBCs(l.map((s) => s.Id))
                      .then(() => {})
                      .catch(() => u.noop());
                  });
              }),
              (t.onRefreshRegistrationClick = function () {
                const l = t.getSelectedItems().map(function (s) {
                  return s.Number;
                });
                n.refreshRegistration(l)
                  .then(function (s) {
                    t.setItems(s.data.list);
                  })
                  .catch(() => u.noop());
              }),
              (t.isSBC = (l) => "SBC" === l.Type),
              (t.isWebmeetingBridge = (l) =>
                "Bridge Host - Direct" === l.Type && !l.CanBeDeleted);
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/trunks/wizard/trunk-wizard.component.html",
            '<button id="btnAddTrunk" type="button" ng-click="$ctrl.onAddProviderClick()" class="btn btn-sm btn-success btn-responsive"> <i class="halflings halflings-plus"></i> <span translate="TRUNKS_GATEWAY.LIST_BUTTONS.ADD_VOIP_PROVIDER_BTN">Add SIP Trunk</span> </button> <button id="btnAddGateway" type="button" ng-click="$ctrl.onAddGatewayClick()" class="btn btn-sm btn-success btn-responsive"> <i class="halflings halflings-plus"></i> <span translate="TRUNKS_GATEWAY.LIST_BUTTONS.ADD_GATEWAY_BTN">Add gateway</span></button> <button id="btnAddWhatsApp" type="button" ng-click="$ctrl.onAddWhatsAppClick()" class="btn btn-sm btn-success btn-responsive"> <i class="halflings halflings-plus"></i> <span translate="TRUNKS_GATEWAY.LIST_BUTTONS.ADD_WHATSAPP">Add WhatsApp</span></button> <button id="btnAddSBC" type="button" ng-click="$ctrl.onAddSbcClick()" class="btn btn-sm btn-success btn-responsive"> <i class="halflings halflings-plus"></i> <span translate="TRUNKS_GATEWAY.LIST_BUTTONS.ADD_SBC_BTN">Add SBC</span></button> <div class="btn-group dropdown btn-responsive"> <button type="button" id="btnAddBridge" class="btn btn-sm btn-success btn-responsive" aria-expanded="false" data-toggle="dropdown"> <i class="halflings halflings-plus"></i> <span translate="TRUNKS_GATEWAY.LIST_BUTTONS.ADD_BRIDGE_BTN">Add Bridge</span> </button> <ul class="dropdown-menu"> <li> <a ng-click="$ctrl.onAddMasterClick()" translate="BRIDGES.ADD_MASTER" id="btnAddMaster"></a> </li> <li> <a ng-click="$ctrl.onAddSlaveClick()" translate="BRIDGES.ADD_SLAVE" id="btnAddSlave"></a> </li> </ul> </div> '
          ),
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/trunks/wizard/add_gateway_provider_modal.html",
            '<form name="clientForm" novalidate role="form" mc-submit="onClick()" autocomplete="off"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="TRUNKS_GATEWAY.DIALOGS.ADD_GATEWAY.ADD_PSTN_GATEWAY_TITLE">Add PSTN Gateway</h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="TRUNKS_GATEWAY.DIALOGS.ADD_GATEWAY.SELECT_BRAND">Select Brand</label> <select class="form-control m-b" ng-model="stub.selectGatewayBrand" ng-options="brand for brand in brands" required> </select> </div> <div class="form-group"> <label translate="TRUNKS_GATEWAY.DIALOGS.ADD_GATEWAY.SELECT_MODEL_DEVICE">Select model/device</label> <select class="form-control m-b" ng-model="stub.selectGatewayModel" ng-disabled="stub.selectGatewayBrand==undefined" ng-options="gateway.Name for gateway in gateways" required> </select> </div> <div class="form-group"> <label translate="TRUNKS_GATEWAY.DIALOGS.ADD_GATEWAY.PORTS_NUMBER"></label> <input class="form-control" ng-model="stub.portsNumber" name="portsNumber" ng-pattern="/^[1-9]+[0-9]*$/" required> <div class="errors" ng-if="clientForm.$submitted"> <ul ng-messages="clientForm.portsNumber.$error"> <li ng-message="pattern"> <span class="halflings halflings-exclamation-sign"></span> <span translate="TRUNKS_GATEWAY.DIALOGS.ADD_GATEWAY.PORTS_NUMBER_SHOULD_NOT_BE_EMPTY"></span> </li> <li ng-message="required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="TRUNKS_GATEWAY.DIALOGS.ADD_GATEWAY.PORTS_NUMBER_SHOULD_NOT_BE_EMPTY"></span> </li> </ul> </div> </div> <mc-did-number-input submitted="clientForm.$submitted" error="clientForm.mainDidNumber.$error" main-did-number="stub.mainDidNumber"></mc-did-number-input> </div> <div class="modal-footer"> <button type="submit" class="btn btn-default" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" ng-disabled="stub.selectGatewayModel===undefined">Save</button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </form> '
          ),
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/trunks/wizard/add_sip_trunk_provider_modal.html",
            '<form name="clientForm" novalidate role="form" mc-submit="$close(stub)" autocomplete="off"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.ADD_VOIP_PROVIDER_TITLE">Add SIP Trunk/VoIP Provider</h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.SELECT_COUNTRY">Select Country</label> <ui-select class="form-group" ng-model="stub.selectProviderCountry" theme="bootstrap"> <ui-select-match> <img ng-src="{{stub.getCountryFlag(stub.selectProviderCountry)}}" width="24">&nbsp; {{stub.selectProviderCountry}} </ui-select-match> <ui-select-choices repeat="country in countries | filter: $select.search" value="{{::country}}"> <img ng-src="{{stub.getCountryFlag(country)}}" width="24">&nbsp; {{::country}} </ui-select-choices> </ui-select> </div> <div class="form-group"> <label translate="TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.SELECT_PROVIDER_IN_COUNTRY">Select Provider in your Country</label> <select class="form-control m-b" ng-model="stub.selectProviderInCountry" ng-disabled="!stub.selectProviderCountry" ng-options="provider.Name group by provider.ProviderTemplateName for provider in providers" required> </select> </div> <div class="alert alert-warning" role="alert" ng-if="stub.isThirdPartyProvider(stub.selectProviderInCountry)"> <span class="halflings halflings-warning-sign"></span> {{\'TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.THIRD_PARTY_WARNING\'|translate}} </div> <mc-did-number-input submitted="clientForm.$submitted" error="clientForm.mainDidNumber.$error" main-did-number="stub.mainDidNumber"></mc-did-number-input> </div> <div class="modal-footer"> <button type="submit" class="btn btn-default" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" ng-disabled="stub.selectProviderInCountry===undefined">Save</button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </form> '
          ),
      ]);
      let vO = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$scope = e),
              (this.$state = n),
              (this.$uibModal = i),
              (this.TrunksSvc = a);
          }
          editTrunk(e) {
            this.$state.go("app.siptrunks_editor.general", e.data);
          }
          editMessaging(e) {
            this.$state.go("app.trunk_messaging_editor.general", e.data);
          }
          onAddGatewayClick() {
            this.$uibModal
              .open({
                templateUrl:
                  "js/app/trunks/wizard/add_gateway_provider_modal.html",
                controller: "GatewayWizardCtrl",
                backdrop: "static",
              })
              .result.then((e) => {
                this.TrunksSvc.createGateway({
                  Brand: e.selectGatewayBrand,
                  Name: e.selectGatewayModel.Name,
                  PortsNumber: e.portsNumber,
                  mainDidNumber: e.mainDidNumber,
                })
                  .then((i) => {
                    this.editTrunk(i);
                  })
                  .catch(() => u.noop());
              })
              .catch(() => u.noop());
          }
          onAddProviderClick() {
            this.$uibModal
              .open({
                templateUrl:
                  "js/app/trunks/wizard/add_sip_trunk_provider_modal.html",
                controller: "SipTrunkWizardCtrl",
                backdrop: "static",
              })
              .result.then((e) => {
                const n = {
                  country: e.selectProviderCountry,
                  provider: e.selectProviderInCountry.Name,
                  mainDidNumber: e.mainDidNumber,
                };
                e.selectProviderInCountry.Messaging
                  ? this.crateMessaging(n)
                  : this.createSipTrunk(n);
              })
              .catch(() => u.noop());
          }
          createSipTrunk(e) {
            return this.TrunksSvc.createProvider(e)
              .then((n) => this.editTrunk(n))
              .catch(() => u.noop());
          }
          crateMessaging(e) {
            return this.TrunksSvc.createMessaging(e)
              .then((n) => this.editMessaging(n))
              .catch(() => u.noop());
          }
          onAddSbcClick() {
            this.$uibModal
              .open({ component: "sbcWizardCtrl", backdrop: "static" })
              .result.then((e) => {
                this.onNewSbc && this.onNewSbc({ sbc: e });
              })
              .catch(() => u.noop());
          }
          onAddWhatsAppClick() {
            this.crateMessaging({ provider: "WhatsApp", country: "Worldwide" });
          }
          editBridge(e) {
            this.$state.go("app.bridge_editor.general", e.data);
          }
          onAddMasterClick() {
            this.TrunksSvc.createMasterBridge()
              .then((e) => {
                this.editBridge(e);
              })
              .catch(() => u.noop());
          }
          onAddSlaveClick() {
            this.TrunksSvc.createSlaveBridge()
              .then((e) => {
                this.editBridge(e);
              })
              .catch(() => u.noop());
          }
        }
        return (t.$inject = ["$scope", "$state", "$uibModal", "TrunksSvc"]), t;
      })();
      u
        .module("app")
        .component("trunkWizard", {
          bindings: { onNewSbc: "&" },
          templateUrl: "js/app/trunks/wizard/trunk-wizard.component.html",
          controller: vO,
        }),
        u.module("app").controller("GatewayWizardCtrl", [
          "$scope",
          "TrunksSvc",
          function (t, c) {
            (t.stub = { portsNumber: 1, mainDidNumber: "" }),
              (t.onClick = function () {
                t.$close(t.stub);
              }),
              t.$watch("stub.selectGatewayModel", function () {}),
              t.$watch("stub.selectGatewayBrand", function (e) {
                void 0 !== e &&
                  ((t.gateways = t.allGateways[e]),
                  (t.stub.selectGatewayModel = t.gateways[0]));
              }),
              c
                .getGatewayPreviews()
                .then(function (n) {
                  (t.allGateways = n.data
                    .sort((i, a) => i.Name.localeCompare(a.Name))
                    .reduce(
                      (i, a) =>
                        4 === a.ProviderType
                          ? i
                          : Object.assign(i, {
                              [a.Brand]: (i[a.Brand] || []).concat([a]),
                            }),
                      {}
                    )),
                    (t.brands = Object.keys(t.allGateways).sort()),
                    (t.stub.selectGatewayBrand = t.brands[0]);
                })
                .catch(() => u.noop());
          },
        ]);
      const rl =
          "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik01MTIgMjU2YzAgMTQxLjM4NC0xMTQuNjE2IDI1Ni0yNTYgMjU2UzAgMzk3LjM4NCAwIDI1NiIgZmlsbD0iI2Q4MDAyNyIvPjwvc3ZnPg==",
        qO = {
          AT: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNNDk2LjA3NyAzNDUuMDQzQzUwNi4zNjggMzE3LjMxMSA1MTIgMjg3LjMxNCA1MTIgMjU2cy01LjYzMi02MS4zMDktMTUuOTIzLTg5LjA0M0wyNTYgMTQ0LjY5NiAxNS45MjMgMTY2Ljk1N0M1LjYzMyAxOTQuNjkxIDAgMjI0LjY4NiAwIDI1NnM1LjYzMyA2MS4zMTEgMTUuOTIzIDg5LjA0M0wyNTYgMzY3LjMwNGwyNDAuMDc3LTIyLjI2MXoiIGZpbGw9IiNmMGYwZjAiLz48cGF0aCBkPSJNMjU2IDUxMmMxMTAuMDcgMCAyMDMuOTA2LTY5LjQ3MiAyNDAuMDc2LTE2Ni45NTdIMTUuOTIyQzUyLjA5NCA0NDIuNTI4IDE0NS45MjggNTEyIDI1NiA1MTJ6bTAtNTEyQzE0NS45MjggMCA1Mi4wOTQgNjkuNDcyIDE1LjkyMiAxNjYuOTU3aDQ4MC4xNTVDNDU5LjkwNiA2OS40NzIgMzY2LjA3IDAgMjU2IDB6IiBmaWxsPSIjZDgwMDI3Ii8+PC9zdmc+",
          AU: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNNTEyIDI1NmMwIDE0MS4zODQtMTE0LjYxNiAyNTYtMjU2IDI1NlMwIDM5Ny4zODQgMCAyNTZDMCAyNTYuMDYgMjU2IC4wMjkgMjU2IDBjMTQxLjM4NCAwIDI1NiAxMTQuNjE2IDI1NiAyNTZ6IiBmaWxsPSIjMDA1MmI0Ii8+PGcgZmlsbD0iI2YwZjBmMCI+PHBhdGggZD0ibTI1NiAwLS4wNDMuMDAxTDI1NiAwem0tLjY4NSAyNTZIMjU2di0uNjg1bC0uNjg1LjY4NXoiLz48cGF0aCBkPSJNMjU2IDEzMy41NjZWLjAwMWgtLjA0M0MxMTQuNTkyLjAyNCAwIDExNC42MjkgMCAyNTZoMTMzLjU2NXYtNzUuMjEyTDIwOC43NzcgMjU2aDQ2LjUzOWwuNjg1LS42ODV2LTQ2LjUzNmwtNzUuMjEzLTc1LjIxM0gyNTZ6Ii8+PC9nPjxnIGZpbGw9IiNkODAwMjciPjxwYXRoIGQ9Ik0xMjkuNTE1IDMzLjM5MWEyNTcuMjIyIDI1Ny4yMjIgMCAwIDAtOTYuMTI0IDk2LjEyNFYyNTZoNjYuNzgzVjEwMC4xNzRIMjU2VjMzLjM5MUgxMjkuNTE1eiIvPjxwYXRoIGQ9Im0yNTYgMjI0LjUxOS05MC45NTMtOTAuOTUyaC0zMS40ODFjMC0uMDAxIDAgMCAwIDBMMjU1Ljk5OSAyNTZIMjU2di0zMS40ODF6Ii8+PC9nPjxwYXRoIGQ9Im0xNTQuMzk1IDMwMC41MjIgMTQuMDUgMjkuMzc4IDMxLjcyNy03LjMzMy0xNC4yMDggMjkuMzAyIDI1LjUxNCAyMC4yMzMtMzEuNzY3IDcuMTYuMDg5IDMyLjU2NC0yNS40MDUtMjAuMzczLTI1LjQwNCAyMC4zNzMuMDg5LTMyLjU2NC0zMS43NjgtNy4xNiAyNS41MTUtMjAuMjMzLTE0LjIxLTI5LjMwMiAzMS43MjkgNy4zMzN6bTIyOC44ODkgNTUuNjUyIDcuMDI1IDE0LjY4OSAxNS44NjQtMy42NjctNy4xMDUgMTQuNjUxIDEyLjc1OCAxMC4xMTctMTUuODg0IDMuNTguMDQ0IDE2LjI4Mi0xMi43MDItMTAuMTg3LTEyLjcwMiAxMC4xODcuMDQ0LTE2LjI4Mi0xNS44ODMtMy41OCAxMi43NTctMTAuMTE3LTcuMTA0LTE0LjY1MSAxNS44NjMgMy42Njd6bS02NS4zNTEtMTU1LjgyNiA3LjAyNCAxNC42OSAxNS44NjQtMy42NjgtNy4xMDQgMTQuNjUxIDEyLjc1NyAxMC4xMTctMTUuODgzIDMuNTguMDQzIDE2LjI4Mi0xMi43MDEtMTAuMTg3TDMwNS4yMzEgMjU2bC4wNDMtMTYuMjgyLTE1Ljg4My0zLjU4IDEyLjc1Ny0xMC4xMTctNy4xMDQtMTQuNjUxIDE1Ljg2NCAzLjY2OHptNjUuMzUxLTg5LjA0NCA3LjAyNSAxNC42OSAxNS44NjQtMy42NjctNy4xMDQgMTQuNjUxIDEyLjc1NiAxMC4xMTYtMTUuODgzIDMuNTgxLjA0NCAxNi4yODItMTIuNzAyLTEwLjE4Ny0xMi43MDIgMTAuMTg3LjA0NC0xNi4yODItMTUuODgzLTMuNTgxIDEyLjc1Ni0xMC4xMTYtNy4xMDMtMTQuNjUxIDE1Ljg2MyAzLjY2N3ptNTcuMDg0IDY2Ljc4MyA3LjAyNCAxNC42OSAxNS44NjQtMy42NjgtNy4xMDQgMTQuNjUxIDEyLjc1NyAxMC4xMTctMTUuODg0IDMuNTgxLjA0NCAxNi4yODEtMTIuNzAxLTEwLjE4Ni0xMi43MDIgMTAuMTg2LjA0My0xNi4yODEtMTUuODgzLTMuNTgxIDEyLjc1Ny0xMC4xMTctNy4xMDQtMTQuNjUxIDE1Ljg2MyAzLjY2OHpNMzk5LjU1IDI1Nmw1LjUyNSAxNy4wMDZoMTcuODgybC0xNC40NjcgMTAuNTExIDUuNTI3IDE3LjAwNS0xNC40NjctMTAuNTEtMTQuNDY2IDEwLjUxIDUuNTI1LTE3LjAwNS0xNC40NjYtMTAuNTExaDE3Ljg4MXoiIGZpbGw9IiNmMGYwZjAiLz48L3N2Zz4=",
          BR: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iIzZkYTU0NCIvPjxwYXRoIGZpbGw9IiNmZmRhNDQiIGQ9Ik0yNTYgMTAwLjE3NCA0NjcuNDc4IDI1NiAyNTYgNDExLjgyNiA0NC41MjIgMjU2eiIvPjxjaXJjbGUgY3g9IjI1NiIgY3k9IjI1NiIgcj0iODkuMDQzIiBmaWxsPSIjZjBmMGYwIi8+PHBhdGggZD0iTTIxMS40NzggMjUwLjQzNWMtMTUuNDg0IDAtMzAuNDI3IDIuMzU1LTQ0LjQ5MyA2LjcyNS42MjMgNDguNjQgNDAuMjI3IDg3Ljg4NCA4OS4wMTUgODcuODg0IDMwLjE2OCAwIDU2LjgxMi0xNS4wMTcgNzIuOTE5LTM3Ljk2OC0yNy41NTctMzQuNDk3LTY5Ljk1OC01Ni42NDEtMTE3LjQ0MS01Ni42NDF6bTEzMS45MTUgMjIuNjI1YTg5LjQ1IDg5LjQ1IDAgMCAwIDEuNjUxLTE3LjA2YzAtNDkuMTc4LTM5Ljg2Ni04OS4wNDMtODkuMDQzLTg5LjA0My0zNi42OTQgMC02OC4xOTQgMjIuMjAxLTgxLjgyNiA1My44OTlhMTgzLjY5MyAxODMuNjkzIDAgMCAxIDM3LjMwNS0zLjgxMmM1MS43MTctLjAwMSA5OC41MDMgMjEuNDk3IDEzMS45MTMgNTYuMDE2eiIgZmlsbD0iIzAwNTJiNCIvPjwvc3ZnPg==",
          BG: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNNTEyIDI1NmMwLTMxLjMxNC01LjYzMi02MS4zMTEtMTUuOTIzLTg5LjA0M0wyNTYgMTU1LjgyNmwtMjQwLjA3NyAxMS4xM0M1LjYzMyAxOTQuNjg5IDAgMjI0LjY4NiAwIDI1NnM1LjYzMyA2MS4zMTEgMTUuOTIzIDg5LjA0M0wyNTYgMzU2LjE3NGwyNDAuMDc3LTExLjEzQzUwNi4zNjggMzE3LjMxMSA1MTIgMjg3LjMxNCA1MTIgMjU2eiIgZmlsbD0iIzQ5NmUyZCIvPjxwYXRoIGQ9Ik0yNTYgNTEyYzExMC4wNzEgMCAyMDMuOTA2LTY5LjQ3MiAyNDAuMDc3LTE2Ni45NTdIMTUuOTIzQzUyLjA5NCA0NDIuNTI4IDE0NS45MjkgNTEyIDI1NiA1MTJ6IiBmaWxsPSIjZDgwMDI3Ii8+PHBhdGggZD0iTTE1LjkyMyAxNjYuOTU3aDQ4MC4xNTVDNDU5LjkwNiA2OS40NzIgMzY2LjA3MSAwIDI1NiAwUzUyLjA5NCA2OS40NzIgMTUuOTIzIDE2Ni45NTd6IiBmaWxsPSIjZjBmMGYwIi8+PC9zdmc+",
          BE: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI0Y5REY0NyIvPjxwYXRoIGQ9Ik01MTIgMjU2YzAtMTEwLjA3LTY5LjQ3Mi0yMDMuOTA2LTE2Ni45NTctMjQwLjA3NnY0ODAuMTU1QzQ0Mi41MjggNDU5LjkwNiA1MTIgMzY2LjA3MiA1MTIgMjU2eiIgZmlsbD0iI0VDMjkzOCIvPjxwYXRoIGQ9Ik0wIDI1NmMwIDExMC4wNzIgNjkuNDcyIDIwMy45MDYgMTY2Ljk1NyAyNDAuMDc4VjE1LjkyNEM2OS40NzIgNTIuMDk0IDAgMTQ1LjkzIDAgMjU2eiIvPjwvc3ZnPg==",
          CA: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik01MTIgMjU2YzAtMTAxLjQ5NC01OS4wNjUtMTg5LjE5LTE0NC42OTYtMjMwLjU5OHY0NjEuMTk1QzQ1Mi45MzUgNDQ1LjE5IDUxMiAzNTcuNDk0IDUxMiAyNTZ6TTAgMjU2YzAgMTAxLjQ5NCA1OS4wNjUgMTg5LjE5IDE0NC42OTYgMjMwLjU5OFYyNS40MDJDNTkuMDY1IDY2LjgxIDAgMTU0LjUwNiAwIDI1NnptMzAwLjUyMiAzMy4zOTEgNDQuNTIxLTIyLjI2MS0yMi4yNi0xMS4xM3YtMjIuMjYxTDI3OC4yNjEgMjU2bDIyLjI2MS00NC41MjJoLTIyLjI2MUwyNTYgMTc4LjA4N2wtMjIuMjYxIDMzLjM5MWgtMjIuMjYxTDIzMy43MzkgMjU2bC00NC41MjItMjIuMjYxVjI1NmwtMjIuMjYgMTEuMTMgNDQuNTIxIDIyLjI2MS0xMS4xMyAyMi4yNjFoNDQuNTIydjMzLjM5MWgyMi4yNnYtMzMuMzkxaDQ0LjUyMnoiIGZpbGw9IiNkODAwMjciLz48L3N2Zz4=",
          CH: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2Q4MDAyNyIvPjxwYXRoIGZpbGw9IiNmMGYwZjAiIGQ9Ik0zODkuNTY1IDIxMS40NzloLTg5LjA0M3YtODkuMDQ0aC04OS4wNDR2ODkuMDQ0aC04OS4wNDN2ODkuMDQzaDg5LjA0M3Y4OS4wNDNoODkuMDQ0di04OS4wNDNoODkuMDQzeiIvPjwvc3ZnPg==",
          CY: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2ZjZmNmYyIvPjxwYXRoIGQ9Ik00MDAuNjk2IDIyMi42MDloLTMzLjM5MWMwIDYxLjQ3Mi00OS44MzQgMTExLjMwNC0xMTEuMzA0IDExMS4zMDQtNjEuNDczIDAtMTExLjMwNC00OS44MzItMTExLjMwNC0xMTEuMzA0aC0zMy4zOTFjMCA2Ni4yMTUgNDQuNDc2IDEyMi4wNDIgMTA1LjE4NiAxMzkuMjM1LTYuNjU2IDEyLjY0NC01LjY0MiAyOC41NjMgMy44NjYgNDAuNDI4IDEyLjQ4OC0xMC4wMDkgMjUuNDE3LTIwLjM3IDM2LjM4NS0yOS4xNThsMzYuMzg1IDI5LjE1OGM5LjYwMi0xMS45ODMgMTAuNTQ3LTI4LjEwNCAzLjY3LTQwLjgwOSA2MC4wNDUtMTcuNjE1IDEwMy44OTgtNzMuMTEgMTAzLjg5OC0xMzguODU0eiIgZmlsbD0iIzZkYTU0NCIvPjxwYXRoIGQ9Ik0xNjYuOTU3IDIxMS40NzhzMCA1NS42NTIgNTUuNjUyIDU1LjY1MmwxMS4xMyAxMS4xM0gyNTZzMTEuMTMtMzMuMzkxIDMzLjM5MS0zMy4zOTFjMCAwIDAtMjIuMjYxIDIyLjI2MS0yMi4yNjFoMzMuMzkxcy0xMS4xMy00NC41MjIgNDQuNTIyLTc3LjkxM2wtMjIuMjYxLTExLjEzcy03Ny45MTMgNTUuNjUyLTEzMy41NjUgNDQuNTIydjIyLjI2MWgtMjIuMjYxbC0xMS4xMy0xMS4xMy0zMy4zOTEgMjIuMjZ6IiBmaWxsPSIjZmZkYTQ0Ii8+PC9zdmc+",
          CZ: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik0yMzMuNzM5IDI1NlM3NS4xMyA0MzcuMDU1IDc0Ljk4IDQzNy4wMTlDMTIxLjMwNiA0ODMuMzQ2IDE4NS4zMDcgNTEyIDI1NiA1MTJjMTQxLjM4NCAwIDI1Ni0xMTQuNjE2IDI1Ni0yNTZIMjMzLjczOXoiIGZpbGw9IiNkODAwMjciLz48cGF0aCBkPSJNNzQuOTggNzQuOThjLTk5Ljk3NCA5OS45NzQtOTkuOTc0IDI2Mi4wNjUgMCAzNjIuMDRMMjU2IDI1NiA3NC45OCA3NC45OHoiIGZpbGw9IiMwMDUyYjQiLz48L3N2Zz4=",
          DK: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik0yMDAuMzQ5IDIyMi42MDloMzA5LjQ4NEM0OTMuNDcgOTcuMDAyIDM4Ni4wNjcgMCAyNTYgMGEyNTYuOTAyIDI1Ni45MDIgMCAwIDAtNTUuNjUyIDYuMDg1djIxNi41MjRoLjAwMXptLTY2Ljc4NC0uMDAxVjMxLjEyN0M2My4yNzIgNjkuNDgxIDEyLjk1IDEzOS44MzIgMi4xNjcgMjIyLjYwOWgxMzEuMzk4di0uMDAxem0tLjAwMSA2Ni43ODNIMi4xNjdjMTAuNzgzIDgyLjc3NyA2MS4xMDUgMTUzLjEyOCAxMzEuMzk4IDE5MS40ODFsLS4wMDEtMTkxLjQ4MXptNjYuNzg0LjAwMXYyMTYuNTIzQTI1Ni45MDIgMjU2LjkwMiAwIDAgMCAyNTYgNTEyYzEzMC4wNjcgMCAyMzcuNDctOTcuMDAyIDI1My44MzMtMjIyLjYwOUgyMDAuMzQ4di4wMDF6IiBmaWxsPSIjZDgwMDI3Ii8+PC9zdmc+",
          IL: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik0zNTIuMzkzIDIwMC4zNDhIMjg4LjEzTDI1NiAxNDQuNjk2bC0zMi4xMjkgNTUuNjUyaC02NC4yNjRMMTkxLjc0MSAyNTZsLTMyLjEzNCA1NS42NTJoNjQuMjY0TDI1NiAzNjcuMzA0bDMyLjEzLTU1LjY1Mmg2NC4yNjNMMzIwLjI1OSAyNTZsMzIuMTM0LTU1LjY1MnpNMjk1LjQ3NSAyNTZsLTE5LjczNiAzNC4xODhoLTM5LjQ3NUwyMTYuNTI1IDI1NmwxOS43MzgtMzQuMTg4aDM5LjQ3NUwyOTUuNDc1IDI1NnpNMjU2IDE4Ny42MjNsNy4zNDYgMTIuNzI0aC0xNC42OUwyNTYgMTg3LjYyM3ptLTU5LjIxNCAzNC4xODloMTQuNjkybC03LjM0NiAxMi43MjQtNy4zNDYtMTIuNzI0em0wIDY4LjM3NiA3LjM0Ny0xMi43MjQgNy4zNDYgMTIuNzI0aC0xNC42OTN6TTI1NiAzMjQuMzc2bC03LjM0NS0xMi43MjRoMTQuNjkxTDI1NiAzMjQuMzc2em01OS4yMTQtMzQuMTg4aC0xNC42OTJsNy4zNDctMTIuNzI0IDcuMzQ1IDEyLjcyNHptLTE0LjY5Mi02OC4zNzZoMTQuNjkybC03LjM0NiAxMi43MjQtNy4zNDYtMTIuNzI0em0xMTQuODM1LTE2Ni4xNkg5Ni42NDNhMjU3LjI5MyAyNTcuMjkzIDAgMCAwLTU5LjA2OSA2Ni43ODNoNDM2Ljg1MmEyNTcuMzQ2IDI1Ny4zNDYgMCAwIDAtNTkuMDY5LTY2Ljc4M3pNOTYuNjQzIDQ1Ni4zNDhoMzE4LjcxM2EyNTcuMjkzIDI1Ny4yOTMgMCAwIDAgNTkuMDY5LTY2Ljc4M0gzNy41NzRhMjU3LjM0NiAyNTcuMzQ2IDAgMCAwIDU5LjA2OSA2Ni43ODN6IiBmaWxsPSIjMDA1MmI0Ii8+PC9zdmc+",
          LI: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNNTEyIDI1NmMwIDE0MS4zODQtMTE0LjYxNiAyNTYtMjU2IDI1NlMwIDM5Ny4zODQgMCAyNTZjMTEuMTMgMCAyNTYtMzMuMzkxIDI1Ni0zMy4zOTFMNTEyIDI1NnoiIGZpbGw9IiNkODAwMjciLz48cGF0aCBkPSJNMCAyNTZDMCAxMTQuNjE2IDExNC42MTYgMCAyNTYgMHMyNTYgMTE0LjYxNiAyNTYgMjU2IiBmaWxsPSIjMDA1MmI0Ii8+PHBhdGggZD0iTTE4OS4yMTcgMTc4LjA4N2MwLTE4LjQ0MS0xNC45NS0zMy4zOTEtMzMuMzkxLTMzLjM5MS04LjU1NSAwLTE2LjM1MiAzLjIyLTIyLjI2MSA4LjUwOXYtMTkuNjRoMTEuMTN2LTIyLjI2MWgtMTEuMTN2LTExLjEzaC0yMi4yNjF2MTEuMTNoLTExLjEzdjIyLjI2MWgxMS4xM3YxOS42NGMtNS45MDktNS4yODktMTMuNzA2LTguNTA5LTIyLjI2MS04LjUwOS0xOC40NDEgMC0zMy4zOTEgMTQuOTUtMzMuMzkxIDMzLjM5MSAwIDkuODg3IDQuMzAxIDE4Ljc2NyAxMS4xMyAyNC44ODJ2MTkuNjRoMTExLjMwNHYtMTkuNjRjNi44MzEtNi4xMTUgMTEuMTMxLTE0Ljk5NSAxMS4xMzEtMjQuODgyeiIgZmlsbD0iI2ZmZGE0NCIvPjwvc3ZnPg==",
          LU: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik0yNTYgMEMxNDUuOTI5IDAgNTIuMDk0IDY5LjQ3MiAxNS45MjMgMTY2Ljk1N2g0ODAuMTU1QzQ1OS45MDYgNjkuNDcyIDM2Ni4wNzEgMCAyNTYgMHoiIGZpbGw9IiNkODAwMjciLz48cGF0aCBkPSJNMjU2IDUxMmMxMTAuMDcxIDAgMjAzLjkwNi02OS40NzIgMjQwLjA3Ny0xNjYuOTU3SDE1LjkyM0M1Mi4wOTQgNDQyLjUyOCAxNDUuOTI5IDUxMiAyNTYgNTEyeiIgZmlsbD0iIzMzOGFmMyIvPjwvc3ZnPg==",
          LK: "data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmZmNlMzF9PC9zdHlsZT48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjMxLjcgNTEuOGgxNzYuN0MzNjYgMTkuNiAzMTMuNC44IDI1NS4zLjhzLTExMC43IDE4LjgtMTUzLjEgNTFIMjAxdjQwOC4zaC05OC45YzQyLjQgMzIuMiA5NSA1MSAxNTMuMSA1MXMxMTAuNy0xOC44IDE1My4xLTUxSDIzMS43VjUxLjh6Ii8+PHBhdGggZD0iTTUxMC40IDI1NmMwLTgzLjItNDAtMTU3LjEtMTAyLjEtMjA0LjJIMjMxLjd2NDA4LjNoMTc2LjdjNjItNDcgMTAyLTEyMC45IDEwMi0yMDQuMSIgZmlsbD0iI2M5NDc0NyIvPjxwYXRoIGQ9Ik0yMDEgNTEuOGgtOTguOWMtLjguOC0yLjQgMS42LTMuMSAyLjRWNDU3Yy44LjggMi40IDEuNiAzLjEgMi40SDIwMVY1MS44IiBmaWxsPSIjZmY4NzM2Ii8+PHBhdGggZD0iTTAgMjU2YzAgODEuNyAzOC41IDE1NC43IDk4LjkgMjAxLjhWNTQuMkMzOC41IDEwMS4zIDAgMTc0LjMgMCAyNTZ6IiBmaWxsPSIjNjk5NjM1Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI3NS42IDQwNmMtOS40IDcuMS0yNy41IDYuMy0zNC42IDE0LjEtOS40IDkuNC44IDIxLjIuOCAyMi44bC0uOCA3LjFzNi4zIDAgOS40LjhjMy45LjggNi4zIDMuOSAxMi42IDMuMSAxOC44LS44IDE4LjEtMTguMSAxOC44LTMyLjIuOC01LjUgMy4xLTEyLjYgMy45LTE4LjEuOC01LjUgMS42LTExLjggMS42LTExLjguMS0yLjMtNS40IDkuNS0xMS43IDE0LjJtNi4zLTMxNC4xYy0uOC0xNC4xIDAtMzEuNC0xOC44LTMyLjItNy45LS44LTkuNCAyLjQtMTIuNiAzLjEtMi40IDAtOS40LjgtOS40LjhsLjggNy4xYzAgLjgtMTAuMiAxMy4zLS44IDIyLjggNy45IDcuOSAyNi43IDcuOSAzNC42IDE0LjEgNi4zIDMuOSAxMS44IDE1LjcgMTEuOCAxNS43czAtNy45LTEuNi0xMS44Yy0uOC03LjEtMy4yLTE0LjktNC0xOS42bTIyNyAxMzUuOGMtNy4xIDAtMTIuNi0uOC0xOC44LS44IDIuNCAxLjYtNy4xLTI5LjgtMS42LTMzLjggNi4zLTQuNyAxLjYtMzUuMy0zLjEtNDIuNCAwLS44IDAtMi40LjgtMy4xLTIuNC02LjMtNi4zLTExLjgtOS40LTE3LjMtOS40LTMuMS0xNy4zLTkuNC0yMC40IDMuOS0zLjEtMy45LTEyLjYtMTMuMy0xOC44LTExLS44IDMuMS0xLjYgNy4xLTMuMSAxMC4yLTMuOSAxLjYtMTkuNi03LjEtMjguMy00LjcgMCAxNy4zLTEwLjIgMTAuMi0yMiAxNi41LTIyIDEwLjItMTEtOS40LTI1LjktOS40LTI3LjUgMCAxMSA0MS42IDE4LjEgNDYuMy44LTEuNi0yLjQtNS41IDAtNy4xIDAgMCA5LjQgNy45IDkuNCA1LjUuOC0yLjQuOC01LjUgMi40LTcuMSAyLjQgMy45IDIyIDI3LjUgMTguMSAzMS40LS44LjgtMTkuNi0uOC0xOS42LS44LjgtMS42IDEuNi02LjMgMS42LTcuMS02LjMtNi4zLTE3LjMtNy4xLTIyLjgtNS41LTUuNSAxLjYtMTQuMSA4LjYtMTUuNyAxNy4zIDMuMS0uOCAxNS43LTMuOSAxNy4zLTIuNC44LjgtMy4xIDcuMS0zLjEgNy45IDUuNSAwIDE1LjcgMi40IDE4LjEgMi40LjgtMS42IDIuNC0zLjkgMy4xLTYuMyAyLjQgMy4xIDMuOSA3LjEgNy4xIDExIDIuNCAxLjYgNy45LTE1LjcgMTIuNi0zLjEgMS42IDMuOS00MS42IDQ0LjgtNDQgNjAuNS0xLjYgOC42IDAgMTcuMyAzLjEgMjQuMy03LjktOC42LTI4LjMtMzEuNC0zMy0yOS4xLTEyLjYgNy4xLTEuNiA0Ni4zIDMuOSA1My40IDcuMSA5LjQgNDcuMSAzMi4yIDQ3LjEgMS42IDAtMS42LTEuNi0zLjktMy4xLTcuOSA5LjQgNi4zIDIxLjIgMTEgMjYuNyAxNy4zIDYuMyA3LjEgMTEgMjUuOSAxMC4yIDM1LjMtMi40IDI0LjMtNDAuOCAxLjYtNDAuOCAyOS4xIDAtMy4xIDM3LjcgMS42IDQwLS44IDYuMy0zLjkgMjQuMyAxMC4yIDIxLjItMTAuMi0zLjEtMjAuNCAyMS4yLTExIDIxLjItMjcuNSAwLTguNi0yNi43IDEuNi0xMS44LTIxLjIgNi4zLTguNiAxLjYtMjAuNCA4LjYtMTEgMTEgMTMuMyAyOS4xIDMuOSA0OC43LTYuMyA2LjMtMjIgOS40LTQ0LjggOS40LTY5LjEtMS45LTEwLTIuNy0xOS40LTMuNC0yOC45Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTMyMy41IDMzOS4yYy0xLjYgNi4zLTEwLjItMjYuNy04LjYtMjguMyAzLjEuOCA2LjMuOCA5LjQuOCAyLjQtMS42LTYuMy02LjMtMTMuMy04LjYgNy4xIDAgMTIuNi0yLjQgMTIuNi0zLjlzLTMuMS0zLjEtOS40LTMuOWM1LjUtLjggOC42LTIuNCA4LjYtMy45cy00LjctMy45LTEwLjItNC43YzYuMy0uOCAxMS0yLjQgMTEtMy45cy0yLjQtMy4xLTcuMS0zLjljNS41LS44IDguNi0yLjQgOC42LTQuNyAwLTEuNi0yLjQtMy4xLTcuMS0zLjkgMy45LS44IDcuOS0xLjYgMTAuMi0yLjQgMTQuMS0xNS43LTMuOS0yNS45LTMuOS05LjQgMCA3LjEtMTguOCAzLjktMjIgMi40cy0xLjYtMy4xIDAtNi4zYzMuMSAxLjYgMTguOCAzLjkgMTkuNi0xOC4xLjgtOS40LjgtMTM5IDEyLjYtMTM5LTUwLjMtMi40LTI4LjMgMTI0LjEtMzIuMiAxNTIuMy0zLjEtNi4zLTE4LjEuOC0xMy4zIDEwLjIgMi40IDUuNSA4LjYgNy45IDE0LjEgOS40LTMuOS44LTcuOSAyLjQtNy45IDMuOXMyLjQgMy4xIDcuMSAzLjljLTQuNy44LTguNiAyLjQtOC42IDMuOXMzLjkgMy4xIDEwLjIgMy45Yy02LjMuOC0xMSAyLjQtMTEgMy45czMuOSAzLjEgOS40IDMuOWMtNC43LjgtOC42IDIuNC04LjYgMy45czIuNCAzLjEgNy4xIDMuOWMtMy4xLjgtNC43IDIuNC00LjcgNC43IDMuMSAxLjYgNy4xIDMuMSAxMC4yIDQuNyAwIDcuMS0zLjEgMjEuMi02LjMgMjguMy0uOC0yLjQtMy4xLTMuMS01LjUtMy45LTExIC44IDguNiAxMy4zIDguNiAxMi42IDAgMy45LTMuOSAzLjEtNi4zIDYuMyAwIDAgMTMuMyA4LjYgMTMuMyAxMC4yIDEuNi0xLjYgMTIuNi05LjQgMTMuMy0xMC4yLTEuNi0xLjYtNi4zLTMuMS02LjMtNi4zIDAtMS42IDExLTMuOSAxMS44LTcuOSAxLjctLjYtNC42LTMuOC01LjQuMSIvPjwvc3ZnPg==",
          MT: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik0yNTYgMGMxNDEuMzg0IDAgMjU2IDExNC42MTYgMjU2IDI1NlMzOTcuMzg0IDUxMiAyNTYgNTEyIiBmaWxsPSIjZDgwMDI3Ii8+PHBhdGggZmlsbD0iI2FjYWJiMSIgZD0iTTE3OC4wODcgMTAwLjE3NFY2Ni43ODNoLTMzLjM5MXYzMy4zOTFoLTMzLjM5MnYzMy4zOTFoMzMuMzkydjMzLjM5MmgzMy4zOTF2LTMzLjM5MmgzMy4zOTF2LTMzLjM5MXoiLz48L3N2Zz4=",
          MX: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik01MTIgMjU2YzAtMTAxLjQ5NC01OS4wNjUtMTg5LjE5LTE0NC42OTYtMjMwLjU5OHY0NjEuMTk1QzQ1Mi45MzUgNDQ1LjE5IDUxMiAzNTcuNDk0IDUxMiAyNTZ6IiBmaWxsPSIjZDgwMDI3Ii8+PHBhdGggZD0iTTAgMjU2YzAgMTAxLjQ5NCA1OS4wNjUgMTg5LjE5IDE0NC42OTYgMjMwLjU5OFYyNS40MDJDNTkuMDY1IDY2LjgxIDAgMTU0LjUwNiAwIDI1NnptMTg5LjIxNyAwYzAgMzYuODgzIDI5LjkgNjYuNzgzIDY2Ljc4MyA2Ni43ODNzNjYuNzgzLTI5LjkgNjYuNzgzLTY2Ljc4M3YtMjIuMjYxSDE4OS4yMTdWMjU2eiIgZmlsbD0iIzZkYTU0NCIvPjxwYXRoIGQ9Ik0zNDUuMDQzIDIxMS40NzhIMjc4LjI2YzAtMTIuMjk0LTkuOTY3LTIyLjI2MS0yMi4yNjEtMjIuMjYxcy0yMi4yNjEgOS45NjctMjIuMjYxIDIyLjI2MWgtNjYuNzgzYzAgMTIuMjk1IDEwLjcwOSAyMi4yNjEgMjMuMDAyIDIyLjI2MWgtLjc0MWMwIDEyLjI5NSA5Ljk2NiAyMi4yNjEgMjIuMjYxIDIyLjI2MSAwIDEyLjI5NSA5Ljk2NiAyMi4yNjEgMjIuMjYxIDIyLjI2MWg0NC41MjJjMTIuMjk1IDAgMjIuMjYxLTkuOTY2IDIyLjI2MS0yMi4yNjEgMTIuMjk1IDAgMjIuMjYxLTkuOTY2IDIyLjI2MS0yMi4yNjFoLS43NDJjMTIuMjk1IDAgMjMuMDAzLTkuOTY2IDIzLjAwMy0yMi4yNjF6IiBmaWxsPSIjZmY5ODExIi8+PC9zdmc+",
          MY: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik0yNDQuODcgMjU2SDUxMmMwLTIzLjEwNy0zLjA4LTQ1LjQ4OS04LjgxOS02Ni43ODNIMjQ0Ljg3VjI1NnptMC0xMzMuNTY1aDIyOS41NTZhMjU3LjMyOCAyNTcuMzI4IDAgMCAwLTU5LjA2OS02Ni43ODNIMjQ0Ljg3djY2Ljc4M3pNMjU2IDUxMmM2MC4yNDkgMCAxMTUuNjI2LTIwLjgyNCAxNTkuMzU3LTU1LjY1Mkg5Ni42NDNDMTQwLjM3NCA0OTEuMTc2IDE5NS43NTEgNTEyIDI1NiA1MTJ6TTM3LjU3NCAzODkuNTY1aDQzNi44NTJhMjU0LjQ5MiAyNTQuNDkyIDAgMCAwIDI4Ljc1NS02Ni43ODNIOC44MTlhMjU0LjQ2IDI1NC40NiAwIDAgMCAyOC43NTUgNjYuNzgzeiIgZmlsbD0iI2Q4MDAyNyIvPjxwYXRoIGQ9Ik0yNTYgMjU2VjBDMTE0LjYxNiAwIDAgMTE0LjYxNiAwIDI1NmgyNTZ6IiBmaWxsPSIjMDA1MmI0Ii8+PGcgZmlsbD0iI2ZmZGE0NCI+PHBhdGggZD0iTTE3MC4yMzQgMjE5LjEzYy0zNC45NjIgMC02My4zMDQtMjguMzQzLTYzLjMwNC02My4zMDRzMjguMzQzLTYzLjMwNCA2My4zMDQtNjMuMzA0YzEwLjkwMSAwIDIxLjE1OCAyLjc1NyAzMC4xMTMgNy42MDktMTQuMDQ4LTEzLjczNy0zMy4yNi0yMi4yMTctNTQuNDYxLTIyLjIxNy00My4wMjkgMC03Ny45MTMgMzQuODgzLTc3LjkxMyA3Ny45MTNzMzQuODg0IDc3LjkxMyA3Ny45MTMgNzcuOTEzYzIxLjIwMSAwIDQwLjQxMy04LjQ4IDU0LjQ2MS0yMi4yMTctOC45NTUgNC44NS0xOS4yMTEgNy42MDctMzAuMTEzIDcuNjA3eiIvPjxwYXRoIGQ9Im0xODguMDczIDExMS4zMDQgMTEuMjM5IDIzLjUwMiAyNS4zODEtNS44NjQtMTEuMzY2IDIzLjQzOSAyMC40MTIgMTYuMTg3LTI1LjQxNCA1LjcyOS4wNzEgMjYuMDUxLTIwLjMyMy0xNi4yOTgtMjAuMzI0IDE2LjI5OC4wNy0yNi4wNTEtMjUuNDE0LTUuNzI5IDIwLjQxMi0xNi4xODctMTEuMzY3LTIzLjQzOSAyNS4zODMgNS44NjR6Ii8+PC9nPjwvc3ZnPg==",
          NL: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NzMuNjggNDczLjY4Ij48Y2lyY2xlIGN4PSIyMzYuODUiIGN5PSIyMzYuODUiIHI9IjIzNi44MyIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik00NjAuMTQgMTU3Ljg3N0gzMTQuMjE5YzYuMzM1IDUwLjU5MyA2LjM3NiAxMDYuMzM5LjEyIDE1Ni45OTVoMTQ2LjExNmEyMzYuNDMgMjM2LjQzIDAgMCAwIDEzLjIxOS03OC4wMyAyMzYuMjQgMjM2LjI0IDAgMCAwLTEzLjUzNC03OC45NjV6IiBmaWxsPSIjZWZlY2VjIi8+PHBhdGggZD0iTTMxNC4yMTkgMTU3Ljg3N2gxNDUuOTIyYTYuNjg3IDYuNjg3IDAgMCAwLS4wNzUtLjIwNkM0MjkuNzUzIDcyLjIwNCAzNTEuNzg2IDkuMzIzIDI1OC4xMDUuOTc2YzM2LjI1MyAxOS44NzIgNDYuODM5IDgyLjgzMiA1Ni4xMTQgMTU2LjkwMXoiIGZpbGw9IiNlNjMwMjYiLz48cGF0aCBkPSJNMjU4LjEwOSA0NzIuNzAxYzkzLjg0OC04LjM2MiAxNzEuOTI3LTcxLjQ2IDIwMi4xMi0xNTcuMTU2LjA3OS0uMjI4LjE0Ni0uNDUyLjIyOC0uNjczaC0xNDYuMTJjLTkuMTk0IDc0LjQ3LTE5LjgyNyAxMzcuODc0LTU2LjIyOCAxNTcuODI5eiIgZmlsbD0iIzJiNDc5ZCIvPjxwYXRoIGQ9Ik0uMDAxIDIzNi44NDJhMjM2LjQzIDIzNi40MyAwIDAgMCAxMy4yMTkgNzguMDNoMzEzLjMxM2M2LjI1Ni01MC42NiA2LjIxNS0xMDYuNDAyLS4xMi0xNTYuOTk1SDEzLjUzNEM0Ljc5OCAxODIuNTc3LjAwMSAyMDkuMTQzLjAwMSAyMzYuODQyeiIgZmlsbD0iI2VmZWZlZiIvPjxwYXRoIGQ9Ik0xMy42MDQgMTU3LjY3MmE1Ljg1IDUuODUgMCAwIDAtLjA3NS4yMDZoMzEyLjg4M0MzMTcuMTM4IDgzLjgwOCAyOTQuMzU2IDIwLjg0OSAyNTguMTA5Ljk3NyAyNTEuMDk4LjM1NSAyNDQuMDA3IDAgMjM2LjgzNSAwIDEzMy44MDcgMCA0Ni4xODUgNjUuODA1IDEzLjYwNCAxNTcuNjcyeiIgZmlsbD0iI2U3M2IzNiIvPjxwYXRoIGQ9Ik0zMjYuNTMzIDMxNC44NzJIMTMuMjJjLjA3OS4yMjEuMTUuNDQ1LjIyOC42NzNDNDUuOSA0MDcuNjQ3IDEzMy42MzcgNDczLjY4IDIzNi44MzUgNDczLjY4YzcuMTczIDAgMTQuMjYzLS4zNTIgMjEuMjc0LS45OCAzNi40MDEtMTkuOTU0IDU5LjIyOC04My4zNTggNjguNDI0LTE1Ny44Mjh6IiBmaWxsPSIjMzc1N2E2Ii8+PC9zdmc+",
          NO: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik04LjgxOSAzMjIuNzgzYzE0LjgxMiA1NC45NTkgNDcuNDU3IDEwMi41OTMgOTEuMzU1IDEzNi4zMjJWMzIyLjc4M0g4LjgxOXptMjI0LjkyIDE4OC4yNDNBMjU5LjI5IDI1OS4yOSAwIDAgMCAyNTYgNTEyYzExOC4yNzkgMCAyMTcuODA1LTgwLjIyMSAyNDcuMTgxLTE4OS4yMTdIMjMzLjczOXYxODguMjQzem0yNjkuNDQyLTMyMS44MDlDNDczLjgwNSA4MC4yMjEgMzc0LjI3OSAwIDI1NiAwYy03LjUwMiAwLTE0LjkyMy4zNDItMjIuMjYxLjk3NHYxODguMjQzaDI2OS40NDJ6TTEwMC4xNzQgNTIuODk1Yy00My44OTggMzMuNzMtNzYuNTQzIDgxLjM2My05MS4zNTUgMTM2LjMyMmg5MS4zNTVWNTIuODk1eiIgZmlsbD0iI2Q4MDAyNyIvPjxwYXRoIGQ9Ik01MDkuODMzIDIyMi42MDlIMjAwLjM0OFY2LjA4NWEyNTQuMjU4IDI1NC4yNTggMCAwIDAtNjYuNzgzIDI1LjA0MnYxOTEuNDgxSDIuMTY3Qy43NDIgMjMzLjUzOSAwIDI0NC42ODMgMCAyNTZzLjc0MiAyMi40NjEgMi4xNjcgMzMuMzkxaDEzMS4zOTh2MTkxLjQ4MWEyNTQuMjU4IDI1NC4yNTggMCAwIDAgNjYuNzgzIDI1LjA0MlYyODkuMzkyaDMwOS40ODVDNTExLjI1NiAyNzguNDYxIDUxMiAyNjcuMzE3IDUxMiAyNTZzLS43NDQtMjIuNDYxLTIuMTY3LTMzLjM5MXoiIGZpbGw9IiMwMDUyYjQiLz48L3N2Zz4=",
          NZ: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNNTEyIDI1NmMwIDE0MS4zODQtMTE0LjYxNiAyNTYtMjU2IDI1NlMwIDM5Ny4zODQgMCAyNTZDMCAyNTYuMDYxIDI1NiAuMDI4IDI1NiAwYzE0MS4zODQgMCAyNTYgMTE0LjYxNiAyNTYgMjU2eiIgZmlsbD0iIzAwNTJiNCIvPjxnIGZpbGw9IiNmMGYwZjAiPjxwYXRoIGQ9Ik0yNTYgMGgtLjA0My4wNDN6bS0uNjg1IDI1NkgyNTZ2LS42ODVsLS42ODUuNjg1eiIvPjxwYXRoIGQ9Ik0yNTYgMTMzLjU2NVYwaC0uMDQzQzExNC41OTIuMDI0IDAgMTE0LjYyOSAwIDI1NmgxMzMuNTY1di03NS4yMTFMMjA4Ljc3NyAyNTZoNDYuNTM5bC42ODUtLjY4NXYtNDYuNTM3bC03NS4yMTMtNzUuMjEzSDI1NnoiLz48L2c+PGcgZmlsbD0iI2Q4MDAyNyI+PHBhdGggZD0iTTEyOS41MTUgMzMuMzkxYTI1Ny4yMjIgMjU3LjIyMiAwIDAgMC05Ni4xMjQgOTYuMTI0VjI1Nmg2Ni43ODNWMTAwLjE3NEgyNTZWMzMuMzkxSDEyOS41MTV6Ii8+PHBhdGggZD0ibTI1NiAyMjQuNTE5LTkwLjk1My05MC45NTNzLTMxLjQ4MS4wMDItMzEuNDgxIDB2LjAwMkwyNTUuOTk5IDI1NkgyNTZ2LTMxLjQ4MXptMTg3LjMzLTM0LjU2IDUuNTI1IDE3LjAwNmgxNy44ODFsLTE0LjQ2NiAxMC41MSA1LjUyNiAxNy4wMDUtMTQuNDY2LTEwLjUwOS0xNC40NjcgMTAuNTA5IDUuNTI2LTE3LjAwNS0xNC40NjctMTAuNTFoMTcuODgxem0tNjMuOTE5IDEyMi40MzQgOC4yODkgMjUuNTFoMjYuODIxbC0yMS43IDE1Ljc2NCA4LjI5IDI1LjUwOS0yMS43LTE1Ljc2NS0yMS43IDE1Ljc2NSA4LjI5LTI1LjUwOS0yMS43LTE1Ljc2NGgyNi44MjF6bTIuNDE0LTIwMC4zNDcgNi45MDggMjEuMjU5aDIyLjM1MUwzOTMgMTQ2LjQ0bDYuOTA4IDIxLjI1OC0xOC4wODMtMTMuMTM5LTE4LjA4MiAxMy4xMzkgNi45MDctMjEuMjU4LTE4LjA4Mi0xMy4xMzVoMjIuMzV6bS02MS41MDMgNzcuMTcxIDguMjg4IDI1LjUxaDI2LjgyMmwtMjEuNyAxNS43NjQgOC4yOSAyNS41MDktMjEuNy0xNS43NjUtMjEuNyAxNS43NjUgOC4yOS0yNS41MDktMjEuNy0xNS43NjRoMjYuODIxeiIvPjwvZz48L3N2Zz4=",
          PL: rl,
          SG: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik0wIDI1Ni4wMDFDMCAxMTQuNjE2IDExNC42MTYgMCAyNTYgMHMyNTYgMTE0LjYxNiAyNTYgMjU2LjAwMSIgZmlsbD0iI2Q4MDAyNyIvPjxnIGZpbGw9IiNmMGYwZjAiPjxwYXRoIGQ9Ik0xNTUuODI2IDEzMy41NjRjMC0zNy4yOTggMjYuMjEzLTY4LjQ1NiA2MS4yMTctNzYuMTAxYTc4LjIwOCA3OC4yMDggMCAwIDAtMTYuNjk2LTEuODExYy00My4wMzEgMC03Ny45MTMgMzQuODgyLTc3LjkxMyA3Ny45MTNzMzQuODgyIDc3LjkxMyA3Ny45MTMgNzcuOTEzYzUuNzMzIDAgMTEuMzE1LS42MzcgMTYuNjk2LTEuODEyLTM1LjAwNC03LjY0NS02MS4yMTctMzguODAzLTYxLjIxNy03Ni4xMDJ6TTI1NiA2MS4yMTdsNS41MjYgMTcuMDA1aDE3Ljg4MUwyNjQuOTQgODguNzMzbDUuNTI2IDE3LjAwNUwyNTYgOTUuMjI5bC0xNC40NjYgMTAuNTA5IDUuNTI2LTE3LjAwNS0xNC40NjYtMTAuNTExaDE3Ljg4eiIvPjxwYXRoIGQ9Im0yMTIuNjI1IDk0LjYwOCA1LjUyNSAxNy4wMDZoMTcuODgxbC0xNC40NjYgMTAuNTEgNS41MjYgMTcuMDA1LTE0LjQ2Ni0xMC41MDktMTQuNDY4IDEwLjUwOSA1LjUyNy0xNy4wMDUtMTQuNDY3LTEwLjUxaDE3Ljg4MXptODYuNzUxIDAgNS41MjcgMTcuMDA2aDE3Ljg4bC0xNC40NjcgMTAuNTEgNS41MjcgMTcuMDA1LTE0LjQ2Ny0xMC41MDktMTQuNDY2IDEwLjUwOSA1LjUyNi0xNy4wMDUtMTQuNDY2LTEwLjUxaDE3Ljg4em0tMTYuNjk1IDUwLjA4NyA1LjUyNiAxNy4wMDZoMTcuODhsLTE0LjQ2NiAxMC41MSA1LjUyNiAxNy4wMDUtMTQuNDY2LTEwLjUwOS0xNC40NjYgMTAuNTA5IDUuNTI2LTE3LjAwNS0xNC40NjYtMTAuNTFoMTcuODc5em0tNTMuMzYxIDAgNS41MjUgMTcuMDA2aDE3Ljg4MmwtMTQuNDY3IDEwLjUxIDUuNTI3IDE3LjAwNS0xNC40NjctMTAuNTA5LTE0LjQ2NyAxMC41MDkgNS41MjYtMTcuMDA1LTE0LjQ2Ni0xMC41MWgxNy44ODF6Ii8+PC9nPjwvc3ZnPg==",
          SE: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2ZmZGE0NCIvPjxwYXRoIGQ9Ik0yMDAuMzQ5IDIyMi42MDloMzA5LjQ4NEM0OTMuNDcgOTcuMDAyIDM4Ni4wNjcgMCAyNTYgMGEyNTYuOTAyIDI1Ni45MDIgMCAwIDAtNTUuNjUyIDYuMDg1djIxNi41MjRoLjAwMXptLTY2Ljc4NC0uMDAxVjMxLjEyN0M2My4yNzEgNjkuNDgxIDEyLjk1IDEzOS44MzIgMi4xNjcgMjIyLjYwOWgxMzEuMzk4di0uMDAxem0tLjAwMSA2Ni43ODNIMi4xNjdjMTAuNzgzIDgyLjc3NyA2MS4xMDQgMTUzLjEyOCAxMzEuMzk4IDE5MS40ODFsLS4wMDEtMTkxLjQ4MXptNjYuNzg0LjAwMXYyMTYuNTIzQTI1Ni45MDIgMjU2LjkwMiAwIDAgMCAyNTYgNTEyYzEzMC4wNjcgMCAyMzcuNDctOTcuMDAyIDI1My44MzMtMjIyLjYwOUgyMDAuMzQ4di4wMDF6IiBmaWxsPSIjMDA1MmI0Ii8+PC9zdmc+",
          TH: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik00OTYuMDc3IDE2Ni45NTdIMTUuOTIzQzUuNjMyIDE5NC42OSAwIDIyNC42ODYgMCAyNTZzNS42MzIgNjEuMzEgMTUuOTIzIDg5LjA0M2g0ODAuMTU1QzUwNi4zNjggMzE3LjMxIDUxMiAyODcuMzE0IDUxMiAyNTZzLTUuNjMyLTYxLjMxLTE1LjkyMy04OS4wNDN6IiBmaWxsPSIjMDA1MmI0Ii8+PHBhdGggZD0iTTI1NiAwQzE3OC40MDkgMCAxMDguODg2IDM0LjUyNCA2MS45MzkgODkuMDQzSDQ1MC4wNkM0MDMuMTE0IDM0LjUyNCAzMzMuNTkxIDAgMjU2IDB6bTE5NC4wNjEgNDIyLjk1N0g2MS45MzlDMTA4Ljg4NiA0NzcuNDc2IDE3OC40MDkgNTEyIDI1NiA1MTJzMTQ3LjExNC0zNC41MjQgMTk0LjA2MS04OS4wNDN6IiBmaWxsPSIjZDgwMDI3Ii8+PC9zdmc+",
          TR: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2Q4MDAyNyIvPjxnIGZpbGw9IiNmMGYwZjAiPjxwYXRoIGQ9Im0yNDUuNTE4IDIwOS4xODYgMjEuMDA1IDI4Ljk0NSAzNC4wMTctMTEuMDMtMjEuMDM4IDI4LjkyIDIxLjAwMiAyOC45NDQtMzQuMDA1LTExLjA3Mi0yMS4wMzcgMjguOTIuMDIyLTM1Ljc2MS0zNC4wMDYtMTEuMDcyIDM0LjAxOC0xMS4wM3oiLz48cGF0aCBkPSJNMTg4LjE5NCAzMjguMzQ4Yy0zOS45NTYgMC03Mi4zNDgtMzIuMzkyLTcyLjM0OC03Mi4zNDhzMzIuMzkyLTcyLjM0OCA3Mi4zNDgtNzIuMzQ4YzEyLjQ1OCAwIDI0LjE4IDMuMTUxIDM0LjQxNCA4LjY5Ni0xNi4wNTUtMTUuNzAyLTM4LjAxMi0yNS4zOTItNjIuMjQtMjUuMzkyLTQ5LjE3OCAwLTg5LjA0MyAzOS44NjYtODkuMDQzIDg5LjA0M3MzOS44NjYgODkuMDQzIDg5LjA0MyA4OS4wNDNjMjQuMjMgMCA0Ni4xODYtOS42OTEgNjIuMjQtMjUuMzkyLTEwLjIzNCA1LjU0Ny0yMS45NTYgOC42OTgtMzQuNDE0IDguNjk4eiIvPjwvZz48L3N2Zz4=",
          UA: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2ZmZGE0NCIvPjxwYXRoIGQ9Ik0wIDI1NkMwIDExNC42MTYgMTE0LjYxNiAwIDI1NiAwczI1NiAxMTQuNjE2IDI1NiAyNTYiIGZpbGw9IiMzMzhhZjMiLz48L3N2Zz4=",
          ZA: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik03NC45OCA0MzcuMDJjLTk5Ljk3NC05OS45NzUtOTkuOTc0LTI2Mi4wNjUgMC0zNjIuMDRDNzQuOTczIDc0Ljk5MSAyMjIuNjA5IDI1NiAyMjIuNjA5IDI1Nkw3NC45OCA0MzcuMDJ6Ii8+PHBhdGggZD0iTTIyMi42MDkgMjU2IDMzLjk1MyAxMjguNTEzYTI1NS4xMTggMjU1LjExOCAwIDAgMC0xNS40MzkgMzEuNzYzbDk1LjUwOSA5NS43MjUtOTUuNTA2IDk1LjczYTI1NC44MiAyNTQuODIgMCAwIDAgMTUuNDI2IDMxLjc0MUwyMjIuNjA5IDI1NnoiIGZpbGw9IiNmZmRhNDQiLz48cGF0aCBkPSJNNTA5LjgzMyAyMjIuNjA5SDIyMi42MDJMNzQuOTc4IDc0Ljk4NGEyNTYuOTkyIDI1Ni45OTIgMCAwIDAtNDEuMDI1IDUzLjUzTDE2MS4xOTIgMjU2IDMzLjk0MyAzODMuNDdhMjU2Ljk2NiAyNTYuOTY2IDAgMCAwIDQxLjAzNSA1My41NDVsMTQ3LjYyNC0xNDcuNjI0aDI4Ny4yMzFBMjU4LjUyOSAyNTguNTI5IDAgMCAwIDUxMiAyNTZjMC0xMS4zMTctLjc0NC0yMi40NjEtMi4xNjctMzMuMzkxeiIgZmlsbD0iIzZkYTU0NCIvPjxwYXRoIGQ9Ik0xMDAuMTM4IDQ1OS4wNzdDMTQzLjMwNyA0OTIuMjU5IDE5Ny4zNDQgNTEyIDI1NiA1MTJjMTE4LjI3OSAwIDIxNy44MDUtODAuMjIxIDI0Ny4xODEtMTg5LjIxN0gyMzYuNDMzTDEwMC4xMzggNDU5LjA3N3oiIGZpbGw9IiMwMDUyYjQiLz48cGF0aCBkPSJNNTAzLjE4MSAxODkuMjE3QzQ3My44MDUgODAuMjIxIDM3NC4yNzkgMCAyNTYgMGMtNTguNjU2IDAtMTEyLjY5MyAxOS43NDEtMTU1Ljg2MiA1Mi45MjNsMTM2LjI5NCAxMzYuMjk0aDI2Ni43NDl6IiBmaWxsPSIjZDgwMDI3Ii8+PC9zdmc+",
          HK: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2Q4MDAyNyIvPjxwYXRoIGQ9Ik0yODIuNDMgMTkzLjY2OGMtNS44MTggMjQuMTk5LTE2LjE1NSAxOS41ODQtMjEuMjI4IDQwLjY4OC0yOS44ODMtNy4xODUtNDguMjg3LTM3LjIzNS00MS4xMDItNjcuMTIgNy4xODItMjkuODgzIDM3LjIzNS00OC4yODcgNjcuMTE5LTQxLjEwMi0xMC4xNDcgNDIuMjA3LjQxNiA0NS44OTEtNC43ODkgNjcuNTM0ek0yMDQuODg3IDIxMS42YzIxLjIxNyAxMy4wMSAxMy42MzMgMjEuNDE3IDMyLjEzNSAzMi43NjQtMTYuMDY4IDI2LjIwMS01MC4zMzMgMzQuNDE2LTc2LjUzNSAxOC4zNDktMjYuMjAxLTE2LjA2Ny0zNC40MTgtNTAuMzM0LTE4LjM1LTc2LjUzNSAzNy4wMDYgMjIuNjkyIDQzLjc3MSAxMy43ODUgNjIuNzUgMjUuNDIyem0tNi45MDkgNzkuMjkyYzE4LjkzMS0xNi4xNTggMjQuNTgtNi4zNDggNDEuMDg5LTIwLjQzOCAxOS45NTUgMjMuMzc3IDE3LjE3OSA1OC41MDUtNi4xOTcgNzguNDYtMjMuMzc4IDE5Ljk1NS01OC41MDYgMTcuMTc2LTc4LjQ1OC02LjE5OSAzMy4wMTQtMjguMTgzIDI2LjYzMy0zNy4zNzIgNDMuNTY2LTUxLjgyM3ptNzMuMjc2IDMxLjA3M2MtOS41Mi0yMi45OTcgMS41NTYtMjUuMzQxLTYuNzQzLTQ1LjM5NCAyOC4zOTktMTEuNzUzIDYwLjk1MSAxLjc0MSA3Mi43MDUgMzAuMTQgMTEuNzUzIDI4LjM5OS0xLjc0MyA2MC45NS0zMC4xNDIgNzIuNzA0LTE2LjU5Ny00MC4xMDktMjcuMzA2LTM2Ljg4LTM1LjgyLTU3LjQ1em01Mi4xOTYtNjAuMDg5Yy0yNC44MTMgMS45NDctMjMuNjIyLTkuMzEzLTQ1LjI1Ny03LjYxNS0yLjQwMy0zMC42MzkgMjAuNDkxLTU3LjQzIDUxLjEzMi01OS44MzUgMzAuNjQtMi4zOTkgNTcuNDMgMjAuNDkzIDU5LjgzMiA1MS4xMzUtNDMuMjc3IDMuMzkzLTQzLjUxNiAxNC41NzYtNjUuNzA3IDE2LjMxNXoiIGZpbGw9IiNmMGYwZjAiLz48L3N2Zz4=",
          IE: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik01MTIgMjU2YzAtMTEwLjA3LTY5LjQ3Mi0yMDMuOTA2LTE2Ni45NTctMjQwLjA3NnY0ODAuMTU1QzQ0Mi41MjggNDU5LjkwNiA1MTIgMzY2LjA3MiA1MTIgMjU2eiIgZmlsbD0iI2ZmOTgxMSIvPjxwYXRoIGQ9Ik0wIDI1NmMwIDExMC4wNzIgNjkuNDcyIDIwMy45MDYgMTY2Ljk1NyAyNDAuMDc4VjE1LjkyNEM2OS40NzIgNTIuMDk0IDAgMTQ1LjkzIDAgMjU2eiIgZmlsbD0iIzZkYTU0NCIvPjwvc3ZnPg==",
          IS: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik04LjgxOSAzMjIuNzgzYzE0LjgxMiA1NC45NTkgNDcuNDU3IDEwMi41OTMgOTEuMzU1IDEzNi4zMjJWMzIyLjc4M0g4LjgxOXptMjI0LjkyIDE4OC4yNDNBMjU5LjI5IDI1OS4yOSAwIDAgMCAyNTYgNTEyYzExOC4yNzkgMCAyMTcuODA1LTgwLjIyMSAyNDcuMTgxLTE4OS4yMTdIMjMzLjczOXYxODguMjQzem0yNjkuNDQyLTMyMS44MDlDNDczLjgwNSA4MC4yMjEgMzc0LjI3OSAwIDI1NiAwYy03LjUwMiAwLTE0LjkyMy4zNDItMjIuMjYxLjk3NHYxODguMjQzaDI2OS40NDJ6TTEwMC4xNzQgNTIuODk1Yy00My44OTggMzMuNzMtNzYuNTQzIDgxLjM2My05MS4zNTUgMTM2LjMyMmg5MS4zNTVWNTIuODk1eiIgZmlsbD0iIzAwNTJiNCIvPjxwYXRoIGQ9Ik01MDkuODMzIDIyMi42MDlIMjAwLjM0OFY2LjA4NWEyNTQuMjU4IDI1NC4yNTggMCAwIDAtNjYuNzgzIDI1LjA0MnYxOTEuNDgxSDIuMTY3Qy43NDIgMjMzLjUzOSAwIDI0NC42ODMgMCAyNTZzLjc0MiAyMi40NjEgMi4xNjcgMzMuMzkxaDEzMS4zOTh2MTkxLjQ4MWEyNTQuMjU4IDI1NC4yNTggMCAwIDAgNjYuNzgzIDI1LjA0MlYyODkuMzkyaDMwOS40ODVDNTExLjI1NiAyNzguNDYxIDUxMiAyNjcuMzE3IDUxMiAyNTZzLS43NDQtMjIuNDYxLTIuMTY3LTMzLjM5MXoiIGZpbGw9IiNkODAwMjciLz48L3N2Zz4=",
          JP: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxjaXJjbGUgY3g9IjI1NiIgY3k9IjI1NiIgcj0iMTExLjMwNCIgZmlsbD0iI2Q4MDAyNyIvPjwvc3ZnPg==",
          US: ii,
          UK: ai,
          DE: pi,
          IT: li,
          RU: ri,
          CN: di,
          FR: oi,
          ES: si,
          PT: ci,
          PE: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik01MTIgMjU2YzAtMTEwLjA3LTY5LjQ3Mi0yMDMuOTA2LTE2Ni45NTctMjQwLjA3NnY0ODAuMTU1QzQ0Mi41MjggNDU5LjkwNiA1MTIgMzY2LjA3MiA1MTIgMjU2ek0wIDI1NmMwIDExMC4wNzIgNjkuNDcyIDIwMy45MDYgMTY2Ljk1NyAyNDAuMDc4VjE1LjkyNEM2OS40NzIgNTIuMDk0IDAgMTQ1LjkzIDAgMjU2eiIgZmlsbD0iI2Q4MDAyNyIvPjwvc3ZnPg==",
          AR: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik0yNTYgMEMxNTQuNTA2IDAgNjYuODEgNTkuMDY1IDI1LjQwMiAxNDQuNjk2aDQ2MS4xOTVDNDQ1LjE5IDU5LjA2NSAzNTcuNDkzIDAgMjU2IDB6bTAgNTEyYzEwMS40OTMgMCAxODkuMTktNTkuMDY1IDIzMC41OTgtMTQ0LjY5NkgyNS40MDJDNjYuODEgNDUyLjkzNSAxNTQuNTA2IDUxMiAyNTYgNTEyeiIgZmlsbD0iIzMzOGFmMyIvPjxwYXRoIGZpbGw9IiNmZmRhNDQiIGQ9Im0zMzIuNTE1IDI1Ni0zMS4yNjUgMTQuNzA3IDE2LjY0OSAzMC4yNzktMzMuOTUtNi40OTUtNC4zMDIgMzQuMjk2TDI1NiAzMDMuNTYzbC0yMy42NDggMjUuMjI0LTQuMzAxLTM0LjI5Ni0zMy45NSA2LjQ5NCAxNi42NDgtMzAuMjc5TDE3OS40ODUgMjU2bDMxLjI2NS0xNC43MDctMTYuNjQ5LTMwLjI3OCAzMy45NDkgNi40OTQgNC4zMDMtMzQuMjk2TDI1NiAyMDguNDM3bDIzLjY0OC0yNS4yMjQgNC4zMDEgMzQuMjk2IDMzLjk1MS02LjQ5NC0xNi42NDkgMzAuMjc5eiIvPjwvc3ZnPg==",
          CL: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxwYXRoIGQ9Ik01MTIgMjU2YzAgMTQxLjM4NC0xMTQuNjE2IDI1Ni0yNTYgMjU2UzAgMzk3LjM4NCAwIDI1NnMyNTYgMCAyNTYgMGgyNTZ6IiBmaWxsPSIjZDgwMDI3Ii8+PHBhdGggZD0iTTAgMjU2QzAgMTE0LjYxNiAxMTQuNjE2IDAgMjU2IDB2MjU2SDB6IiBmaWxsPSIjMDA1MmI0Ii8+PHBhdGggZmlsbD0iI2YwZjBmMCIgZD0ibTE1Mi4zODkgODkuMDQzIDE2LjU3NyA1MS4wMThoNTMuNjQzbC00My4zOTggMzEuNTMgMTYuNTc2IDUxLjAxOC00My4zOTgtMzEuNTMxLTQzLjM5OCAzMS41MzEgMTYuNTc2LTUxLjAxOC00My4zOTgtMzEuNTNoNTMuNjQzeiIvPjwvc3ZnPg==",
          GR: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2YwZjBmMCIvPjxnIGZpbGw9IiMzMzhhZjMiPjxwYXRoIGQ9Ik0yNTYgMTg5LjIxN2gyNDcuMTgxYTI1NC41NTkgMjU0LjU1OSAwIDAgMC0yOC43NTUtNjYuNzgzSDI1NnY2Ni43ODN6TTk2LjY0MyA0NTYuMzQ4aDMxOC43MTNhMjU3LjI5MyAyNTcuMjkzIDAgMCAwIDU5LjA2OS02Ni43ODNIMzcuNTc0YTI1Ny4zNDYgMjU3LjM0NiAwIDAgMCA1OS4wNjkgNjYuNzgzem0tNy42LTM5NC40MDlhMjU3LjI1NCAyNTcuMjU0IDAgMCAwLTUxLjQ2OSA2MC40OTZoNTEuNDY5VjYxLjkzOXoiLz48cGF0aCBkPSJNMjU2IDI1NnYtNjYuNzgzSDE1NS44MjZWMjU2SDg5LjA0M3YtNjYuNzgzSDguODE5QzMuMDggMjEwLjUxMSAwIDIzMi44OTMgMCAyNTZzMy4wOCA0NS40ODkgOC44MTkgNjYuNzgzaDQ5NC4zNjNDNTA4LjkyIDMwMS40ODkgNTEyIDI3OS4xMDcgNTEyIDI1NkgyNTZ6bTAtMjU2Yy0zNS41NDkgMC02OS40MDQgNy4yNTMtMTAwLjE3NCAyMC4zNDh2MTAyLjA4N0gyNTZWNTUuNjUyaDE1OS4zNTdDMzcxLjYyNiAyMC44MjQgMzE2LjI0OSAwIDI1NiAweiIvPjwvZz48L3N2Zz4=",
          ID: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2Q4MDAyNyIvPjxwYXRoIGQ9Ik01MTIgMjU2YzAgMTQxLjM4NC0xMTQuNjE2IDI1Ni0yNTYgMjU2UzAgMzk3LjM4NCAwIDI1NiIgZmlsbD0iI2YwZjBmMCIvPjwvc3ZnPg==",
          RO: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iI2ZjZWQyMSIvPjxwYXRoIGQ9Ik01MTIgMjU2YzAtMTEwLjA3MS02OS40NzItMjAzLjkwNi0xNjYuOTU3LTI0MC4wNzd2NDgwLjE1NUM0NDIuNTI4IDQ1OS45MDYgNTEyIDM2Ni4wNzEgNTEyIDI1NnoiIGZpbGw9IiNlZDFjMjMiLz48cGF0aCBkPSJNMCAyNTZjMCAxMTAuMDcxIDY5LjQ3MiAyMDMuOTA2IDE2Ni45NTcgMjQwLjA3N1YxNS45MjNDNjkuNDcyIDUyLjA5NCAwIDE0NS45MjkgMCAyNTZ6IiBmaWxsPSIjMmUyZTk1Ii8+PC9zdmc+",
          SK: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj48Y2lyY2xlIHN0eWxlPSJmaWxsOiNmMGYwZjAiIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIvPjxwYXRoIHN0eWxlPSJmaWxsOiMwMDUyYjQiIGQ9Ik0yNTYgNTEyYzE0MS4zODQgMCAyNTYtMTE0LjYxNiAyNTYtMjU2IDAtMzEuMzE0LTUuNjMyLTYxLjMxMS0xNS45MjMtODkuMDQzSDE1LjkyM0M1LjYzMyAxOTQuNjg5IDAgMjI0LjY4NiAwIDI1NmMwIDE0MS4zODQgMTE0LjYxNiAyNTYgMjU2IDI1NnoiLz48cGF0aCBzdHlsZT0iZmlsbDojZDgwMDI3IiBkPSJNMjU2IDUxMmMxMTAuMDcxIDAgMjAzLjkwNi02OS40NzIgMjQwLjA3Ny0xNjYuOTU3SDE1LjkyM0M1Mi4wOTQgNDQyLjUyOCAxNDUuOTI5IDUxMiAyNTYgNTEyeiIvPjxwYXRoIHN0eWxlPSJmaWxsOiNmMGYwZjAiIGQ9Ik02Ni4xOTggMTQ0LjY5NnYxMjcuNzA2YzAgNzIuNjQ0IDk0LjkwMSA5NC45MDMgOTQuOTAxIDk0LjkwM3M5NC45LTIyLjI1OSA5NC45LTk0LjkwM1YxNDQuNjk2SDY2LjE5OHoiLz48cGF0aCBzdHlsZT0iZmlsbDojZDgwMDI3IiBkPSJNODguNDU5IDE0NC42OTZ2MTI3LjcwNmMwIDguNTI4IDEuODk0IDE2LjU4MiA1LjY0NiAyNC4xMzNoMTMzLjk4N2MzLjc1Mi03LjU1IDUuNjQ2LTE1LjYwNSA1LjY0Ni0yNC4xMzNWMTQ0LjY5Nkg4OC40NTl6Ii8+PHBhdGggc3R5bGU9ImZpbGw6I2YwZjBmMCIgZD0iTTIwNS42MiAyMzMuNzM5aC0zMy4zOXYtMjIuMjYxaDIyLjI2MXYtMjIuMjYxSDE3Mi4yM3YtMjIuMjZoLTIyLjI2MXYyMi4yNmgtMjIuMjZ2MjIuMjYxaDIyLjI2djIyLjI2MWgtMzMuMzkyVjI1NmgzMy4zOTJ2MjIuMjYxaDIyLjI2MVYyNTZoMzMuMzl6Ii8+PHBhdGggc3R5bGU9ImZpbGw6IzAwNTJiNCIgZD0iTTEyNC40NzEgMzI3LjYxYzE0LjM0NSA5LjAxNSAyOS4wODMgMTQuMjQ5IDM2LjYyOCAxNi41NzcgNy41NDUtMi4zMjcgMjIuMjgzLTcuNTYyIDM2LjYyOC0xNi41NzcgMTQuNDY2LTkuMDkyIDI0LjYwNy0xOS40OSAzMC4zNjUtMzEuMDc1YTM4Ljc3NSAzOC43NzUgMCAwIDAtMjIuNDcxLTcuMTQzYy0zLjA0OCAwLTYuMDA5LjM2MS04Ljg1NiAxLjAyNC02LjAzMy0xMy43MDgtMTkuNzI4LTIzLjI4NS0zNS42NjUtMjMuMjg1cy0yOS42MzMgOS41NzctMzUuNjY1IDIzLjI4NWEzOC45OTMgMzguOTkzIDAgMCAwLTguODU2LTEuMDI0Yy04LjM3MSAwLTE2LjEyIDIuNjUtMjIuNDcxIDcuMTQzIDUuNzU1IDExLjU4NCAxNS44OTYgMjEuOTgyIDMwLjM2MyAzMS4wNzV6Ii8+PC9zdmc+",
          HU: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBzdHlsZT0iZmlsbDojZjBmMGYwIiBkPSJNMTUuOTIzIDE2Ni45NTdDNS42MzMgMTk0LjY5MSAwIDIyNC42ODYgMCAyNTZzNS42MzMgNjEuMzExIDE1LjkyMyA4OS4wNDNMMjU2IDM2Ny4zMDRsMjQwLjA3Ny0yMi4yNjFDNTA2LjM2NyAzMTcuMzExIDUxMiAyODcuMzE0IDUxMiAyNTZzLTUuNjMzLTYxLjMwOS0xNS45MjMtODkuMDQzTDI1NiAxNDQuNjk2IDE1LjkyMyAxNjYuOTU3eiIvPjxwYXRoIHN0eWxlPSJmaWxsOiNkODAwMjciIGQ9Ik0yNTYgMEMxNDUuOTMgMCA1Mi4wOTQgNjkuNDcyIDE1LjkyNCAxNjYuOTU3aDQ4MC4xNTVDNDU5LjkwNiA2OS40NzIgMzY2LjA3MiAwIDI1NiAweiIvPjxwYXRoIHN0eWxlPSJmaWxsOiM2ZGE1NDQiIGQ9Ik0yNTYgNTEyYzExMC4wNzIgMCAyMDMuOTA2LTY5LjQ3MiAyNDAuMDc4LTE2Ni45NTdIMTUuOTI0QzUyLjA5NCA0NDIuNTI4IDE0NS45MyA1MTIgMjU2IDUxMnoiLz48L3N2Zz4=",
          VN: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj48Y2lyY2xlIHN0eWxlPSJmaWxsOiNkODAwMjciIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIvPjxwYXRoIHN0eWxlPSJmaWxsOiNmZmRhNDQiIGQ9Im0yNTYgMTMzLjU2NSAyNy42MjggODUuMDI5aDg5LjQwNWwtNzIuMzMxIDUyLjU1IDI3LjYyOCA4NS4wM0wyNTYgMzAzLjYyM2wtNzIuMzMgNTIuNTUxIDI3LjYyOC04NS4wMy03Mi4zMy01Mi41NWg4OS40MDR6Ii8+PC9zdmc+",
          LT: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBzdHlsZT0iZmlsbDojNmRhNTQ0IiBkPSJNNDk2LjA3NyAzNDUuMDQzQzUwNi4zNjggMzE3LjMxMSA1MTIgMjg3LjMxNCA1MTIgMjU2cy01LjYzMi02MS4zMTEtMTUuOTIzLTg5LjA0M0wyNTYgMTQ0LjY5NiAxNS45MjMgMTY2Ljk1N0M1LjYzMiAxOTQuNjg5IDAgMjI0LjY4NiAwIDI1NnM1LjYzMiA2MS4zMTEgMTUuOTIzIDg5LjA0M0wyNTYgMzY3LjMwNGwyNDAuMDc3LTIyLjI2MXoiLz48cGF0aCBzdHlsZT0iZmlsbDojZmZkYTQ0IiBkPSJNNDk2LjA3NyAxNjYuOTU3QzQ1OS45MDYgNjkuNDcyIDM2Ni4wNzEgMCAyNTYgMFM1Mi4wOTQgNjkuNDcyIDE1LjkyMyAxNjYuOTU3aDQ4MC4xNTR6Ii8+PHBhdGggc3R5bGU9ImZpbGw6I2Q4MDAyNyIgZD0iTTI1NiA1MTJjMTEwLjA3MSAwIDIwMy45MDYtNjkuNDcyIDI0MC4wNzctMTY2Ljk1N0gxNS45MjNDNTIuMDk0IDQ0Mi41MjggMTQ1LjkyOSA1MTIgMjU2IDUxMnoiLz48L3N2Zz4=",
          DO: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBzdHlsZT0iYm9yZGVyLXJhZGl1czo1MCUiPjxwYXRoIGZpbGw9IiNkODAwMjciIGQ9Ik0zNS41IDI1Nmg0NDRsMzIuNS02Ni44VjBIMzIyLjhMMjU2IDMxLjh2NDQ0LjZMMTg5LjIgNTEySDBWMzIyLjh6Ii8+PHBhdGggZmlsbD0iIzAwNTJiNCIgZD0iTTQ3OS41IDI1NmgtNDQ0TDAgMTg5LjJWMGgxODkuMkwyNTYgMzEuOHY0NDQuNmw2Ni44IDM1LjZINTEyVjMyMi44eiIvPjxwYXRoIGZpbGw9IiNlZWUiIGQ9Ik0xODkuMiAwaDEzMy42djE4OS4ySDUxMnYxMzMuNkgzMjIuOFY1MTJIMTg5LjJWMzIyLjhIMFYxODkuMmgxODkuMnoiLz48cGF0aCBmaWxsPSIjNDk2ZTJkIiBkPSJNMzIyLjggMjU2YTY2LjggNjYuOCAwIDEgMS0xMzMuNiAwYzAtMzYuOSA2Ni44LTY2LjggNjYuOC02Ni44czY2LjggMzAgNjYuOCA2Ni44eiIvPjxwYXRoIGZpbGw9IiMwMDUyYjQiIGQ9Ik0xODkuMiAyNTZhNjYuOCA2Ni44IDAgMSAxIDEzMy42IDAiLz48cGF0aCBmaWxsPSIjZDgwMDI3IiBkPSJNMjE4LjQgMjIyLjZ2NDEuN2EzNy42IDM3LjYgMCAxIDAgNzUuMiAwdi00MS43eiIvPjwvc3ZnPg==",
          FI: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBzdHlsZT0iYm9yZGVyLXJhZGl1czo1MCUiPjxwYXRoIGZpbGw9IiNlZWUiIGQ9Ik0wIDBoMTMzLjZsMzUuMyAxNi43TDIwMC4zIDBINTEydjIyMi42bC0yMi42IDMxLjcgMjIuNiAzNS4xVjUxMkgyMDAuM2wtMzItMTkuOC0zNC43IDE5LjhIMFYyODkuNGwyMi4xLTMzLjNMMCAyMjIuNnoiLz48cGF0aCBmaWxsPSIjMDA1MmI0IiBkPSJNMTMzLjYgMHYyMjIuNkgwdjY2LjhoMTMzLjZWNTEyaDY2LjdWMjg5LjRINTEydi02Ni44SDIwMC4zVjBoLTY2Ljd6Ii8+PC9zdmc+",
          HR: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBzdHlsZT0iYm9yZGVyLXJhZGl1czo1MCUiPjxwYXRoIGZpbGw9IiNlZWUiIGQ9Im0wIDE2NyAyNTMuOC0xOS4zTDUxMiAxNjd2MTc4bC0yNTQuOSAzMi4zTDAgMzQ1eiIvPjxwYXRoIGZpbGw9IiNkODAwMjciIGQ9Ik0wIDBoNTEydjE2N0gweiIvPjxwYXRoIGZpbGw9IiMwMDUyYjQiIGQ9Ik0wIDM0NWg1MTJ2MTY3SDB6Ii8+PHBhdGggZmlsbD0iIzMzOGFmMyIgZD0iTTMyMi44IDE3OGgtNDQuNWw3LjQtNTUuNyAyOS43LTIyLjIgMjkuNiAyMi4yVjE2N3ptLTEzMy42IDBoNDQuNWwtNy40LTU1LjctMjkuNy0yMi4yLTI5LjYgMjIuMlYxNjd6Ii8+PHBhdGggZmlsbD0iIzAwNTJiNCIgZD0iTTI4NS43IDE3OGgtNTkuNHYtNTUuN2wyOS43LTIyLjIgMjkuNyAyMi4yeiIvPjxwYXRoIGZpbGw9IiNlZWUiIGQ9Ik0xNjcgMTY3djEyMi4zYTg5IDg5IDAgMCAwIDM1LjggNzEuM2wxNS41LTMuOSAxOS43IDE5LjhhODkuMSA4OS4xIDAgMCAwIDE4IDEuOCA4OSA4OSAwIDAgMCAxNy45LTEuOGwyMi40LTE4LjcgMTMgMi44YTg5IDg5IDAgMCAwIDM1LjctNzEuM1YxNjd6Ii8+PHBhdGggZmlsbD0iI2Q4MDAyNyIgZD0iTTE2NyAxNjdoMzUuNnYzNS41SDE2N3ptNzEuMiAwaDM1LjZ2MzUuNWgtMzUuNnptNzEuMiAwSDM0NXYzNS41aC0zNS42em0tMTA2LjggMzUuNWgzNS42djM1LjZoLTM1LjZ6bTcxLjIgMGgzNS42djM1LjZoLTM1LjZ6TTE2NyAyMzguMWgzNS42djM1LjZIMTY3em0zNS42IDM1LjZoMzUuNnYzNS42aC0zNS42em0zNS42LTM1LjZoMzUuNnYzNS42aC0zNS42em03MS4yIDBIMzQ1djM1LjZoLTM1LjZ6bS0zNS42IDM1LjZoMzUuNnYzNS42aC0zNS42em0tMzUuNiAzNS42aDM1LjZWMzQ1aC0zNS42em0tMzUuNiAwaC0zMy4zYzMgMTMuMyA5IDI1LjQgMTcuMyAzNS42aDE2ek0zMDkuNCAzNDVoMTZhODguOCA4OC44IDAgMCAwIDE3LjMtMzUuNmgtMzMuM3ptLTEwNi44IDB2MTUuNmE4OC43IDg4LjcgMCAwIDAgMzUuNiAxNlYzNDV6bTcxLjIgMHYzMS42YTg4LjcgODguNyAwIDAgMCAzNS42LTE2VjM0NXoiLz48L3N2Zz4=",
          LV: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBzdHlsZT0iYm9yZGVyLXJhZGl1czo1MCUiPjxwYXRoIGZpbGw9IiNhMjAwMWQiIGQ9Ik0wIDBoNTEydjE4OS4ybC0zOC41IDcwIDM4LjUgNjMuNlY1MTJIMFYzMjIuOGwzOS40LTYzTDAgMTg5LjF6Ii8+PHBhdGggZmlsbD0iI2VlZSIgZD0iTTAgMTg5LjJoNTEydjEzMy42SDB6Ii8+PC9zdmc+",
          PA: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBzdHlsZT0iYm9yZGVyLXJhZGl1czo1MCUiPjxwYXRoIGZpbGw9IiNlZWUiIGQ9Ik0wIDBoMjU2bDI1NiAyNTZ2MjU2SDI1NkwwIDI1NnoiLz48cGF0aCBmaWxsPSIjMDA1MmI0IiBkPSJNMCAyNTZ2MjU2aDI1NlYyNTZ6Ii8+PHBhdGggZmlsbD0iI2Q4MDAyNyIgZD0iTTI1NiAwaDI1NnYyNTZIMjU2eiIvPjxwYXRoIGZpbGw9IiMwMDUyYjQiIGQ9Im0xNTIuNCA4OSAxNi42IDUxaDUzLjZsLTQzLjQgMzEuNiAxNi42IDUxLTQzLjQtMzEuNS00My40IDMxLjUgMTYuNi01MUw4Mi4yIDE0MGg1My42eiIvPjxwYXRoIGZpbGw9IiNkODAwMjciIGQ9Im0zNTkuNiAyODkuNCAxNi42IDUxaDUzLjZMMzg2LjQgMzcybDE2LjYgNTEtNDMuNC0zMS41LTQzLjQgMzEuNiAxNi42LTUxLTQzLjQtMzEuNkgzNDN6Ii8+PC9zdmc+",
          PH: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBzdHlsZT0iYm9yZGVyLXJhZGl1czo1MCUiPjxwYXRoIGZpbGw9IiMwMDUyYjQiIGQ9Ik0wIDBoNTEydjI1NmwtMjY1IDQ1LjJ6Ii8+PHBhdGggZmlsbD0iI2Q4MDAyNyIgZD0iTTIxMCAyNTZoMzAydjI1NkgweiIvPjxwYXRoIGZpbGw9IiNlZWUiIGQ9Ik0wIDB2NTEybDI1Ni0yNTZ6Ii8+PHBhdGggZmlsbD0iI2ZmZGE0NCIgZD0iTTE3NS4zIDI1NiAxNDQgMjQxLjNsMTYuNy0zMC4zLTM0IDYuNS00LjMtMzQuMy0yMy42IDI1LjJMNzUgMTgzLjJsLTQuMyAzNC4zLTM0LTYuNSAxNi43IDMwLjNMMjIuMyAyNTZsMzEuMiAxNC43TDM3IDMwMWwzNC02LjUgNC4yIDM0LjMgMjMuNy0yNS4yIDIzLjYgMjUuMiA0LjMtMzQuMyAzNCA2LjUtMTYuNy0zMC4zem0tMTA3LTE1NS44IDEwLjQgMTQuNSAxNy01LjQtMTAuNiAxNC40IDEwLjQgMTQuNS0xNy01LjZMNjggMTQ3bC4yLTE3LjktMTctNS42IDE3LTUuNHptMCAyNjQuOCAxMC40IDE0LjYgMTctNS40LTEwLjYgMTQuMyAxMC40IDE0LjYtMTctNS43TDY4IDQxMS44bC4yLTE3LjktMTctNS42IDE3LTUuNHptMTQ4LjQtMTMyLjRMMjA2LjMgMjQ3bC0xNy01LjQgMTAuNSAxNC40LTEwLjQgMTQuNiAxNy01LjcgMTAuNiAxNC40LS4xLTE3LjkgMTctNS42LTE3LjEtNS40eiIvPjwvc3ZnPg==",
          PR: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBzdHlsZT0iYm9yZGVyLXJhZGl1czo1MCUiPjxwYXRoIGZpbGw9IiNlZWUiIGQ9Im0yNyA2My4zIDQ4NSAzOS4xdjEwMi40TDQ3Ny4zIDI1OWwzNC43IDQ4LjJ2MTAyLjRMMjcuNCA0NDYuOXoiLz48cGF0aCBmaWxsPSIjZDgwMDI3IiBkPSJtMCAwIDUxLjIgMTAyLjRINTEyVjB6bTAgNTEyaDUxMlY0MDkuNkg1MS4yem0xODAtMjA0LjhoMzMyVjIwNC44SDE4MHoiLz48cGF0aCBmaWxsPSIjMDA1MmI0IiBkPSJNMCAwdjUxMmwyNTYtMjU2eiIvPjxwYXRoIGZpbGw9IiNlZWUiIGQ9Im0xMDMuNiAxODkuMiAxNi42IDUxaDUzLjZsLTQzLjQgMzEuNiAxNi42IDUxLTQzLjQtMzEuNS00My40IDMxLjUgMTYuNi01MS00My40LTMxLjZIODd6Ii8+PC9zdmc+",
          SI: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBzdHlsZT0iYm9yZGVyLXJhZGl1czo1MCUiPjxwYXRoIGZpbGw9IiMwMDUyYjQiIGQ9Im0wIDE2NyAyNTMuOC0xOS4zTDUxMiAxNjd2MTc4bC0yNTQuOSAzMi4zTDAgMzQ1eiIvPjxwYXRoIGZpbGw9IiNlZWUiIGQ9Ik0wIDBoNTEydjE2N0gweiIvPjxwYXRoIGZpbGw9IiNkODAwMjciIGQ9Ik0wIDM0NWg1MTJ2MTY3SDB6Ii8+PHBhdGggZmlsbD0iIzAwNTJiNCIgZD0iTTIyMi43IDE2N3YtNjYuOEg4OVYxNjdsNjcgODIuNnoiLz48cGF0aCBmaWxsPSIjZWVlIiBkPSJNODkgMTY3djIyLjJjMCA1MS4xIDY2LjggNjYuOCA2Ni44IDY2LjhzNjYuOC0xNS43IDY2LjgtNjYuOFYxNjdsLTIyLjMgMjIuMi00NC41LTMzLjQtNDQuNSAzMy40eiIvPjwvc3ZnPg==",
          Generic:
            "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAA5NJREFUOBGtVVuIjVEUXmv//++MocYlg2Iu5TpTboc3SWEYKSWNJPEgiTwMM0RkHjyIyREPLikSJfJqdNyShGZQHryYmnPmUG7l0gznzDn/Xr69p32cMzM8YNeZtfbea33fuv17mH6z6o51llPgVfshTxKlyoX1SBY1zJhD74PeA+1jyDpF2bAr3jzlw1BQXHgYbekoHVdW3oDDBjhHmbm88P53uoh8gO1z0uG1XPjtWrx5dq+zzRPUtSajns+ncbDAXf6NBFlHGNK2eFPlM+NvCZbGEjMD4ruIYuIQoN/h1APLHAnBhFiEFGQgRKXYRgb7yDvJ0ZK2pspXPrW0oLB8DK5F4HB+KRIewa89o8MvuWxJaIBGRHo4o30V8SKBhFLmK54H32b85vwi4gnkUSuwV/Hy48lapegFIgmcASJOZCS98N6u6W/d2Z/k8lhiosf8CAWpdnZCkmWdi/qo0fxCcGOA6C8a8JWxxA4RNhN04VZjdcI5G1l/onsdDGvR2JttjVVP6mPdl1G2g87GYGoOQMBSgbn75C6MZJKHds98AEWfIFr9QJTxQhvo+wE4SzyVg/6ESD8mUUU4SqSG62PJnYh5POYagUNTWvX16pORErVQPL6Sb6KQBrMyNoULTu3ZdHYZzsr8iL9NCdteIWsUhz/5cEoDfB9crTMLJ4MR/lM4noVFBGWALl+RSR3or2MfFfN9iNwAeQOyWDAsEpyWvswekKwHSpUNQFQv5m07MFDP1mSNVjxWsWgK6TP5dBnOc80dGn5KWFLgP0pabwD4JtzVhhJuUcq7BIBx1k7rpm/Z9LmRwfAKCbMm16/x3VNSlsAYuLUylryAkdvs9iDAE8AZRDoZ89+J/ozHfSmoX6N301zZkGUaAaxo21X9wPkaWVRTTM2WQnBrKHQGJP3TgahBdhv7VKhpLUDfOzBkVULsnbdvmDuEzGdQ19o1w/O8R4h0TMG9qdEX9KMPPUDdyXwX5h5fr6RQrgoA5DGMH8gvtTVWbjaq2bsM2PPV4UHg/VZn0fhDxlhrvRVR3wHkG/QAj6Ip34DFvLH+eLeZKrt883dxy30PYqY9GfAHpKsxDXgd0Tel9oJgKmIbhQYfhhxdHL9Nh7WSGYCx340lsJhmfouSdUxsjPsX0yLU2uqQy4a2R1nwgDkXVyK3/++ygEDsf6v/wYBxztcir6yIJdbguOZfCcxTkcvJ1XhzVZfB+gmCe2lxPI+EwQAAAABJRU5ErkJggg==",
          Worldwide:
            "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAABQtJREFUSA2NVktslFUU/u79//nn2c7QaXm08ihYEZCXmMgKdKULLAlqo6yAuBETjLLrihVsYKNAoqKECCaIIK8YExckRBcQBVpoK4HS8nSm82g7nc7jf13P+acDU2mRk7T3773nnnO+c75zbgX+R17en4svnylWBnR3iSHVVkOnC0IcVkL2aSXVdWBTfeZZJsR0hx/+lF0RDejbX50tN7Q1yJaQ34BlmehJKVwf1mGaJpSrHlouzo8V7IMnNzd0T2XraQe7lLFtda6zuU7uHLGNyKaFDhbUu7iScDFSVriadFG2GQQQ9uuYHw+gWCzl7wy7+w4drd+NE8KsdTTJwW/92ehAWj+SdoIbY1oJXUkbLzUIDI4q5Mpk0AfYCnDpx3GB9jYN6+dKuELiasaPW0OF09fuWlu+7mgYrTp57ECpgcCxa/Hj0Ui4fU1DET/02uhJkyUSjbQ44spflattMwTWz9OwMCag6ECXgC8QRiY3fg75VEdra2uJNWm7IolsY+f6RZH2tkgBF+45GKZjSUb5Ihtn4YWdzasTeHexjjlh4e2xTonSls2NoykafidQ39jpXZi4g0R27BWfT780WlKh470m7uUUyk7FWFWRV05NU0hg2woNfyUULt53sGqmxNoWieS4Qv+wwpo5OmYEZSEelK831PlveAh8Uu6A5g8d7jJxM6NAzPAirTVe/R4zFQaoJi8Qii3LdSQLCgeu2Pil30EsAMQDCmnLCCnH3sF3RC6Xi2dLoufCAzHr4l3LS0nVWO3K+ecUbXhRwzou7ERBODV3CTGf5cn58iYuugYddtLU1DI9MSZX/zwgZvWlTPgeV6TWdOWbWfPmfOkZNyl9VeE7i4lpXK9EHngwpohpNgqOPmtZ1FktU6ZaSqY9heqlqVYOuCnIcU4W3rfJOTuNBQRujygwwzKmDxfuO8vk5UfORy0hy3PAylXok81U0mNoT3afdgXweUtE4ORNB78PFmC6+Ex2D7kOM+bT13R8sERDiJppOifdNCY4Wk6LQ9F4/fHEp3e2tFF4TMtbAt0pN6PbSjuUNn37Z4dNNJP3BVGBozcc9BNUmgRe8dgGc/16ysWxHnhBcHdzk73VqsFPkTN6Fq5FjkaK0P3Ilqzv9GLZ+ttQmmeIo4v5Bd6gYkYM4vWIC4vQVRuNI+4acj1jlaJWWLOIcs4kYL1RGimMVDgmpJR9Umi+q49yZiJV0jzIDJ2pxs3EKZP/YZY3EmiPnZFNXHrkTkLZl6GhaJKCa/+jDHFNnuiIZjMFnL2c8kGbMMZIWLjh7BpKVnYn/24MPkkjM6k37WJVc5DqKM5++3Y065kMGr4v/hgsjHelxONG0ymv96mBGNF0QiAwh+rGwoW/TukL+KgmKI8PFZwved9z8E17XU/BdPb+mTa8ychIupL0sFAuOSXTCU9Rnlusz6D5rbid96M3ae09tzlOdKiZpplgbM9AKn8244a8gv16xyEWqGc2INfnFg24h9S93xPzBosh5PLjZ26K2J5qUBV8E3+t+Sob/Xyt70g0HNp4qicPzYurqjr1ymzitBQQgLBLp1G0p35wqtff/1EZ6+bmO2+NYqcFI+JYZXp7p660kMQ8nx+2Vc7Ts7OvuVi/e1fHM57MqhNePz6TXeFo+nYi/QYhRIvUDWJe5bmtfiulHhJHz7sl++Ch95730a/1Qt+fnMrFnYBYSSCWEKe28jG9Y4el9nz/tvwLGZounPgog2EAAAAASUVORK5CYII=",
        },
        QO = {
          0: "TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.PREFERRED",
          1: "TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.SUPPORTED",
          3: "TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.THIRD_PARTY",
          2: "TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.DEDICATED",
        };
      u.module("app").controller("SipTrunkWizardCtrl", [
        "$scope",
        "TrunksSvc",
        "$translate",
        "$filter",
        function (t, c, e, n) {
          (t.stub = { mainDidNumber: "" }),
            t.$watch("stub.selectProviderCountry", function (i) {
              void 0 !== i &&
                c
                  .getProviders(i)
                  .then(function (a) {
                    (t.providers = t.getSortedProviders(a.data)),
                      (t.stub.selectProviderInCountry = t.providers[0]);
                  })
                  .catch(() => u.noop());
            }),
            (t.getSortedProviders = (i) => {
              const a = i
                .filter((l) => 4 !== l.ProviderType)
                .map((l) => ({
                  Name: l.Name,
                  Messaging: l.Messaging,
                  ProviderTemplateType: +l.ProviderType,
                  ProviderTemplateName: t.getProviderTypeTranslation(
                    l.ProviderType
                  ),
                }));
              return n("orderBy")(a, ["ProviderTemplateType", "Name"]);
            }),
            (t.getProviderTypeTranslation = function (i) {
              const a = QO[i];
              return (a && e.instant(a)) || "Unknown";
            }),
            (t.stub.isThirdPartyProvider = function (i) {
              return 3 === (null == i ? void 0 : i.ProviderTemplateType);
            }),
            (t.stub.getCountryFlag = function (i) {
              return i ? qO[i] : "";
            }),
            c
              .getProviderCountryList()
              .then(function (i) {
                (t.countries = i.data.sort()),
                  (t.stub.selectProviderCountry = t.countries[0]);
              })
              .catch(() => u.noop());
        },
      ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/trunks/import/mc-did-number-input.component.html",
              '<div class="form-group"> <label translate="TRUNKS_GATEWAY.DIALOGS.ADD_PROVIDER.DID_NUMBER"></label> <input class="form-control" ng-model="$ctrl.mainDidNumber" name="mainDidNumber" ng-minlength="4" maxlength="50" ng-pattern="/^[a-zA-Z0-9+*]+$/" required> <div class="errors" ng-if="$ctrl.submitted"> <ul ng-messages="$ctrl.error"> <li ng-message="minlength"> <span class="halflings halflings-exclamation-sign"></span> <span> {{ \'WARNINGS.LENGHT_NOT_LESS_THAN_CHARS\' | translate : \'{ p0: 4 }\' }} </span> </li> <li ng-message="required"> <span class="halflings halflings-exclamation-sign"></span> <span> {{ \'WARNINGS.LENGHT_NOT_LESS_THAN_CHARS\' | translate : \'{ p0: 4 }\' }} </span> </li> <li ng-message="pattern"> <span class="halflings halflings-exclamation-sign"></span> <span> {{ \'WARNINGS.DID_NUMBER_IS_INVALID\' | translate }} </span> </li> </ul> </div> </div> '
            ),
        ]),
        u
          .module("app")
          .component("mcDidNumberInput", {
            bindings: { mainDidNumber: "=", submitted: "<", error: "<" },
            templateUrl:
              "js/app/trunks/import/mc-did-number-input.component.html",
          });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/trunks/import/trunk-import.component.html",
            '<button id="btnImport" type="button" ng-click="$ctrl.onImportProviderClick()" class="btn btn-default btn-sm btn-responsive"> <i class="halflings halflings-save"></i> <span translate="TRUNKS_GATEWAY.LIST_BUTTONS.IMPORT_PROVIDER_BTN">Import Provider</span> </button> <button id="btnExport" type="button" ng-click="$ctrl.onClickExport()" class="btn btn-default btn-sm btn-responsive" ng-disabled="$ctrl.selectedId === undefined"> <i class="halflings halflings-open"></i> <span translate="TRUNKS_GATEWAY.LIST_BUTTONS.EXPORT_PROVIDER_BTN">Export Provider</span> </button> '
          ),
      ]);
      let tx = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$state = e),
              (this.$uibModal = n),
              (this.$window = i),
              (this.trunkService = a);
          }
          editMessaging(e) {
            this.$state.go("app.trunk_messaging_editor.general", e);
          }
          editSipTrunk(e) {
            this.$state.go("app.siptrunks_editor.general", e);
          }
          onImportProviderClick() {
            this.$uibModal
              .open({ component: "importProviderModal", backdrop: "static" })
              .result.then((e) =>
                "messaging-template" === e.type
                  ? this.editMessaging(e.activeObject)
                  : this.editSipTrunk(e.activeObject)
              )
              .catch(() => u.noop());
          }
          onClickExport() {
            this.$window.location.assign(
              "api/trunkList/exportTrunk?id=" + this.selectedId
            );
          }
        }
        return (t.$inject = ["$state", "$uibModal", "$window", "TrunksSvc"]), t;
      })();
      u.module("app").component("trunkImport", {
        bindings: { selectedId: "<" },
        templateUrl: "js/app/trunks/import/trunk-import.component.html",
        controller: tx,
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/trunks/import/import-provider-modal.component.html",
            '<form name="clientForm" novalidate role="form" mc-submit="$ctrl.onSubmit()" autocomplete="off"> <div class="modal-header"> <button type="button" class="close" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="TRUNKS_GATEWAY.LIST_BUTTONS.IMPORT_PROVIDER_BTN">Import Provider</h4> </div> <div class="modal-body"> <div class="form-group"> <label translate="TRUNKS_GATEWAY.DIALOGS.IMPORT_PROVIDER.INFORMATION"> Import a SIP Trunk template xml file that conforms to 3CX SIP Trunk Template Standards example mysiptrunk_pv.xml. After adding your SIP Trunk template, the 3rd party unsupported provider will be listed in the list of available SIP Trunks. From then onwards, you can use it to create a SIP trunk. Imported 3rd party templates will not be backed up not restored </label> <div class="input-group"> <input id="fileInput" name="fileInput" type="file" class="hide" accept=".xml"> <input type="text" class="form-control" readonly="readonly" ng-model="$ctrl.providerFilename" name="provider" required> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="$ctrl.onUploadClick()" translate="REPOS.BUTTONS.UPLOAD_BTN" id="btnUpload"> <i class="halflings halflings-upload"></i>Upload</button></span> </div> <div class="errors" ng-if="clientForm.$submitted"> <ul ng-messages="clientForm.provider.$error"> <li ng-message="serverValidation"> <span class="halflings halflings-exclamation-sign"></span> <span>{{$ctrl.lastServerValidationError}}</span> </li> <li ng-message="validXml"> <span class="halflings halflings-exclamation-sign"></span> <span translate="REPORTS_UI.INVALID_XML_FILE"></span> </li> <li ng-message="required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.PROVIDER_XML"></span> </li> </ul> </div> </div> <mc-did-number-input submitted="clientForm.$submitted" error="clientForm.mainDidNumber.$error" main-did-number="$ctrl.mainDidNumber"></mc-did-number-input> </div> <div class="modal-footer"> <button type="submit" class="btn btn-default" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">OK </button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel"> Close </button> </div> </form> '
          ),
      ]);
      let ax = (() => {
        class t {
          constructor(e, n, i, a, l) {
            (this.$scope = e),
              (this.$timeout = n),
              (this.$element = i),
              (this.$window = a),
              (this.trunkService = l);
          }
          onSubmit() {
            this.trunkService
              .importTrunkProvider({
                providerTemplateXml: this.providerFileContents,
                mainDidNumber: this.mainDidNumber,
              })
              .then(
                (e) => {
                  this.close({
                    $value: {
                      type: this.templateType(this.providerFileContents),
                      activeObject: e.data,
                    },
                  });
                },
                (e) => {
                  e.status == Je.Status522ValidationError &&
                    (this.$scope.clientForm[e.data.Field].$setValidity(
                      "serverValidation",
                      !1
                    ),
                    (this.lastServerValidationError = e.data.Message));
                }
              );
          }
          $onInit() {
            const e = this.$element.find("input[type=file]")[0];
            (this.fileInput = z()(e)),
              this.fileInput.change(() => {
                this.$timeout(() => {
                  this.uploadFile(e);
                });
              });
          }
          templateType(e) {
            if (e)
              try {
                const a = new DOMParser()
                  .parseFromString(e, "text/xml")
                  .getElementsByTagName("type");
                if (a && a.length > 0) return a[0].textContent;
              } catch (n) {
                return console.log(n), null;
              }
            return null;
          }
          setContents(e, n) {
            this.$scope.clientForm.provider.$setValidity(
              "serverValidation",
              !0
            ),
              (this.providerFilename = e);
            try {
              if (!n) throw new Error("File is empty");
              z().parseXML(n),
                (this.providerFileContents = n),
                this.$scope.clientForm.provider.$setValidity("validXml", !0);
            } catch (i) {
              this.$scope.clientForm.provider.$setValidity("validXml", !1),
                this.invalidateContents();
            }
          }
          invalidateContents() {
            this.providerFileContents = void 0;
          }
          uploadFile(e) {
            const n = new FileReader();
            n.readAsText(e.files[0], "UTF-8"),
              (n.onload = (i) =>
                this.$scope.$apply(() =>
                  this.setContents(e.files[0].name, i.target.result)
                )),
              (n.onerror = () =>
                this.$scope.$apply(() => this.invalidateContents()));
          }
          onUploadClick() {
            setTimeout(() => {
              this.fileInput.val(""), this.fileInput.trigger("click");
            });
          }
        }
        return (
          (t.$inject = [
            "$scope",
            "$timeout",
            "$element",
            "$window",
            "TrunksSvc",
          ]),
          t
        );
      })();
      u.module("app").component("importProviderModal", {
        bindings: { resolve: "<", close: "&", dismiss: "&" },
        templateUrl:
          "js/app/trunks/import/import-provider-modal.component.html",
        controller: ax,
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/trunks/variable-control.html",
              '<div class="form-group m-b" ng-hide="$ctrl.variable.hide || $ctrl.variable.OptionType === \'hidden\'"> <div ng-if="$ctrl.provider === \'telegram\' && $ctrl.variable.Name === \'MESSAGING_VERIFICATION_CODE\'"> <telegram-btn active-object="$ctrl.activeObject"></telegram-btn> </div> <label>{{($ctrl.translationContext + $ctrl.variable.Title) | translate}}</label> <select ng-if="$ctrl.variable.Choices.length > 0" class="form-control" ng-disabled="$ctrl.variable.disabled || $ctrl.disabled" ng-model="$ctrl.variable.value" ng-model-options="{getterSetter : true}" ng-options="choice.Name as choice.DisplayName for choice in $ctrl.variable.Choices"> </select> <text-control ng-if="($ctrl.variable.Choices.length == 0) && $ctrl.variable.OptionType === \'textbox\'" disabled="$ctrl.variable.disabled || $ctrl.disabled" prop="$ctrl.variable" pattern="{{$ctrl.variable.Pattern}}" maxlength="{{$ctrl.variable.MaxLength || 1000}}" value-changed="$ctrl.valueChanged"> </text-control> <password-control ng-if="($ctrl.variable.Choices.length == 0) && $ctrl.variable.OptionType === \'password\'" disabled="{{$ctrl.variable.disabled || $ctrl.disabled ? \'true\' : \'\'}}" prop="$ctrl.variable" maxlength="{{$ctrl.variable.MaxLength || 1000}}" value-changed="$ctrl.valueChanged"> </password-control> </div> '
            ),
        ]),
        u.module("app").component("variableControl", {
          bindings: {
            translationContext: "@",
            activeObject: "<",
            variable: "<",
            disabled: "<",
            isPassword: "<",
            valueChanged: "<",
          },
          templateUrl: "js/app/trunks/variable-control.html",
          controller: class lx {
            get provider() {
              var c, e;
              return null ===
                (e =
                  null === (c = this.activeObject) || void 0 === c
                    ? void 0
                    : c.MessagingProvider._value.SmsProviderType) ||
                void 0 === e
                ? void 0
                : e._value;
            }
          },
        }),
        u
          .module("app")
          .directive("formattingList", () => ({
            templateUrl: "js/app/trunks/formatting_list.html",
            scope: !0,
          }));
      var rx = w(15462),
        Rn = w.n(rx);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/trunks/sbc/sbc-wizard.component.html",
            '<form name="clientForm" novalidate role="form" mc-submit="onClick()" autocomplete="off"> <div class="modal-header"> <button type="button" class="close" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="TRUNKS_GATEWAY.DIALOGS.ADD_SBC.ADD_SBC_TITLE">Add SBC</h4> </div> <div class="modal-body"> <label class="m-r-xs" translate="TRUNKS_GATEWAY.DIALOGS.ADD_SBC.MORE_INFO"></label> <a target="_blank" class="dashed_link" href="{{\'LINKS.SBC_HELP_LINK\' | translate }}"> <label translate="EXTENSIONS.EDITOR.PROVISIONING.HERE">here.</label> </a> <div class="form-group"> <label translate="TRUNKS_GATEWAY.DIALOGS.ADD_SBC.NAME"></label> <input class="form-control" ng-model="$ctrl.stub.Name.value" ng-model-options="{getterSetter: true}" ng-change="clientForm.Name.$error = {}" maxlength="50" name="Name" required> <div class="errors" ng-if="clientForm.$submitted"> <ul ng-messages="clientForm.Name.$error"> <li ng-message="ASCII"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.CANNOT_CONTAIN_SPECIAL_CHARACTERS"></span> </li> <li ng-message="Required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.INVALID_MISSING_VALUES"></span> </li> <li ng-message="TrimRequired"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.CANNOT_CONTAIN_DOUBLE_SPACES"></span> </li> <li ng-message="InvalidChar"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.CANNOT_CONTAIN_SPECIAL_CHARACTERS"></span> </li> <li ng-message="Unique"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.DUPLICATE_NAME"></span> </li> </ul> </div> </div> <password-control-design inputname="Password" client-form="clientForm" ng-required="true" prop="$ctrl.stub.Password" mc-title="TRUNKS_GATEWAY.DIALOGS.ADD_SBC.PASSWORD"> <li ng-message="Weak"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.SBC_PASSWORD_REQUIREMENTS"></span> </li> <li ng-message="Length"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.SBC_PASSWORD_REQUIREMENTS"></span> </li> <li ng-message="DenySpace"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.SBC_PASSWORD_REQUIREMENTS"></span> </li> <li ng-message="Required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.INVALID_MISSING_VALUES"></span> </li> <li ng-message="InvalidChar"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.SBC_PASSWORD_REQUIREMENTS"></span> </li> </password-control-design> </div> <div class="modal-footer"> <button type="submit" class="btn btn-default" ng-click="$ctrl.onClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save</button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> </form> '
          ),
      ]);
      class Ve {
        constructor(c) {
          this._value = c;
        }
        value(c) {
          return arguments.length > 0 && (this._value = c), this._value;
        }
      }
      class mi {
        constructor() {
          (this.Name = new Ve("")),
            (this.Password = new Ve("")),
            (this.Description = new Ve("")),
            (this.Id = new Ve("")),
            (this.ProvisionLink = new Ve("")),
            (this.LocalIP = new Ve("")),
            (this.PublicIP = new Ve("")),
            (this.Version = new Ve("")),
            (this.AudioPort = new Ve("")),
            (this.LogFileSize = new Ve("")),
            (this.Group = new Ve({ Name: "", Number: null })),
            (this.Security = new Ve("")),
            (this.LogLevel = new Ve("")),
            (this.PassiveServerIsEnabled = new Ve("")),
            (this.PassiveServerIp = new Ve("")),
            (this.WebUrl = new Ve("")),
            (this.PhoneMac = new Ve(""));
        }
      }
      u.module("app").component("sbcWizardCtrl", {
        bindings: { resolve: "<", close: "&", dismiss: "&", activeObject: "<" },
        controller: [
          "$scope",
          "$translate",
          "TrunksSvc",
          "$state",
          class px {
            constructor(c, e, n, i) {
              (this.$scope = c),
                (this.trunkSvc = n),
                (this.$state = i),
                (this.stub = new mi()),
                (this.stub = new mi());
              const a =
                Rn()("a", 1) + Rn()("A", 1) + Rn()("0Aa", 7) + Rn()("0", 1);
              this.stub.Password.value(a);
            }
            onClick() {
              this.trunkSvc
                .createSbc({
                  name: this.stub.Name.value(),
                  password: this.stub.Password.value(),
                  description: this.stub.Description.value(),
                })
                .then(
                  (c) => {
                    this.close({ $value: c.data }),
                      this.$state.go("app.sbc_editor", { Id: c.data.Id });
                  },
                  (c) => {
                    c.status == Je.Status522ValidationError &&
                      this.$scope.clientForm[c.data.Field].$setValidity(
                        c.data.Code,
                        !1
                      );
                  }
                );
            }
          },
        ],
        templateUrl: "js/app/trunks/sbc/sbc-wizard.component.html",
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/trunks/sbc/sbc-update.component.html",
            '<button type="button" class="btn btn-sm btn-default btn-responsive" ng-click="$ctrl.onUpdateClick()" ng-disabled="$ctrl.selectedSbc === undefined" translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.UPDATE_BTN"> <i class="fa fa-refresh"></i> Update </button> '
          ),
      ]);
      let fx = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$state = e),
              (this.$uibModal = n),
              (this.$window = i),
              (this.trunkService = a);
          }
          onUpdateClick() {
            this.trunkService
              .getSBCUpdateInformation(this.selectedSbc.Id)
              .then((e) => {
                e.status !== Je.Status523UserMessage &&
                  this.$uibModal
                    .open({
                      component: "sbcUpdateDialog",
                      size: "md",
                      backdrop: "static",
                      resolve: { sbc: () => e.data },
                    })
                    .result.then(() => {
                      this.trunkService
                        .updateSBCVersion(this.selectedSbc.Id)
                        .then(() => {
                          this.$state.go("app.siptrunks");
                        })
                        .catch(() => u.noop());
                    });
              })
              .catch(() => u.noop());
          }
        }
        return (t.$inject = ["$state", "$uibModal", "$window", "TrunksSvc"]), t;
      })();
      u.module("app").component("sbcUpdate", {
        bindings: { selectedSbc: "<" },
        templateUrl: "js/app/trunks/sbc/sbc-update.component.html",
        controller: fx,
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/trunks/sbc/sbc-update-dialog.component.html",
            '<form novalidate role="form" mc-submit="$ctrl.onSubmit()" autocomplete="off"> <div class="modal-header"> <button type="button" class="close" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="TRUNKS_GATEWAY.DIALOGS.UPDATE_SBC.NEW_SBC_UPDATE_AVAILABLE">A new SBC Update is available! </h4> </div> <div class="modal-body"> <div class="form-group"> <p> <span translate="TRUNKS_GATEWAY.DIALOGS.UPDATE_SBC.NEW_SBC_VERSION_TYPE_AVAILABLE"> New SBC Available Version </span> <span> <strong>{{Version}}</strong> ({{Type}}) </span> </p> <p> <span translate="TRUNKS_GATEWAY.DIALOGS.UPDATE_SBC.DESCRIPTION">Description: {{Description}}</span> <span><a href="{{DescriptionLink.Text}}" target="_blank" class="dashed_link">{{DescriptionLink.Title}}</a>.</span> </p> </div> <hr> <div class="form-group"> <p> <span translate="TRUNKS_GATEWAY.DIALOGS.UPDATE_SBC.DURING_UPDATE_INFO"></span> <br> <br> <span translate="TRUNKS_GATEWAY.DIALOGS.UPDATE_SBC.DO_YOU_WANT_TO_PROCEED"> Do you want to proceed with the update? </span> </p> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel"> Close</button> <button type="button" class="btn btn-primary" translate="REPOS.BUTTONS.PROCEED_BTN" id="btnProcceed" ng-click="$ctrl.close()">OK</button> </div> </form> '
          ),
      ]);
      let Tx = (() => {
        class t {
          constructor(e) {
            this.$scope = e;
          }
          $onInit() {
            const e = this.resolve.sbc;
            (this.$scope.Version = e.stVersion),
              (this.$scope.Description = e.Description),
              (this.$scope.DescriptionLink = e.DescriptionLink),
              (this.$scope.Type = e.Type);
          }
        }
        return (t.$inject = ["$scope"]), t;
      })();
      u.module("app").component("sbcUpdateDialog", {
        bindings: { resolve: "<", close: "&", dismiss: "&" },
        templateUrl: "js/app/trunks/sbc/sbc-update-dialog.component.html",
        controller: Tx,
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/trunks/sbc/sbc-push-dialog.comonent.html",
              '<div class="modal-header"> <button type="button" class="close" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title" translate="TRUNKS_GATEWAY.DIALOGS.PUSH_SBC.PUSH_SBC_CONFIGURATION"> Push SBC Configuration </h4> </div> <div class="modal-body"> <div class="form-group"> <p translate="TRUNKS_GATEWAY.DIALOGS.PUSH_SBC.PUSH_SBC_CONFIRMATION_INFO"> This action will push the latest configuration to selected SBC clients. Any connections to remote offices will disconnect temporarily until the SBC reloads. Proceed? </p> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$ctrl.close()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave"> Save </button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel"> Close </button> </div> '
            ),
        ]),
        u.module("app").component("sbcPushDialog", {
          bindings: { close: "&", dismiss: "&" },
          templateUrl: "js/app/trunks/sbc/sbc-push-dialog.comonent.html",
          controller: class Ex {
            constructor() {}
          },
        });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/trunks/sbc/sbc-editor.component.html",
            '<form name="clientForm" id="SbcMainForm" novalidate role="form" mc-submit="saveClick()" autocomplete="off"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3">{{Title}}</label> <button type="submit" ng-class="{\'m-l-lg\' : $ctrl.sbc.Status.Status}" name="saveMain" form="SbcMainForm" class="btn m-b-xs w-xs btn-success" ng-click="$ctrl.saveClick()" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave" style="margin-left:25px">Save </button> <button type="button" class="btn m-b-xs w-xs btn-dark" ng-click="$ctrl.cancelClick()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel </button> <help-button url="{{\'LINKS.SBC_HELP_LINK\' | translate }}"></help-button> </div> <div class="wrapper-md tab-container"> <uib-tabset active="$ctrl.selectedTab"> <uib-tab index="0" heading="{{\'TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.GENERAL\' | translate}}"> <sbc-main frm="clientForm" sbc="$ctrl.sbc" password-value="$ctrl.passwordValue"></sbc-main> </uib-tab> <uib-tab index="1" heading="{{\'TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.STATS\' | translate}}"> <sbc-stats sbc="$ctrl.sbc"></sbc-stats> </uib-tab> <uib-tab index="2" heading="{{\'TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.SETTINGS\' | translate}}"> <sbc-settings sbc="$ctrl.sbc" frm="clientForm" groups="$ctrl.groups" show-groups="$ctrl.showGroups"></sbc-settings> </uib-tab> </uib-tabset> </div> </form> '
          ),
      ]);
      const bl = { Name: "No group", Number: null };
      let _x = (() => {
        class t {
          constructor(e, n, i, a, l, s, r) {
            (this.$rootScope = e),
              (this.$scope = n),
              (this.$state = i),
              (this.$http = l),
              (this.groupListApiService = s),
              (this.trunkListService = r),
              (this.sbc = new mi()),
              (this.sub = new mt.w0()),
              (this.selectedTab = 0),
              (this.groups = []),
              (this.inputPageMap = {
                Name: 0,
                Password: 0,
                PassiveServer: 2,
                AudioPort: 2,
              }),
              (this.showGroups = this.$rootScope.User.isMulticompanyMode),
              this.sbc.Id.value(a.Id);
          }
          isSbcRouterPhone() {
            return this.sbc.PhoneMac && !!this.sbc.PhoneMac.value();
          }
          $onDestroy() {
            this.sub.unsubscribe();
          }
          clear(e) {
            console.log(e);
          }
          $onInit() {
            this.sub.add(
              (0, It.a)([
                this.groupListApiService.groupListGet(),
                this.trunkListService.trunkListLoadSbc({
                  id: this.sbc.Id.value(),
                }),
              ]).subscribe({
                next: ([e, n]) => {
                  var i;
                  const a = e.list.filter((s) => s.AllowCallService);
                  this.groups = [bl, ...a];
                  const l =
                    null !== (i = a.find((s) => s.Number === n.Group)) &&
                    void 0 !== i
                      ? i
                      : bl;
                  (this.$scope.Title = n.Name),
                    (this.sbc.Name = new Ve(n.Name)),
                    (this.sbc.Password = new Ve(n.Password)),
                    (this.sbc.Id = new Ve(n.Id)),
                    (this.sbc.SbcId = new Ve(n.SbcId)),
                    (this.sbc.ProvisionLink = new Ve(n.ProvisionLink)),
                    (this.sbc.LocalIP = new Ve(n.LocalIP)),
                    (this.sbc.PublicIP = new Ve(n.PublicIP)),
                    (this.sbc.Version = new Ve(n.Version)),
                    (this.sbc.Legacy = new Ve(n.Legacy)),
                    (this.sbc.AudioPort = new Ve(n.AudioPort)),
                    (this.sbc.LogFileSize = new Ve(n.LogFileSize)),
                    (this.sbc.Group = new Ve(l)),
                    (this.sbc.Security = new Ve(n.Security)),
                    (this.sbc.LogLevel = new Ve(n.LogLevel)),
                    (this.sbc.PassiveServerIsEnabled = new Ve(
                      n.PassiveServerIsEnabled
                    )),
                    (this.sbc.PassiveServerIp = new Ve(n.PassiveServer)),
                    (this.sbc.WebUrl = new Ve(n.Link.replace(/\/$/, ""))),
                    (this.sbc.PhoneMac = new Ve(n.PhoneMac)),
                    (this.sbc.Version.disabled = !0),
                    (this.sbc.ProvisionLink.disabled = !0),
                    (this.sbc.LocalIP.disabled = !0),
                    (this.sbc.PublicIP.disabled = !0),
                    (this.sbc.Name.disabled = this.isSbcRouterPhone()),
                    (this.sbc.Group.disabled = this.isSbcRouterPhone());
                },
                error: (e) => {},
              })
            );
          }
          saveClick() {
            for (const e in this.sbc) this.sbc[e].errorMsg = void 0;
            this.$http
              .postApi("api/TrunkList/sbc", {
                Id: this.sbc.Id.value(),
                Name: this.sbc.Name.value(),
                Password: this.sbc.Password.value(),
                Group: this.sbc.Group.value().Number,
                Description: "",
                AudioPort: this.sbc.AudioPort.value(),
                LogFileSize: this.sbc.LogFileSize.value(),
                Security: this.sbc.Security.value(),
                Log: this.sbc.LogLevel.value(),
                PassiveServerIsEnabled: this.sbc.PassiveServerIsEnabled.value(),
                PassiveServer: this.sbc.PassiveServerIp.value(),
              })
              .then((e) => {
                (this.sbc = e.data), this.$state.go("app.siptrunks");
              })
              .catch((e) => {
                var n;
                e.status == Je.Status522ValidationError &&
                  (this.$scope.clientForm[e.data.Field].$setValidity(
                    e.data.Code,
                    !1
                  ),
                  (this.selectedTab =
                    null !== (n = this.inputPageMap[e.data.Field]) &&
                    void 0 !== n
                      ? n
                      : this.selectedTab));
              });
          }
          cancelClick() {
            this.$state.go("app.siptrunks");
          }
        }
        return (
          (t.$inject = [
            "$rootScope",
            "$scope",
            "$state",
            "$stateParams",
            "$http",
            "GroupListApiService",
            "TrunkListApiService",
          ]),
          t
        );
      })();
      u.module("app").component("sbcEditorComponent", {
        controller: _x,
        templateUrl: "js/app/trunks/sbc/sbc-editor.component.html",
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/trunks/sbc/sbc-main.component.html",
              '<panel mc-title="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_INFORMATION_HEADE"> <div class="form-group"> <div class="form-group m-b"> <copy-input-to-clipboard mc-title="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.WEB_URL" prop="$ctrl.sbc.WebUrl" maxlength="500" mc-readonly="true"> </copy-input-to-clipboard> </div> <div class="form-group m-b"> <copy-input-to-clipboard mc-title="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.AUTHENTICATION_ID" prop="$ctrl.sbc.Id" mc-readonly="true"> </copy-input-to-clipboard> </div> </div> </panel> <panel mc-title="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_GENERAL_HEADER"> <div class="form-group"> <div class="form-group m-b"> <label translate="TRUNKS_GATEWAY.DIALOGS.ADD_SBC.NAME"></label> <input class="form-control" ng-model="$ctrl.sbc.Name.value" ng-model-options="{getterSetter: true}" ng-change="$ctrl.frm.Name.$error = {}" ng-disabled="$ctrl.sbc.Name.disabled" maxlength="50" name="Name" required> <div class="errors" ng-if="$ctrl.frm.$submitted"> <ul ng-messages="$ctrl.frm.Name.$error"> <li ng-message="ASCII"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.CANNOT_CONTAIN_SPECIAL_CHARACTERS"></span> </li> <li ng-message="Required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.INVALID_MISSING_VALUES"></span> </li> <li ng-message="TrimRequired"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.CANNOT_CONTAIN_DOUBLE_SPACES"></span> </li> <li ng-message="InvalidChar"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.CANNOT_CONTAIN_SPECIAL_CHARACTERS"></span> </li> <li ng-message="AccessForbidden"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.FIRST_REPROVISION_SBC_BEFORE_CHANGING_NAME_OR_PASSWORD">Access Forbidden</span> </li> <li ng-message="Unique"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.DUPLICATE_NAME"></span> </li> </ul> </div> </div> <div class="form-group m-b"> <password-control-design inputname="Password" client-form="$ctrl.frm" ng-required="true" prop="$ctrl.sbc.Password" mc-title="TRUNKS_GATEWAY.DIALOGS.ADD_SBC.PASSWORD"> <li ng-message="Weak"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.SBC_PASSWORD_REQUIREMENTS"></span> </li> <li ng-message="Length"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.SBC_PASSWORD_REQUIREMENTS"></span> </li> <li ng-message="DenySpace"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.SBC_PASSWORD_REQUIREMENTS"></span> </li> <li ng-message="Required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.INVALID_MISSING_VALUES"></span> </li> <li ng-message="InvalidChar"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.SBC_PASSWORD_REQUIREMENTS"></span> </li> <li ng-message="AccessForbidden"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.FIRST_REPROVISION_SBC_BEFORE_CHANGING_NAME_OR_PASSWORD">Access Forbidden</span> </li> </password-control-design> </div> <div class="row"> <div class="col-md-6"> <text-control prop="$ctrl.sbc.PublicIP" mc-title="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.PUBLIC" placeholder="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.PUBLIC"> </text-control> </div> <div class="col-md-6"> <text-control prop="$ctrl.sbc.LocalIP" mc-title="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.LOCAL" placeholder="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.LOCAL"> </text-control> </div> </div> </div> </panel> '
            ),
        ]),
        u
          .module("app")
          .component("sbcMain", {
            bindings: { sbc: "<", passwordValue: "<", frm: "<" },
            templateUrl: "js/app/trunks/sbc/sbc-main.component.html",
          });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/trunks/sbc/sbc-stats.component.html",
            '<panel mc-title="TRUNKS_GATEWAY.DIALOGS.VIEW_SBC.STATISTICS_OF" ng-if="$ctrl.sbcStat"> <table class="table table-striped"> <tbody> <tr> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.STATUS" style="width:40%"></td> <td> <span ng-if="$ctrl.sbcStat.IsConnected"> <i class="fa fa-arrow-up" style="color:green"></i> {{\'TRUNKS_GATEWAY.DIALOGS.STATISTICS.UP\' | translate}} </span> <span ng-if="!$ctrl.sbcStat.IsConnected"> <i class="fa fa-arrow-down" style="color:red"></i> {{\'TRUNKS_GATEWAY.DIALOGS.STATISTICS.DOWN\' | translate}} </span> </td> </tr> <tr> <td translate="{{$ctrl.sbcStat.IsConnected?\r\n                    \'TRUNKS_GATEWAY.DIALOGS.STATISTICS.UPTIME\':\r\n                    \'TRUNKS_GATEWAY.DIALOGS.STATISTICS.DOWNTIME\'}}"></td> <td> {{$ctrl.sbcStat.Status.Time | mcTimeFormat}} </td> </tr> <tr> <td translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.VERSION"></td> <td>{{$ctrl.sbc.Version._value ? $ctrl.sbc.Version._value : \'--\'}}</td> </tr> <tr> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.AGENTS_BEHIND_SBC"></td> <td>{{$ctrl.sbcStat.Status.Agents}}</td> </tr> <tr> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.CALLS_BEHIND_SBD"></td> <td translate="{{$ctrl.sbcStat.Status.Calls}}"></td> </tr> <tr ng-if="$ctrl.sbcStat && $ctrl.sbcStat.IsConnected"> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.TCP_ENCRYPTED"></td> <td translate="{{$ctrl.sbcStat.Traffic.TCP.Encrypted? \'REPOS.TEXT.YES\': \'REPOS.TEXT.NO\'}}"></td> </tr> <tr ng-if="$ctrl.sbcStat && $ctrl.sbcStat.IsConnected"> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.TCP_PACKETS_RECEIVED_SENT"></td> <td>{{$ctrl.sbcStat.Traffic.TCP.Packets}}</td> </tr> <tr ng-if="$ctrl.sbcStat && $ctrl.sbcStat.IsConnected"> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.UDP_STATUS"></td> <td translate="{{$ctrl.sbcStat.Traffic.UDP.Status?\r\n                   \'TRUNKS_GATEWAY.DIALOGS.STATISTICS.UP\':\r\n                   \'TRUNKS_GATEWAY.DIALOGS.STATISTICS.DOWN\'}}"></td> </tr> <tr ng-if="$ctrl.sbcStat && $ctrl.sbcStat.IsConnected"> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.UDP_ENCRYPTED"></td> <td translate="{{$ctrl.sbcStat.Traffic.UDP.Encrypted? \'REPOS.TEXT.YES\' : \'REPOS.TEXT.NO\'}}"></td> </tr> <tr ng-if="$ctrl.sbcStat && $ctrl.sbcStat.IsConnected"> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.UDP_PACKETS_RECEIVED_SENT"></td> <td>{{$ctrl.sbcStat.Traffic.UDP.Packets}}</td> </tr> <tr ng-if="$ctrl.sbcStat && $ctrl.sbcStat.IsConnected"> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.UDP_PING"></td> <td>{{$ctrl.sbcStat.Traffic.UDP.Ping}} ms</td> </tr> <tr ng-if="$ctrl.sbcStat && $ctrl.sbcStat.IsConnected"> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.OPERATING_SYSTEM">Operating System</td> <td>{{$ctrl.sbcStat.System.OS}}</td> </tr> <tr ng-if="$ctrl.sbcStat && $ctrl.sbcStat.IsConnected"> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.CPU_USAGE"></td> <td>{{$ctrl.sbcStat.System.Usage.CPU}} %</td> </tr> <tr ng-if="$ctrl.sbcStat && $ctrl.sbcStat.IsConnected"> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.SYSTEM_MEMORY_USAGE"></td> <td>{{$ctrl.sbcStat.System.Usage.SystemMemory}} %</td> </tr> <tr ng-if="$ctrl.sbcStat && $ctrl.sbcStat.IsConnected"> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.SBC_MEMORY_USAGE"></td> <td>{{$ctrl.sbcStat.System.Usage.SBCMemory}} %</td> </tr> <tr ng-if="$ctrl.sbcStat && $ctrl.sbcStat.IsConnected"> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.DISK_USAGE"></td> <td>{{$ctrl.sbcStat.System.Usage.Disk}} %</td> </tr> <tr ng-if="$ctrl.sbcStat && $ctrl.sbcStat.IsConnected"> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.NETWORK_RX"></td> <td>{{$ctrl.sbcStat.System.Usage.NetworkRx | bytes}}</td> </tr> <tr ng-if="$ctrl.sbcStat && $ctrl.sbcStat.IsConnected"> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.NETWORK_TX"></td> <td>{{$ctrl.sbcStat.System.Usage.NetworkTx | bytes}}</td> </tr> <tr ng-if="$ctrl.sbcStat && $ctrl.sbcStat.IsConnected"> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.RTP_PACKETS_RECEIVED_LOST_FROM_SBC"></td> <td>{{$ctrl.sbcStat.Traffic.UDP.RecvRx}} / {{$ctrl.sbcStat.Traffic.UDP.LostRx}} ({{$ctrl.rtpPackagesSBC}} %)</td> </tr> <tr ng-if="$ctrl.sbcStat && $ctrl.sbcStat.IsConnected"> <td translate="TRUNKS_GATEWAY.DIALOGS.STATISTICS.RTP_PACKETS_RECEIVED_LOST_FROM_PBX"></td> <td>{{$ctrl.sbcStat.Traffic.UDP.RecvTx}} / {{$ctrl.sbcStat.Traffic.UDP.LostTx}} ({{$ctrl.rtpPackagesPBX}} %)</td> </tr> </tbody> </table> </panel> '
          ),
      ]);
      let xx = (() => {
        class t {
          constructor(e, n) {
            (this.$http = e), (this.$timeout = n);
          }
          poll() {
            !this.sbc ||
              this.destroyed ||
              (void 0 !== this.timeoutPromise &&
                this.$timeout.cancel(this.timeoutPromise),
              this.$http
                .get("api/TrunkList/sbc_stats?id=" + this.sbc.Id.value())
                .then((e) => {
                  (this.sbcStat = e.data),
                    (this.rtpPackagesSBC = this.calculateLostPacketsPercentage(
                      this.sbcStat.Traffic.UDP.RecvRx,
                      this.sbcStat.Traffic.UDP.LostRx
                    )),
                    (this.rtpPackagesPBX = this.calculateLostPacketsPercentage(
                      this.sbcStat.Traffic.UDP.RecvTx,
                      this.sbcStat.Traffic.UDP.LostTx
                    ));
                })
                .finally(() => {
                  this.timeoutPromise = this.$timeout(() => this.poll(), 5e3);
                })
                .catch(() => u.noop()));
          }
          calculateLostPacketsPercentage(e, n) {
            const i = Number(e),
              a = Number(n);
            return i + a > 0 ? ((100 * a) / (i + a)).toFixed(2) : "0";
          }
          $onChanges() {
            this.poll();
          }
          $onDestroy() {
            (this.destroyed = !0),
              void 0 !== this.timeoutPromise &&
                this.$timeout.cancel(this.timeoutPromise);
          }
        }
        return (t.$inject = ["$http", "$timeout"]), t;
      })();
      u.module("app").component("sbcStats", {
        controller: xx,
        bindings: { sbc: "<" },
        templateUrl: "js/app/trunks/sbc/sbc-stats.component.html",
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/app/trunks/sbc/sbc-settings.component.html",
              '<panel mc-title="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.GROUP" ng-if="$ctrl.showGroups"> <div class="form-group"> <select class="form-control" ng-disabled="$ctrl.sbc.Group.disabled" ng-model="$ctrl.sbc.Group.value" ng-model-options="{getterSetter: true}" ng-options="item as item.Name for item in $ctrl.groups track by item.Number"></select> </div> </panel> <panel mc-title="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.TITLE"> <div class="form-group"> <div class="form-group m-b"> <label translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.SECURITY">Security</label> <select class="form-control" ng-model="$ctrl.sbc.Security.value" convert-to-number="" ng-model-options="{getterSetter: true}"> <option value="1" selected="selected" translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.TLS">TLS</option> <option value="0" translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.TCP">TCP</option> </select> </div> <div class="form-group m-b"> <label translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.FIRST_AUDIO_PORT">First Audio Port</label> <input class="form-control" maxlength="5" numbers-only ng-model="$ctrl.sbc.AudioPort.value" ng-model-options="{getterSetter: true}" ng-change="$ctrl.frm.AudioPort.$error = {}" name="AudioPort" required> <div class="errors" ng-if="$ctrl.frm.$submitted"> <ul ng-messages="$ctrl.frm.AudioPort.$error"> <li ng-message="Required" ng-if="$ctrl.frm.AudioPort.$error.Required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.INVALID_MISSING_VALUES"></span> </li> <li ng-message="Length" ng-if="$ctrl.frm.AudioPort.$error.Length"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.INVALID_SBC_PORTS"></span> </li> </ul> </div> </div> </div> </panel> <div class="panel panel-default"> <checkbox-control-header prop="$ctrl.sbc.PassiveServerIsEnabled" mc-title="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.ENABLE_FAILOVER"> </checkbox-control-header> <fieldset class="panel-body"> <label translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.FAILOVER_INFO" style="margin-bottom:10px"> 3CX SBC can still allow connections to the configured trunk when the Primary server becomes unreachable. Enter the PUBLIC IP Address of the secondary (Passive) 3CX Server. If the primary server becomes unreachable, all requests will be automatically forwarded to the secondary Server\'s IP Address configured below. </label> <div class="form-group m-b"> <text-watch-control prop="$ctrl.sbc.PassiveServerIp" mc-title="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.PUBLIC_IP_SECONDARY_3CX_SERVER" maxlength="50" name-input="PassiveServer" external-value-changed="$ctrl.sbc.PassiveServerIsEnabled.value()" error-list="$ctrl.frm.PassiveServer.$error"> </text-watch-control> <div class="errors" ng-if="$ctrl.frm.$submitted"> <ul ng-messages="$ctrl.frm.PassiveServer.$error"> <li ng-message="Required" ng-if="$ctrl.frm.PassiveServer.$error.Required"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.INVALID_MISSING_VALUES"></span> </li> <li ng-message="Invalidip" ng-if="$ctrl.frm.PassiveServer.$error.Invalidip"> <span class="halflings halflings-exclamation-sign"></span> <span translate="WARNINGS.STRING_INVALID_IP_ADDRESS"></span> </li> </ul> </div> </div> </fieldset> </div> <panel mc-title="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.LOGGING_TITLE"> <div class="form-group"> <div class="form-group m-b"> <label translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.LOGGING_LEVEL">Logging Level</label> <select class="form-control" ng-model="$ctrl.sbc.LogLevel.value" convert-to-number="" ng-model-options="{getterSetter: true}"> <option value="0" translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.OFF">Off</option> <option value="1" translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.LOW" selected="selected">Low</option> <option value="2" translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.MEDIUM">Medium</option> <option value="3" translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.VERBOSE">Verbose</option> </select> </div> <div class="form-group m-b"> <label translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SBC_OPTIONS_TAB.LOG_FILE_SIZE">Log File Size</label> <select class="form-control" ng-model="$ctrl.sbc.LogFileSize.value" convert-to-number="" ng-model-options="{getterSetter: true}"> <option value="100" selected="selected">100MB</option> <option value="500">500MB</option> <option value="1000">1GB</option> <option value="2000">2GB</option> <option value="4000">4GB</option> </select> </div> </div> </panel> '
            ),
        ]),
        u
          .module("app")
          .component("sbcSettings", {
            bindings: { showGroups: "<", groups: "<", sbc: "<", frm: "<" },
            templateUrl: "js/app/trunks/sbc/sbc-settings.component.html",
          }),
        u.module("app").directive("mcSubmit", function () {
          return {
            restrict: "A",
            link(t, c, e) {
              const n = t[e.name];
              return c.bind("submit", function () {
                if (
                  (u.forEach(n, (i) => {
                    u.isObject(i) && u.isDefined(i.$setDirty) && i.$setDirty();
                  }),
                  n.$valid)
                )
                  return t.$apply(e.mcSubmit);
                t.$digest();
              });
            },
          };
        }),
        u.module("app").directive("didRangeValidation", function () {
          return {
            require: "ngModel",
            link(t, c, e, n) {
              (t.validation = {}),
                (t.validation.normalize = function (i) {
                  const a = { from: void 0, to: void 0, star: !1, plus: !1 };
                  (a.from =
                    "*" === i.from[0] || "+" === i.from[0]
                      ? i.from.substring(1)
                      : i.from),
                    (a.to =
                      "*" === i.to[0] || "+" === i.to[0]
                        ? i.to.substring(1)
                        : i.to);
                  const l = Number(a.to),
                    s = Number(a.from);
                  if (!isNaN(s) && !isNaN(l)) return { from: s, to: l };
                }),
                (t.validation.checkLength = function (i) {
                  n.$setValidity(
                    "fieldsIsNotTheSameLength",
                    i.from.length === i.to.length
                  );
                }),
                (t.validation.checkStar = function (i) {
                  n.$setValidity(
                    "firstCharIsNotEquals",
                    ("*" !== i.from[0] &&
                      "+" !== i.from[0] &&
                      "*" !== i.to[0] &&
                      "+" !== i.to[0]) ||
                      i.from[0] === i.to[0]
                  );
                }),
                (t.validation.checkOrder = function (i) {
                  const a = t.validation.normalize(i);
                  a && n.$setValidity("wrongOrder", a.from < a.to);
                }),
                (t.validation.checkCount = function (i) {
                  const a = t.validation.normalize(i);
                  a && n.$setValidity("maxCountExceeded", a.to - a.from < 101);
                }),
                (t.validation.checkMAXNOOFDIDS = function (i, a) {
                  const l = t.validation.normalize(i);
                  l &&
                    n.$setValidity(
                      "MAXNOOFDIDSExceeded",
                      l.to - l.from <= a - 1
                    );
                }),
                t.$watch(
                  e.didRangeValidation,
                  function (i) {
                    i &&
                      i.from &&
                      i.to &&
                      (t.validation.checkLength(i),
                      t.validation.checkStar(i),
                      t.validation.checkOrder(i),
                      t.validation.checkCount(i),
                      t.validation.checkMAXNOOFDIDS(i, t.$eval(e.max))),
                      n.$setViewValue(i);
                  },
                  !0
                );
            },
          };
        }),
        u.module("app").controller("BridgeEditorCtrl", [
          "$scope",
          "$stateParams",
          "MyUtilsSvc",
          "EditSvc",
          function (t, c, e, n) {
            function i() {
              void 0 !== t.gateway &&
                (t.bridgeOutboundParams =
                  t.gateway.OutboundParameters._value.filter(function (a) {
                    return "FromDisplayName" == a._str;
                  }));
            }
            t.$watch("activeObject.Gateway._value", function (a) {
              (t.gateway = a), i();
            }),
              t.$watch("activeObject", function (a) {
                if (void 0 === a) return;
                const r = a;
                (t.gateway = a.Gateway._value), (t.trunk = r), i();
              }),
              e.initEditController(t, n, "app.siptrunks").catch(() => u.noop());
          },
        ]),
        u.module("app").directive("stDefaultOnAdd", function () {
          return {
            require: "stTable",
            restrict: "A",
            scope: { stSafeSrc: "=" },
            link: function (c, e, n, i) {
              c.$watchCollection("stSafeSrc", function (a, l) {
                if (a && l && a.length > l.length) {
                  const s = i.tableState();
                  (s.pagination.start =
                    s.pagination.totalItemCount -
                    (s.pagination.totalItemCount % s.pagination.number)),
                    i.pipe();
                }
              });
            },
          };
        });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/trunks/certificate-upload.component.html",
            '<div class="form-group clear"> <input id="fileInput" name="fileInput" type="file" class="hide" accept=".pem"> <label>{{$ctrl.mcTitle|translate}}</label> <div class="input-group"> <input type="text" class="form-control" ng-model="$ctrl.mcCertProp._value" ng-disabled="true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="$ctrl.onUploadCertClick()" ng-disabled="$ctrl.mcCertProp.disabled" translate="REPOS.BUTTONS.UPLOAD_BTN" id="btnUpload"> <i class="halflings halflings-upload"></i>Upload</button></span> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="$ctrl.onDeleteCertClick()" ng-disabled="$ctrl.mcCertProp.disabled || !$ctrl.mcCertProp._value" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i> Delete</button></span> </div> <div ng-if="$ctrl.isExpired($ctrl.mcCertExpiryDateProp._value)"> <div class="errors"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{\'WARNINGS.EXPIRED_ON\'| translate: {p0: ($ctrl.mcCertExpiryDateProp._value | mcDateFormat)} }} </li> </ul> </div> </div> <div ng-if="!$ctrl.isExpired($ctrl.mcCertExpiryDateProp._value)"> <div class="errors" ng-if="$ctrl.mcCertProp.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{$ctrl.mcCertProp.errorMsg | translate }} </li> </ul> </div> <div class="information" ng-if="!$ctrl.mcCertProp.errorMsg && $ctrl.mcCertExpiryDateProp._value"> <ul> <li> <span class="fa fa-info-circle" style="color:#004085"></span> {{\'WARNINGS.EXPIRES_ON\' | translate: {p0: ($ctrl.mcCertExpiryDateProp._value |mcDateFormat)} }} </li> </ul> </div> </div> <ng-transclude style="display:flex"></ng-transclude> </div> '
          ),
      ]);
      let wx = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$scope = e),
              (this.$element = n),
              (this.$timeout = i),
              (this.messageBoxService = a);
          }
          $onInit() {
            const e = this.$element.find("input[type=file]")[0];
            z()(e).change(() => {
              this.$timeout(() => {
                this.uploadFile(e);
              });
            });
          }
          isValidDate(e) {
            return ae()(e).isValid();
          }
          uploadFile(e) {
            var n;
            null === (n = this.mcCertExpiryDateProp) ||
              void 0 === n ||
              n.value(""),
              this.mcCertFileProp.value("");
            const i = e.files[0];
            if (!i.name.endsWith(".pem"))
              return (
                this.mcCertProp.value(i.name),
                void (this.mcCertProp.errorMsg =
                  "WARNINGS.INVALID_CERTIFICATE_FILE")
              );
            const a = new FileReader();
            a.readAsText(e.files[0], "UTF-8"),
              (a.onload = (l) =>
                this.$scope.$apply(() => {
                  this.mcCertProp.value(this.mcFixedFilename || i.name),
                    this.mcCertFileProp.value(l.target.result);
                })),
              (a.onerror = () =>
                this.$scope.$apply(
                  () => (this.mcCertProp.errorMsg = "Not able to read pem file")
                ));
          }
          onUploadCertClick() {
            const e = this.$element.find("input[type=file]")[0];
            setTimeout(() => {
              z()(e).val(""), z()(e).trigger("click");
            });
          }
          onDeleteCertClick() {
            this.messageBoxService
              .confirmDialog(
                "REPOS.CONFIRMATION.HEADER",
                "REPOS.CONFIRMATION.DELETE_FILE",
                "md"
              )
              .then(() => {
                var e;
                this.mcCertProp.value(""),
                  null === (e = this.mcCertExpiryDateProp) ||
                    void 0 === e ||
                    e.value(""),
                  this.mcCertFileProp.value("");
              })
              .catch(() => u.noop());
          }
          isExpired(e) {
            return "" !== e && new Date(e) < new Date();
          }
        }
        return (
          (t.$inject = ["$scope", "$element", "$timeout", "MessageBoxSvc"]), t
        );
      })();
      u
        .module("app")
        .component("mcCertificateUpload", {
          transclude: !0,
          bindings: {
            mcTitle: "@",
            mcCertProp: "<",
            mcFixedFilename: "@",
            mcCertFileProp: "<",
            mcCertExpiryDateProp: "<",
          },
          controller: wx,
          templateUrl: "js/app/trunks/certificate-upload.component.html",
        }),
        u.module("app").controller("MessagingEditorCtrl", [
          "$scope",
          "$stateParams",
          "$window",
          "$translate",
          "MyUtilsSvc",
          "EditSvc",
          "TrunksSvc",
          "CustomParametersSvc",
          "$element",
          "$timeout",
          "$http",
          "MessageBoxSvc",
          function (t, c, e, n, i, a, l, s, r, o, p, f) {
            (t.Id = c.Id),
              (t.countryCodes = [{ Id: "", _str: "Not specified" }, ...yn]);
            const m = {};
            function g(S) {
              t.activeObject.MessagingProvider._value &&
                S.data.SmsVariables &&
                S.data.SmsVariables.length > 0 &&
                fn(
                  t.activeObject.MessagingProvider._value.SmsVariables,
                  S.data.SmsVariables,
                  m
                );
            }
            (t.stubSms = m),
              t.$watch("activeObject", function (S) {
                void 0 !== S &&
                  ((t.trunk = S),
                  xn(t.trunk.TemplateName._value, l, !1)
                    .then((O) => {
                      (t.templateResponse = O), g(t.templateResponse);
                    })
                    .catch(() => u.noop()));
              }),
              t.$watch("activeObject.MessagingProvider._value", function (S) {
                var O;
                t.templateResponse
                  ? g(t.templateResponse)
                  : null !== (O = t.trunk) &&
                    void 0 !== O &&
                    O.TemplateName._value &&
                    xn(t.trunk.TemplateName._value, l, !1)
                      .then((j) => {
                        (t.templateResponse = j), g(t.templateResponse);
                      })
                      .catch(() => u.noop());
              }),
              (t.providerHelpUrl = () => {
                var S, O;
                return "whatsapp" ===
                  ((null ===
                    (O =
                      null === (S = t.activeObject) || void 0 === S
                        ? void 0
                        : S.MessagingProvider._value.SmsProviderType) ||
                  void 0 === O
                    ? void 0
                    : O._value) || "")
                  ? "LINKS.WHATSAPP_HELP_BTN"
                  : "LINKS.SIP_TRUNKS_HELP_BTN";
              }),
              i.initEditController(t, a, "app.siptrunks").catch(() => u.noop()),
              (t.isValidDate = function (S) {
                return null !== S.match(/\d+/g);
              });
          },
        ]);
      class Px {
        constructor(c = []) {
          (this.deck = c), (this.currentCard$ = new St.t(1));
        }
        setSuit(c) {
          const e = this.deck.find((n) => n.suit == c);
          e && this.currentCard$.next(e);
        }
        setCard(c) {
          const e = this.deck.find((n) => n.index == c);
          e && this.currentCard$.next(e);
        }
      }
      var Gt = (() => {
        return (
          ((t = Gt || (Gt = {}))[(t.AuthenticationCode = 0)] =
            "AuthenticationCode"),
          (t[(t.Password = 1)] = "Password"),
          (t[(t.FirstNameLastName = 2)] = "FirstNameLastName"),
          Gt
        );
        var t;
      })();
      class Ti {
        constructor(c) {
          Object.assign(this, c);
        }
      }
      function Hx(t, c) {
        1 & t &&
          (d.ynx(0),
          d.TgZ(1, "label", 12),
          d._uU(2, " Authentication code "),
          d.qZA(),
          d._UZ(3, "input", 13),
          d.TgZ(4, "button", 14),
          d._uU(5, " Send auth code "),
          d.qZA(),
          d.BQk());
      }
      function jx(t, c) {
        1 & t && (d.ynx(0), d._UZ(1, "app-password-control", 15), d.BQk());
      }
      function kx(t, c) {
        1 & t &&
          (d.ynx(0),
          d.TgZ(1, "label", 12),
          d._uU(2, " First name "),
          d.qZA(),
          d._UZ(3, "input", 13),
          d.TgZ(4, "label", 12),
          d._uU(5, " Last name "),
          d.qZA(),
          d._UZ(6, "input", 13),
          d.BQk());
      }
      let Ux = (() => {
          class t {
            constructor(e, n) {
              (this.bsModalRef = e),
                (this.fb = n),
                (this.ModalResult = qe.q),
                (this.result = qe.q.Cancel),
                (this.form = this.fb.group({})),
                (this.cardDeck = new Px([
                  new Ti({ index: 0, suit: Gt.AuthenticationCode }),
                  new Ti({ index: 1, suit: Gt.Password }),
                  new Ti({ index: 2, suit: Gt.FirstNameLastName }),
                ])),
                this.cardDeck.setSuit(Gt.AuthenticationCode);
            }
            get isFinished() {
              return !1;
            }
            ngOnInit() {}
            next() {
              this.cardDeck.currentCard$.pipe((0, Nt.q)(1)).subscribe((e) => {
                this.cardDeck.setCard(e.index + 1);
              });
            }
            hide(e) {
              (this.result = e), this.bsModalRef.hide();
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)(d.Y36(et.UZ), d.Y36(q.qu));
            }),
            (t.ɵcmp = d.Xpm({
              type: t,
              selectors: [["app-telegram-wizard"]],
              decls: 20,
              vars: 17,
              consts: [
                [3, "formGroup", "ngSubmit"],
                [1, "modal-header"],
                [1, "modal-title", "float-left"],
                [1, "modal-body"],
                [3, "ngSwitch"],
                [4, "ngSwitchDefault"],
                [4, "ngSwitchCase"],
                [1, "modal-footer"],
                [
                  "id",
                  "btnCancel",
                  "type",
                  "button",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "click",
                ],
                [
                  "id",
                  "btnNext",
                  "type",
                  "button",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "disabled",
                  "innerHTML",
                  "click",
                ],
                [
                  "id",
                  "btnOk",
                  "type",
                  "submit",
                  1,
                  "btn",
                  "btn-default",
                  3,
                  "disabled",
                  "click",
                ],
                ["okButton", ""],
                [1, "m-r-xs"],
                ["type", "text", 1, "form-control"],
                ["type", "button", 1, "btn", "m-t-sm", "btn-default"],
                ["mcTitle", "Password", "placeholder", ""],
              ],
              template: function (e, n) {
                if (
                  (1 & e &&
                    (d.TgZ(0, "form", 0),
                    d.NdJ("ngSubmit", function () {
                      return n.hide(n.ModalResult.Ok);
                    }),
                    d.TgZ(1, "div", 1)(2, "h4", 2),
                    d._uU(3, "Telegram authorization"),
                    d.qZA()(),
                    d.TgZ(4, "div", 3),
                    d.ynx(5, 4),
                    d.ALo(6, "async"),
                    d.YNc(7, Hx, 6, 0, "ng-container", 5),
                    d.YNc(8, jx, 2, 0, "ng-container", 6),
                    d.YNc(9, kx, 7, 0, "ng-container", 6),
                    d.BQk(),
                    d.qZA(),
                    d.TgZ(10, "div", 7)(11, "button", 8),
                    d.NdJ("click", function () {
                      return n.hide(n.ModalResult.Cancel);
                    }),
                    d._uU(12),
                    d.ALo(13, "translate"),
                    d.qZA(),
                    d.TgZ(14, "button", 9),
                    d.NdJ("click", function () {
                      return n.next();
                    }),
                    d.ALo(15, "translate"),
                    d.qZA(),
                    d.TgZ(16, "button", 10, 11),
                    d.NdJ("click", function () {
                      return n.hide(n.ModalResult.Ok);
                    }),
                    d._uU(18),
                    d.ALo(19, "translate"),
                    d.qZA()()()),
                  2 & e)
                ) {
                  let i;
                  d.Q6J("formGroup", n.form),
                    d.xp6(5),
                    d.Q6J(
                      "ngSwitch",
                      null == (i = d.lcZ(6, 9, n.cardDeck.currentCard$))
                        ? null
                        : i.index
                    ),
                    d.xp6(3),
                    d.Q6J("ngSwitchCase", "1"),
                    d.xp6(1),
                    d.Q6J("ngSwitchCase", "2"),
                    d.xp6(3),
                    d.Oqu(d.lcZ(13, 11, "REPOS.BUTTONS.CANCEL_BTN")),
                    d.xp6(2),
                    d.Q6J("disabled", !n.form.valid)(
                      "innerHTML",
                      d.lcZ(15, 13, "REPOS.BUTTONS.NEXT_BTN"),
                      d.oJD
                    ),
                    d.xp6(2),
                    d.Q6J("disabled", !n.form.valid && !n.isFinished),
                    d.xp6(2),
                    d.Oqu(d.lcZ(19, 15, "REPOS.BUTTONS.OK_BTN"));
                }
              },
              dependencies: [
                En,
                Ye.RF,
                Ye.n9,
                Ye.ED,
                q._Y,
                q.JL,
                q.sg,
                Ye.Ov,
                He.X$,
              ],
            })),
            t
          );
        })(),
        $x = (() => {
          class t {
            constructor(e, n) {
              (this.$http = e),
                (this.bsModalService = n),
                (this.panel = "init"),
                (this.smsCode = ""),
                (this.password = "");
            }
            get done() {
              var e, n;
              return (
                null !==
                  (n = !(
                    null === (e = this.session) ||
                    void 0 === e ||
                    !e.value()
                  )) &&
                void 0 !== n &&
                n
              );
            }
            get session() {
              var e, n;
              return null ===
                (n =
                  null === (e = this.stub) || void 0 === e
                    ? void 0
                    : e.variables) || void 0 === n
                ? void 0
                : n.find((i) => "MESSAGING_SESSION" === i.Name);
            }
            get apiId() {
              var e, n;
              return null ===
                (n =
                  null === (e = this.stub) || void 0 === e
                    ? void 0
                    : e.variables) || void 0 === n
                ? void 0
                : n.find((i) => "MESSAGING_APP_ID" === i.Name);
            }
            get apiHash() {
              var e, n;
              return null ===
                (n =
                  null === (e = this.stub) || void 0 === e
                    ? void 0
                    : e.variables) || void 0 === n
                ? void 0
                : n.find((i) => "MESSAGING_API_HASH" === i.Name);
            }
            showWizard() {
              var e;
              const n = this.bsModalService.show(Ux),
                i = n.content;
              return null === (e = n.onHide) || void 0 === e
                ? void 0
                : e
                    .pipe(
                      (0, Nt.q)(1),
                      (0, We.U)(() => i)
                    )
                    .subscribe({
                      next: (a) => {
                        a.result == qe.q.Ok && console.log("perfect, ok");
                      },
                    });
            }
            resetSession() {
              var e;
              console.log(this.session.value()),
                null === (e = this.session) || void 0 === e || e.value("");
            }
            sendAuthorization() {
              this.post({
                ApiHash: this.apiHash.value(),
                ApiId: this.apiId.value(),
                TrunkNo: this.activeObject.MainDidNumber.value(),
              });
            }
            sendVerificationCode() {}
            sendPassword() {}
            post(e) {}
          }
          return (t.$inject = ["$http", "bsModalService"]), t;
        })();
      u
        .module("app")
        .component("telegramBtn", {
          controller: $x,
          bindings: { activeObject: "<", stub: "<" },
          templateUrl:
            "js/app/trunks/messaging/telegram/telegram-btn.component.html",
        }),
        u.module("app").filter("outOfDateCount", [
          function () {
            return (t) => t.filter((c) => c.OutOfDate).length;
          },
        ]),
        u.module("app").filter("phoneFirmwareName", [
          function () {
            return (t) =>
              "Yealink" == t.Vendor || "Htek" == t.Vendor
                ? t.Vendor + " " + t.Name
                : t.Name;
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/app/updates/updates-list.component.html",
            '<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="SYSTEM_STATUS.SECTIONS.UPDATES.UPDATES">Updates</label> </div> <p ng-if="$ctrl.updateCategories && $ctrl.updateCategories.length == 0" class="m-md"> <span translate="HEADER.UPDATES.YOUR_SYSTEM_IS_UP_TO_DATE_LAST_CHECKED"></span> <span>{{$ctrl.DateOfLatestUpdate | date:\'HH:mm\'}}</span> </p> <div class="wrapper-md"> <debian-upgrade></debian-upgrade> <mc-automatic-updates></mc-automatic-updates> <uib-accordion close-others="oneAtATime"> <div uib-accordion-group ng-repeat="category in $ctrl.updateCategories" is-open="category.isOpen" class="panel-default"> <uib-accordion-heading> <span translate="update_category.{{category.name}}"></span> <span ng-if="(category.items | outOfDateCount) > 0"> ({{category.items | outOfDateCount}}) </span> <span ng-if="(category.items | outOfDateCount) == 0"> ({{ \'SYSTEM_STATUS.SECTIONS.UPDATES.UP_TO_DATE\' | translate}}) </span> <i class="pull-right fa fa-angle-right" ng-class="{\'fa-angle-down\': category.isOpen, \'fa-angle-right\': !category.isOpen}"></i> </uib-accordion-heading> <category-update-control category="category" callback="$ctrl.onPerformedUpdate($value)"></category-update-control> </div> </uib-accordion> </div> </div> '
          ),
      ]);
      let zx = (() => {
        class t {
          constructor(e, n, i, a, l) {
            (this.$state = e),
              (this.$stateParams = n),
              (this.MessageBoxSvc = i),
              (this.updatesApiService = a),
              (this.updatesMenu = l);
          }
          groupBy(e, n) {
            const i = [],
              a = [];
            for (const l of e) {
              const s = l[n];
              let r = i.indexOf(s);
              -1 === r && (i.push(s), (r = i.indexOf(s)), (a[r] = [])),
                a[r].push(l);
            }
            return a;
          }
          okClick() {
            this.$state.go("app.system_status.all");
          }
          onPerformedUpdate(e) {
            e !== On && this.loadUpdates();
          }
          loadUpdates() {
            this.updatesApiService.getUpdates().subscribe({
              next: (e) => {
                this.dialog.close(),
                  this.updatePage(e, this.$stateParams.OpenCategory),
                  this.updatesMenu.refreshMenu$.next(!0);
              },
              error: (e) => {
                this.dialog.close(), this.MessageBoxSvc.error(e);
              },
            });
          }
          updatePage(e, n) {
            const i = e.IsMaintananceExpired,
              a = e.Entries.filter((o) => o.OutOfDate),
              l = this.groupBy(a, "Category"),
              s = e.Key,
              r = l.map((o) => {
                const p = o[0].Category;
                return {
                  updateToken: s,
                  name: p,
                  IsMaintananceExpired: i,
                  displayPriority: "",
                  items: o,
                  displayedItems: [].concat(o),
                  showOnlyOutOfDate: !1,
                  IsSelectAllEnabled: hn(p, o.length),
                  isOpen: !!n && n == p,
                };
              });
            bo(r, "name"),
              (function Vx(t, c, e) {
                let i,
                  n = [];
                const a = t.find((r, o) => {
                  if ("cti" == r.name) return (i = o), !0;
                });
                let l;
                a && ((n = n.concat(a.items)), t.splice(i, 1));
                const s = t.find((r, o) => {
                  if ("cert" == r.name) return (l = o), !0;
                });
                if (
                  (s && ((n = n.concat(s.items)), t.splice(l, 1)), n.length > 0)
                ) {
                  const r = {
                    name: "other_updates",
                    updateToken: e,
                    IsMaintananceExpired: c,
                    items: n,
                    displayedItems: [].concat(n),
                    showOnlyOutOfDate: !1,
                    isOpen: !1,
                    IsSelectAllEnabled: hn("other_updates", n.length),
                  };
                  t.push(r);
                }
              })(r, i, s),
              (function Fx(t, c, e) {
                let n;
                const i = t.find((s, r) => {
                  if ("gateway" == s.name) return (n = r), !0;
                });
                let a;
                const l = t.find((s, r) => {
                  if ("fxs" == s.name) return (a = r), !0;
                });
                if (l)
                  if ((t.splice(a, 1), i)) t[n].items = i.items.concat(l.items);
                  else {
                    const s = {
                      updateToken: e,
                      name: "gateway",
                      IsMaintananceExpired: c,
                      items: l.items,
                      displayedItems: [].concat(l.items),
                      showOnlyOutOfDate: !1,
                      isOpen: !1,
                      IsSelectAllEnabled: hn("gateway", l.items.length),
                    };
                    t.push(s);
                  }
              })(r, i, s),
              (this.DateOfLatestUpdate = new Date()),
              (this.updateCategories = r);
          }
          $onInit() {
            (this.dialog = this.MessageBoxSvc.openProgressDialog(
              "SYSTEM_STATUS.SECTIONS.UPDATES.CHECKING_DIALOG_HEADER",
              "SYSTEM_STATUS.SECTIONS.UPDATES.CHECKING_DIALOG_MESSAGE"
            )),
              this.loadUpdates();
          }
        }
        return (
          (t.$inject = [
            "$state",
            "$stateParams",
            "MessageBoxSvc",
            "UpdatesApiService",
            "UpdatesMenuService",
          ]),
          t
        );
      })();
      u.module("app").component("updatesListComponent", {
        templateUrl: "js/app/updates/updates-list.component.html",
        controller: zx,
      });
      var Mt = (() => {
        return (
          ((t = Mt || (Mt = {})).en = "en"),
          (t.en_GB = "en_GB"),
          (t.de_DE = "de_DE"),
          (t.fr_FR = "fr_FR"),
          (t.es_ES = "es_ES"),
          (t.it_IT = "it_IT"),
          (t.pt_PT = "pt_PT"),
          (t.ru_RU = "ru_RU"),
          (t.pl_PL = "pl_PL"),
          (t.zh_CN = "zh_CN"),
          Mt
        );
        var t;
      })();
      const Il = Mt.en,
        bi = {
          en: {
            label: "English (US)",
            flag: ii,
            momentLocale: "en",
            bsLocale: "en",
            dayJsLocale: "en",
          },
          en_GB: {
            label: "English (UK)",
            flag: ai,
            momentLocale: "en-gb",
            bsLocale: "en-gb",
            dayJsLocale: "en-gb",
          },
          de_DE: {
            label: "Deutsch",
            flag: pi,
            momentLocale: "de",
            bsLocale: "de",
            dayJsLocale: "de",
          },
          fr_FR: {
            label: "Fran\xe7ais",
            flag: oi,
            momentLocale: "fr",
            bsLocale: "fr",
            dayJsLocale: "fr",
          },
          es_ES: {
            label: "Espa\xf1ol",
            flag: si,
            momentLocale: "es",
            bsLocale: "es",
            dayJsLocale: "es",
          },
          it_IT: {
            label: "Italiano",
            flag: li,
            momentLocale: "it",
            bsLocale: "it",
            dayJsLocale: "it",
          },
          pt_PT: {
            label: "Portugu\xeas",
            flag: ci,
            momentLocale: "pt",
            bsLocale: "pt",
            dayJsLocale: "pt",
          },
          ru_RU: {
            label: "\u0420\u0443\u0441\u0441\u043a\u0438\u0439",
            flag: ri,
            momentLocale: "ru",
            bsLocale: "ru",
            dayJsLocale: "ru",
          },
          pl_PL: {
            label: "Polski",
            flag: rl,
            momentLocale: "pl",
            bsLocale: "pl",
            dayJsLocale: "pl",
          },
          zh_CN: {
            label: "\u4e2d\u6587",
            flag: di,
            momentLocale: "zh-ch",
            bsLocale: "zh-cn",
            dayJsLocale: "zh-cn",
          },
        };
      function vl(t) {
        return Object.values(Mt).indexOf(t) >= 0;
      }
      const Nl = Object.values(Mt).reduce(
        (t, c) => Object.assign(t, { [c.split("_")[0]]: c }),
        {}
      );
      function yl(t) {
        switch (t) {
          case "cn":
            return Mt.zh_CN;
          case "br":
            return Mt.pt_PT;
          default:
            return vl(t) ? t : Il;
        }
      }
      u
        .module("app")
        .factory("$webpackLanguageLoader", [
          "$translateStaticFilesLoader",
          function (t) {
            return function (c) {
              return t(c);
            };
          },
        ])
        .config([
          "stConfig",
          function (t) {
            t.pagination.template = "tpl/fancy_pagination.html";
          },
        ])
        .config([
          "$httpProvider",
          "$locationProvider",
          function (t, c) {
            let e;
            c.hashPrefix(""),
              t.defaults.headers.get || (t.defaults.headers.get = {}),
              (t.defaults.headers.get["Cache-Control"] = "no-cache"),
              (t.defaults.headers.get.Pragma = "no-cache"),
              t.interceptors.push([
                "$rootScope",
                "$q",
                "$window",
                "accessTokenService",
                (i, a, l, s) => ({
                  request: (r) => r,
                  response(r) {
                    const o = r.config.url,
                      p = r.headers("X-3CX-Version");
                    return (
                      (0 == o.indexOf("api") ||
                        0 == o.indexOf("webclient/api")) &&
                        e &&
                        p &&
                        p !== e &&
                        l.location.reload(),
                      !e && p && (e = p),
                      r
                    );
                  },
                  responseError: (r) => (
                    401 === r.status && i.$state.go("login"), a.reject(r)
                  ),
                }),
              ]);
          },
        ])
        .config([
          "$translateProvider",
          "$windowProvider",
          function (t, c) {
            t.useLoader("$webpackLanguageLoader", {
              prefix: "l10n/",
              suffix: ".json",
            }),
              t.preferredLanguage(
                (function Wx(t) {
                  const c = t.reduce(
                    (e, n) => e.concat([n.replace("-", "_"), n.split("-")[0]]),
                    []
                  );
                  for (let e = 0; e < c.length; e++) {
                    const n = c[e];
                    if (vl(n)) return n;
                    if (Nl[n]) return Nl[n];
                  }
                  return Il;
                })(c.$get().navigator.languages)
              ),
              t.useLocalStorage(),
              t.useSanitizeValueStrategy("sceParameters");
          },
        ]),
        u.module("app").constant("JQ_CONFIG", {}).constant("MODULE_CONFIG", []);
      const Ol = (t) => {
        var c;
        return null === (c = null == t ? void 0 : t.name) || void 0 === c
          ? void 0
          : c.endsWith("**");
      };
      u
        .module("app")
        .run([
          "$rootScope",
          "$state",
          "$stateParams",
          "AuthenticationSvc",
          "editableOptions",
          "$location",
          function (t, c, e, n, i, a) {
            (i.theme = "bs3"), (t.$state = c), (t.$stateParams = e);
            let l = !1;
            n.requestUser().then(
              function () {
                if (((l = !0), n.exists())) {
                  const o = t.lastRequestedMeaningfulState;
                  Ol(o)
                    ? a.path(`/app${o.url}`)
                    : void 0 !== o
                    ? c.go(o.name, o.params)
                    : c.go("app.default");
                } else c.go("login");
              },
              function () {
                (l = !0), c.go("login");
              }
            ),
              t.$on("$stateChangeStart", function s(r, o, p) {
                "loading" != o.name &&
                  "login" != o.name &&
                  "app.default" != o.name &&
                  (t.lastRequestedMeaningfulState = {
                    name: o.name,
                    params: p,
                    url: `${o.url}${null == p ? void 0 : p.remainder}`,
                  }),
                  l || "loading" == o.name
                    ? l &&
                      !n.exists() &&
                      "login" != o.name &&
                      (r.preventDefault(), t.$state.go("login"))
                    : (r.preventDefault(), t.$state.go("loading"));
              }),
              t.$on("$stateNotFound", function () {}),
              t.$on("$stateChangeStart", function (r, o) {
                const p = t.User;
                ("app.default" == o.name ||
                  "app.system_status.all" == o.name) &&
                  void 0 !== p &&
                  (p.roles.includes("HostingAdmin") ||
                    !p.roles.includes("Admin")) &&
                  (r.preventDefault(),
                  p.roles.includes("HostingAdmin")
                    ? c.go("app.settings.general")
                    : p.roles.includes("Admin") || c.go("app.extensions"));
              }),
              t.$on("$stateChangeSuccess", function () {}),
              t.$on("$stateChangeError", function () {});
          },
        ])
        .config([
          "$stateProvider",
          "$urlRouterProvider",
          function (t, c) {
            c.otherwise(function (e) {
              e.invoke([
                "$state",
                function (n) {
                  n.go("app.default");
                },
              ]);
            }),
              t
                .state("login", {
                  url: "/login",
                  component: "loginComponent",
                  data: { noLogin: !0 },
                })
                .state("loading", {
                  url: "/loading",
                  data: { noLogin: !0 },
                  templateUrl: "tpl/loading.html",
                })
                .state("app", {
                  abstract: !0,
                  url: "/app",
                  templateUrl: "tpl/app.html",
                })
                .state("console", {
                  url: "/console",
                  component: "consoleComponent",
                })
                .state("app.default", {
                  url: "/default",
                  component: "systemStatusComponent",
                })
                .state("app.system_status", {
                  url: "/system_status",
                  template: "<div ui-view></div>",
                })
                .state("app.system_status.all", {
                  url: "/all",
                  component: "systemStatusComponent",
                })
                .state("app.system_status.extensions", {
                  url: "/extensions",
                  templateUrl: "js/app/system_status/extensions.html",
                  params: {
                    showExtensions: { value: void 0 },
                    showSystemExtensions: { value: void 0 },
                  },
                })
                .state("app.system_status.active_calls", {
                  url: "/active_calls",
                  component: "activeCalls",
                })
                .state("app.system_status.event_log", {
                  url: "/event_log",
                  component: "eventLogListCtrl",
                })
                .state("app.system_status.activity_log", {
                  url: "/activity_log",
                  templateUrl: "js/app/system_status/activity_log.html",
                })
                .state("app.system_status.3cx_clients", {
                  url: "/3cx_clients",
                  templateUrl: "js/app/system_status/3cx_clients.html",
                })
                .state("app.system_status.firewall_checker", {
                  url: "/firewall_checker",
                  templateUrl: "js/app/system_status/firewall_checker.html",
                })
                .state("app.system_status.services", {
                  url: "/services",
                  component: "systemServicesComponent",
                })
                .state("app.system_status.ip_blacklist", {
                  url: "/ip_blacklist",
                  templateUrl: "js/app/system_status/ip_blacklist.html",
                })
                .state("app.system_status.logs", {
                  url: "/logs",
                  templateUrl: "js/app/filemanager/filemanager_list.html",
                })
                .state("app.phones", {
                  url: "/phones",
                  component: "phoneListCtrl",
                })
                .state("app.groups", {
                  url: "/groups",
                  templateUrl: "js/app/groups/group_list.html",
                })
                .state("app.group_editor", {
                  abstract: !0,
                  url: "/group_editor/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/groups/group_editor.html",
                })
                .state("app.group_editor.general", {
                  url: "",
                  templateUrl: "js/app/groups/group_editor_members.html",
                })
                .state("app.group_editor.group_rights", {
                  url: "/group_rights",
                  params: { ActiveObject: { value: void 0 } },
                  component: "groupEditorRights",
                })
                .state("app.extensions", {
                  url: "/extensions",
                  component: "extensionList",
                })
                .state("app.extension_editor", {
                  abstract: !0,
                  params: { ActiveObject: { value: void 0 } },
                  url: "/extension_editor/:Id",
                  templateUrl: "js/app/extensions/tpl/extension_editor.html",
                })
                .state("app.extension_editor.general", {
                  url: "",
                  controller: "ExtensionEditorGeneralTabCtrl",
                  templateUrl: "js/app/extensions/tpl/general.html",
                })
                .state("app.extension_editor.voicemail", {
                  url: "/voicemail",
                  controller: "ExtensionEditorVoicemailTabCtrl",
                  templateUrl: "js/app/extensions/tpl/voicemail.html",
                })
                .state("app.extension_editor.forwarding_rules", {
                  url: "/forwarding_rules",
                  controller: "ExtensionEditorForwardingRulesTabCtrl",
                  params: { RejectPath: void 0 },
                  templateUrl: "js/app/extensions/tpl/forwarding_rules.html",
                })
                .state("app.extension_editor.forwarding_rules_away", {
                  url: "/forwarding_rules/away",
                  templateUrl:
                    "js/app/extensions/tpl/forwarding_rules/away.html",
                })
                .state("app.extension_editor.forwarding_rules_dod", {
                  url: "/forwarding_rules/dod",
                  templateUrl:
                    "js/app/extensions/tpl/forwarding_rules/dnd.html",
                })
                .state("app.extension_editor.forwarding_rules_business_trip", {
                  url: "/forwarding_rules/business_trip",
                  templateUrl:
                    "js/app/extensions/tpl/forwarding_rules/business_trip.html",
                })
                .state("app.extension_editor.forwarding_rules_exceptions", {
                  url: "/forwarding_rules/exceptions",
                  templateUrl:
                    "js/app/extensions/tpl/forwarding_rules/exceptions.html",
                })
                .state("app.extension_editor.phone_provisioning", {
                  url: "/phone_provisioning",
                  params: { OpenNewDeviceEditor: !1 },
                  templateUrl: "js/app/extensions/tpl/phone_provisioning.html",
                })
                .state("app.extension_editor.blf", {
                  url: "/blf",
                  controller: "ExtensionEditorBlfTabCtrl",
                  templateUrl: "js/app/extensions/tpl/blf.html",
                })
                .state("app.extension_editor.click2talk", {
                  url: "/click2talk",
                  component: "click2talk",
                  params: { Type: "extension" },
                })
                .state("app.extension_editor.options", {
                  url: "/options",
                  controller: "ExtensionEditorOptionsTabCtrl",
                  templateUrl: "js/app/extensions/tpl/options.html",
                })
                .state("app.extension_editor.rights", {
                  url: "/rights",
                  templateUrl: "js/app/extensions/tpl/rights.html",
                })
                .state("app.siptrunks", {
                  url: "/siptrunks",
                  templateUrl: "js/app/trunks/trunk_list.html",
                })
                .state("app.siptrunks_editor", {
                  abstract: !0,
                  url: "/trunk_editor/:Id",
                  params: { ActiveObject: { value: void 0 }, trunkType: null },
                  templateUrl: "js/app/trunks/trunk_editor.html",
                })
                .state("app.siptrunks_editor.general", {
                  url: "",
                  templateUrl: "js/app/trunks/general.html",
                })
                .state("app.siptrunks_editor.advanced", {
                  url: "/advanced",
                  templateUrl: "js/app/trunks/advanced.html",
                })
                .state("app.siptrunks_editor.inbound_parameters", {
                  url: "/inbound_parameters",
                  templateUrl: "js/app/trunks/inbound_parameters.html",
                })
                .state("app.siptrunks_editor.outbound_parameters", {
                  url: "/outbound_parameters",
                  templateUrl: "js/app/trunks/outbound_parameters.html",
                })
                .state("app.siptrunks_editor.sms", {
                  url: "/sms",
                  templateUrl: "js/app/trunks/sms.html",
                })
                .state("app.siptrunks_editor.did", {
                  url: "/did",
                  templateUrl: "js/app/trunks/did.html",
                })
                .state("app.siptrunks_editor.formatting", {
                  url: "/formatting",
                  templateUrl: "js/app/trunks/formatting.html",
                })
                .state("app.trunk_messaging_editor", {
                  abstract: !0,
                  url: "/trunk_messaging_editor/:Id",
                  params: { ActiveObject: { value: void 0 }, trunkType: null },
                  templateUrl: "js/app/trunks/messaging/messaging_editor.html",
                })
                .state("app.trunk_messaging_editor.general", {
                  url: "",
                  templateUrl: "js/app/trunks/messaging/messaging_general.html",
                })
                .state("app.trunk_messaging_editor.did", {
                  url: "/did",
                  templateUrl: "js/app/trunks/did.html",
                })
                .state("app.sbc_editor", {
                  url: "/sbc_editor/:Id",
                  component: "sbcEditorComponent",
                })
                .state("app.bridge_editor", {
                  abstract: !0,
                  url: "/bridge_editor/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/trunks/bridges/bridge_editor.html",
                })
                .state("app.bridge_editor.general", {
                  url: "",
                  templateUrl: "js/app/trunks/bridges/general.html",
                })
                .state("app.bridge_editor.remote_presence", {
                  url: "/remote_presence",
                  templateUrl: "js/app/trunks/bridges/remote_presence.html",
                })
                .state("app.bridge_editor.advanced", {
                  url: "/advanced",
                  templateUrl: "js/app/trunks/bridges/advanced.html",
                })
                .state("app.ivrs", {
                  url: "/ivrs",
                  templateUrl: "js/app/ivrs/ivr_list.html",
                })
                .state("app.ivr_editor", {
                  url: "/ivr_editor/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  component: "ivrEditor",
                })
                .state("app.recordings", {
                  url: "/recordings",
                  params: { SetQuota: { value: void 0 } },
                  component: "recordingListComponent",
                })
                .state("app.call_log", {
                  url: "/call_log",
                  templateUrl: "js/app/call_log/call_log.html",
                })
                .state("app.audit", {
                  url: "/audit/:filter",
                  params: { filter: { value: "all", dynamic: !0 } },
                  templateUrl: "js/app/audit/audit.html",
                })
                .state("app.chat_messages", {
                  url: "/chat_messages/:filter",
                  params: { filter: { value: "all", dynamic: !0 } },
                  templateUrl: "tpl/chats/chat_messages.html",
                })
                .state("app.chat_conversation", {
                  url: "/chat_messages/:filter/:Id",
                  params: { chat_type: { value: void 0 } },
                  component: "chatConversationEditorComponent",
                })
                .state("app.backup_and_restore", {
                  url: "/backup_and_restore",
                  params: { SetBackup: { value: void 0 } },
                  component: "backupComponent",
                })
                .state("app.menu", {
                  abstract: !0,
                  url: "/menu",
                  template: "<div ui-view></div>",
                })
                .state("app.menu.reporting", {
                  url: "/reporting",
                  component: "appNavReporting",
                })
                .state("app.menu.security", {
                  url: "/security",
                  component: "appNavSecurity",
                })
                .state("app.menu.advanced", {
                  url: "/advanced",
                  component: "appNavAdvanced",
                })
                .state("app.settings", {
                  abstract: !0,
                  url: "/settings",
                  template: "<div ui-view></div>",
                })
                .state("app.settings.api", {
                  url: "/api",
                  component: "apiComponent",
                })
                .state("app.settings.general", {
                  url: "",
                  templateUrl: "js/app/settings/settings.html",
                })
                .state("app.settings.licenses", {
                  url: "/licenses",
                  component: "licenses",
                })
                .state("app.settings.cdr", {
                  url: "/cdr/:Id",
                  params: {
                    ActiveObject: { value: void 0 },
                    BackState: { value: void 0 },
                  },
                  templateUrl: "js/app/settings/cdr/cdr.html",
                })
                .state("app.settings.office365", {
                  url: "/office365",
                  component: "office365",
                })
                .state("app.settings.google", {
                  abstract: !0,
                  url: "/google/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/settings/google/google.html",
                })
                .state("app.settings.google.general", {
                  url: "/general",
                  templateUrl: "js/app/settings/google/general.html",
                })
                .state("app.settings.google.sign_in", {
                  url: "/signin",
                  component: "googleSignIn",
                })
                .state("app.settings.appsandplugins", {
                  url: "/wordpress",
                  templateUrl:
                    "js/app/settings/wordpress/wordpress-click2talk.html",
                })
                .state("app.settings.email", {
                  abstract: !0,
                  url: "/email/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/settings/email/email.html",
                })
                .state("app.settings.email.main", {
                  url: "",
                  templateUrl: "js/app/settings/email/main.html",
                })
                .state("app.settings.email.templates", {
                  url: "/templates",
                  component: "emailTemplatesCtrl",
                })
                .state("app.settings.email.mail_server", {
                  url: "/mail_server",
                  templateUrl: "js/app/settings/email/mail_server.html",
                })
                .state("app.settings.codecs", {
                  url: "/codecs/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/settings/codecs/codecs.html",
                })
                .state("app.settings.options", {
                  url: "/options/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/settings/options/options.html",
                })
                .state("app.settings.dial_codes", {
                  url: "/dial_codes/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/settings/dial_codes/dial_codes.html",
                })
                .state("app.settings.phone", {
                  url: "/phone/:Id",
                  params: {
                    ActiveObject: { value: void 0 },
                    BackState: { value: "app.phones" },
                  },
                  templateUrl: "js/app/settings/3cxphone.html",
                })
                .state("app.settings.webmeeting", {
                  abstract: !0,
                  url: "/webmeeting/:Id",
                  controller: "WebMeetingSettingsCtrl",
                  params: {
                    ActiveObject: { value: void 0 },
                    BackState: { value: void 0 },
                  },
                  templateUrl:
                    "js/app/settings/webmeeting/webmeeting_settings.html",
                })
                .state("app.settings.webmeeting.video", {
                  url: "",
                  controller: "webmeetingSettingsVideo",
                  templateUrl:
                    "js/app/settings/webmeeting/webmeeting-settings-video.html",
                })
                .state("app.settings.webmeeting.email", {
                  url: "",
                  controller: "webmeetingSettingsEmail",
                  templateUrl:
                    "js/app/settings/webmeeting/webmeeting-settings-email.html",
                })
                .state("app.settings.webmeeting.audio", {
                  url: "/templates",
                  controller: "webmeetingSettingsAudio",
                  templateUrl:
                    "js/app/settings/webmeeting/webmeeting-settings-audio.html",
                })
                .state("app.settings.music_on_hold", {
                  abstract: !0,
                  url: "/music_on_hold/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/settings/moh/music_on_hold.html",
                })
                .state("app.settings.music_on_hold.general", {
                  url: "",
                  templateUrl: "js/app/settings/moh/general.html",
                })
                .state("app.settings.music_on_hold.playlists", {
                  url: "/templates",
                  templateUrl: "js/app/settings/moh/playlists.html",
                })
                .state("app.settings.e164", {
                  url: "/e164/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/settings/e164.html",
                })
                .state("app.settings.voice_mail", {
                  url: "/voice_mail/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/settings/vmail/voice_mail.html",
                })
                .state("app.settings.hosting_mode", {
                  url: "/hosting_mode/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/settings/hosting_mode/hosting_mode.html",
                })
                .state("app.settings.call_parking", {
                  url: "/call_parking/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/settings/call_parking.html",
                })
                .state("app.settings.click2call", {
                  url: "/click2call/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/settings/click2call.html",
                })
                .state("app.settings.license", {
                  url: "/license",
                  templateUrl: "js/app/settings/license/license.html",
                })
                .state("app.settings.parameters", {
                  abstract: !0,
                  url: "/parameters",
                  component: "parametersCtrl",
                })
                .state("app.settings.parameters.custom", {
                  url: "/custom",
                  templateUrl: "js/app/settings/parameters/custom.html",
                })
                .state("app.settings.parameters.dn", {
                  url: "/dn",
                  component: "dnPropertiesCtrl",
                })
                .state("app.settings.parameters.tenant", {
                  url: "/tenant",
                  templateUrl: "js/app/settings/parameters/tenant.html",
                })
                .state("app.settings.templates", {
                  url: "/templates",
                  component: "templatesComponent",
                })
                .state("app.settings.network", {
                  abstract: !0,
                  controller: "NetworkCtrl",
                  url: "/network/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/settings/network/network.html",
                })
                .state("app.settings.network.ports", {
                  url: "/ports",
                  templateUrl: "js/app/settings/network/ports.html",
                })
                .state("app.settings.network.fqdn", {
                  url: "/fqdn",
                  templateUrl: "js/app/settings/network/fqdn.html",
                })
                .state("app.settings.network.public_ip", {
                  url: "/public_ip",
                  templateUrl: "js/app/settings/network/public_ip.html",
                })
                .state("app.settings.network.firewall", {
                  url: "/firewall",
                  templateUrl: "js/app/settings/network/firewall.html",
                })
                .state("app.settings.security", {
                  abstract: !0,
                  controller: "SecurityCtrl",
                  url: "/security/:Id",
                  params: {
                    ActiveObject: { value: void 0 },
                    BackState: { value: void 0 },
                  },
                  template: "<div ui-view></div>",
                })
                .state("app.settings.security.secure_sip", {
                  url: "/secure_sip",
                  params: {
                    ActiveObject: { value: void 0 },
                    BackState: { value: void 0 },
                  },
                  templateUrl: "js/app/settings/security/secure_sip.html",
                })
                .state("app.settings.security.anti_hacking", {
                  url: "/anti_hacking",
                  params: {
                    ActiveObject: { value: void 0 },
                    BackState: { value: void 0 },
                  },
                  templateUrl: "js/app/settings/security/anti_hacking.html",
                })
                .state("app.settings.security.allowed_country_codes", {
                  url: "/allowed_country_codes",
                  params: {
                    ActiveObject: { value: void 0 },
                    BackState: { value: void 0 },
                  },
                  templateUrl:
                    "js/app/settings/security/allowed_country_codes.html",
                })
                .state("app.settings.security.tunnel", {
                  url: "/tunnel",
                  params: {
                    ActiveObject: { value: void 0 },
                    BackState: { value: void 0 },
                  },
                  templateUrl: "js/app/settings/security/tunnel.html",
                })
                .state("app.settings.security.credentials", {
                  url: "/credentials",
                  params: {
                    ActiveObject: { value: void 0 },
                    BackState: { value: void 0 },
                  },
                  templateUrl:
                    "js/app/settings/security/admin_credentials.html",
                })
                .state("app.settings.security.console_restrictions", {
                  url: "/console_restrictions",
                  params: {
                    ActiveObject: { value: void 0 },
                    BackState: { value: void 0 },
                  },
                  templateUrl:
                    "js/app/settings/security/console-restrictions-editor.html",
                })
                .state("app.settings.number_blacklist", {
                  url: "/number_blacklist",
                  templateUrl:
                    "js/app/settings/number_blacklist/number_blacklist.html",
                })
                .state("app.settings.system_prompts", {
                  url: "/system_prompts",
                  component: "systemPromptsCtrl",
                })
                .state("app.settings.pbx", {
                  url: "/pbx/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/settings/pbx/general.html",
                })
                .state("app.settings.office_hours", {
                  url: "/office_hours/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/settings/office_hours_and_holidays.html",
                })
                .state("app.settings.fax", {
                  url: "/fax/:Id",
                  params: {
                    ActiveObject: { value: void 0 },
                    BackState: { value: void 0 },
                  },
                  templateUrl: "js/app/faxes/fax_editor.html",
                })
                .state("app.settings.crm", {
                  abstract: !0,
                  url: "/crm",
                  templateUrl: "js/app/settings/crm/crm.html",
                })
                .state("app.settings.crm.client", {
                  url: "/client",
                  templateUrl: "js/app/settings/crm/clientside/client.html",
                })
                .state("app.settings.crm.server", {
                  url: "/crm_server/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/settings/crm/serverside/server.html",
                })
                .state("app.settings.hotel_services", {
                  url: "hotel_services/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl:
                    "js/app/settings/hotel_services/hotel_services.html",
                })
                .state("app.contacts", {
                  url: "/contacts",
                  component: "contactCtrl",
                })
                .state("app.contact_editor", {
                  url: "/contact_editor/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/contacts/contact-editor.html",
                })
                .state("app.call_flow_apps", {
                  url: "/call_flow_apps",
                  templateUrl: "js/app/call_flow_apps/call_flow_apps_list.html",
                })
                .state("app.faxes", {
                  url: "/faxes",
                  templateUrl: "js/app/faxes/fax_list.html",
                })
                .state("app.fxses", {
                  url: "/fxses",
                  templateUrl: "js/app/fxses/fxs_list.html",
                })
                .state("app.fxs_editor", {
                  abstract: !0,
                  url: "/fxs_editor/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/fxses/fxs_editor.html",
                })
                .state("app.fxs_editor.general", {
                  url: "",
                  templateUrl: "js/app/fxses/general.html",
                })
                .state("app.fxs_editor.extensions", {
                  url: "/extensions",
                  templateUrl: "js/app/fxses/extensions.html",
                })
                .state("app.call_reports", {
                  url: "/call_reports",
                  template: "<div ui-view></div>",
                })
                .state("app.call_reports.all", {
                  url: "/call_reports",
                  templateUrl: "tpl/call_reports/call_reports.html",
                })
                .state("app.call_reports.parameters", {
                  url: "/call_report/:key",
                  templateUrl: "tpl/call_reports/report_parameters.html",
                })
                .state("app.call_reports.settings", {
                  url: "/settings",
                  templateUrl: "tpl/call_reports/settings.html",
                })
                .state("app.inbound_rules", {
                  url: "/inbound_rules",
                  templateUrl: "js/app/inbound_rules/inbound_rules_list.html",
                })
                .state("app.inbound_rule_editor", {
                  url: "/inbound_rule_editor/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/inbound_rules/inbound_rule_editor.html",
                })
                .state("app.outbound_rules", {
                  url: "/outbound_rules",
                  templateUrl: "js/app/outbound_rules/outbound_rule_list.html",
                })
                .state("app.outbound_rule_editor", {
                  url: "/outbound_rule_editor/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl:
                    "js/app/outbound_rules/outbound_rule_editor.html",
                })
                .state("app.active_directory", {
                  url: "/active_directory",
                  params: { users: { value: void 0 } },
                  templateUrl:
                    "js/app/active_directory/active_directory_list.html",
                })
                .state("app.ring_groups", {
                  url: "/ring_groups",
                  templateUrl: "js/app/ring_groups/ring_group_list.html",
                })
                .state("app.ring_group_editor", {
                  abstract: !0,
                  url: "/ring_group_editor/:Id",
                  params: {
                    ActiveObject: { value: void 0 },
                    Type: "RingGroup",
                  },
                  templateUrl: "js/app/ring_groups/ring-group-editor.html",
                })
                .state("app.ring_group_editor.general", {
                  url: "",
                  templateUrl: "js/app/ring_groups/general.html",
                })
                .state("app.ring_group_editor.click2talk", {
                  url: "/click2talk",
                  component: "click2talk",
                  params: { Type: "ringGroup" },
                })
                .state("app.queues", {
                  url: "/queues",
                  templateUrl: "js/app/queues/queue_list.html",
                })
                .state("app.queue_editor", {
                  abstract: !0,
                  url: "/queue_editor/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/queues/queue_editor.html",
                })
                .state("app.queue_editor.general", {
                  url: "",
                  templateUrl: "js/app/queues/general.html",
                })
                .state("app.queue_editor.agents", {
                  url: "/agents",
                  controller: "CallQEditorAgentsCtrl",
                  templateUrl: "js/app/queues/agents.html",
                })
                .state("app.queue_editor.advanced", {
                  url: "/advanced",
                  templateUrl: "js/app/queues/advanced.html",
                })
                .state("app.queue_editor.notifications", {
                  url: "/notifications",
                  templateUrl: "js/app/queues/notifications.html",
                })
                .state("app.queue_editor.click2talk", {
                  url: "/click2talk",
                  component: "click2talk",
                  params: { Type: "queue" },
                })
                .state("app.updates", {
                  url: "/updates",
                  template: "<div ui-view></div>",
                })
                .state("app.updates.all", {
                  url: "/all",
                  component: "updatesListComponent",
                  params: { OpenCategory: "" },
                })
                .state("app.hotdesking", {
                  url: "/hotdesking",
                  templateUrl: "js/app/hotdesking/hotdesking_list.html",
                })
                .state("app.hotdesking_editor", {
                  url: "/hotdesking_editor/:Id",
                  params: { ActiveObject: { value: void 0 } },
                  templateUrl: "js/app/hotdesking/hotdesking_editor.html",
                })
                .state("access", {
                  abstract: !0,
                  template:
                    '<div ui-view style="flex: 1; display: flex; align-items: center; justify-content: center"></div>',
                })
                .state("access.404", {
                  url: "/404",
                  templateUrl: "tpl/page_404.html",
                })
                .state("access.download_record", {
                  url: "/download_record/:file",
                  controller: "DownloadRecordController",
                })
                .state("access.download_support_info", {
                  url: "/download_support_info/:file",
                  controller: "DownloadSupportInfo",
                });
          },
        ]),
        u.module("app").controller("DownloadRecordController", [
          "$scope",
          "$stateParams",
          "$window",
          "$state",
          "AuthenticationSvc",
          function (t, c, e, n, i) {
            i.getCurrentUser()
              .then(function (a) {
                Ts(a.data)
                  ? (e.location.href =
                      "api/RecordingList/DownloadRecord?file=" + c.file)
                  : n.go("login");
              })
              .catch(() => u.noop());
          },
        ]),
        u.module("app").controller("DownloadSupportInfo", [
          "$scope",
          "$stateParams",
          "$window",
          "$state",
          "AuthenticationSvc",
          function (t, c, e, n, i) {
            i.getCurrentUser()
              .then(function (a) {
                Qt(a.data)
                  ? (e.location.href = "api/SupportInfo?file=" + c.file)
                  : n.go("login");
              })
              .catch(() => u.noop());
          },
        ]),
        u.module("app").controller("FileUploadCtrl", [
          "$scope",
          "FileUploader",
          function (t, c) {
            const e = new c({ url: "js/controllers/upload.php" });
            (t.uploader = e),
              e.filters.push({
                name: "customFilter",
                fn() {
                  return this.queue.length < 10;
                },
              }),
              (e.onWhenAddingFileFailed = function (n, i, a) {
                console.info("onWhenAddingFileFailed", n, i, a);
              }),
              (e.onAfterAddingFile = function (n) {
                console.info("onAfterAddingFile", n);
              }),
              (e.onAfterAddingAll = function (n) {
                console.info("onAfterAddingAll", n);
              }),
              (e.onBeforeUploadItem = function (n) {
                console.info("onBeforeUploadItem", n);
              }),
              (e.onProgressItem = function (n, i) {
                console.info("onProgressItem", n, i);
              }),
              (e.onProgressAll = function (n) {
                console.info("onProgressAll", n);
              }),
              (e.onSuccessItem = function (n, i, a, l) {
                console.info("onSuccessItem", n, i, a, l);
              }),
              (e.onErrorItem = function (n, i, a, l) {
                console.info("onErrorItem", n, i, a, l);
              }),
              (e.onCancelItem = function (n, i, a, l) {
                console.info("onCancelItem", n, i, a, l);
              }),
              (e.onCompleteItem = function (n, i, a, l) {
                console.info("onCompleteItem", n, i, a, l);
              }),
              (e.onCompleteAll = function () {
                console.info("onCompleteAll");
              }),
              console.info("uploader", e);
          },
        ]),
        u.module("app").controller("GenerateSupportInfoCtrl", [
          "$scope",
          "$translate",
          "SystemStatusSvc",
          "$uibModal",
          function (t, c, e, n) {
            t.generateSupportInfo = function (i) {
              i && i.preventDefault(),
                e
                  .GenerateSupportInfo()
                  .then(function () {
                    n.open({
                      size: "md",
                      templateUrl:
                        "js/app/system_status/gen_support_page_message.html",
                    }).result.catch(() => u.noop());
                  })
                  .catch(() => u.noop());
            };
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "tpl/general_dialogs/welcome_mobile_app_modal.html",
            '<div class="modal-content"> <div class="modal-header no-border" style="padding-bottom:5px"> <button type="button" class="close text-sm" translate="ADVERTISEMENT.MOBILE_APP.DIALOG.CLOSE" ng-click="$dismiss()">close [x]</button> </div> <div class="modal-body padding-top-sm padding-bottom-sm"> <div class="container-fluid"> <div class="row"> <div class="col-sm text-lg font-bold" translate="ADVERTISEMENT.MOBILE_APP.DIALOG.HEADER">Install the 3CX App!</div> </div> <div class="row b-b b-info" style="padding-bottom:5px"> <div class="col-sm" translate="ADVERTISEMENT.MOBILE_APP.DIALOG.CALLS_CHATS">Voice/Video call and chat with colleagues</div> </div> <div class="row padder-v"> <div class="container-fluid col-sm-8"> <div class="row"> <div class="col-md-12"> <p class="inline">1.</p> <p class="inline m-b-md" translate="ADVERTISEMENT.MOBILE_APP.DIALOG.INSTALL_APP">Install the iOS or Android app</p> </div> </div> <div class="row"> <div class="col-md-12 m-b-md"> <a class="m-r-sm" style="padding-left:10px" href="{{\'ADVERTISEMENT.MOBILE_APP.DIALOG.APPLE_STORE_LINK\' | translate}}" target="_blank"> <img ng-src="{{appleIcon}}" height="30px"> </a> <a href="{{\'ADVERTISEMENT.MOBILE_APP.DIALOG.GOOGLE_STORE_LINK\' | translate}}" target="_blank"> <img ng-src="{{googleIcon}}" height="30px"> </a> </div> </div> <div class="row"> <div class="col-sm-12"> <p class="inline m-n">2.</p> <p class="inline m-b-sm" translate="ADVERTISEMENT.MOBILE_APP.DIALOG.OPEN_AND_PROV">Open the app and point your phone to this screen</p> </div> </div> <div class="row"> <div style="padding-left:10px"> <qrcode error-correction-level="\'H\'" data="getProvLink()" scale="3"></qrcode> </div> </div> </div> <div class="col-sm-4"> <img style="padding-top:6px" ng-src="{{smartphonesUrl}}"/> </div> </div> </div> </div> </div> '
          ),
      ]);
      const qx = w.p + "6ab7620183b14f3d.png",
        Qx = w.p + "fde775ce573f7df0.png",
        Zx = w.p + "8bf9ce8829967e67.png";
      var iR =
        '<div class="bg-dark login overflow-hidden"> <div class="container w-xxl w-auto-xs" ng-init="app.settings.container = false;"> <div class="wrapper text-center"> <a href="https://www.newwave.tw/" target="_blank"><img width="92px" src="' +
        nt()(gn) +
        '" alt="3CX Phone System" rel="noopener"></a> <label class="font-bold m-t-md clear" translate="LOGIN_SCREEN.WELCOME_TO_3CX_MANAGEMENT_CONSOLE"> Welcome to 3CX Management Console</label> </div> <form name="form" class="form-validation" novalidate ng-submit="$ctrl.login(form.$valid)"> <div class="text-danger wrapper text-center" ng-if="$ctrl.authError !== null"> {{$ctrl.authError | translate}} </div> <div class="list-group list-group-sm m-b"> <div class="list-group-item"> <input placeholder="{{\'LOGIN_SCREEN.USER_OR_EXT_NUMBER\' | translate}}" class="form-control no-border" ng-model="$ctrl.user.username" required> </div> <div class="list-group-item"> <input type="password" placeholder="{{\'LOGIN_SCREEN.PASSWORD\' | translate}}" class="form-control no-border" ng-model="$ctrl.user.password" required> </div> <div class="list-group-item"> <div class="dropdown"> <span class="btn btn-block clear" data-toggle="dropdown"> <span class="pull-left"> <img ng-src="{{$ctrl.$parent.selectedLanguage.flag}}" style="width:24px"> &nbsp; <span>{{$ctrl.$parent.selectedLanguage.label}}</span> </span> <span class="caret pull-right m-t-sm"></span> </span> <ul class="dropdown-menu w-full"> <li ng-repeat="(language, languageSettings) in $ctrl.$parent.languages" style="padding-top:5px"> <a ng-click="$ctrl.$parent.setLanguage(language)" href=""> <img ng-src="{{languageSettings.flag}}" style="width:24px">&nbsp; <span style="vertical-align:middle">{{languageSettings.label}}</span> </a> </li> </ul> </div> </div> <div class="flex-centered" ng-if="$ctrl.authError !== null"> <span ng-if="($ctrl.unsuccessLoginTries >= 2) && $ctrl.failedAdminLoginAttempt"> <password-recovery auth-error="$ctrl.authError"></password-recovery> </span> </div> </div> <button type="submit" class="btn btn-lg btn-primary btn-block" ng-dblclick="$ctrl.emptyAction()" translate="LOGIN_SCREEN.LOGIN_BTN">Log in </button> <div style="display:flex;flex-direction:column;align-items:center" ng-if="$ctrl.signIn.IsMicrosotSignInAllowed || $ctrl.signIn.IsGoogleSignInAllowed"> <div class="text-divider m-t m-b"> <hr> <span translate="LOGIN_SCREEN.OR_SING_IN_WITH">OR SIGN IN WITH</span> <hr> </div> <div class="external-signin"> <button class="btn btn-default" ng-if="$ctrl.signIn.IsMicrosotSignInAllowed" ng-click="$ctrl.redirectToMicrosoft();$event.preventDefault();"> <img src="' +
        nt()(
          "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMSIgaGVpZ2h0PSIyMSI+PHBhdGggZmlsbD0iI2YyNTAyMiIgZD0iTTEgMWg5djlIMXoiLz48cGF0aCBmaWxsPSIjMDBhNGVmIiBkPSJNMSAxMWg5djlIMXoiLz48cGF0aCBmaWxsPSIjN2ZiYTAwIiBkPSJNMTEgMWg5djloLTl6Ii8+PHBhdGggZmlsbD0iI2ZmYjkwMCIgZD0iTTExIDExaDl2OWgtOXoiLz48L3N2Zz4="
        ) +
        '" class="m-r-xs"> <span>Microsoft</span> </button> <button class="btn btn-default" ng-if="$ctrl.signIn.IsGoogleSignInAllowed" ng-click="$ctrl.redirectToGoogle();$event.preventDefault();"> <img src="' +
        nt()(
          "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCA1MzMuNSA1NDQuMyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNNTMzLjUgMjc4LjRjMC0xOC41LTEuNS0zNy4xLTQuNy01NS4zSDI3Mi4xdjEwNC44aDE0N2MtNi4xIDMzLjgtMjUuNyA2My43LTU0LjQgODIuN3Y2OGg4Ny43YzUxLjUtNDcuNCA4MS4xLTExNy40IDgxLjEtMjAwLjJ6IiBmaWxsPSIjNDI4NWY0Ii8+PHBhdGggZD0iTTI3Mi4xIDU0NC4zYzczLjQgMCAxMzUuMy0yNC4xIDE4MC40LTY1LjdsLTg3LjctNjhjLTI0LjQgMTYuNi01NS45IDI2LTkyLjYgMjYtNzEgMC0xMzEuMi00Ny45LTE1Mi44LTExMi4zSDI4Ljl2NzAuMWM0Ni4yIDkxLjkgMTQwLjMgMTQ5LjkgMjQzLjIgMTQ5Ljl6IiBmaWxsPSIjMzRhODUzIi8+PHBhdGggZD0iTTExOS4zIDMyNC4zYy0xMS40LTMzLjgtMTEuNC03MC40IDAtMTA0LjJWMTUwSDI4LjljLTM4LjYgNzYuOS0zOC42IDE2Ny41IDAgMjQ0LjRsOTAuNC03MC4xeiIgZmlsbD0iI2ZiYmMwNCIvPjxwYXRoIGQ9Ik0yNzIuMSAxMDcuN2MzOC44LS42IDc2LjMgMTQgMTA0LjQgNDAuOGw3Ny43LTc3LjdDNDA1IDI0LjYgMzM5LjctLjggMjcyLjEgMCAxNjkuMiAwIDc1LjEgNTggMjguOSAxNTBsOTAuNCA3MC4xYzIxLjUtNjQuNSA4MS44LTExMi40IDE1Mi44LTExMi40eiIgZmlsbD0iI2VhNDMzNSIvPjwvc3ZnPg=="
        ) +
        '" class="m-r-xs"> <span>Google</span> </button> </div> </div> </form> </div> </div> ';
      u.module("ng").run([
        "$templateCache",
        (t) => t.put("tpl/login.html", iR),
      ]);
      const Ll = "management.signin",
        Dl = { IsMicrosotSignInAllowed: !1, IsGoogleSignInAllowed: !1 };
      let sR = (() => {
        class t {
          constructor(e, n, i, a, l, s, r, o) {
            if (
              ((this.$rootScope = i),
              (this.AuthenticationSvc = a),
              (this.MessageBoxSvc = l),
              (this.$uibModal = s),
              (this.$window = r),
              (this.$location = o),
              (this.signIn = Dl),
              (this.user = { username: "", password: "" }),
              (this.authError = null),
              (this.unsuccessLoginTries = 0),
              (this.blackListed = !1),
              (this.failedAdminLoginAttempt = !1),
              (this.$parent = n.$parent),
              "https:" === window.location.protocol)
            ) {
              const p = localStorage.getItem(Ll);
              if (p)
                try {
                  this.signIn = JSON.parse(p);
                } catch (f) {}
              e.get("/signin/options")
                .then((f) => {
                  this.updateSignIn(f.data);
                })
                .catch(() => {
                  this.updateSignIn(Dl);
                });
            }
          }
          updateSignIn(e) {
            (this.signIn = e), localStorage.setItem(Ll, JSON.stringify(e));
          }
          login(e) {
            e &&
              ((this.authError = null),
              this.AuthenticationSvc.login({
                Username: this.user.username,
                Password: this.user.password,
              }).then(
                () => {
                  const i = this.$rootScope.lastRequestedMeaningfulState;
                  void 0 !== i
                    ? Ol(i)
                      ? this.$location.path(`/app${i.url}`)
                      : this.$rootScope.$state.go(i.name, i.params)
                    : this.$rootScope.$state.go("app.default"),
                    this.showModalAdd();
                },
                (i) => {
                  (this.authError = i.errorMessage),
                    i.blackListed
                      ? (this.blackListed = !0)
                      : ((this.blackListed = !1),
                        (this.failedAdminLoginAttempt = !1),
                        i.incorrectCredentials &&
                          (this.unsuccessLoginTries++,
                          (this.failedAdminLoginAttempt =
                            i.failedAdminLogiAttempt)));
                }
              ));
          }
          emptyAction() {}
          showModalAdd() {
            this.$rootScope.User.acquaintance &&
              this.$uibModal
                .open({
                  templateUrl:
                    "tpl/general_dialogs/welcome_mobile_app_modal.html",
                  backdrop: "static",
                  controller: [
                    "$scope",
                    (e) => {
                      (e.smartphonesUrl = qx),
                        (e.appleIcon = Qx),
                        (e.googleIcon = Zx),
                        (e.getProvLink = () =>
                          (
                            window.location.protocol +
                            "//" +
                            window.location.host +
                            this.$rootScope.User.acquaintance.operatorProvLink
                          ).toUpperCase());
                    },
                  ],
                })
                .result.catch(() => u.noop());
          }
          redirectToMicrosoft() {
            this.$window.open("signin/microsoft?jwt=false", "_self");
          }
          redirectToGoogle() {
            this.$window.open("signin/google?jwt=false", "_self");
          }
        }
        return (
          (t.$inject = [
            "$http",
            "$scope",
            "$rootScope",
            "AuthenticationSvc",
            "MessageBoxSvc",
            "$uibModal",
            "$window",
            "$location",
          ]),
          t
        );
      })();
      function Ml(t) {
        return t._str;
      }
      u
        .module("app")
        .component("loginComponent", {
          templateUrl: "tpl/login.html",
          controller: sR,
        }),
        u.module("app").controller("LogoutCtrl", [
          "$scope",
          "$http",
          "$rootScope",
          "AuthenticationSvc",
          function (t, c, e, n) {
            (t.user = {}),
              (t.authError = null),
              (t.logout = function () {
                n.logout(), e.$state.go("login");
              });
          },
        ]),
        u.module("app").controller("ModalEditCtrl", [
          "$scope",
          "EditSvc",
          "MyUtilsSvc",
          "response",
          function (t, c, e, n) {
            e.initModalEditController(t, c, n.data).catch(() => u.noop());
          },
        ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/directives/time-ranges-control/office-hours-control.html",
                '<div class="row padder-md" ng-if="!prop.hide"> <div class="row padder-md"> <label class="font-bold col-sm-2 m-t-sm no-padder" translate="REPOS.TEXT.OFFICE_HOURS">Office Hours</label> <div class="line line-dashed b-b line-lg padder-md"></div> </div> <div class="row m-t-sm seven-cols"> <div class="col-sm-1" ng-repeat="wd in WeekDays"> <label class="clear font-bold" translate="enum.DayOfWeek.{{wd.Name}}">wd.Name</label> <div ng-repeat="tr in prop._value | filter : {Day:wd.Index} | orderBy : \'From\'"> <label class="dashed_link" ng-click="Edit(tr, wd.Index)"> {{tr.From}} - {{tr.To}} </label> </div> <label ng-click="Add(wd.Index)" class="dashed_link" translate="REPOS.CONFIGURE"> Configure </label> </div> </div> <div class="errors" ng-show="prop.errorMsg"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> {{prop.errorMsg}} </li> </ul> </div> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/directives/time-ranges-control/time-picker-dialog-single.html",
                '<div class="modal-content"> <form name="myForm"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <label translate="REPOS.TEXT.SET_TIME">Set Time</label> </div> <div class="row padder-md"> <div class="form-group"> <div class="col-sm-12 timerange_center"> <my-time-picker-control time="time"></my-time-picker-control> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="saveClick()" ng-disabled="IsSaveBtnDisabled() || myForm.$invalid" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save </button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close </button> </div> </form> </div> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/directives/time-ranges-control/time-picker-dialog.html",
                '<div class="modal-content"> <form name="myForm"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <label translate="REPOS.TEXT.SET_TIME_RANGE">Set Time Range</label> </div> <div class="row padder-md"> <div class="form-group"> <div class="col-sm-5 timerange_center"> <my-time-picker-control time="timeFrom"></my-time-picker-control> </div> <div class="col-sm-1 time_range_popup_line"> - </div> <div class="col-sm-5 timerange_center"> <my-time-picker-control time="timeTo"></my-time-picker-control> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default pull-left" ng-click="deleteClick()" ng-disabled="deleteBtnDisabled" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete">Delete </button> <button type="button" class="btn btn-default" ng-click="saveClick()" ng-disabled="IsSaveBtnDisabled() || myForm.$invalid" translate="REPOS.BUTTONS.SAVE_BTN" id="btnSave">Save </button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close </button> </div> </form> </div> '
              ),
          ]),
        u.module("app").directive("allowedCountryCodeControl", function () {
          return {
            scope: { prop: "=" },
            controller: [
              "$scope",
              function (t) {
                const c = {};
                function e() {
                  void 0 === t.prop ||
                    void 0 === t.prop._value ||
                    void 0 === t.countryCodeByContinent ||
                    (t.countryCodeByContinent.forEach(function (i) {
                      (i._isSelected = !0),
                        i.Countries.forEach(function (a) {
                          a._isSelected = !0;
                        });
                    }),
                    t.prop._value.forEach(function (i) {
                      t.countryCodeByContinent.forEach(function (a) {
                        let l = !1;
                        a.Countries.forEach(function (s) {
                          s.Id === i && (s._isSelected = !1),
                            s._isSelected && (l = !0);
                        }),
                          (a._isSelected = l);
                      });
                    }));
                }
                function n() {
                  const i = [];
                  t.countryCodeByContinent.forEach(function (a) {
                    let l = !1;
                    a.Countries.forEach(function (s) {
                      s._isSelected ? (l = !0) : i.push(s.Id);
                    }),
                      (a._isSelected = l);
                  }),
                    t.prop.value(i);
                }
                t.$watch("prop._value", e),
                  t.$watch("countryCodeByContinent", e),
                  (t.countryCodeByContinent = II.Continents.Continent.map(
                    function (i) {
                      const a = [];
                      function s(r, o) {
                        const p = {
                          Id: r,
                          _str: o,
                          isSelected: function (m, g) {
                            if (!arguments.length) return p._isSelected;
                            p._isSelected !== m &&
                              (c[p.Id].forEach(function (S) {
                                S._isSelected = m;
                              }),
                              void 0 === g || !0 !== g) &&
                              n();
                          },
                          _isSelected: void 0,
                          rowClickHandler: function () {
                            p.isSelected(!p._isSelected);
                          },
                        };
                        a.push(p);
                        let f = c[p.Id];
                        return f || ((f = []), (c[p.Id] = f)), f.push(p), p;
                      }
                      return (
                        i.Country.forEach(function (r) {
                          void 0 === r.CountryCodes
                            ? s(r.CountryCode, r.text)
                            : r.CountryCodes.forEach(function (o) {
                                s(o, void 0 === r.name ? r.text : r.name);
                              });
                        }),
                        (function l(r) {
                          const o = {
                            _str: r,
                            Countries: a,
                            IsOpened: !1,
                            isSelected: function (p) {
                              if (!arguments.length) return o._isSelected;
                              (o._isSelected = p),
                                a.forEach(function (f) {
                                  f.isSelected() !== p && f.isSelected(p, !0);
                                }),
                                n();
                            },
                            _isSelected: void 0,
                          };
                          return o;
                        })(i.name)
                      );
                    }
                  )),
                  e();
              },
            ],
            templateUrl: "tpl/controls/allowed-country-code-control.html",
          };
        }),
        w(39499),
        u.module("app").directive("arrayControl", [
          function () {
            return {
              restrict: "E",
              transclude: !0,
              scope: { prop: "<" },
              link(t) {
                t.$watch("prop._value", function (c) {
                  null == c && (c = []),
                    (t.items = c.map(function (e) {
                      return { _str: e };
                    }));
                }),
                  (t.itemCreated = function (c) {
                    c.$watch("itemForm", function (e) {
                      e.$show();
                    });
                  }),
                  (t.invalidChars = function (c) {
                    return (
                      c.search(/[^ 0-9a-zA-Z_\-/\\|]/) >= 0 &&
                      ((t.prop.class = "has-error"), !0)
                    );
                  }),
                  (t.invalidFolderChars = function (c) {
                    return (
                      c.search(/[*,:?"<>|]/) >= 0 &&
                      ((t.prop.class = "has-error"), !0)
                    );
                  }),
                  (t.keypress = function (c, e) {
                    13 === c.which && e.$submit();
                  }),
                  (t.onAddClick = function () {
                    (t.inserted = { _str: "" }), t.items.push(t.inserted);
                  }),
                  (t.onItemDeleteClick = function (c) {
                    t.items.splice(t.items.indexOf(c), 1), t.push();
                  }),
                  (t.push = function () {
                    const c = (function uR(t, c) {
                      const e = {};
                      return t.filter(function (n) {
                        const i = (c && c(n)) || n;
                        return !e[i] && (e[i] = 1);
                      });
                    })(t.items.map(Ml), Ml);
                    t.prop.value(c);
                  });
              },
              template: "<div in-transclude></div>",
            };
          },
        ]),
        u.module("app").directive("buttonControl", [
          function () {
            return {
              restrict: "E",
              scope: { text: "@", icon: "@", disabled: "=", click: "&" },
              templateUrl: "tpl/controls/button-control.html",
            };
          },
        ]),
        u.module("app").directive("buttonDialogControl", [
          function () {
            return {
              restrict: "E",
              scope: {
                text: "@",
                icon: "@",
                dialogId: "@",
                disabled: "=",
                click: "&",
              },
              templateUrl: "tpl/controls/button-dialog-control.html",
            };
          },
        ]),
        u.module("app").directive("addButtonControl", [
          "$state",
          function (t) {
            return {
              restrict: "E",
              scope: { state: "@", stateParams: "@", text: "@" },
              controller: [
                "$scope",
                function (c) {
                  c.goToState = function () {
                    const e = { Id: "new" };
                    void 0 !== c.stateParams &&
                      u.extend(e, u.fromJson(c.stateParams)),
                      console.log(e),
                      t.go(c.state, e);
                  };
                },
              ],
              templateUrl: "tpl/controls/add-button-control.html",
            };
          },
        ]),
        u.module("app").directive("mcLoadReportItems", [
          function () {
            return {
              scope: {
                apiUrl: "@",
                mcOutput: "=",
                mcOutputPossibleValues: "=",
                mcCmmItems: "=",
                toCmm: "&",
                toReport: "&",
                parentListId: "=",
                hasParentListId: "@parentListId",
              },
              controller: [
                "$scope",
                "$http",
                function (t, c) {
                  (t.readData = function (e) {
                    let n = null;
                    t.hasParentListId &&
                      (n = { params: { ids: [t.parentListId] } }),
                      null === n || n.params.ids
                        ? c.getApi(t.apiUrl, n).then(function (i) {
                            let a = [];
                            null != i.data.list && (a = i.data.list), e(a);
                          })
                        : e([]);
                  }),
                    (t.parseData = function (e) {
                      return e.map(function (n) {
                        return t.toCmm({ item: n });
                      });
                    }),
                    (t.findCurrentInPossible = function (e, n) {
                      return (
                        (e.Id && e.Id === n.Id) ||
                        (e.Number && e.Number._value === n.Number) ||
                        (e.Name && e.Name._value === n.Name)
                      );
                    }),
                    (t.processData = function (e) {
                      (t.mcOutputPossibleValues = e),
                        (t.mcOutput = t.mcOutput
                          .filter((n) =>
                            e.find((i) => t.findCurrentInPossible(i, n))
                          )
                          .map((n) => {
                            const i = e.find((a) =>
                              t.findCurrentInPossible(a, n)
                            );
                            return (n.Id = i ? i.Id : n.Id), n;
                          })),
                        (t.mcCmmItems = {
                          possibleValues: e,
                          selected: t.mcOutput.map(function (n) {
                            return n.Id;
                          }),
                          value(n) {
                            if (arguments.length) {
                              t.mcCmmItems.selected = n;
                              const i = t.mcCmmItems.possibleValues,
                                a = {};
                              for (const s of i) a[s.Id] = s;
                              const l = [];
                              for (const s of n)
                                a.hasOwnProperty(s) && l.push(a[s]);
                              t.mcOutput = l.map(function (s) {
                                return t.toReport({ item: s });
                              });
                            }
                            return t.mcCmmItems.selected;
                          },
                        });
                    }),
                    (t.updateList = function () {
                      t.readData(function (n) {
                        const i = t.parseData(n);
                        t.processData(i);
                      });
                    }),
                    t.hasParentListId
                      ? t.$watch(
                          function () {
                            return t.parentListId;
                          },
                          function () {
                            t.updateList();
                          }
                        )
                      : t.updateList();
                },
              ],
            };
          },
        ]),
        u.module("app").directive("callTypeRange", function () {
          return {
            require: "ngModel",
            link(t, c, e, n) {
              if (!n) return;
              const i = e.allowPlus,
                a = e.differentLengthRanges;
              n.$parsers.push(function (l) {
                const s = "Prefix" == n.$name ? 255 : 8;
                let r = new RegExp("^(\\+)?(\\d){0," + s + "}$");
                if (
                  (i || (r = new RegExp("^(\\d){1," + s + "}$")),
                  n.$setValidity("invalidValue", !0),
                  n.$setValidity("invalidRange", !0),
                  n.$setValidity("rangeCantBeMoreThan20", !0),
                  !(l = l.trim()))
                )
                  return l;
                const o = l.split(",");
                for (let p of o) {
                  p = p.trim();
                  const f = p.split("-");
                  if (1 == f.length) {
                    r.test(p) || n.$setValidity("invalidValue", !1);
                    continue;
                  }
                  if (2 != f.length)
                    return n.$setValidity("invalidValue", !1), l;
                  const m = f[0].trim(),
                    g = f[1].trim();
                  if (
                    (!a && m.length != g.length) ||
                    m.length > s ||
                    !r.test(m) ||
                    !r.test(g)
                  )
                    return n.$setValidity("invalidValue", !1), l;
                  const S = Number.parseInt(m, 10),
                    O = Number.parseInt(g, 10);
                  if (!S || !O) return n.$setValidity("invalidValue", !1), l;
                  if (S >= O) return n.$setValidity("invalidRange", !1), l;
                  if (O - S > 20)
                    return n.$setValidity("rangeCantBeMoreThan20", !1), l;
                }
                return l;
              });
            },
          };
        });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/directives/category-update-control.html",
            '<div> <button type="button" class="btn btn-sm btn-success" uib-tooltip="{{($ctrl.category.IsMaintananceExpired ? \'REPOS.TEXT.CAN_T_DOWNLOAD_UPDATES_LICENSE_EXPIRED\' : \'\') | translate}}" ng-click="$ctrl.updateClick()" ng-disabled="($ctrl.category.displayedItems | filter:{isSelected:\'true\'}).length == 0" translate="SYSTEM_STATUS.SECTIONS.UPDATES.UPDATE_SELECTED_BTN"> <i class="halflings halflings-download"></i>Update Selected </button> <label class="i-checks m-l-sm" ng-if="$ctrl.category.IsSelectAllEnabled"> <input type="checkbox" ng-click="$ctrl.selectClick()"><i></i> <span translate="SYSTEM_STATUS.SECTIONS.UPDATES.SELECT_ALL_CHK">Select All</span> </label> </div> <table st-table="$ctrl.category.displayedItems" st-safe-src="$ctrl.category.items" data-ng-class="$ctrl.getClass()"> <thead> <tr> <th ng-hide="!$ctrl.showReleaseBetaColumn()" st-sort="name" translate="SYSTEM_STATUS.SECTIONS.UPDATES.TBL_HEADING_IS_UPDATE_RELEASE_OR_BETA" style="width:100px"> Release </th> <th st-sort="name" translate="SYSTEM_STATUS.SECTIONS.UPDATES.TBL_HEADING_NAME" style="width:240px"> Name </th> <th st-sort="status" translate="SYSTEM_STATUS.SECTIONS.UPDATES.TBL_HEADING_STATUS" style="width:100px">Status</th> <th st-sort="localVersion" translate="SYSTEM_STATUS.SECTIONS.UPDATES.TBL_HEADING_LOCAL_VERSION" style="width:140px">Install Version</th> <th st-sort="serverVersion" translate="SYSTEM_STATUS.SECTIONS.UPDATES.TBL_HEADING_SERVER_VERSION" style="width:300px">Online Version</th> <th st-sort="description" translate="SYSTEM_STATUS.SECTIONS.UPDATES.TBL_HEADING_DESCRIPTION"> Description </th> </tr> </thead> <tbody> <tr ng-repeat="row in $ctrl.category.displayedItems | categoryItemsFilter: $ctrl.category" st-select-row="row" st-select-mode="{{ $ctrl.category.IsSelectAllEnabled ? \'multiple\' : \'single\'}}"> <td ng-hide="!$ctrl.showReleaseBetaColumn()"> <span ng-if="$ctrl.isAlpha(row)"> {{\'SYSTEM_STATUS.SECTIONS.UPDATES.IS_UPDATE_ALPHA\'|translate}} </span> <span ng-if="$ctrl.isBeta(row)"> {{\'SYSTEM_STATUS.SECTIONS.UPDATES.IS_UPDATE_BETA\'|translate}} </span> <span ng-if="$ctrl.isRelease(row)"> {{\'SYSTEM_STATUS.SECTIONS.UPDATES.IS_UPDATE_RELEASE\'|translate}} </span> <span ng-if="$ctrl.isMajorRelease(row)"> {{\'SYSTEM_STATUS.SECTIONS.UPDATES.IS_UPDATE_MAJOR_RELEASE\'|translate}} </span> </td> <td> <span ng-if="$ctrl.category.name!=\'firmwareupdates\'"> {{row.Name}} </span> <span ng-if="$ctrl.category.name==\'firmwareupdates\'"> {{ row | phoneFirmwareName}} </span> </td> <td> <span ng-if="$ctrl.isNew(row)" style="color:#00f" translate="SYSTEM_STATUS.SECTIONS.UPDATES.NEW">New</span> <span ng-if="$ctrl.isOutOfDate(row)" style="color:red" translate="SYSTEM_STATUS.SECTIONS.UPDATES.OUT_OF_DATE">Out Of Date</span> <span ng-if="$ctrl.isUpToDate(row)" style="color:green" translate="SYSTEM_STATUS.SECTIONS.UPDATES.UP_TO_DATE">Up To Date</span> </td> <td>{{row.LocalVersion}}</td> <td>{{row.ServerVersion}}</td> <td> <span class="threellipsis" ng-if="$ctrl.category.name==\'sp150\' && !row.DescriptionLink">{{row.Description}}</span> <a class="dashed_link threellipsis" ng-if="$ctrl.category.name==\'sp150\' && row.DescriptionLink" href="{{row.DescriptionLink}}" target="_blank">{{row.Description}}</a> <span ng-if="$ctrl.category.name!=\'sp150\' && !row.DescriptionLink">{{row.Description}}</span> <a class="dashed_link" ng-if="$ctrl.category.name!=\'sp150\' && row.DescriptionLink" href="{{row.DescriptionLink}}" target="_blank">{{row.Description}}</a> </td> </tr> </tbody> </table> '
          ),
      ]);
      var Pl = w(28746);
      function Hl(t) {
        return !t.LocalVersion;
      }
      function jl(t) {
        return t.LocalVersion && t.OutOfDate;
      }
      u.module("app").filter("categoryItemsFilter", [
        () => (t, c) => t.filter((e) => !c.showOnlyOutOfDate || jl(e) || Hl(e)),
      ]);
      let gR = (() => {
        class t {
          constructor(e, n, i) {
            (this.$rootScope = e),
              (this.MessageBoxSvc = n),
              (this.UpdatesListSvc = i),
              (this.isNew = Hl),
              (this.isOutOfDate = jl),
              (this.selectAll = !1);
          }
          updateClick() {
            if (!this.category || !this.category.IsMaintananceExpired)
              if (this.category.name == On) {
                let e = "SYSTEM_STATUS.SECTIONS.UPDATES.CONFIRM_DIALOG_MESSAGE";
                const n = this.prepareContent(this.category.name);
                n.some(
                  (i) =>
                    i.UpdateType === De.bw.Beta || i.UpdateType === De.bw.Alpha
                )
                  ? (e =
                      "SYSTEM_STATUS.SECTIONS.UPDATES.CONFIRM_DIALOG_MESSAGE_BETA")
                  : n.some((i) => i.UpdateType === De.bw.MajorRelease) &&
                    (e =
                      "SYSTEM_STATUS.SECTIONS.UPDATES.CONFIRM_DIALOG_MESSAGE_MAJOR"),
                  this.MessageBoxSvc.confirmDialog(
                    "SYSTEM_STATUS.SECTIONS.UPDATES.CONFIRM_DIALOG_HEADER",
                    e,
                    "md"
                  )
                    .then(() => {
                      this.update(this.category.name).subscribe({
                        next: () => {
                          this.$rootScope.$state.go("login");
                        },
                        error: () => {},
                      });
                    })
                    .catch(() => u.noop());
              } else
                this.update(this.category.name).subscribe({ error: () => {} });
          }
          selectClick() {
            (this.selectAll = !this.selectAll),
              (this.category.items = this.category.items.map(
                (e) => (
                  (e.OutOfDate || !this.selectAll) &&
                    (e.isSelected = this.selectAll),
                  e
                )
              ));
          }
          isUpToDate(e) {
            return !e.OutOfDate;
          }
          isAlpha(e) {
            return e.UpdateType === De.bw.Alpha;
          }
          isBeta(e) {
            return e.UpdateType === De.bw.Beta;
          }
          isRelease(e) {
            return e.UpdateType === De.bw.Release;
          }
          isMajorRelease(e) {
            return e.UpdateType === De.bw.MajorRelease;
          }
          showReleaseBetaColumn() {
            return this.category.items.some((e) => void 0 !== e.UpdateType);
          }
          getWeight(e) {
            return this.isNew(e)
              ? 0
              : this.isOutOfDate(e)
              ? 1
              : this.isUpToDate(e)
              ? 2
              : void 0;
          }
          getClass() {
            const e =
                navigator.userAgent.includes("Chrome") &&
                navigator.vendor.includes("Google Inc"),
              n =
                navigator.userAgent.includes("Safari") &&
                navigator.vendor.includes("Apple Computer");
            return this.category.name == On && (e || n)
              ? "table table-striped"
              : "table table-striped table-ellipsis";
          }
          update(e) {
            const n = this.prepareContent(e).map((s) => s.Guid),
              l = this.MessageBoxSvc.openProgressDialog(
                "SYSTEM_STATUS.SECTIONS.UPDATES.PROGRESS_DIALOG_HEADER",
                "SYSTEM_STATUS.SECTIONS.UPDATES.PROGRESS_DIALOG_MESSAGE"
              );
            return this.UpdatesListSvc.installUpdates({
              actionImportInstallUpdatesRequestBody: {
                install: { Key: this.category.updateToken, Entries: n },
              },
            }).pipe(
              (0, Kt.b)(() => this.callback({ $value: e })),
              (0, Pl.x)(() => l.close())
            );
          }
          prepareContent(e) {
            return this.category.items.filter(
              (n) => this.category.name === e && n.isSelected
            );
          }
          $onInit() {
            this.category.items.sort(
              (e, n) =>
                this.getWeight(e) - this.getWeight(n) ||
                e.Name.localeCompare(n.Name)
            ),
              (this.category.displayedItems = [].concat(this.category.items));
          }
        }
        return (
          (t.$inject = ["$rootScope", "MessageBoxSvc", "UpdatesApiService"]), t
        );
      })();
      u
        .module("app")
        .component("categoryUpdateControl", {
          templateUrl: "js/directives/category-update-control.html",
          controller: gR,
          bindings: { category: "=", callback: "&" },
        }),
        u.module("app").directive("checkboxControl", [
          function () {
            return {
              restrict: "E",
              scope: {
                prop: "<",
                mcTitle: "@",
                mcTitleValues: "<",
                removeClass: "@",
                availableProEnterprise: "=?",
                informationLink: "@",
              },
              templateUrl: "tpl/controls/checkbox-control.html",
            };
          },
        ]),
        u.module("app").directive("checkboxControlDesign", [
          function () {
            return {
              restrict: "E",
              scope: { mcDisabled: "<", prop: "=", mcTitle: "@" },
              templateUrl: "tpl/controls/checkbox-control-design.html",
            };
          },
        ]),
        u.module("app").directive("checkboxControlFilter", [
          function () {
            return {
              restrict: "E",
              scope: { prop: "<", predicate: "@", mcTitle: "@" },
              require: "^stTable",
              link(t, c, e, n) {
                (t.change = function () {
                  n.search(t.prop, t.predicate);
                }),
                  t.change();
              },
              templateUrl: "tpl/controls/checkbox-control-filter.html",
            };
          },
        ]),
        u.module("app").directive("checkboxControlHeader", [
          function () {
            return {
              restrict: "E",
              scope: { prop: "<", mcTitle: "@", availableProEnterprise: "=?" },
              templateUrl: "tpl/controls/checkbox-control-header.html",
            };
          },
        ]),
        u.module("app").directive("ngIndeterminate", [
          function () {
            return {
              restrict: "A",
              link(t, c, e) {
                t.$watch(e.ngIndeterminate, function (n) {
                  c.prop(
                    "indeterminate",
                    void 0 === n || !1 === n._value.Defined
                  );
                });
              },
            };
          },
        ]),
        u.module("app").directive("checkboxSwitch", [
          function () {
            return {
              restrict: "E",
              scope: { prop: "<", mcTitle: "@" },
              templateUrl: "tpl/controls/checkbox-switch.html",
            };
          },
        ]);
      function Ln(t) {
        const c = new Date(t);
        return c.setHours(0, 0, 0, 0), c;
      }
      function Si(t, c) {
        (t.isEllipsisActive.active = c[0].offsetWidth < c[0].scrollWidth),
          c.toggleClass("text-with-ellipsis", t.isEllipsisActive.active),
          c.toggleClass("text-with-no-ellipsis", !t.isEllipsisActive.active);
      }
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/directives/datetimepicker-control/datetimepicker-control.html",
              '<datetimepicker ng-hide="prop.hide" ng-model="myDate" show-spinners="true" show-meridian="false" date-options="options"> </datetimepicker>'
            ),
        ]),
        u.module("app").directive("datetimepickerControl", [
          function () {
            return {
              restrict: "E",
              scope: { prop: "<" },
              controller: [
                "$scope",
                function (t) {
                  (t.options = { showWeeks: !1 }),
                    (t.format = "dd-MMM-yyyy"),
                    t.$watch("prop", function () {
                      void 0 !== t.prop && (t.myDate = t.prop.value());
                    }),
                    t.$watch("prop._value", function () {
                      void 0 !== t.prop && (t.myDate = t.prop.value());
                    }),
                    t.$watch(
                      "myDate",
                      function (c) {
                        void 0 !== t.prop && t.prop.value(c);
                      },
                      !0
                    );
                },
              ],
              templateUrl:
                "js/directives/datetimepicker-control/datetimepicker-control.html",
            };
          },
        ]),
        u.module("app").directive("dateRange", function () {
          return {
            scope: {
              selectedRange: "=",
              showTime: "=",
              submitted: "=",
              notLimitedOptionNameKey: "@",
              showDays90: "=",
              showCustom: "=",
            },
            controller: [
              "$scope",
              function (t) {
                (t.dateOptions = z().extend({}, t.$parent.dateOptions)),
                  (t.dateOptions.dateDisabled = null),
                  (t.getDateOnly = function (c) {
                    const e = new Date(c);
                    return e.setHours(0, 0, 0, 0), e;
                  }),
                  (t.validateRange = function () {
                    !t.selectedRange.CustomDateFrom ||
                      !t.selectedRange.CustomDateTo ||
                      ("Custom" == t.selectedRange.RangeType &&
                        (t.dateRangeForm.CustomDateTo.$setValidity(
                          "invalidDateRange",
                          !0
                        ),
                        t.showTime
                          ? t.selectedRange.CustomDateFrom >=
                              t.selectedRange.CustomDateTo &&
                            t.dateRangeForm.CustomDateTo.$setValidity(
                              "invalidDateRange",
                              !1
                            )
                          : t.getDateOnly(t.selectedRange.CustomDateFrom) >=
                              t.getDateOnly(t.selectedRange.CustomDateTo) &&
                            t.dateRangeForm.CustomDateTo.$setValidity(
                              "invalidDateRange",
                              !1
                            )));
                  }),
                  (t.isErrorAllowed = function () {
                    var c, e, n, i;
                    return (
                      (null === (c = t.dateRangeForm.CustomDateFrom) ||
                      void 0 === c
                        ? void 0
                        : c.$errorShowAllowed) ||
                      (null === (e = t.dateRangeForm.CustomDateFromTime) ||
                      void 0 === e
                        ? void 0
                        : e.$errorShowAllowed) ||
                      (null === (n = t.dateRangeForm.CustomDateTo) ||
                      void 0 === n
                        ? void 0
                        : n.$errorShowAllowed) ||
                      (null === (i = t.dateRangeForm.CustomDateToTime) ||
                      void 0 === i
                        ? void 0
                        : i.$errorShowAllowed)
                    );
                  }),
                  t.$watch("selectedRange.CustomDateFrom", function () {
                    t.validateRange();
                  }),
                  t.$watch("selectedRange.CustomDateTo", function () {
                    t.validateRange();
                  });
              },
            ],
            templateUrl: "tpl/controls/date_range.html",
          };
        }),
        u
          .module("app")
          .component("didControl", {
            bindings: { prop: "<" },
            templateUrl: "tpl/controls/did-control.html",
          }),
        u.module("app").directive("editorControl", [
          function () {
            return {
              restrict: "E",
              transclude: !0,
              scope: {
                mcTitle: "@",
                editTitle: "@",
                newTitle: "@",
                backState: "@",
                helpUrl: "@",
                licenseRestrictionText: "@",
                onBeforeSave: "&",
                onObjectAssigned: "&",
              },
              controller: [
                "$scope",
                "$stateParams",
                "MyUtilsSvc",
                "EditSvc",
                function (t, c, e, n) {
                  let i;
                  (t.Id = c.Id),
                    (i =
                      null != c.BackState
                        ? c.BackState
                        : null == t.backState
                        ? "app.settings.general"
                        : t.backState),
                    e
                      .initEditController(t, n, i)
                      .then(function () {
                        void 0 === t.mcTitle &&
                          (t.activeObject.IsNew
                            ? (t.mcTitle = t.newTitle)
                            : t.editTitle
                            ? (t.mcTitle = t.editTitle)
                            : ((t.mcTitle = t.activeObject
                                ? t.activeObject.Name._value
                                : ""),
                              t.$watch("activeObject", function (a) {
                                a && (t.mcTitle = t.activeObject.Name._value);
                              })));
                      })
                      .catch(() => u.noop());
                },
              ],
              templateUrl: "tpl/controls/editor-control.html",
            };
          },
        ]),
        u.module("app").directive("generalEditorControl", [
          function () {
            return {
              restrict: "E",
              transclude: !0,
              scope: {
                mcTitle: "@",
                editTitle: "@",
                newTitle: "@",
                backState: "@",
                helpUrl: "@",
                licenseRestrictionText: "@",
                onBeforeSave: "&",
              },
              controller: [
                "$scope",
                "$stateParams",
                "MyUtilsSvc",
                "EditSvc",
                "$http",
                "MessageBoxSvc",
                function (t, c, e, n, i, a) {
                  let l;
                  (t.Id = c.Id),
                    (l =
                      null != c.BackState
                        ? c.BackState
                        : null == t.backState
                        ? "app.settings.general"
                        : t.backState),
                    e
                      .initEditController(t, n, l)
                      .then(function () {
                        void 0 === t.mcTitle &&
                          (t.activeObject.IsNew
                            ? (t.mcTitle = t.newTitle)
                            : t.editTitle
                            ? (t.mcTitle = t.editTitle)
                            : ((t.mcTitle = t.activeObject
                                ? t.activeObject.Name._value
                                : ""),
                              t.$watch("activeObject", function (s) {
                                s && (t.mcTitle = t.activeObject.Name._value);
                              })));
                      })
                      .catch(() => u.noop());
                },
              ],
              templateUrl: "tpl/controls/general-editor-control.html",
            };
          },
        ]),
        u.module("app").component("exportControl", {
          templateUrl: "tpl/controls/export-control.html",
          bindings: {
            url: "@",
            items: "&",
            search: "<",
            select: "<",
            disable: "<",
            parameters: "<",
          },
          controller: class bR {
            getHiddenInput(c, e) {
              const n = document.createElement("input");
              return (
                n.setAttribute("type", "hidden"),
                n.setAttribute("name", c),
                n.setAttribute("value", e),
                n
              );
            }
            onExportClick() {
              const c = document.createElement("form");
              if (
                (c.setAttribute("action", "api/" + this.url + "/export"),
                c.setAttribute("method", "post"),
                this.select)
              )
                c.append(
                  this.getHiddenInput(
                    "IsAllSelected",
                    "" + this.select.current.IsAllSelected
                  )
                ),
                  c.append(
                    this.getHiddenInput(
                      "Ids",
                      Array.from(this.select.current.Ids).join(",")
                    )
                  ),
                  c.append(this.getHiddenInput("Search", this.search));
              else if (this.parameters)
                this.parameters.toSearchParams().forEach((n, i) => {
                  c.append(this.getHiddenInput(i, n));
                });
              else {
                const e = this.items();
                if (e) {
                  const n = e.map((i) => i.Id);
                  c.append(this.getHiddenInput("ids", n.join(",")));
                }
              }
              z()(c).appendTo("body").submit().remove();
            }
          },
        }),
        u.module("app").directive("extensionRangesList", function () {
          return {
            require: "ngModel",
            link(t, c, e, n) {
              !n ||
                n.$parsers.push(function (i) {
                  const a = e.extensionRangesList,
                    l = e.allowExtensionWildcards;
                  let s = new RegExp("^(\\d|\\*){" + a + "}$");
                  const r = new RegExp("^\\d{" + a + "}$");
                  l || (s = r),
                    n.$setValidity("invalidRange", !0),
                    n.$setValidity("invalidExtensionDigits", !0),
                    n.$setValidity("invalidExtensionRange", !0),
                    n.$setValidity("toManyNumbersInExtensionRange", !0);
                  const o = i.split(",");
                  for (let p of o)
                    if (((p = p.trim()), p.includes("-"))) {
                      const m = p.split("-");
                      2 !== m.length && n.$setValidity("invalidRange", !1);
                      let g = m[0].trim(),
                        S = m[1].trim();
                      (!r.test(g) || !r.test(S)) &&
                        n.$setValidity("invalidExtensionDigits", !1),
                        (g = Number(g)),
                        (S = Number(S)),
                        g > S && n.$setValidity("invalidExtensionRange", !1),
                        S - g > 1e3 &&
                          n.$setValidity("toManyNumbersInExtensionRange", !1);
                    } else
                      s.test(p) || n.$setValidity("invalidExtensionDigits", !1);
                  return i;
                });
            },
          };
        }),
        u.module("app").directive("fieldLength", [
          "$translate",
          function (t) {
            return {
              link(c) {
                const e = /^\d+$/;
                (c.checkInteger = function (n) {
                  if (!e.test(n))
                    return t("SETTINGS.CDR.VALUE_SHOULD_BE_INTEGER");
                }),
                  (c.push = function (n) {
                    n.Length.value(n.Length._value);
                  });
              },
            };
          },
        ]),
        u.module("app").directive("greaterThanDate", function () {
          return {
            require: "ngModel",
            link(t, c, e, n) {
              !n ||
                n.$parsers.push(function (i) {
                  n.$setValidity("invalidDateRange", !0);
                  const a = t.$eval(e.greaterThanDate);
                  return (
                    !i ||
                      !a ||
                      (Ln(i) < Ln(a) && n.$setValidity("invalidDateRange", !1)),
                    i
                  );
                });
            },
          };
        }),
        u.module("app").directive("greaterThanDateTime", function () {
          return {
            require: "ngModel",
            link(t, c, e, n) {
              !n ||
                n.$parsers.push(function (i) {
                  n.$setValidity("invalidTimeRange", !0);
                  const a = t.$eval(e.greaterThanDateTime);
                  return (
                    !i ||
                      !a ||
                      (Ln(i).getTime() === Ln(a).getTime() &&
                        i <= a &&
                        n.$setValidity("invalidTimeRange", !1)),
                    i
                  );
                });
            },
          };
        }),
        u.module("app").directive("lessThanDate", function () {
          return {
            require: "ngModel",
            link(t, c, e, n) {
              if (!n) return;
              const i = function (l) {
                  const s = new Date(l);
                  return s.setHours(0, 0, 0, 0), s;
                },
                a = function (l) {
                  n.$setValidity("invalidDateRange", !0);
                  const s = t.$eval(e.lessThanDate);
                  return (
                    !l ||
                      !s ||
                      (i(l) > i(s) && n.$setValidity("invalidDateRange", !1)),
                    l
                  );
                };
              n.$formatters.push(a), n.$parsers.push(a);
            },
          };
        }),
        u.module("app").controller("HolidaysDialogCtrl", [
          "$scope",
          "$uibModal",
          "TimeFormatting",
          function (t, c, e) {
            const n = t.activeObject,
              i = new Date(
                n.YearStart._value,
                n.MonthStart._value - 1,
                n.DayStart._value
              ),
              a = new Date(
                n.YearEnd._value,
                n.MonthEnd._value - 1,
                n.DayEnd._value
              );
            (t.datePicker = {
              date: { startDate: i, endDate: a },
              onDateChange() {
                if (
                  !t.datePicker.date.startDate.toDate ||
                  !t.datePicker.date.endDate.toDate
                )
                  return;
                const l = t.datePicker.date.startDate.toDate(),
                  s = t.datePicker.date.endDate.toDate(),
                  r = t.activeObject;
                r.MonthStart.value(l.getMonth() + 1),
                  r.DayStart.value(l.getDate()),
                  r.MonthEnd.value(s.getMonth() + 1),
                  r.DayEnd.value(s.getDate());
                const o = l.getFullYear(),
                  p = s.getFullYear();
                o != p &&
                  (t.activeObject.EveryYear.disabled ||
                    t.activeObject.EveryYear.value(!1)),
                  r.YearStart.value(o),
                  r.YearEnd.value(p);
              },
            }),
              (t.vm = {
                PartTime: {
                  From: e.TimeStrFromSeconds(
                    t.activeObject.SecondsStart._value
                  ),
                  To: e.TimeStrFromSeconds(t.activeObject.SecondsEnd._value),
                },
              }),
              (t.DayRangeClick = function () {
                return c
                  .open({
                    size: "sm",
                    templateUrl:
                      "js/directives/time-ranges-control/time-picker-dialog.html",
                    resolve: { timeRange: () => t.vm.PartTime },
                    controller: [
                      "$scope",
                      "timeRange",
                      function (l, s) {
                        (l.deleteBtnDisabled = !1),
                          (l.timeFrom = u.copy(s.From)),
                          (l.timeTo = u.copy(s.To)),
                          (l.deleteClick = function () {
                            l.$close({ action: "delete" });
                          }),
                          (l.saveClick = function () {
                            l.$close({
                              action: "update",
                              From: l.timeFrom,
                              To: l.timeTo,
                            });
                          });
                      },
                    ],
                    keyboard: !0,
                  })
                  .result.then(function (l) {
                    if ("delete" == l.action) t.vm.IsFullDay = !0;
                    else {
                      (t.vm.IsFullDay = !1),
                        (t.vm.PartTime.From = l.From),
                        (t.vm.PartTime.To = l.To);
                      const s = e.SecondsFromTimeStr(t.vm.PartTime.From),
                        r = e.SecondsFromTimeStr(t.vm.PartTime.To);
                      t.activeObject.SecondsStart.value(s),
                        t.activeObject.SecondsEnd.value(r);
                    }
                  });
              });
          },
        ]),
        u.module("app").directive("importControl", [
          "$http",
          "$uibModal",
          "MessageBoxSvc",
          "$translate",
          function (t, c, e, n) {
            return {
              restrict: "EA",
              scope: {
                url: "@",
                mcImportFinished: "&",
                noRefresh: "=",
                mcAccept: "@",
              },
              controller: [
                "$scope",
                "$element",
                function (i, a) {
                  i.mcAccept = u.isDefined(i.mcAccept) ? i.mcAccept : ".csv";
                  const l = a.find("input[type=file]")[0];
                  z()(l).change(
                    (0, Yt.Z)(function* () {
                      var s;
                      try {
                        const r = new FormData();
                        r.append("fileInput", l.files[0]);
                        const o = c.open({
                          templateUrl:
                            "tpl/general_dialogs/importing_modal.html",
                          backdrop: "static",
                          keyboard: !1,
                        });
                        yield o.opened;
                        try {
                          const p = yield t.postFormData(
                            "api/" + i.url + "/import",
                            r
                          );
                          if (p.data.success)
                            p.data.nowarnings ||
                              e
                                .alertBox(
                                  "Import with warnings",
                                  p.data.WarningLines.map(
                                    (f) => f.Warning
                                  ).join(", \n")
                                )
                                .catch(() => u.noop());
                          else {
                            let f = "File format incorrect";
                            if (null != p.data.Exception)
                              (f = p.data.Exception),
                                (f = n.instant(f, { p0: p.data.importCount }));
                            else if (
                              p.data.ErrorLines &&
                              p.data.ErrorLines.length > 0
                            ) {
                              f = "The following lines contain errors:\n\n";
                              for (const m of p.data.ErrorLines)
                                (f +=
                                  " " +
                                  m.Line +
                                  ("" !== m.Reason
                                    ? " (" + n.instant(m.Reason) + ")"
                                    : "")),
                                  null != m.Comment &&
                                    "" !== m.Comment &&
                                    (f += " " + n.instant(m.Comment)),
                                  (f += ", \n");
                              f = f.slice(0, -3);
                            }
                            e.alertBox("WARNINGS.IMPORT_FAILED", f).catch(() =>
                              u.noop()
                            );
                          }
                          if (!i.noRefresh)
                            return t.get("api/" + i.url).then(function (f) {
                              i.$parent.setItems(f.data.list);
                            });
                          null === (s = i.mcImportFinished) ||
                            void 0 === s ||
                            s.call(i);
                        } finally {
                          o.close();
                        }
                      } catch (r) {}
                    })
                  ),
                    (i.onImportClick = function () {
                      setTimeout(function () {
                        z()(l).val(""), z()(l).trigger("click");
                      });
                    });
                },
              ],
              templateUrl: (i, a) =>
                a.templateUrl || "tpl/controls/import-control.html",
            };
          },
        ]),
        u.module("app").directive("inheritedScope", [
          function () {
            return { restrict: "A", scope: !0 };
          },
        ]),
        u.module("app").directive("isEllipsisActive", function () {
          return {
            restrict: "A",
            scope: { isEllipsisActive: "=" },
            link(t, c) {
              (t.elem = c),
                setTimeout(() => Si(t, c)),
                c.on("resize", () => {
                  Si(t, c);
                }),
                t.$watch("isEllipsisActive", (e, n) => {
                  e !== n && Si(t, c);
                });
            },
          };
        }),
        u.module("app").directive("isValid", function () {
          return {
            restrict: "A",
            require: "?ngModel",
            link(t, c, e, n) {
              t.$watch(e.isValid, function () {
                const a = t.$eval(e.isValid);
                if ((n.$setPristine(), !0 === a))
                  return n.$setValidity(e.id, !0), e.ngModel;
                n.$setValidity(e.id, !1);
              });
            },
          };
        }),
        u.module("app").directive("listControl", [
          "$state",
          "$parse",
          "MyUtilsSvc",
          function (t, c, e) {
            return {
              restrict: "E",
              transclude: !0,
              link(n, i, a) {
                const l = e.BaseCollectionServiceMethods(a.apiUrl);
                function s() {
                  l.getAll()
                    .then(function (r) {
                      (n.isRefreshTrunksRegistrationProhibited =
                        r.data.isRefreshTrunksRegistrationProhibited),
                        (n.isLicenceStandard = r.data.isLicenceStandard),
                        (n.licenseRestricted = r.data.licenseRestricted),
                        n.setItems(r.data.list);
                    })
                    .catch(() => u.noop());
                }
                (n.refreshList = s),
                  (n.limitLength = function (r) {
                    return r.length > 22 ? r.substring(0, 20) + "..." : r;
                  }),
                  e.initCollectionController(n, l, {
                    edit(r) {
                      if (void 0 !== a.getEditorState) {
                        const p = c(a.getEditorState)(n, { item: r.data });
                        t.go(p, r.data);
                      } else t.go(a.editorState, r.data);
                    },
                    bulkEdit(r) {
                      t.go(a.editorBulkState, r.data);
                    },
                    refresh: s,
                    confirmDeletion: void 0 !== a.confirmDeletion,
                  }),
                  s();
              },
              controller: [
                "$scope",
                function (n) {
                  (this.getSelectedItems = function () {
                    return n.getSelectedItems();
                  }),
                    (this.setItems = function (i) {
                      n.setItems(i);
                    }),
                    (this.refreshList = function () {
                      n.refreshList();
                    });
                },
              ],
              template: "<div in-transclude></div>",
            };
          },
        ]),
        u.module("app").directive("validEmail", function () {
          return {
            require: "ngModel",
            link(t, c, e, n) {
              n.$parsers.unshift(function (i) {
                return n.$setValidity("validEmail", fi(i)), i;
              });
            },
          };
        }),
        u.module("app").directive("myMax", function () {
          return {
            restrict: "A",
            require: "ngModel",
            link(t, c, e, n) {
              const i = Number.parseInt(e.max, 10);
              function a(l) {
                let s = !0;
                const r = Number.parseInt(l, 10);
                return (
                  0 === r || r
                    ? n.$setValidity("NotNumber", !0)
                    : (n.$setValidity("NotNumber", !1), (s = !1)),
                  r > i
                    ? (n.$setValidity("BiggerThenMaxValue", !1), (s = !1))
                    : n.$setValidity("BiggerThenMaxValue", !0),
                  r < 0
                    ? (n.$setValidity("LessThenZero", !1), (s = !1))
                    : n.$setValidity("LessThenZero", !0),
                  s ? l : void 0
                );
              }
              n.$parsers.unshift(a), n.$formatters.unshift(a);
            },
          };
        });
      function Et(t) {
        return Number.parseInt(t, 10) || 0;
      }
      function Jt(t) {
        return t.toString().length < 2 ? "0" + t : t.toString();
      }
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/directives/my-timepicker-control/my-time-picker-control.html",
              '<table class="uib-timepicker ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty ng-valid-time" ng-model="timeFrom" hour-step="1" mstep="1" show-meridian="false" aria-invalid="false" style=""> <tbody> <tr class="text-center" aria-hidden="false"> <td class="uib-increment hours"> <a ng-click="incrementHours()" class="btn btn-link" ng-class="{disabled: noIncrementHours()}" ng-disabled="noIncrementHours()"> <span class="halflings halflings-chevron-up"></span> </a> </td> <td>&nbsp;</td> <td class="uib-increment minutes"> <a ng-click="incrementMinutes()" class="btn btn-link" ng-class="{disabled: noIncrementMinutes()}" ng-disabled="noIncrementMinutes()"> <span class="halflings halflings-chevron-up"></span> </a> </td> </tr> <tr> <td class="uib-time hours" ng-class="{\'has-error\': invalidHours}"> <input style="width:50px" type="text" placeholder="HH" class="form-control text-center ng-pristine ng-valid ng-not-empty ng-valid-maxlength ng-touched" ng-model="hours" ng-change="updateHours()" maxlength="2" pattern="[0-9]*" ng-blur="padHours()" max="23" my-max aria-invalid="false"> </td> <td class="uib-separator">:</td> <td class="uib-time minutes" ng-class="{\'has-error\': invalidMinutes}"> <input style="width:50px" type="text" placeholder="MM" class="form-control text-center ng-pristine ng-untouched ng-valid ng-not-empty ng-valid-maxlength" ng-model="minutes" ng-change="updateMinutes()" maxlength="2" pattern="[0-9]*" ng-blur="padMinutes()" max="59" my-max aria-invalid="false"> </td> </tr> <tr class="text-center" aria-hidden="false"> <td class="uib-decrement hours"> <a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()"> <span class="halflings halflings-chevron-down"></span> </a> </td> <td>&nbsp;</td> <td class="uib-decrement minutes"> <a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()"> <span class="halflings halflings-chevron-down"></span> </a> </td> </tr> </tbody> </table>'
            ),
        ]),
        u.module("app").directive("myTimePickerControl", [
          function () {
            return {
              restrict: "E",
              scope: { time: "=" },
              link(t) {
                const c = t.time.split(":");
                (t.hours = c[0]), (t.minutes = c[1]);
              },
              controller: [
                "$scope",
                function (t) {
                  function c() {
                    t.time = t.hours + ":" + t.minutes;
                  }
                  t.$watch("hours", c),
                    t.$watch("minutes", c),
                    (t.padHours = function () {
                      t.hours = Jt(Et(t.hours));
                    }),
                    (t.padMinutes = function () {
                      t.minutes = Jt(Et(t.minutes));
                    }),
                    (t.noIncrementMinutes = function () {
                      return Et(t.minutes) >= 59;
                    }),
                    (t.noDecrementMinutes = function () {
                      return Et(t.minutes) <= 0;
                    }),
                    (t.incrementMinutes = function () {
                      t.minutes = Jt(Et(t.minutes) + 1);
                    }),
                    (t.decrementMinutes = function () {
                      t.minutes = Jt(Et(t.minutes) - 1);
                    }),
                    (t.noIncrementHours = function () {
                      return Et(t.hours) >= 23;
                    }),
                    (t.noDecrementHours = function () {
                      return Et(t.hours) <= 0;
                    }),
                    (t.incrementHours = function () {
                      t.hours = Jt(Et(t.hours) + 1);
                    }),
                    (t.decrementHours = function () {
                      t.hours = Jt(Et(t.hours) - 1);
                    });
                },
              ],
              templateUrl:
                "js/directives/my-timepicker-control/my-time-picker-control.html",
            };
          },
        ]),
        u.module("app").directive("noAnswerDestinationControl", [
          function () {
            return {
              restrict: "E",
              scope: { prop: "<" },
              controller: [
                "$scope",
                function (t) {
                  t.$watch("prop.DestinationType.selected", function (c) {
                    t.inboundRulesInOffice = c;
                  });
                },
              ],
              templateUrl: "tpl/controls/no-answer-destination-control.html",
            };
          },
        ]),
        u.module("app").directive("numberControl", [
          "$translate",
          "bowser",
          function (t, c) {
            return {
              restrict: "E",
              scope: {
                prop: "<",
                mcTitle: "@",
                placeholder: "@",
                width: "@",
                minimum: "@",
                maximum: "@",
              },
              link(e, n, i) {
                (e.elem = n),
                  t(i.placeholder).then(
                    function (a) {
                      e.place_holder = a;
                    },
                    function () {
                      e.place_holder = i.placeholder;
                    }
                  );
              },
              controller: [
                "$scope",
                function (e) {
                  e.$watch("prop.triggerError", function (n) {
                    n &&
                      (e.elem[0].scrollIntoView(), (e.prop.triggerError = !1));
                  }),
                    (e.setFocus = function () {
                      c.firefox &&
                        e.elem[0].getElementsByTagName("input")[0].focus();
                    });
                },
              ],
              templateUrl: "tpl/controls/number-control.html",
            };
          },
        ]),
        u.module("app").directive("numbersOnly", function () {
          return {
            require: "ngModel",
            link(t, c, e, n) {
              const i = [
                8, 9, 37, 39, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 96, 97,
                98, 99, 100, 101, 102, 103, 104, 105, 110,
              ];
              c.bind("keydown", function (a) {
                !a.ctrlKey &&
                  -1 == z().inArray(a.which, i) &&
                  (t.$apply(function () {
                    t.$eval(e.numbersOnly), a.preventDefault();
                  }),
                  a.preventDefault());
              }),
                c.bind("paste", function (a) {
                  const l = a.originalEvent.clipboardData.getData("text"),
                    s = l.replace(/[^0-9]/g, "");
                  s !== l &&
                    (n.$setViewValue(s), n.$render(), a.preventDefault());
                });
            },
          };
        }),
        u.module("app").directive("numbersFilter", function () {
          return {
            scope: {
              selectedFilter: "=",
              headerTextKey: "@",
              submitted: "=",
              extensionLength: "=",
              allowBillingCode: "=",
              allowExtensionWildcards: "=",
              examplePlaceholder: "=",
            },
            controller: [
              "$scope",
              function (t) {
                t.numberRegex = "[+0-9]?\\d*";
              },
            ],
            templateUrl: "tpl/controls/numbers_filter.html",
          };
        }),
        u.module("app").directive("panel", [
          function () {
            return {
              restrict: "E",
              scope: { mcTitle: "@", availableProEnterprise: "=?" },
              transclude: !0,
              templateUrl: "tpl/controls/panel.html",
            };
          },
        ]),
        u.module("app").directive("passwordControl", [
          "$translate",
          function (t) {
            return {
              restrict: "E",
              scope: {
                prop: "<",
                mcTitle: "@",
                placeholder: "@",
                maxlength: "@",
                disabled: "@",
                hideEye: "=?",
                valueChanged: "<",
              },
              link(c, e, n) {
                (c.elem = e),
                  t(n.placeholder).then(
                    function (i) {
                      c.place_holder = i;
                    },
                    function () {
                      c.place_holder = n.placeholder;
                    }
                  ),
                  (c.textSec = !!window.getComputedStyle(e.find("input")[0])
                    .webkitTextSecurity);
              },
              controller: [
                "$scope",
                function (c) {
                  (c.passwordControl = { passwordCheckbox: !1 }),
                    (c.hideEye = !!u.isDefined(c.hideEye) && c.hideEye);
                  const e = () => (c.pass = c.prop ? c.prop.value() : "");
                  e(),
                    c.$watch("prop._value", e),
                    c.$watch("prop.triggerError", function (n) {
                      n &&
                        (c.elem[0].scrollIntoView(),
                        (c.prop.triggerError = !1));
                    }),
                    (c.triggerChanged = function () {
                      c.prop && c.prop.value(c.pass),
                        c.valueChanged && c.valueChanged();
                    });
                },
              ],
              templateUrl: "tpl/controls/password-control.html",
            };
          },
        ]),
        u
          .module("app")
          .controller("PlaylistsDialogCtrl", ["$scope", function () {}]),
        u.module("app").directive("propertyListControl", [
          "MyUtilsSvc",
          function (t) {
            return {
              restrict: "E",
              transclude: !0,
              scope: {
                moveDisabled: "<",
                extra: "<",
                objectId: "<",
                prop: "<",
                modalEditorUrl: "@",
              },
              link(c, e, n) {
                function i(l) {
                  for (const s in l)
                    l.hasOwnProperty(s) &&
                      "function" != typeof l[s] &&
                      (void 0 !== l[s].errorMsg && (l[s].errorMsg = ""),
                      "object" == typeof l[s] && i(l[s]));
                }
                c.$watch("prop._value", function (l) {
                  null == l && (l = []), c.setItems(l);
                }),
                  (c.onItemEditClickEx = function (l) {
                    c.onItemEditClick(l), i(l);
                  });
                const a = t.BaseCollectionServiceMethods(
                  "EditorList",
                  function () {
                    return { ObjectId: c.objectId, PropertyPath: c.prop._path };
                  }
                );
                t.initCollectionController(c, a, {
                  edit(l) {
                    t.openModalEditor(c.modalEditorUrl, l)
                      .result.then(function () {
                        c.prop.collectChanges();
                      })
                      .catch(() => u.noop());
                  },
                  refresh() {
                    c.prop.collectChanges();
                  },
                  confirmDeletion: void 0 !== n.confirmDeletion,
                });
              },
              template: "<div in-transclude></div>",
            };
          },
        ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/directives/provisioning-method/provisioning-method.html",
              '<div class="form-group"> <select-enum-control prop="$ctrl.device.ProvisioningMethod" mc-title="EXTENSIONS.EDITOR.PROVISIONING.PROVISIONING_METHOD" disabled="$ctrl.isSbcRouterPhone()" mc-inline="true"> </select-enum-control> <div class="information" ng-show="$ctrl.device.ProvisioningMethod.selected === \'PROVISIONING_METHOD_STUN\' && $ctrl.allowLan"> <ul> <li> <span class="fa fa-info-circle" style="color:#004085"></span> {{\'WARNINGS.OUT_OF_LAN_DEVICES_IN_USE\' | translate}} </li> </ul> </div> <div class="information" ng-show="$ctrl.device.ProvisioningMethod.selected === \'PROVISIONING_METHOD_SBC\' && $ctrl.blockRemote"> <ul> <li> <span class="fa fa-info-circle" style="color:#004085"></span> {{\'WARNINGS.TUNNEL_MODE_IN_USE\' | translate}} </li> </ul> </div> <div class="m-t-xs m-l-xs" ng-if="!$ctrl.isAvaya()"> <span translate="EXTENSIONS.EDITOR.PROVISIONING.PROVISION_LINK" class="m-r-xs"></span> <span ng-switch="!!$ctrl.device.ProvLink._value"> <a ng-switch-when="true" target="_blank" class="dashed_link" href="{{$ctrl.device.ProvLink._value}}"> {{$ctrl.device.ProvLink._value}} </a> <span ng-switch-default> <span translate="EXTENSIONS.EDITOR.PROVISIONING.NOT_AVAILABLE_PHONE_PROVISIONING_LINK">Not available</span> - <a target="_blank" class="dashed_link" href="https://www.3cx.com/docs/custom-ip-phone-templates/" rel="noopener"> Check provisioning guide for more info </a> </span> </span> </div> <div class="m-t-xs m-l-xs" ng-if="$ctrl.isAvaya()"> <span translate="EXTENSIONS.EDITOR.PROVISIONING.PROVISION_LINK" class="m-r-xs"></span> {{$ctrl.device.ProvLink._value}} - <a target="_blank" class="dashed_link" href="https://www.3cx.com/sip-phones/avaya-ip-phone-provisioning/" rel="noopener"> <span translate="EXTENSIONS.EDITOR.PROVISIONING.CHECK_PROVISIONING_GUIDE_INFO"> Check provisioning guide for more info </span> </a> </div> </div> <text-control prop="$ctrl.device.MacAddress" disabled="$ctrl.isSbcRouterPhone()" mc-title="EXTENSIONS.EDITOR.PROVISIONING.MAC_ADDRESS" pattern="[^0-9a-f]" maxlength="12" placeholder="{{\'EXTENSIONS.EDITOR.PROVISIONING.MAC_ADDRESS\' | translate}}"></text-control> <select-enum-control ng-if="$ctrl.device.ProvisioningMethod.selected==\'PROVISIONING_METHOD_LAN\'" prop="$ctrl.device.LocalInterface" mc-title="EXTENSIONS.EDITOR.PROVISIONING.SELECT_INTERFACE" mc-no-translate> </select-enum-control> <div ng-if="$ctrl.device.ProvisioningMethod.selected==\'PROVISIONING_METHOD_STUN\'"> <number-control mc-title="EXTENSIONS.EDITOR.PROVISIONING.LOCAL_SIP_PORT_OF_PHONE" prop="$ctrl.device.LocalSipPort" max="65535"> </number-control> <number-control mc-title="EXTENSIONS.EDITOR.PROVISIONING.LOCAL_RTP_AUDIO_PORTS_START" prop="$ctrl.device.LocalAudioPortStart" max="65535"> </number-control> <number-control mc-title="EXTENSIONS.EDITOR.PROVISIONING.LOCAL_RTP_AUDIO_PORTS_END" prop="$ctrl.device.LocalAudioPortEnd" max="65535"> </number-control> </div> <div ng-if="$ctrl.device.ProvisioningMethod.selected==\'PROVISIONING_METHOD_SBC\'"> <select-control mc-title="EXTENSIONS.EDITOR.PROVISIONING.IP_ADDRESS_OF_3CX_SESSION_BORDER_CONTROLLER" disabled="$ctrl.isSbcRouterPhone()" prop="$ctrl.device.SbcName"> </select-control> </div> '
            ),
        ]),
        u.module("app").component("provisioningMethod", {
          bindings: { device: "=", allowLan: "<", blockRemote: "<" },
          controller: class _R {
            isAvaya() {
              return (
                this.device &&
                this.device.Model &&
                this.device.Model.value().includes("Avaya")
              );
            }
            isSbcRouterPhone() {
              return (
                this.device.PhoneSbcReady &&
                !!this.device.PhoneSbcReady._value &&
                this.device.PhoneMakeSbc &&
                !!this.device.PhoneMakeSbc._value
              );
            }
          },
          templateUrl:
            "js/directives/provisioning-method/provisioning-method.html",
        }),
        u.module("app").directive("radioEnumControl", [
          function () {
            return {
              restrict: "E",
              scope: { prop: "<", name: "=", mcTitle: "@" },
              templateUrl: "tpl/controls/radio-enum-control.html",
            };
          },
        ]),
        u.module("app").directive("refreshRegistrationControl", [
          "TrunksSvc",
          function (t) {
            return {
              require: "^listControl",
              restrict: "E",
              scope: { licenseRestricted: "=" },
              link(c, e, n, i) {
                (c.checkIfSBCSelected = function () {
                  let a = !1;
                  return (
                    i.getSelectedItems().forEach((s) => {
                      "SBC" === s.Type && (a = !0);
                    }),
                    a
                  );
                }),
                  (c.onRefreshRegistrationClick = function () {
                    if (c.licenseRestricted || c.checkIfSBCSelected()) return;
                    const a = i.getSelectedItems().map(function (l) {
                      return l.Number;
                    });
                    t.refreshRegistration(a)
                      .then(function () {
                        i.refreshList();
                      })
                      .catch(() => u.noop());
                  });
              },
              templateUrl: "tpl/controls/refresh-registration-control.html",
            };
          },
        ]);
      function Ei(t) {
        return t.replace(/^([0-9]*) .*$/, "$1");
      }
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/directives/rights-panel/rights.html",
              '<checkbox-control prop="$ctrl.rights.CanSeeGroupMembers" mc-title="RIGHTS.SEE_GROUP_MEMBERS"></checkbox-control> <div class="col-sm-12"> <checkbox-control prop="$ctrl.rights.CanSeeGroupCalls" mc-title="RIGHTS.SEE_GROUP_CALLS"></checkbox-control> </div> <checkbox-control prop="$ctrl.rights.ShowMyPresenceInGroup" mc-title="RIGHTS.SHOW_PRESENCE_GROUP_MEMBERS"></checkbox-control> <div class="col-sm-12"> <checkbox-control prop="$ctrl.rights.ShowMyCalls" mc-title="RIGHTS.SHOW_CALLS_GROUP_MEMBERS"></checkbox-control> </div> <checkbox-control prop="$ctrl.rights.PerformOperations" mc-title="RIGHTS.PERFORM_OPERATIONS_ACTIVE_CALLS"></checkbox-control> <checkbox-control prop="$ctrl.rights.CanBargeIn" mc-title="RIGHTS.BARGEIN_LISTEN_WHISPER" available-pro-enterprise="true"></checkbox-control> <checkbox-control prop="$ctrl.rights.CanIntercom" mc-title="RIGHTS.CAN_INTERCOM"></checkbox-control> <checkbox-control prop="$ctrl.rights.AllowParking" mc-title="RIGHTS.ALLOW_PARKING"></checkbox-control> <checkbox-control prop="$ctrl.rights.AllowIVR" mc-title="RIGHTS.ALLOW_IVRCONTROL"></checkbox-control> <checkbox-control prop="$ctrl.rights.AllowToManageCompanyBook" mc-title="RIGHTS.ALLOW_COMPANY_PHONEBOOK"></checkbox-control> <checkbox-control prop="$ctrl.rights.AssignClearOperations" mc-title="RIGHTS.ASSIGN_CLEAR_OPERATIONS"></checkbox-control> <checkbox-control prop="$ctrl.rights.CanSeeGroupRecordings" mc-title="RIGHTS.SEE_GROUP_RECORDINGS" available-pro-enterprise="true"></checkbox-control> '
            ),
        ]),
        u
          .module("app")
          .component("rightsPanel", {
            bindings: { rights: "<" },
            templateUrl: "js/directives/rights-panel/rights.html",
          }),
        u.module("app").directive("selectControl", [
          "$translate",
          "WrapperSvc",
          "$filter",
          function (t, c, e) {
            return {
              restrict: "E",
              transclude: !0,
              scope: {
                prop: "<",
                mcInline: "@",
                mcTitle: "@",
                mcTitleParam: "@",
                size: "@",
                display: "@",
                displayFn: "=",
                options: "=",
                disabled: "<",
              },
              link(n, i) {
                (n.defaultValue = c.getDifferentValue()), (n.elem = i);
              },
              controller: [
                "$scope",
                function (n) {
                  n.$watch("prop.triggerError", function (i) {
                    i &&
                      (n.elem[0].scrollIntoView(), (n.prop.triggerError = !1));
                  }),
                    (n.label = function (i) {
                      if (void 0 === i) return "";
                      let a = i._str || i;
                      return (
                        n.displayFn && (a = n.displayFn(i)),
                        null != n.prop && n.prop.translatable
                          ? (function NR(t) {
                              return t
                                .replace(/&amp;/g, "&")
                                .replace(/&lt;/g, "<")
                                .replace(/&gt;/g, ">")
                                .replace(/&quot;/g, '"')
                                .replace(/&#039;/g, "'");
                            })(t.instant(a, i.TranslationValues))
                          : a
                      );
                    }),
                    (n.value = function (i) {
                      var a;
                      return null !== (a = i.Id) && void 0 !== a ? a : i;
                    }),
                    (n.getOptions = function () {
                      return null != n.options
                        ? n.options
                        : null != n.prop
                        ? n.prop.possibleValues
                        : [];
                    });
                },
              ],
              templateUrl: (n, i) =>
                i.templateUrl || "tpl/controls/select-control.html",
            };
          },
        ]),
        u.module("app").directive("selectEnumControl", [
          "$translate",
          "WrapperSvc",
          function (t, c) {
            return {
              restrict: "E",
              scope: {
                mcInline: "@",
                filterPossibleValues: "&?",
                prop: "<",
                disabled: "<",
              },
              link(e, n, i) {
                function a(l) {
                  return (
                    t("enum." + l)
                      .then(function (s) {
                        e.enumTanslations[l] = s;
                      })
                      .catch(() => u.noop()),
                    l
                  );
                }
                (e.filterPossibleValuesImpl = (l) =>
                  e.filterPossibleValues
                    ? e.filterPossibleValues({ $value: l })
                    : l),
                  (e.elem = n),
                  (e.defaultValue = c.getDifferentValue()),
                  (e.enumTanslations = {}),
                  void 0 !== i.mcTitle &&
                    t(i.mcTitle)
                      .then(function (l) {
                        const s = "<label>" + l + "</label>";
                        n.children().prepend(s);
                      })
                      .catch(() => u.noop()),
                  (e.label =
                    void 0 === i.mcNoTranslate
                      ? a
                      : function (l) {
                          return "TIMEZONE_DEFAULT" === l ||
                            "HOLIDAY_EVERY_YEAR" === l
                            ? a(l)
                            : ((e.enumTanslations[l] = l), l);
                        });
              },
              controller: [
                "$scope",
                function (e) {
                  e.$watch("prop.triggerError", function (n) {
                    n &&
                      (e.elem[0].scrollIntoView(), (e.prop.triggerError = !1));
                  });
                },
              ],
              templateUrl: (e, n) =>
                n.templateUrl || "tpl/controls/select-enum-control.html",
            };
          },
        ]);
      let yR = (() => {
        class t {
          constructor(e, n) {
            (this.$http = e), (this.$uibModal = n);
          }
          showSelectExtensionModal() {
            return this.$http
              .getApi("api/ExtensionList/getExtensionSelector")
              .then(
                (e) =>
                  this.$uibModal.open({
                    size: "lg",
                    backdrop: "static",
                    templateUrl: "js/app/phones/select_extension_dialog.html",
                    controller: "ModalEditCtrl",
                    keyboard: !0,
                    resolve: { response: () => e },
                  }).result
              );
          }
          showPlayOnPhoneModal(e) {
            return this.$http
              .getApi("api/ExtensionList/getExtensionSelector")
              .then((n) =>
                this.$uibModal
                  .open({
                    size: "lg",
                    templateUrl: "tpl/general_dialogs/play_dialog.html",
                    controller: "ModalEditCtrl",
                    backdrop: "static",
                    resolve: {
                      response() {
                        const i = n.data.ActiveObject.Value;
                        for (const a in i.possibleValues)
                          if (Ei(i.possibleValues[a]._str) == e) {
                            i.selected = i.possibleValues[a];
                            break;
                          }
                        return n;
                      },
                    },
                  })
                  .result.then((i) => Ei(i._str))
              );
          }
        }
        return (t.$inject = ["$http", "$uibModal"]), t;
      })();
      function Ai(t) {
        return Ei(t._str);
      }
      u.module("app").service("ExtensionSelectService", yR),
        u.module("app").directive("selectExtensionControl", [
          function () {
            return {
              restrict: "E",
              scope: { prop: "<", mcTitle: "@", display: "@", displayFn: "&" },
              link(t, c) {
                t.elem = c;
              },
              controller: [
                "$scope",
                "EditSvc",
                "MyUtilsSvc",
                "$http",
                function (t, c, e, n) {
                  n
                    .get("api/ExtensionList/getExtensionSelector")
                    .then(function (i) {
                      (t.extensions = i.data),
                        e
                          .initModalEditController(t, c, i.data)
                          .catch(() => u.noop());
                      const a = i.data.ActiveObject.Value;
                      if (t.prop.value) {
                        for (const s in a.possibleValues)
                          if (Ai(a.possibleValues[s]) == t.prop.value) {
                            a.selected = a.possibleValues[s];
                            break;
                          }
                      } else t.prop.value = Ai(a.selected);
                      const l = a.value;
                      a.value = function (s) {
                        if (!arguments.length) return l();
                        l(s, !0);
                      };
                    })
                    .catch(() => u.noop()),
                    t.$watch("prop.triggerError", function (i) {
                      i &&
                        (t.elem[0].scrollIntoView(),
                        (t.prop.triggerError = !1));
                    }),
                    t.$watch("activeObject.Value.selected", function (i) {
                      i && (t.prop.value = Ai(i));
                    }),
                    (t.label = function (i) {
                      return void 0 === i ? "" : i._str;
                    }),
                    (t.value = function (i) {
                      return i.Id;
                    }),
                    (t.getOptions = function () {
                      return t.extensions;
                    });
                },
              ],
              templateUrl: (t, c) =>
                c.templateUrl || "tpl/controls/select-extension-control.html",
            };
          },
        ]),
        u.module("app").directive("selectLazyControl", [
          function () {
            return {
              restrict: "E",
              scope: {
                items: "=",
                prop: "<",
                type: "=",
                getLabel: "&",
                getValue: "&",
              },
              link(t, c, e) {
                if (
                  ((t.elem = c),
                  (t.currentLimit = 8),
                  (t.requestMore = function () {
                    t.currentLimit < t.items.length && t.currentLimit++;
                  }),
                  void 0 !== e.type && "ext" == e.type)
                )
                  return (
                    (t.label = function (n) {
                      return void 0 === n
                        ? ""
                        : n.Number + " " + n.FirstName + " " + n.LastName;
                    }),
                    void (t.value = function (n) {
                      return n.Number;
                    })
                  );
                (t.label = function (n) {
                  return void 0 === n ? "" : t.getLabel({ item: n });
                }),
                  (t.value = function (n) {
                    return t.getValue({ item: n });
                  });
              },
              controller: [
                "$scope",
                function (t) {
                  t.$watch("prop.triggerError", function (c) {
                    c &&
                      (t.elem[0].scrollIntoView(), (t.prop.triggerError = !1));
                  });
                },
              ],
              templateUrl: "tpl/controls/select-lazy-control.html",
            };
          },
        ]),
        u.module("app").directive("selectItem", function () {
          return {
            scope: {
              apiUrl: "@",
              fixNumberToId: "<",
              prop: "=",
              headerTranslateKey: "@",
              allItemsName: "=",
            },
            controller: [
              "$scope",
              "$http",
              function (t, c) {
                function e() {
                  const n = t.originalItems.slice();
                  t.allItemsName &&
                    n.splice(0, 0, { Id: "", Name: t.allItemsName });
                  let i = null;
                  t.prop &&
                    t.prop.Id &&
                    ((i = n.filter(function (a) {
                      return a.Id == t.prop.Id;
                    })),
                    (i = i.length > 0 ? i[0] : null)),
                    i || (i = n[0]),
                    i && (t.prop = i),
                    (t.items = n);
                }
                (t.originalItems = void 0),
                  (t.items = void 0),
                  c
                    .get(t.apiUrl)
                    .then(function (n) {
                      n.data.list.forEach(function (i) {
                        t.fixNumberToId && (i.Id = i.Number), delete i.$type;
                      }),
                        (t.originalItems = n.data.list),
                        e();
                    })
                    .catch(() => u.noop()),
                  t.$watch(
                    function () {
                      return t.allItemsName;
                    },
                    function () {
                      t.originalItems && e();
                    }
                  );
              },
            ],
            templateUrl: "tpl/controls/select_item.html",
          };
        }),
        u.module("app").directive("selectList", function () {
          return {
            scope: {
              apiUrl: "@",
              prop: "=",
              headerTranslateKey: "@",
              columnHeaderTranslateKey: "@",
              nameGetter: "&",
              parentListId: "=",
              hasParentListId: "@parentListId",
              extensionNumberFieldName: "@",
            },
            controller: [
              "$scope",
              "$http",
              function (t, c) {
                (t.itemsByPage = 50),
                  (t.displayedItems = []),
                  (t.items = []),
                  (t.onItemClick = function (e) {
                    const n = t.prop.filter(function (i) {
                      return e.Id === i.Id;
                    });
                    if (((t.prop.errorMsg = null), n.length > 0)) {
                      const i = t.prop.indexOf(n[0]);
                      t.prop.splice(i, 1);
                    }
                    e.isSelected && t.prop.push(e);
                  }),
                  (t.selectAll = function () {
                    (t.prop = []),
                      t.items.forEach(function (e) {
                        t.prop.push(e), (e.isSelected = !0);
                      });
                  }),
                  (t.clearSelection = function () {
                    (t.prop = []),
                      t.items.forEach(function (e) {
                        e.isSelected = !1;
                      });
                  }),
                  (t.updateList = function () {
                    let e = null;
                    if (t.hasParentListId) {
                      if (!t.parentListId) return;
                      e = { params: { id: t.parentListId } };
                    }
                    c.get(t.apiUrl, e)
                      .then(function (n) {
                        n.data.list.forEach(function (a) {
                          delete a.$type,
                            t.nameGetter() &&
                              (a.Name = t.nameGetter({ item: a }));
                        }),
                          (t.displayedItems = n.data.list),
                          (t.items = [].concat(n.data.list));
                        const i = [];
                        t.prop.forEach(function (a) {
                          const l = t.items.filter(function (s) {
                            return s.Id === a.Id;
                          });
                          l.length > 0 ? (l[0].isSelected = !0) : i.push(a);
                        });
                        for (const a of i) {
                          const l = t.prop.indexOf(a);
                          t.prop.splice(l, 1);
                        }
                      })
                      .catch(() => u.noop());
                  }),
                  t.hasParentListId
                    ? t.$watch(
                        function () {
                          return t.parentListId;
                        },
                        function () {
                          t.updateList();
                        }
                      )
                    : t.updateList();
              },
            ],
            templateUrl: "tpl/controls/select_list.html",
          };
        });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/directives/set-control/set-control-agents.html",
            '<div ng-if="!set.prop.hide"> <div class="m-b-sm"> <button type="button" ng-if="!externalShowEvent2" ng-disabled="set.prop.disabled" ng-click="onAddDialogClick()" class="btn btn-sm btn-success" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"><i class="halflings halflings-plus"></i> Add</button> <button type="button" ng-if="showDeleteButton" ng-disabled="set.prop.disabled || set.selectedCount == 0" class="btn btn-sm btn-default" ng-click="set.onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"><i class="halflings halflings-pencil"></i>Delete</button> <button type="button" ng-if="moveEnabled" ng-disabled="!set.moveUpEnabled" class="btn btn-sm btn-default" ng-click="set.onMoveUpClick()" translate="REPOS.BUTTONS.MOVE_UP_BTN" id="btnMoveUp"> <i class="fa fa-level-up"></i> Move Up</button> <button type="button" ng-if="moveEnabled" ng-disabled="!set.moveDownEnabled" class="btn btn-sm btn-default" ng-click="set.onMoveDownClick()" translate="REPOS.BUTTONS.MOVE_DOWN_BTN" id="btnMoveDown"> <i class="fa fa-level-down"></i> Move Down</button> </div> <div class="errors" ng-if="set.errorMessage"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> <span>{{set.errorMessage}}</span></li> </ul> </div> <table st-table="set.displayedItems" st-safe-src="set.items" class="table table-striped" st-s ng-if="set.items.length > 0"> <thead> <tr> <th class="col-ext" st-sort="Number._value" translate="REPOS.TEXT.EXTENSION">Extension</th> <th st-sort="Name._value" translate="REPORTS_UI.AGENT_NAME">Agent Name</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="row in set.displayedItems | limitTo:set.itemsByPage" st-select-row="row" ng-click="set.onItemClick(row)" st-select-mode="multiple"> <td>{{::row.Number._value}}</td> <td>{{::row.Name._value}}</td> <td> <button type="button" mc-stop-event ng-click="set.onItemDeleteClick(row)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> <tfoot> <tr> <td colspan="9" class="text-center" ng-show="set.items.length > set.itemsByPage"> <div st-pagination="" st-items-by-page="set.itemsByPage" st-displayed-pages="7" id="pagerId"></div> </td> </tr> </tfoot> </table> </div> '
          ),
      ]);
      const Vl = "js/directives/set-control/select_agents_modal.html";
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            Vl,
            '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="{{::mcTitle}}"></h4> </div> <div class="modal-body"> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" ng-init="inputSearch=\'\'" ng-model="inputSearch" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped table-fixed" mc-select-items> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="Number._value" class="col-ext" translate="REPOS.TEXT.EXTENSION">Extension</th> <th st-sort="Name._value" translate="REPORTS_UI.AGENT_NAME">Agent Name</th> </tr> </thead> <tbody> <tr ng-repeat="row in displayedItems"> <td class="col-btn" mc-select-row="row" mc-select-target="parent"></td> <td class="col-ext">{{::row.Number._value}}</td> <td>{{::row.Name._value}}</td> </tr> </tbody> </table> <div class="b-t flex-centered compact-pagination modal-tfoot" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="addClick()" translate="{{::buttonTitle}}"> {{::buttonTitle}} </button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel"> Close </button> </div> '
          ),
      ]);
      const Fl = Vl;
      u.module("app").directive("setControlAgents", [
        function () {
          return {
            restrict: "E",
            scope: {
              moveEnabled: "@",
              showDeleteButton: "@",
              itemsByPage: "@",
              externalShowEvent2: "=",
            },
            require: "^setControl",
            link(t, c, e, n) {
              (t.set = n),
                void 0 !== t.itemsByPage &&
                  +t.itemsByPage > 0 &&
                  (n.itemsByPage = t.itemsByPage),
                (t.onAddDialogClick = () => {
                  n.onAddDialogClick(Fl);
                }),
                t.externalShowEvent2 &&
                  (t.externalShowEvent2.add = function () {
                    n.onAddDialogClick(Fl);
                  });
            },
            templateUrl: "js/directives/set-control/set-control-agents.html",
          };
        },
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/directives/set-control/set-control-cdr.html",
            '<div ng-if="!set.prop.hide"> <div class="m-b-sm"> <button type="button" class="btn btn-sm btn-success" ng-click="onAddDialogClick()" ng-disabled="set.prop.disabled" translate="SETTINGS.CDR.LIST_BUTTONS.ADD_CDR_BTN"> <i class="halflings halflings-plus"></i> Add CDR</button> <button type="button" ng-if="showDeleteButton" class="btn btn-sm btn-default" ng-click="set.onDeleteClick()" ng-disabled="set.prop.disabled || (set.selectedCount == 0)" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-pencil"></i>Delete</button> <button type="button" class="btn btn-sm btn-default" ng-click="set.onMoveUpClick()" ng-disabled="!set.moveUpEnabled" translate="REPOS.BUTTONS.MOVE_UP_BTN" id="btnMoveUp"> <i class="fa fa-level-up"></i>Move Up</button> <button type="button" class="btn btn-sm btn-default" ng-click="set.onMoveDownClick()" ng-disabled="!set.moveDownEnabled" translate="REPOS.BUTTONS.MOVE_DOWN_BTN" id="btnMoveDown"> <i class="fa fa-level-down"></i>Move Down</button> </div> <div class="errors" ng-if="set.errorMessage"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> <span>{{set.errorMessage}}</span></li> </ul> </div> <table ng-if="set.items.length > 0" st-table="set.displayedItems" st-safe-src="set.items" class="table table-striped" st-s field-length> <thead> <tr> <th style="width:300px"></th> <th></th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="row in set.displayedItems" st-select-row="row" ng-click="set.onItemClick(row)" st-select-mode="multiple"> <td>{{::row.Name._value}}</td> <td> <form editable-form novalidate name="lengthForm" buttons="no" blur="submit" onaftersave="push(row)"> <a ng-click="lengthForm.$show(); $event.stopPropagation();" class="dashed_link" editable-number="row.Length._value" e-min="0" e-step="1" e-max="999" onbeforesave="checkInteger($data)"> {{row.Length._value | fieldLengthFilter}} </a> </form> </td> <td> <button type="button" class="btn btn-xs btn-default" mc-stop-event ng-click="set.onItemDeleteClick(row)" ng-disabled="set.prop.disabled"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> </div> '
          ),
      ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/directives/set-control/select_cdrs_modal.html",
              '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="{{::mcTitle}}"></h4> </div> <div class="modal-body"> <table st-table="displayedItems" st-safe-src="items" class="table table-striped"> <tbody> <tr ng-repeat="row in displayedItems" st-select-row="row" st-select-mode="multiple" ng-click="onExtensionClick(row)"> <td>{{::row.Name._value}}</td> </tr> </tbody> </table> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-click="addClick()"> {{::buttonTitle}} </button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close </button> </div> '
            ),
        ]),
        u.module("app").directive("setControlCdr", [
          function () {
            return {
              restrict: "E",
              scope: {},
              require: "^setControl",
              link(t, c, e, n) {
                (t.set = n),
                  (t.onAddDialogClick = () => {
                    n.onAddDialogClick(
                      "js/directives/set-control/select_cdrs_modal.html"
                    );
                  });
              },
              templateUrl: "js/directives/set-control/set-control-cdr.html",
            };
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/directives/set-control/set-control-codecs.html",
            '<div ng-if="!set.prop.hide"> <div class="m-b-sm"> <button type="button" ng-click="onAddDialogClick()" class="btn btn-sm btn-success" translate="BRIDGES.EDITOR.DIALOGS.ADD_CODECS.ADD_CODECS_BTN"> <i class="halflings halflings-plus"></i> Add codecs </button> <button type="button" ng-if="showDeleteButton" ng-disabled="set.selectedCount == 0" class="btn btn-sm btn-default" ng-click="set.onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-pencil"></i>Delete</button> <button ng-if="!set.moveDisabled" type="button" ng-disabled="!set.moveUpEnabled" class="btn btn-sm btn-default" ng-click="set.onMoveUpClick()" translate="REPOS.BUTTONS.MOVE_UP_BTN" id="btnMoveUp"> <i class="fa fa-level-up"></i> Move Up</button> <button ng-if="!set.moveDisabled" type="button" ng-disabled="!set.moveDownEnabled" class="btn btn-sm btn-default" ng-click="set.onMoveDownClick()" translate="REPOS.BUTTONS.MOVE_DOWN_BTN" id="btnMoveDown"> <i class="fa fa-level-down"></i> Move Down</button> </div> <div class="errors" ng-if="set.errorMessage"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> <span>{{set.errorMessage}}</span></li> </ul> </div> <div> <table ng-if="set.items.length > 0" st-table="set.displayedItems" st-safe-src="set.items" class="table table-striped" style="padding-top:5px" st-s> <tbody> <tr ng-repeat="row in set.displayedItems" st-load-select-row="row" ng-click="set.onItemClick(row)" st-select-mode="single"> <td>{{::row._str}}</td> <td class="col-btn"> <button type="button" ng-click="set.onItemDeleteClick(row)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> </div> </div> '
          ),
      ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/directives/set-control/select_codecs_modal.html",
              ' <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="{{::mcTitle}}"></h4> </div> <div class="modal-body"> <table st-table="displayedItems" st-safe-src="items" class="table table-striped"> <tbody> <tr ng-repeat="row in displayedItems" st-select-row="row" st-select-mode="multiple" ng-click="onExtensionClick(row)"> <td>{{::row._str}}</td> </tr> </tbody> </table> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="addClick()" translate="{{::buttonTitle}}"></button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> '
            ),
        ]),
        u.module("app").directive("setControlCodecs", [
          function () {
            return {
              restrict: "E",
              scope: {},
              require: "^setControl",
              link(t, c, e, n) {
                (t.set = n),
                  (t.onAddDialogClick = () => {
                    n.onAddDialogClick(
                      "js/directives/set-control/select_codecs_modal.html"
                    );
                  });
              },
              templateUrl: "js/directives/set-control/set-control-codecs.html",
            };
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/directives/set-control/set-control-dids.html",
            '<div ng-if="!set.prop.hide && !set.prop.disabled"> <div class="m-b-sm"> <div> <button type="button" ng-click="addDidClick()" class="btn btn-sm btn-success" translate="EXTENSIONS.EDITOR.GENERAL.SELECT_DID_BTN"></button> <button type="button" ng-if="showDeleteButton" ng-disabled="set.selectedCount == 0" class="btn btn-sm btn-default" ng-click="deleteButtonClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete" style="vertical-align:top"> <i class="halflings halflings-pencil"></i>Delete </button> <div class="errors" ng-show="showNoDidsMessage||showNoAvailableDidsMessage"> <ul> <li ng-show="showNoDidsMessage"> <span class="halflings halflings-exclamation-sign"></span> <span translate="EXTENSIONS.EDITOR.GENERAL.NO_DIDS"></span> </li> <li ng-show="showNoAvailableDidsMessage"> <span class="halflings halflings-exclamation-sign"></span> <span translate="EXTENSIONS.EDITOR.GENERAL.NO_AVAILABLE_DIDS"></span> </li> </ul> </div> </div> </div> <div class="errors" ng-if="set.errorMessage"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> <span>{{set.errorMessage}}</span></li> </ul> </div> <table style="margin-bottom:0" st-table="set.displayedItems" st-safe-src="set.items" class="table table-striped" ng-if="set.items.length > 0"> <tbody> <tr ng-repeat="row in set.displayedItems" st-select-row="row" ng-click="set.onItemClick(row)" st-select-mode="multiple"> <td>{{::row._str}}</td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="deleteDidClick(row)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> <tfoot ng-if="set.items.length > 6"> <tr> <td colspan="9" class="text-center"> <div class="compact-pagination" st-pagination="" st-items-by-page="6" st-displayed-pages="7"></div> </td> </tr> </tfoot> </table> </div> '
          ),
      ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/directives/set-control/select_dids_modal.html",
              '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="{{::mcTitle}}"></h4> </div> <div class="modal-body"> <table st-table="displayedItems" st-safe-src="items" class="table table-striped m-b-none"> <thead> <tr> <td colspan="12"><input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"></td> </tr> <tr> <th st-sort="_str" translate="INBOUND_RULES.TBL_HEADING_DID_NUMBER">DID/DDI Number</th> </tr> </thead> <tbody> <tr ng-repeat="row in displayedItems" st-select-row="row" st-select-mode="multiple" ng-click="onExtensionClick(row)"> <td>{{::row._str}}</td> </tr> </tbody> <tfoot> <tr> <td colspan="9" class="text-center" style="padding:0"> <div class="compact-pagination" st-pagination="" st-items-by-page="10" st-displayed-pages="7"></div> </td> </tr> </tfoot> </table> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="addClick()" translate="{{::buttonTitle}}"></button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> '
            ),
        ]),
        u.module("app").directive("setControlDids", [
          function () {
            return {
              restrict: "E",
              scope: {},
              require: "^setControl",
              templateUrl: "js/directives/set-control/set-control-dids.html",
              link(t, c, e, n) {
                (t.set = n),
                  (t.addDidClick = function () {
                    (t.showNoDidsMessage = !1),
                      (t.showNoAvailableDidsMessage = !1),
                      n.prop.possibleValues && 0 != n.prop.possibleValues.length
                        ? null == n.prop.selected ||
                          n.prop.possibleValues.length != n.prop.selected.length
                          ? n.onAddDialogClick(
                              "js/directives/set-control/select_dids_modal.html"
                            )
                          : (t.showNoAvailableDidsMessage = !0)
                        : (t.showNoDidsMessage = !0);
                  }),
                  (t.hideMessages = function () {
                    (t.showNoDidsMessage = !1),
                      (t.showNoAvailableDidsMessage = !1);
                  }),
                  (t.deleteDidClick = function (i) {
                    t.hideMessages(), n.onItemDeleteClick(i);
                  }),
                  (t.deleteButtonClick = function () {
                    t.hideMessages(), n.onDeleteClick();
                  });
              },
            };
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/directives/set-control/set-control-email.html",
            '<div ng-if="!set.prop.hide"> <div class="m-b-sm"> <button type="button" ng-click="onAddDialogClick()" class="btn btn-sm btn-success" translate="CONTACTS.DIALOGS.EXCHANGE.ADD_EMAIL_BTN"> <i class="halflings halflings-plus"></i>Select E-Mail</button> <button type="button" ng-if="showDeleteButton" ng-if="showDeleteButton" ng-disabled="set.selectedCount == 0" class="btn btn-sm btn-default" ng-click="set.onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"><i class="halflings halflings-pencil"></i>Delete</button> </div> <div class="errors" ng-if="set.errorMessage"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> <span>{{set.errorMessage}}</span></li> </ul> </div> <table style="margin-bottom:0" st-table="set.displayedItems" st-safe-src="set.items" class="table table-striped" ng-if="set.items.length > 0"> <tbody> <tr ng-repeat="row in set.displayedItems" st-select-row="row" ng-click="set.onItemClick(row)" st-select-mode="multiple"> <td>{{::row.Name._value}}</td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="set.onItemDeleteClick(row)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> <tfoot> <tr> <td colspan="9" class="text-center"> <div class="compact-pagination" st-pagination="" st-items-by-page="6" st-displayed-pages="7"></div> </td> </tr> </tfoot> </table> </div> '
          ),
      ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/directives/set-control/select_emails_modal.html",
              '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="{{::mcTitle}}"></h4> </div> <div class="modal-body"> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input ng-model="searchText" st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped"> <thead> <tr> <th st-sort="Name._value" translate="CONTACTS.DIALOGS.EXCHANGE.EMAILS_TO_ADD" ng-hide="displayedItems.length==0">E-Mails to add</th> <th st-sort="Name._value" translate="CONTACTS.DIALOGS.EXCHANGE.NO_EMAILS_LEFT" ng-if="!searchText" ng-hide="displayedItems.length!=0">No more e-mails</th> <th st-sort="Name._value" translate="CONTACTS.DIALOGS.EXCHANGE.CAN_T_FIND_ANY" ng-if="searchText" ng-hide="displayedItems.length!=0">Can\'t find any</th> </tr> </thead> <tbody> <tr ng-repeat="row in displayedItems" st-select-row="row" st-select-mode="multiple" ng-click="onExtensionClick(row)"> <td>{{::row.Name._value}}</td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" translate="REPOS.BUTTONS.OK_BTN" id="btnOk" ng-click="addClick()">{{::buttonTitle}}</button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> '
            ),
        ]),
        u.module("app").directive("setControlEmail", [
          function () {
            return {
              restrict: "E",
              scope: {},
              require: "^setControl",
              link(t, c, e, n) {
                (t.set = n),
                  (t.onAddDialogClick = () => {
                    n.onAddDialogClick(
                      "js/directives/set-control/select_emails_modal.html"
                    );
                  });
              },
              templateUrl: "js/directives/set-control/set-control-email.html",
            };
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/directives/set-control/set-control-extensions.html",
            '<div ng-if="!set.prop.hide"> <div class="m-b-sm"> <button type="button" ng-if="!externalShowEvent" ng-disabled="set.prop.disabled" ng-click="onAddDialogClick()" class="btn btn-sm btn-success" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"><i class="halflings halflings-plus"></i> Add</button> <button type="button" ng-if="showDeleteButton" ng-disabled="set.prop.disabled || set.selectedCount == 0" class="btn btn-sm btn-default" ng-click="set.onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"><i class="halflings halflings-pencil"></i>Delete</button> <button type="button" ng-if="moveEnabled === \'true\'" ng-disabled="!set.moveUpEnabled" class="btn btn-sm btn-default" ng-click="set.onMoveUpClick()" translate="REPOS.BUTTONS.MOVE_UP_BTN" id="btnMoveUp"> <i class="fa fa-level-up"></i> Move Up</button> <button type="button" ng-if="moveEnabled === \'true\'" ng-disabled="!set.moveDownEnabled" class="btn btn-sm btn-default" ng-click="set.onMoveDownClick()" translate="REPOS.BUTTONS.MOVE_DOWN_BTN" id="btnMoveDown"> <i class="fa fa-level-down"></i> Move Down</button> </div> <div class="errors" ng-if="set.errorMessage"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> <span>{{set.errorMessage}}</span></li> </ul> </div> <table st-table="set.displayedItems" st-safe-src="set.items" class="table table-striped" st-s ng-if="set.items.length > 0"> <thead> <tr> <th class="col-ext" st-sort="{{sortDisable? \'\' : \'Number._value\'}}" translate="REPOS.TEXT.EXTENSION">Extension</th> <th st-sort="{{sortDisable? \'\' : \'FirstName._value\'}}" translate="REPOS.TEXT.FIRST_NAME">First Name</th> <th st-sort="{{sortDisable? \'\' : \'LastName._value\'}}" translate="REPOS.TEXT.LAST_NAME">Last Name</th> <th ng-if="showRole" st-sort="{{sortDisable? \'\' : \'Role\'}}" translate="EXTENSION_GROUPS.ROLE">Role</th> <th ng-if="showMembership" st-sort="{{sortDisable? \'\' : \'Membership._value\'}}" translate="EXTENSION_GROUPS.MEMBERSHIP">Membership</th> <th ng-if="skillGroup" st-sort="{{sortDisable? \'\' : \'Membership._value\'}}" translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SKILL_GROUP_HEADER">Skill Group</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="row in set.displayedItems | limitTo:set.itemsByPage" st-select-row="row" ng-click="set.onItemClick(row)" st-select-mode="multiple"> <td lass="col-ext">{{::row.Number._value}}</td> <td>{{::row.FirstName._value}}</td> <td>{{::row.LastName._value}}</td> <td ng-if="showRole" translate="enum.{{::row.RoleType.selected}}"></td> <td ng-if="showMembership">{{::row.Membership._value}}</td> <td ng-if="skillGroup" mc-stop-event=""> <select class="form-control" ng-model="row.SkillGroup.value" ng-model-options="{getterSetter: true}"> <option value="1">1</option> <option value="2">2</option> <option value="3">3</option> <option value="4">4</option> <option value="5">5</option> </select> </td> <td> <button type="button" mc-stop-event ng-click="set.onItemDeleteClick(row)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> <tfoot> <tr> <td colspan="9" class="text-center" ng-show="set.items.length > set.itemsByPage"> <div st-pagination="" st-items-by-page="set.itemsByPage" st-displayed-pages="7" id="pagerId"></div> </td> </tr> </tfoot> </table> </div> '
          ),
      ]);
      const er = "js/directives/set-control/select_extensions_modal.html";
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            er,
            '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="{{::mcTitle}}"></h4> </div> <div class="modal-body"> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" ng-init="inputSearch=\'\'" ng-model="inputSearch" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped table-fixed m-b-none" mc-select-items> <thead> <tr> <th class="col-btn" mc-select-all></th> <th class="col-ext" st-sort="Number._value" translate="REPOS.TEXT.EXTENSION">Extension</th> <th st-sort="FirstName._value" translate="REPOS.TEXT.FIRST_NAME">First Name</th> <th st-sort="LastName._value" translate="REPOS.TEXT.LAST_NAME">Last Name</th> </tr> </thead> <tbody> <tr ng-repeat="row in displayedItems"> <td class="col-btn" mc-select-row="row" mc-select-target="parent"></td> <td class="col-ext">{{::row.Number._value}}</td> <td>{{::row.FirstName._value}}</td> <td>{{::row.LastName._value}}</td> </tr> </tbody> </table> <div class="b-t flex-centered compact-pagination modal-tfoot" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="addClick()" translate="{{::buttonTitle}}"> {{::buttonTitle}} </button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel"> Close </button> </div> '
          ),
      ]);
      const tr = er;
      u.module("app").directive("setControlExtensions", [
        function () {
          return {
            restrict: "E",
            scope: {
              showMembership: "@",
              moveEnabled: "@",
              showRole: "@",
              sortDisable: "<",
              showDeleteButton: "@",
              itemsByPage: "@",
              externalShowEvent: "=",
              skillGroup: "<",
            },
            require: "^setControl",
            link(t, c, e, n) {
              (t.set = n),
                (t.onAddDialogClick = () => {
                  n.onAddDialogClick(tr);
                }),
                t.externalShowEvent &&
                  (t.externalShowEvent.add = function () {
                    n.onAddDialogClick(tr);
                  }),
                void 0 !== t.itemsByPage &&
                  +t.itemsByPage > 0 &&
                  (n.itemsByPage = t.itemsByPage);
            },
            templateUrl:
              "js/directives/set-control/set-control-extensions.html",
          };
        },
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/directives/set-control/set-control-groups.html",
            '<div ng-if="!set.prop.hide"> <div class="m-b-sm"> <button type="button" ng-if="!externalShowEvent" ng-disabled="set.prop.disabled" ng-click="onAddDialogClick()" class="btn btn-sm btn-success" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"><i class="halflings halflings-plus"></i> Add</button> <button type="button" ng-if="showDeleteButton" ng-disabled="set.prop.disabled || set.selectedCount == 0" class="btn btn-sm btn-default" ng-click="set.onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"><i class="halflings halflings-pencil"></i>Delete</button> </div> <div class="errors" ng-if="set.errorMessage"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> <span>{{set.errorMessage}}</span></li> </ul> </div> <div> <table st-table="set.displayedItems" st-safe-src="set.items" class="table table-striped" st-s ng-if="set.items.length > 0"> <tbody> <tr ng-repeat="row in set.displayedItems | limitTo:set.itemsByPage" st-select-row="row" ng-click="set.onItemClick(row)" st-select-mode="multiple"> <td>{{::row.Name._value}}</td> <td class="text-right col-btn"> <button type="button" ng-disabled="disableDeleteButton" ng-click="set.onItemDeleteClick(row)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> <tfoot> <tr> <td colspan="9" class="text-center"> <div st-pagination="" st-items-by-page="set.itemsByPage" st-displayed-pages="7"></div> </td> </tr> </tfoot> </table> </div> </div> '
          ),
      ]);
      const ir = "js/directives/set-control/select_groups_modal.html";
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            ir,
            '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="{{::mcTitle}}"></h4> </div> <div class="modal-body"> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" ng-init="inputSearch=\'\'" ng-model="inputSearch" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped table-fixed" mc-select-items> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="Name._value" translate="OUTBOUND_RULES.DIALOGS.ADD_GROUP.TBL_HEADING_GROUP_NAME">Group name</th> </tr> </thead> <tbody> <tr ng-repeat="row in displayedItems"> <td class="col-btn" mc-select-row="row" mc-select-target="parent"></td> <td>{{::row.Name._value}}</td> </tr> </tbody> </table> <div class="b-t flex-centered compact-pagination modal-tfoot" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="addClick()" translate="{{::buttonTitle}}"></button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> '
          ),
      ]);
      const ar = ir;
      u.module("app").directive("setControlGroups", [
        function () {
          return {
            restrict: "E",
            scope: { externalShowEvent: "=", disableDeleteButton: "<" },
            require: "^setControl",
            link(t, c, e, n) {
              (t.set = n),
                (t.onAddDialogClick = () => {
                  n.onAddDialogClick(ar);
                }),
                t.externalShowEvent &&
                  (t.externalShowEvent.add = function () {
                    n.onAddDialogClick(ar);
                  });
            },
            templateUrl: "js/directives/set-control/set-control-groups.html",
          };
        },
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/directives/set-control/set-control-queues.html",
            '<div ng-if="!set.prop.hide"> <div class="m-b-sm"> <button type="button" ng-if="!externalShowEvent" ng-disabled="set.prop.disabled" ng-click="onAddDialogClick()" class="btn btn-sm btn-success" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"><i class="halflings halflings-plus"></i> Add</button> <button type="button" ng-if="showDeleteButton" ng-disabled="set.prop.disabled || set.selectedCount == 0" class="btn btn-sm btn-default" ng-click="set.onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"><i class="halflings halflings-pencil"></i>Delete</button> </div> <div class="errors" ng-if="set.errorMessage"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> <span>{{set.errorMessage}}</span></li> </ul> </div> <table st-table="set.displayedItems" st-safe-src="set.items" class="table table-striped" st-s ng-if="set.items.length > 0"> <tbody> <tr ng-repeat="row in set.displayedItems | limitTo:set.itemsByPage" st-select-row="row" ng-click="set.onItemClick(row)" st-select-mode="multiple"> <td>{{::row.Name._value}}</td> <td class="text-right"> <button type="button" ng-click="set.onItemDeleteClick(row)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> <tfoot> <tr> <td colspan="9" class="text-center"> <div st-pagination="" st-items-by-page="set.itemsByPage" st-displayed-pages="7"></div> </td> </tr> </tfoot> </table> </div> '
          ),
      ]);
      const or = "js/directives/set-control/select_queues_modal.html";
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            or,
            '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="{{::mcTitle}}"></h4> </div> <div class="modal-body"> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" ng-init="inputSearch=\'\'" ng-model="inputSearch" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped table-fixed" mc-select-items> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="Name._value" translate="CALL_QUEUES.TBL_HEADING_QUEUE_NAME">Queue name</th> </tr> </thead> <tbody> <tr ng-repeat="row in displayedItems"> <td class="col-btn" mc-select-row="row" mc-select-target="parent"></td> <td>{{::row.Name._value}}</td> </tr> </tbody> </table> <div class="b-t flex-centered compact-pagination modal-tfoot" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="addClick()" translate="{{::buttonTitle}}"></button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> '
          ),
      ]);
      const lr = or;
      u.module("app").directive("setControlQueues", [
        function () {
          return {
            restrict: "E",
            scope: { externalShowEvent: "=" },
            require: "^setControl",
            link(t, c, e, n) {
              (t.set = n),
                (t.onAddDialogClick = () => {
                  n.onAddDialogClick(lr);
                }),
                t.externalShowEvent &&
                  (t.externalShowEvent.add = function () {
                    n.onAddDialogClick(lr);
                  });
            },
            templateUrl: "js/directives/set-control/set-control-queues.html",
          };
        },
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/directives/set-control/set-control-trunks.html",
            '<div ng-if="!set.prop.hide"> <div class="m-b-sm"> <button type="button" ng-if="!externalShowEvent" ng-disabled="set.prop.disabled" ng-click="onAddDialogClick()" class="btn btn-sm btn-success" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"><i class="halflings halflings-plus"></i> Add</button> <button type="button" ng-if="showDeleteButton" ng-disabled="set.prop.disabled || set.selectedCount == 0" class="btn btn-sm btn-default" ng-click="set.onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"><i class="halflings halflings-pencil"></i>Delete</button> </div> <div class="errors" ng-if="set.errorMessage"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> <span>{{set.errorMessage}}</span></li> </ul> </div> <table st-table="set.displayedItems" st-safe-src="set.items" class="table table-striped" st-s ng-if="set.items.length > 0"> <tbody> <tr ng-repeat="row in set.displayedItems | limitTo:set.itemsByPage" st-select-row="row" ng-click="set.onItemClick(row)" st-select-mode="multiple"> <td>{{::row.Name._value}}</td> <td class="text-right"> <button type="button" ng-click="set.onItemDeleteClick(row)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> <tfoot> <tr> <td colspan="9" class="text-center"> <div st-pagination="" st-items-by-page="set.itemsByPage" st-displayed-pages="7"></div> </td> </tr> </tfoot> </table> </div> '
          ),
      ]);
      const cr = "js/directives/set-control/select_trunks_modal.html";
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            cr,
            '<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()">&times;</button> <h4 class="modal-title" translate="{{::mcTitle}}"></h4> </div> <div class="modal-body"> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" ng-init="inputSearch=\'\'" ng-model="inputSearch" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped table-fixed" mc-select-items> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="Name._value" translate="TRUNKS_GATEWAY.TBL_HEADING_TRUNK_NAME">Trunk name</th> </tr> </thead> <tbody> <tr ng-repeat="row in displayedItems"> <td class="col-btn" mc-select-row="row" mc-select-target="parent"></td> <td>{{::row.Name._value}}</td> </tr> </tbody> </table> <div class="b-t flex-centered compact-pagination modal-tfoot" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="addClick()" translate="{{::buttonTitle}}"></button> <button type="button" class="btn btn-default" ng-click="$dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Close</button> </div> '
          ),
      ]);
      const dr = cr;
      function pr(t, c) {
        t.push(...c);
      }
      u.module("app").directive("setControlTrunks", [
        function () {
          return {
            restrict: "E",
            scope: { externalShowEvent: "=" },
            require: "^setControl",
            link(t, c, e, n) {
              (t.set = n),
                (t.onAddDialogClick = () => {
                  n.onAddDialogClick(dr);
                }),
                t.externalShowEvent &&
                  (t.externalShowEvent.add = function () {
                    n.onAddDialogClick(dr);
                  });
            },
            templateUrl: "js/directives/set-control/set-control-trunks.html",
          };
        },
      ]),
        u.module("app").controller("SetControlCtrl", [
          "$scope",
          "$uibModalInstance",
          "possibleValues",
          "mcTitle",
          "buttonTitle",
          function (t, c, e, n, i) {
            (t.itemsByPage = 10),
              (t.items = e),
              (t.displayedItems = [].concat(t.items)),
              (t.mcTitle = n),
              (t.buttonTitle = i),
              (t.isSelectAllChecked = !1),
              (t.addClick = function () {
                c.close(
                  t.items.filter(function (a) {
                    return a.isSelected;
                  })
                );
              }),
              (t.selectNoneClick = function () {
                t.items.forEach(function (a) {
                  a.isSelected = !1;
                });
              }),
              (t.onRowClick = function () {
                t.isSelectAllChecked = t.items.some((a) => a.isSelected);
              }),
              (t.selectAllClick = function () {
                t.items.forEach((a) => (a.isSelected = t.isSelectAllChecked));
              });
          },
        ]);
      let oL = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$scope = e),
              (this.$element = n),
              (this.$uibModal = i),
              (this.$translate = a),
              (this.itemsByPage = 10),
              (this.items = []),
              (this.displayedItems = []),
              (this.selectedCount = 0),
              (this.moveUpEnabled = !1),
              (this.moveDownEnabled = !1);
          }
          $onInit() {
            this.$scope.$watch("$ctrl.prop.selected", () => this.load()),
              (this.$scope.elem = this.$element),
              this.hasResetErrorsSignal &&
                this.$scope.$watch("$ctrl.resetErrorsSignal", () => {
                  (this.errorMsg = null), this.resetErrors();
                }),
              this.$scope.$watch(
                this.hasSeparateErrorMsg
                  ? "$ctrl.errorMsg"
                  : "$ctrl.prop.errorMsg",
                (n) => (this.errorMessage = n)
              ),
              this.$scope.$watch("$ctrl.prop.triggerError", (n) => {
                n &&
                  (this.$scope.elem[0].scrollIntoView(),
                  (this.prop.triggerError = !1));
              });
          }
          restoreSelection(e, n) {
            null == e ||
              null == n ||
              (e.forEach((i) => {
                if (i.isSelected) {
                  const a = n.find((l) => l.Id == i.Id);
                  null != a && (a.isSelected = !0);
                }
              }),
              this.selectionChanged());
          }
          save() {
            const e = this.items.map((n) => n.Id);
            this.prop.value(e);
          }
          load() {
            const e = this.prop;
            if (null == e || null == e.selected || null == e.possibleValues)
              return;
            const n = [].concat(this.items),
              i = e.selected.map((a) =>
                u.copy(e.possibleValues.find((l) => l.Id == a))
              );
            (this.items.length = 0),
              pr(this.items, i),
              this.restoreSelection(n, this.items),
              (this.displayedItems.length = 0),
              pr(this.displayedItems, this.items);
          }
          resetErrors() {
            this.errorMessage = void 0;
          }
          selectionChanged() {
            const e = this.items.filter((n) => n.isSelected);
            if (((this.selectedCount = e.length), 1 != this.selectedCount))
              (this.moveUpEnabled = !1), (this.moveDownEnabled = !1);
            else {
              const n = this.items.indexOf(e[0]);
              (this.moveUpEnabled = n > 0),
                (this.moveDownEnabled = n < this.items.length - 1);
            }
          }
          deleteItem(e) {
            const n = this.items.indexOf(e);
            -1 !== n && (this.items.splice(n, 1), (this.errorMessage = void 0));
          }
          getFirstSelectedIndex() {
            const e = this.items;
            for (const [n, i] of e.entries()) if (i.isSelected) return n;
            return -1;
          }
          move(e, n, i) {
            return (
              i >= e.length && (i = e.length - 1),
              e.splice(i, 0, e.splice(n, 1)[0]),
              (function sL(t) {
                const e = u.element(z()("#pagerId")).isolateScope();
                void 0 !== e && void 0 !== e.selectPage && e.selectPage(t);
              })(Number.parseInt("" + i / this.itemsByPage + 1, 10)),
              e
            );
          }
          onItemClick() {
            return this.selectionChanged();
          }
          onDeleteClick() {
            this.items
              .filter((n) => n.isSelected)
              .forEach((n) => this.deleteItem(n)),
              this.selectionChanged(),
              this.save();
          }
          onItemDeleteClick(e) {
            this.deleteItem(e), this.selectionChanged(), this.save();
          }
          onMoveUpClick() {
            const e = this.getFirstSelectedIndex();
            e < 1 || (this.move(this.items, e, e - 1), this.save());
          }
          onMoveDownClick() {
            const e = this.getFirstSelectedIndex();
            e < 0 ||
              e > this.items.length - 1 ||
              (this.move(this.items, e, e + 1), this.save());
          }
          filterNotSelected(e) {
            return -1 == z().inArray(e.Id, this.prop.selected);
          }
          onAddDialogClick(e, n) {
            const i = this.prop.possibleValues.filter((a) =>
              this.filterNotSelected(a)
            );
            0 != i.length
              ? this.$uibModal
                  .open({
                    size: n || "md",
                    templateUrl: e,
                    backdrop: "static",
                    resolve: {
                      possibleValues: () => {
                        const a = u.copy(i);
                        return (
                          a.forEach((l) => {
                            l.FirstName &&
                              l.LastName &&
                              l.FirstName._value &&
                              l.LastName._value &&
                              (l.FullName =
                                l.FirstName._value + " " + l.LastName._value);
                          }),
                          a
                        );
                      },
                      mcTitle: () => this.mcTitle,
                      buttonTitle: () => this.buttonTitle,
                    },
                    controller: "SetControlCtrl",
                  })
                  .result.then((a) => {
                    const l = this.prop.selected.concat(
                      a
                        .filter((s) => this.filterNotSelected(s))
                        .map((s) => s.Id)
                    );
                    this.prop.value(l);
                  })
                  .catch(() => u.noop())
              : (this.errorMessage = this.$translate.instant(
                  "SET_CONTROL.NO_MORE_ELEMENTS_TO_ADD"
                ));
          }
        }
        return (
          (t.$inject = ["$scope", "$element", "$uibModal", "$translate"]), t
        );
      })();
      u.module("app").component("setControl", {
        bindings: {
          moveDisabled: "<",
          prop: "<",
          mcTitle: "@",
          buttonTitle: "@",
          resetErrorsSignal: "=",
          hasResetErrorsSignal: "@resetErrorsSignal",
          errorMsg: "=",
          hasSeparateErrorMsg: "@errorMsg",
        },
        controller: oL,
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/directives/paged-set-control/mc-extensions.component.html",
            '<div ng-if="!$ctrl.prop.hide"> <div class="m-b-sm" style="display:flex;align-content:stretch"> <div style="flex:1"> <button type="button" ng-if="!$ctrl.externalShowEvent" ng-disabled="$ctrl.prop.disabled" ng-click="$ctrl.onAddDialogClick()" class="btn btn-sm btn-success" translate="REPOS.BUTTONS.ADD_BTN" id="btnAdd"><i class="halflings halflings-plus"></i> Add</button> <button type="button" ng-disabled="$ctrl.isDeleteAllDisabled" class="btn btn-sm btn-default" ng-click="$ctrl.onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"><i class="halflings halflings-pencil"></i>Delete</button> <button type="button" ng-if="$ctrl.moveEnabled" ng-disabled="!$ctrl.select.isOneSelected || $ctrl.search" class="btn btn-sm btn-default" ng-click="$ctrl.onMoveUpClick()" translate="REPOS.BUTTONS.MOVE_UP_BTN" id="btnMoveUp"> <i class="fa fa-level-up"></i> Move Up</button> <button type="button" ng-if="$ctrl.moveEnabled" ng-disabled="!$ctrl.select.isOneSelected || $ctrl.search" class="btn btn-sm btn-default" ng-click="$ctrl.onMoveDownClick()" translate="REPOS.BUTTONS.MOVE_DOWN_BTN" id="btnMoveDown"> <i class="fa fa-level-down"></i> Move Down</button> </div> <selection-stat mc-source="$ctrl"></selection-stat> </div> <div class="errors" ng-if="$ctrl.prop.errorMsg"> <ul> <li><span class="halflings halflings-exclamation-sign"></span> <span>{{$ctrl.prop.errorMsg}}</span></li> </ul> </div> <input ng-if="!$ctrl.prop.isNothingSelected" ng-disabled="$ctrl.prop.disabled" ng-model="$ctrl.search" ng-model-options="{getterSetter: true}" data-id="inputSearchSelected" class="form-control m-b-sm" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> <div ng-if="!$ctrl.prop.isNothingSelected" st-table="$ctrl.prop.selected" st-pipe="$ctrl.loadData()"> <table class="table table-striped table-fixed"> <thead> <tr> <th class="col-btn"> <label class="mc-select"> <input type="checkbox" ng-model="$ctrl.selectAll" ng-model-options="{getterSetter: true}"> <i></i> </label> </th> <th st-sort="{{$ctrl.sortDisable? \'\' : \'Number\'}}" translate="REPOS.TEXT.EXTENSION">Extension</th> <th ng-if="$ctrl.showName" st-sort="{{$ctrl.sortDisable? \'\' : \'FirstName\'}}" translate="REPOS.TEXT.NAME">Name</th> <th ng-if="!$ctrl.showName" st-sort="{{$ctrl.sortDisable? \'\' : \'FirstName\'}}" translate="REPOS.TEXT.FIRST_NAME">First Name</th> <th ng-if="!$ctrl.showName" st-sort="{{$ctrl.sortDisable? \'\' : \'LastName\'}}" translate="REPOS.TEXT.LAST_NAME">Last Name</th> <th ng-if="$ctrl.showRole" st-sort="{{$ctrl.sortDisable? \'\' : \'RoleType\'}}" translate="EXTENSION_GROUPS.ROLE">Role</th> <th ng-if="$ctrl.showMembership" st-sort="{{$ctrl.sortDisable? \'\' : \'Membership\'}}" translate="EXTENSION_GROUPS.MEMBERSHIP">Membership</th> <th ng-if="$ctrl.showEmail" st-sort="{{$ctrl.sortDisable? \'\' : \'Email\'}}" translate="REPOS.TEXT.EMAIL">Email</th> <th ng-if="$ctrl.skillGroup" st-sort="{{$ctrl.sortDisable? \'\' : \'Membership\'}}" translate="TRUNKS_GATEWAY.DIALOGS.EDIT_SBC.SKILL_GROUP_HEADER">Skill Group</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-repeat="row in $ctrl.prop.selected"> <td mc-paged-select-row="row" mc-select-target="parent" mc-select="$ctrl.select"> </td> <td>{{::$ctrl.present(row.Number)}}</td> <td>{{::$ctrl.present(row.FirstName)}}</td> <td ng-if="!$ctrl.showName">{{::$ctrl.present(row.LastName)}}</td> <td ng-if="$ctrl.showRole" translate="{{\'UserRights.\' + row.RoleType._value}}"></td> <td ng-if="$ctrl.showMembership">{{::row.Membership._value}}</td> <td ng-if="$ctrl.showEmail">{{::row.Email._value}}</td> <td ng-if="$ctrl.skillGroup" mc-stop-event=""> <select class="form-control" ng-model="row.SkillGroup.value" ng-model-options="{getterSetter: true}"> <option value="1">1</option> <option value="2">2</option> <option value="3">3</option> <option value="4">4</option> <option value="5">5</option> </select> </td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="$ctrl.onItemDeleteClick(row.Id)" class="btn btn-xs btn-default" ng-disabled="$ctrl.prop.disabled || (row.Disabled && row.Disabled._value)"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="$ctrl.prop.itemsByPage" st-displayed-pages="7" id="pagerId" ng-if="!$ctrl.prop.disabled"></div> </div> </div> '
          ),
      ]);
      class en {
        constructor(c) {
          Object.assign(this, c);
        }
      }
      function hr(t, c) {
        var e, n;
        return {
          Start: t.pagination.start,
          SortBy: null !== (e = t.sort.predicate) && void 0 !== e ? e : null,
          Reverse: null !== (n = t.sort.reverse) && void 0 !== n && n,
          Search: c,
        };
      }
      function gr(t, c, e) {
        t
          ? e.prop
              .getIds(e.search, c)
              .then((n) => {
                e.select.selectAllById(n.data);
              })
              .catch(u.noop)
          : (e.select.highlightIsAllSelected = t);
      }
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/directives/paged-set-control/select-extensions-modal.component.html",
              '<div class="modal-header"> <button type="button" class="close" ng-click="$ctrl.dismiss()">&times;</button> <h4 class="modal-title">{{$ctrl.dialogTitle|translate}}</h4> </div> <div class="modal-body"> <input ng-model="$ctrl.search" ng-model-options="{getterSetter: true}" id="inputSearch" class="form-control m-t-xs" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> <selection-stat mc-source="$ctrl"></selection-stat> <div st-table="$ctrl.displayedItems" st-pipe="$ctrl.loadData()"> <table class="table table-striped table-fixed"> <thead> <tr> <th class="col-btn"> <label class="mc-select"> <input type="checkbox" ng-model="$ctrl.selectAll" ng-model-options="{getterSetter: true}"> <i></i> </label> </th> <th st-sort="Number" translate="REPOS.TEXT.EXTENSION">Extension</th> <th ng-if="$ctrl.showName" st-sort="FirstName" translate="REPOS.TEXT.NAME">Name</th> <th ng-if="!$ctrl.showName" st-sort="FirstName" translate="REPOS.TEXT.FIRST_NAME">First Name</th> <th ng-if="!$ctrl.showName" st-sort="LastName" translate="REPOS.TEXT.LAST_NAME">Last Name</th> <th ng-if="$ctrl.showEmail" st-sort="Email" translate="REPOS.TEXT.EMAIL">Email</th> </tr> </thead> <tbody> <tr ng-repeat="row in $ctrl.displayedItems"> <td mc-paged-select-row="row" mc-select-target="parent" mc-select="$ctrl.select"> </td> <td>{{::$ctrl.present(row.Number)}}</td> <td>{{::$ctrl.present(row.FirstName)}}</td> <td ng-if="!$ctrl.showName">{{::$ctrl.present(row.LastName)}}</td> <td ng-if="$ctrl.showEmail">{{::$ctrl.present(row.Email)}}</td> </tr> </tbody> </table> <div class="b-t flex-centered modal-tfoot compact-pagination" st-pagination="" st-items-by-page="$ctrl.itemsByPage" st-displayed-pages="7"></div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-disabled="$ctrl.select.isNothingSelected" ng-click="$ctrl.close({$value: $ctrl.current})" translate="REPOS.BUTTONS.OK_BTN">Ok</button> <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate="REPOS.BUTTONS.CANCEL_BTN" id="btnCancel">Cancel</button> </div> '
            ),
        ]),
        u.module("app").component("selectExtensionsModal", {
          bindings: { resolve: "<", close: "&", dismiss: "&" },
          controller: class pL {
            constructor() {
              (this.select = new on()),
                (this.itemsByPage = 10),
                (this.search$ = new xt.X("")),
                (this.stTableState$ = new St.t(1)),
                (this.displayedItems = []),
                (this.loadDataImpl = (c) => {
                  (this.stTableState = c), this.stTableState$.next(c);
                });
            }
            get selectedCount() {
              return this.select.current.Ids.size;
            }
            get selectAll() {
              return this.select.highlightIsAllSelected;
            }
            set selectAll(c) {
              gr(c, !0, this);
            }
            get current() {
              return {
                Ids: Array.from(this.select.current.Ids),
                IsAllSelected: !1,
                Search: "",
              };
            }
            get search() {
              return this.search$.getValue();
            }
            set search(c) {
              this.search$.next(c);
            }
            loadData() {
              return this.loadDataImpl;
            }
            present(c) {
              return "object" == typeof c && null !== c ? c._value : c;
            }
            $onInit() {
              (this.showEmail = this.resolve.showEmail),
                (this.showName = this.resolve.showName),
                (this.prop = this.resolve.prop),
                (this.dialogTitle = this.resolve.dialogTitle),
                (this.searchSubscription = this.search$
                  .pipe(
                    Wt(),
                    (0, it.w)((c) =>
                      this.stTableState$.pipe(
                        (0, it.w)(
                          (e, n) => (
                            0 === n && (e.pagination.start = 0),
                            (0, Lt.D)(
                              this.prop.getPossibleValues(
                                hr(e, c),
                                this.itemsByPage
                              )
                            )
                          )
                        )
                      )
                    )
                  )
                  .subscribe((c) => {
                    (this.displayedItems = c.data.PossibleValues),
                      (this.count = c.data.Count),
                      (this.select.items = this.displayedItems),
                      (this.stTableState.pagination.totalItemCount =
                        c.data.Count),
                      (this.stTableState.pagination.numberOfPages = Math.ceil(
                        c.data.Count / this.itemsByPage
                      ));
                  }));
            }
            $onDestroy() {
              this.searchSubscription.unsubscribe();
            }
          },
          templateUrl:
            "js/directives/paged-set-control/select-extensions-modal.component.html",
        });
      let hL = (() => {
        class t {
          constructor(e, n, i, a, l) {
            (this.$scope = e),
              (this.$uibModal = n),
              (this.$translate = i),
              (this.$timeout = a),
              (this.$element = l),
              (this.select = new on()),
              (this.stTableState$ = new St.t(1)),
              (this.search$ = new xt.X("")),
              (this.tableStateRestored = !1),
              (this.loadDataImpl = (s) => {
                (this.stTableState = s), this.stTableState$.next(s);
              }),
              this.$scope.$watch("$ctrl.prop.selected", () => {
                this.prop && (this.select.items = this.prop.selected),
                  this.onPropertyChanged();
              }),
              this.$scope.$watch("$ctrl.prop.triggerError", (s) => {
                s &&
                  (this.$element[0].scrollIntoView(),
                  (this.prop.triggerError = !1));
              });
          }
          get count() {
            var e;
            return null === (e = this.prop) || void 0 === e ? void 0 : e.count;
          }
          get search() {
            return this.search$.getValue();
          }
          set search(e) {
            this.search$.next(e);
          }
          get isDeleteAllDisabled() {
            return (
              !this.prop || this.prop.disabled || this.select.isNothingSelected
            );
          }
          get selectAll() {
            return this.select.highlightIsAllSelected;
          }
          set selectAll(e) {
            gr(e, !1, this);
          }
          $onInit() {
            this.searchSubscription = (0, It.a)([
              this.search$.pipe(Wt()),
              this.stTableState$,
            ]).subscribe(([e, n]) => {
              this.$timeout(() => {
                if (!this.prop || !this.prop.state) return;
                const i = hr(n, e);
                this.tableStateRestored &&
                !((t, c) => {
                  try {
                    const e = (n) =>
                      Object.entries(n)
                        .sort()
                        .map(
                          (i) => (i[1] instanceof Object && (i[1] = e(i[1])), i)
                        );
                    return JSON.stringify(e(t)) === JSON.stringify(e(c));
                  } catch (e) {
                    return !0;
                  }
                })(this.prop.state, i)
                  ? this.prop.value(new en({ State: i }))
                  : this.onPropertyChanged();
              });
            });
          }
          $onDestroy() {
            this.searchSubscription.unsubscribe();
          }
          onDeleteClick() {
            this.prop.value(
              new en({
                Delete: {
                  IsAllSelected: !1,
                  Search: "",
                  Ids: Array.from(this.select.current.Ids),
                },
              })
            ),
              (this.select.highlightIsAllSelected = !1);
          }
          onMoveUpClick() {
            this.prop.value(
              new en({
                Move: {
                  MoveUp: !0,
                  Id: Array.from(this.select.current.Ids)[0],
                },
              })
            );
          }
          onMoveDownClick() {
            this.prop.value(
              new en({
                Move: {
                  MoveUp: !1,
                  Id: Array.from(this.select.current.Ids)[0],
                },
              })
            );
          }
          onItemDeleteClick(e) {
            this.prop.value(
              new en({ Delete: { IsAllSelected: !1, Search: "", Ids: [e] } })
            ),
              (this.select.highlightIsAllSelected = !1);
          }
          loadData() {
            return this.loadDataImpl;
          }
          present(e) {
            return "object" == typeof e && null !== e ? e._value : e;
          }
          get selectedCount() {
            return this.select.current.Ids.size;
          }
          onPropertyChanged() {
            if (
              !this.prop ||
              ((this.search = this.prop.state.Search || ""), !this.stTableState)
            )
              return;
            const e = this.stTableState.pagination,
              n = this.stTableState.sort;
            (e.start = this.prop.state.Start),
              (e.number = this.prop.itemsByPage),
              (e.totalItemCount = this.prop.count),
              (e.numberOfPages = Math.ceil(
                this.prop.count / this.prop.itemsByPage
              )),
              (n.predicate = this.prop.state.SortBy),
              (n.reverse = this.prop.state.Reverse),
              (this.tableStateRestored = !0);
          }
          onAddDialogClick() {
            this.prop.isAllSelected
              ? (this.prop.errorMsg = this.$translate.instant(
                  "SET_CONTROL.NO_MORE_ELEMENTS_TO_ADD"
                ))
              : this.$uibModal
                  .open({
                    size: "lg",
                    component: "selectExtensionsModal",
                    backdrop: "static",
                    resolve: {
                      showName: () => this.showName,
                      showEmail: () => this.showEmail,
                      prop: () => this.prop,
                      dialogTitle: () => this.dialogTitle,
                    },
                  })
                  .result.then((e) => {
                    this.prop.value(new en({ Add: e }));
                  })
                  .catch(() => u.noop());
          }
        }
        return (
          (t.$inject = [
            "$scope",
            "$uibModal",
            "$translate",
            "$timeout",
            "$element",
          ]),
          t
        );
      })();
      u.module("app").component("mcExtensions", {
        bindings: {
          prop: "<",
          dialogTitle: "@",
          sortDisable: "<",
          skillGroup: "<",
          moveEnabled: "<",
          showName: "<",
          showMembership: "<",
          showEmail: "<",
          showRole: "<",
        },
        controller: hL,
        templateUrl:
          "js/directives/paged-set-control/mc-extensions.component.html",
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/directives/paged-set-control/mc-paged-select-row.directive.html",
              '<label class="mc-select" ng-click="$event.preventDefault()"> <input type="checkbox" ng-model="isSelected"> <i></i> </label> '
            ),
        ]),
        u.module("app").directive("mcPagedSelectRow", [
          "stConfig",
          (t) => ({
            templateUrl:
              "js/directives/paged-set-control/mc-paged-select-row.directive.html",
            scope: { select: "<mcSelect", item: "=mcPagedSelectRow" },
            link(c, e, n) {
              var i;
              const a = c.select;
              if (null !== (i = c.item.Disabled) && void 0 !== i && i._value)
                return;
              e.addClass("mc-select-container"),
                e.parent().addClass("mc-select-row");
              const l = n.mcSelectTarget ? e.parent() : e;
              l.css("cursor", "pointer"),
                l.bind("mousedown", () => {
                  document.getSelection().removeAllRanges();
                }),
                l.bind("click", (s) => {
                  s.stopPropagation(),
                    c.$apply(() => a.toggleItemSelection(c.item, s.shiftKey));
                }),
                c.$watch(
                  () => a.isSelected(c.item.Id),
                  (s) => {
                    s
                      ? ((c.isSelected = !0),
                        e.parent().addClass(t.select.selectedClass))
                      : ((c.isSelected = !1),
                        e.parent().removeClass(t.select.selectedClass));
                  }
                );
            },
          }),
        ]),
        u.module("app").directive("setNgAnimate", [
          "$animate",
          function (t) {
            return {
              link(c, e, n) {
                c.$watch(
                  function () {
                    return c.$eval(n.setNgAnimate, c);
                  },
                  function (i) {
                    t.enabled(!!i, e);
                  }
                );
              },
            };
          },
        ]),
        u.module("app").directive("stickyToTop", [
          function () {
            return {
              restrict: "A",
              compile(t) {
                const c = z()(".app-content-scrollable");
                return (
                  t.removeAttr("sticky-to-top"),
                  t.hasClass("panel-body")
                    ? t.wrap(
                        '<div class="panel-body" style="padding: 0; margin: 0"></div>'
                      )
                    : t.wrap("<div></div>"),
                  function (e, n) {
                    const i = "stickyClass",
                      a = n.children(":first");
                    c.on("scroll", function () {
                      const l = n.offset().top;
                      if (c.scrollTop() >= l) {
                        if (!a.hasClass(i)) {
                          n.css("height", a.css("height"));
                          const s = z()(".navbar")[0],
                            r = z()(".notification-header");
                          a.css(
                            "top",
                            r
                              ? s.clientHeight + r[0].clientHeight
                              : s.clientHeight
                          ),
                            a.addClass(i);
                        }
                      } else a.hasClass(i) && (a.removeClass(i), n.css("height", ""));
                    });
                  }
                );
              },
            };
          },
        ]),
        u.module("app").directive("stDefaultValue", function () {
          return {
            restrict: "A",
            require: "^stTable",
            scope: { selectedRow: "=stDefaultValue", stSafeSrc: "=" },
            link(t, c, e, n) {
              t.$watch("stSafeSrc", function (i) {
                void 0 !== i &&
                  t.selectedRow >= 0 &&
                  n.select(i[t.selectedRow], "single", !1);
              });
            },
          };
        }),
        u.module("app").directive("textControl", [
          "$translate",
          function (t) {
            return {
              restrict: "E",
              scope: {
                prop: "<",
                mcTitle: "@",
                mcHint: "@",
                placeholder: "@",
                maxlength: "@",
                pattern: "@",
                valueChanged: "<",
                disabled: "<",
                availableProEnterprise: "=?",
                informationLink: "@",
              },
              link(c, e, n) {
                t(n.placeholder).then(
                  function (i) {
                    c.place_holder = i;
                  },
                  function () {
                    c.place_holder = n.placeholder;
                  }
                ),
                  t(n.mcTitle)
                    .then(function (i) {
                      let a;
                      (a =
                        "true" === n.availableProEnterprise
                          ? "<label><span>" +
                            i +
                            "</span> <span>" +
                            t.instant("REPOS.TEXT.AVAILABLE_PROF_ENTERPRISE") +
                            "</span></label>"
                          : n.informationLink
                          ? `<label>\n                                    <span>${i}</span>\n                                    <a href="${t.instant(
                              n.informationLink
                            )}" target="_blank" class="dashed_link">\n                                        <span>${t.instant(
                              "REPOS.TEXT.CLICK_HERE_MORE_INFO"
                            )}</span>\n                                    </a>\n                                    </label>`
                          : "<label>" + i + "</label>"),
                        e.children().prepend(a);
                    })
                    .catch(() => u.noop()),
                  (c.elem = e);
              },
              controller: [
                "$scope",
                function (c) {
                  c.$watch("prop.triggerError", function (e) {
                    e &&
                      (c.elem[0].scrollIntoView(), (c.prop.triggerError = !1));
                  }),
                    (c.triggerChanged = function () {
                      c.valueChanged && c.valueChanged(c.prop.value());
                    });
                },
              ],
              templateUrl: (c, e) =>
                e.templateUrl || "tpl/controls/text-control.html",
            };
          },
        ]),
        u.module("app").directive("textWatchControl", [
          "$translate",
          function (t) {
            return {
              restrict: "E",
              scope: {
                prop: "=",
                mcTitle: "@",
                placeholder: "@",
                maxlength: "@",
                nameInput: "@",
                externalValueChanged: "<",
                errorList: "=",
              },
              link(c, e, n) {
                t(n.mcTitle)
                  .then(function (i) {
                    const a = "<label>" + i + "</label>";
                    e.children().prepend(a);
                  })
                  .catch(() => u.noop()),
                  t(n.placeholder).then(
                    function (i) {
                      c.place_holder = i;
                    },
                    function () {
                      c.place_holder = n.placeholder;
                    }
                  ),
                  (c.elem = e);
              },
              controller: [
                "$scope",
                function (c) {
                  c.$watch("externalValueChanged", function (e) {
                    (c.isDisabled = e), c.triggerChanged();
                  }),
                    (c.triggerChanged = function () {
                      c.errorList = {};
                    });
                },
              ],
              templateUrl: (c, e) =>
                e.templateUrl || "tpl/controls/text-watch-control.html",
            };
          },
        ]),
        u.module("app").directive("textareaControl", [
          function () {
            return {
              restrict: "E",
              scope: { prop: "<", mcTitle: "@", placeholder: "@", rows: "@" },
              link(t, c, e) {
                (t.maxlength = "maxlength" in e ? e.maxlength : 255),
                  (t.elem = c);
              },
              controller: [
                "$scope",
                function (t) {
                  t.$watch("prop.triggerError", function (c) {
                    c &&
                      (t.elem[0].scrollIntoView(), (t.prop.triggerError = !1));
                  });
                },
              ],
              templateUrl: "tpl/controls/textarea-control.html",
            };
          },
        ]),
        u.module("app").directive("textWatchErrorControl", [
          "$translate",
          function (t) {
            return {
              restrict: "E",
              scope: {
                prop: "=",
                mcTitle: "@",
                placeholder: "@",
                maxlength: "@",
                externalValueChanged: "<",
                valueChanged: "<",
              },
              link(c, e, n) {
                t(n.mcTitle)
                  .then(function (i) {
                    const a = "<label>" + i + "</label>";
                    e.children().prepend(a);
                  })
                  .catch(() => u.noop()),
                  t(n.placeholder).then(
                    function (i) {
                      c.place_holder = i;
                    },
                    function () {
                      c.place_holder = n.placeholder;
                    }
                  ),
                  (c.elem = e);
              },
              controller: [
                "$scope",
                function (c) {
                  c.$watch("prop.triggerError", function (e) {
                    e &&
                      (c.elem[0].scrollIntoView(), (c.prop.triggerError = !1));
                  }),
                    c.$watch("externalValueChanged", function (e) {
                      (c.isDisabled = e), c.triggerChanged();
                    }),
                    (c.triggerChanged = function () {
                      (c.prop.errorMsg = ""),
                        (c.prop.class = ""),
                        c.valueChanged && c.valueChanged();
                    });
                },
              ],
              templateUrl: (c, e) =>
                e.templateUrl || "tpl/controls/text-watch-error-control.html",
            };
          },
        ]),
        u.module("app").directive("passwordWatchControl", [
          "$translate",
          function (t) {
            return {
              restrict: "E",
              scope: {
                prop: "=",
                mcTitle: "@",
                placeholder: "@",
                maxlength: "@",
                disabled: "@",
                hideEye: "=?",
                valueChanged: "<",
                externalValueChanged: "<",
              },
              link(c, e, n) {
                (c.elem = e),
                  t(n.placeholder).then(
                    function (i) {
                      c.place_holder = i;
                    },
                    function () {
                      c.place_holder = n.placeholder;
                    }
                  ),
                  (c.textSec = !!window.getComputedStyle(e.find("input")[0])
                    .webkitTextSecurity);
              },
              controller: [
                "$scope",
                function (c) {
                  (c.passwordControl = { passwordCheckbox: !1 }),
                    (c.hideEye = !!u.isDefined(c.hideEye) && c.hideEye);
                  const e = () => (c.pass = c.prop ? c.prop.value() : "");
                  e(),
                    c.$watch("prop._value", e),
                    c.$watch("externalValueChanged", function (n) {
                      (c.isDisabled = n || !1), c.triggerChanged();
                    }),
                    c.$watch("prop.triggerError", function (n) {
                      n &&
                        (c.elem[0].scrollIntoView(),
                        (c.prop.triggerError = !1));
                    }),
                    (c.triggerChanged = function () {
                      (c.prop.errorMsg = ""),
                        (c.prop.class = ""),
                        c.prop && c.prop.value(c.pass),
                        c.valueChanged && c.valueChanged();
                    });
                },
              ],
              templateUrl: "tpl/controls/password-watch-control.html",
            };
          },
        ]);
      function Dn(t) {
        const c = t.split(":"),
          n = c[1];
        return 60 * Number.parseInt(c[0], 10) + Number.parseInt(n, 10);
      }
      function bL(t) {
        return { Item1: t.item1, Item2: t._str };
      }
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/directives/time-control/time-control.html",
              '<div uib-timepicker ng-hide="prop.hide" ng-disabled="prop.disabled" ng-model="myDate" hour-step="1" mstep="1" show-meridian="false"> </div> '
            ),
        ]),
        u.module("app").directive("timeControl", [
          function () {
            return {
              restrict: "E",
              scope: { prop: "<" },
              controller: [
                "$scope",
                function (t) {
                  t.$watch("prop", function () {
                    if (void 0 !== t.prop) {
                      const c = t.prop.value().split(":");
                      t.myDate = new Date(2016, 1, 1, c[0], c[1], c[2], 0);
                    }
                  }),
                    t.$watch(
                      "myDate",
                      function (c) {
                        void 0 !== t.prop &&
                          (c && !t.prop.disabled
                            ? t.prop.value(
                                ("0" + c.getHours()).slice(-2) +
                                  ":" +
                                  ("0" + c.getMinutes()).slice(-2) +
                                  ":" +
                                  ("0" + c.getSeconds()).slice(-2)
                              )
                            : (t.prop._value = ""));
                      },
                      !0
                    );
                },
              ],
              templateUrl: "js/directives/time-control/time-control.html",
            };
          },
        ]),
        u.module("app").directive("timeRangesControl", [
          "$uibModal",
          function (t) {
            function c(e, n, i) {
              return t.open({
                size: "sm",
                backdrop: "static",
                templateUrl:
                  "js/directives/time-ranges-control/time-picker-dialog.html",
                controller: [
                  "$scope",
                  function (a) {
                    (a.deleteBtnDisabled = i),
                      (a.timeFrom = u.copy(e.From)),
                      (a.timeTo = u.copy(e.To)),
                      (a.deleteClick = function () {
                        a.$close({ action: "delete" });
                      }),
                      (a.IsSaveBtnDisabled = function () {
                        const l = Dn(a.timeFrom),
                          s = Dn(a.timeTo);
                        return (
                          s <= l ||
                          null !=
                            n.find(function (o) {
                              const p = Dn(o.From),
                                f = Dn(o.To);
                              if (l <= f && p <= s) return !0;
                            })
                        );
                      }),
                      (a.saveClick = function () {
                        a.$close({
                          action: "update",
                          From: a.timeFrom,
                          To: a.timeTo,
                        });
                      });
                  },
                ],
                keyboard: !0,
              }).result;
            }
            return {
              restrict: "E",
              scope: { prop: "=" },
              link(e, n) {
                (e.elem = n),
                  e.$watch("prop.triggerError", function (i) {
                    i &&
                      (e.elem[0].scrollIntoView(), (e.prop.triggerError = !1));
                  }),
                  (e.WeekDays = [
                    { Index: 1, Name: "Monday" },
                    { Index: 2, Name: "Tuesday" },
                    { Index: 3, Name: "Wednesday" },
                    { Index: 4, Name: "Thursday" },
                    { Index: 5, Name: "Friday" },
                    { Index: 6, Name: "Saturday" },
                    { Index: 0, Name: "Sunday" },
                  ]),
                  (e.Add = function (i) {
                    const a = { Day: i, From: "08:00", To: "17:00" },
                      l = e.prop._value.filter(function (s) {
                        return s.Day == i;
                      });
                    c(a, l, !0)
                      .then(function (s) {
                        "update" == s.action &&
                          ((a.From = s.From),
                          (a.To = s.To),
                          e.prop._value.push(a),
                          e.prop.value(e.prop._value));
                      })
                      .catch(() => u.noop());
                  }),
                  (e.Edit = function (i, a) {
                    const l = e.prop._value.filter(function (s) {
                      return s.Day == a && s !== i;
                    });
                    c(i, l, !1)
                      .then(function (s) {
                        if ("delete" == s.action) {
                          const r = e.prop._value,
                            o = r.indexOf(i);
                          r.splice(o, 1);
                        }
                        "update" == s.action &&
                          ((i.From = s.From), (i.To = s.To)),
                          e.prop.value(e.prop._value);
                      })
                      .catch(() => u.noop());
                  });
              },
              templateUrl: (e, n) =>
                n.templateUrl ||
                "js/directives/time-ranges-control/office-hours-control.html",
            };
          },
        ]),
        u.module("app").directive("tupleArrayControl", [
          function () {
            return {
              restrict: "E",
              transclude: !0,
              scope: { prop: "<", maxlength: "<" },
              link(t) {
                (t.itemsByPage = 50),
                  t.$watch("prop._value", function (c, e) {
                    (!e || !t.items) &&
                      (t.items = c
                        ? c
                            .filter((n) => "" !== n.Item2)
                            .map(function (n, i) {
                              return {
                                _str: n.Item2,
                                item1: n.Item1,
                                item2: n.Item2,
                                seq: i,
                              };
                            })
                        : []);
                  }),
                  (t.allowedToAdd = function () {
                    return t.maxlength && t.items
                      ? t.maxlength.value() - t.items.length
                      : 1;
                  }),
                  (t.itemCreated = function (c) {
                    c.$watch("itemForm", function (e) {
                      console.log("watch from"), e.$show();
                    });
                  }),
                  (t.invalidChars = function (c) {
                    return (
                      c.search(/[^ 0-9a-zA-Z_\-/\\|]/) >= 0 &&
                      ((t.prop.class = "has-error"), !0)
                    );
                  }),
                  (t.invalidFolderChars = function (c) {
                    return (
                      c.search(/[*,:?"<>|]/) >= 0 &&
                      ((t.prop.class = "has-error"), !0)
                    );
                  }),
                  (t.keypress = function (c) {
                    13 === c.which && c.preventDefault();
                  }),
                  (t.onAddClick = function () {
                    (t.inserted = {
                      item1: null,
                      _str: "",
                      seq: Math.max(...t.items.map((c) => c.seq)) + 1,
                    }),
                      t.items.push(t.inserted);
                  }),
                  (t.addRange = function (c) {
                    const e = c.filter(
                      (n) => !t.items.find((i) => i._str === n._str)
                    );
                    (t.items = t.items.concat(e)), t.push();
                  }),
                  (t.deleteSelected = function () {
                    const c = t.getSelectedItems().filter(t.canBeDeleted),
                      e = c.map((i) => t.items.indexOf(i)),
                      n = t.prop.value();
                    if (n.length === t.items.length) {
                      const i = n.filter((a, l) =>
                        isNaN(e.find((s) => s === l))
                      );
                      t.prop.value(i);
                    }
                    c &&
                      c.length > 0 &&
                      c.forEach((i) => {
                        const a = t.items.indexOf(i);
                        t.items.includes(i) && t.items.splice(a, 1);
                      });
                  }),
                  (t.allowDelete = function () {
                    return (
                      0 != t.getSelectedItems().filter(t.canBeDeleted).length
                    );
                  }),
                  (t.canBeDeleted = function (c) {
                    return !("item1" in c) || "0" !== c.item1;
                  }),
                  (t.getSelectedItems = function () {
                    return t.items.filter(function (c) {
                      return c.isSelected;
                    });
                  }),
                  (t.onItemDeleteClick = function (c) {
                    const e = t.prop.value(),
                      n = t.items.indexOf(c);
                    e.length === t.items.length
                      ? (e.splice(n, 1), t.items.splice(n, 1), t.prop.value(e))
                      : t.items.splice(n, 1);
                  }),
                  (t.invertIndex = function (c) {
                    return t.prop.value().length - c - 1;
                  }),
                  (t.push = function () {
                    const c = t.items.map(bL);
                    t.prop.value(c);
                  });
              },
              template: "<div in-transclude></div>",
            };
          },
        ]),
        u.module("app").directive("uiButterbar", [
          function () {
            return {
              restrict: "AC",
              template: '<span class="bar"></span>',
              link(t, c) {
                c.addClass("butterbar hide"),
                  t.$on("requestStart", function () {
                    c.removeClass("hide").addClass("active");
                  }),
                  t.$on("requestStop", function () {
                    c.addClass("hide").removeClass("active");
                  });
              },
            };
          },
        ]),
        u.module("app").directive("uiFocus", [
          "$timeout",
          "$parse",
          function (t, c) {
            return {
              link(e, n, i) {
                const a = c(i.uiFocus);
                e.$watch(a, function (l) {
                  !0 === l &&
                    t(function () {
                      n[0].focus();
                    });
                }),
                  n.bind("blur", function () {
                    e.$apply(a.assign(e, !1));
                  });
              },
            };
          },
        ]);
      var Bt = w(5250);
      function Ci(t) {
        return (
          (t = t[0] || t),
          isNaN(t.offsetHeight)
            ? t.document.documentElement.clientHeight
            : t.offsetHeight
        );
      }
      function _i(t) {
        if (t[0].getBoundingClientRect && !t.css("none"))
          return (
            t[0].getBoundingClientRect().top +
            (function SL(t) {
              return (
                (t = t[0] || t),
                isNaN(window.pageYOffset)
                  ? t.document.documentElement.scrollTop
                  : t.ownerDocument.defaultView.pageYOffset
              );
            })(t)
          );
      }
      u.module("app").directive("uiFullscreen", [
        "uiLoad",
        "JQ_CONFIG",
        "$document",
        function (t, c, e) {
          return {
            restrict: "AC",
            template:
              '<i class="fa fa-expand fa-fw text"></i><i class="fa fa-compress fa-fw text-active"></i>',
            link(n, i, a) {
              i.addClass("hide"),
                Bt.isEnabled &&
                  !/Trident.*rv:11\./.exec(navigator.userAgent) &&
                  i.removeClass("hide"),
                Bt.isEnabled &&
                  (i.on("click", function () {
                    let l;
                    a.target && (l = z()(a.target)[0]),
                      Bt.isEnabled && Bt.toggle(l);
                  }),
                  e.on(Bt.raw.fullscreenchange, function () {
                    Bt.isEnabled &&
                      (Bt.isFullscreen
                        ? i.addClass("active")
                        : i.removeClass("active"));
                  }));
            },
          };
        },
      ]),
        u
          .module("ui.jq", ["ui.load"])
          .value("uiJqConfig", {})
          .directive("uiJq", [
            "uiJqConfig",
            "JQ_CONFIG",
            "uiLoad",
            "$timeout",
            function (c, e, n, i) {
              return {
                restrict: "A",
                compile: function (l, s) {
                  if (!u.isFunction(l[s.uiJq]) && !e[s.uiJq])
                    throw new Error(
                      'ui-jq: The "' + s.uiJq + '" function does not exist'
                    );
                  const r = c && c[s.uiJq];
                  return function (p, f, m) {
                    function S() {
                      i(
                        function () {
                          f[m.uiJq](
                            ...(function g() {
                              let j = [];
                              return (
                                m.uiOptions
                                  ? ((j = p.$eval("[" + m.uiOptions + "]")),
                                    u.isObject(r) &&
                                      u.isObject(j[0]) &&
                                      (j[0] = u.extend({}, r, j[0])))
                                  : r && (j = [r]),
                                j
                              );
                            })()
                          );
                        },
                        0,
                        !1
                      );
                    }
                    function O() {
                      m.uiRefresh &&
                        p.$watch(m.uiRefresh, function () {
                          S();
                        });
                    }
                    m.ngModel &&
                      f.is("select,input,textarea") &&
                      f.bind("change", function () {
                        f.trigger("input");
                      }),
                      e[m.uiJq]
                        ? n
                            .load(e[m.uiJq])
                            .then(function () {
                              S(), O();
                            })
                            .catch(function () {})
                        : (S(), O());
                  };
                },
              };
            },
          ]),
        u.module("app").directive("uiModule", [
          "MODULE_CONFIG",
          "uiLoad",
          "$compile",
          function (t, c, e) {
            return {
              restrict: "A",
              compile(n) {
                const i = n.contents().clone();
                return function (a, l, s) {
                  l.contents().remove(),
                    c.load(t[s.uiModule]).then(function () {
                      e(i)(a, function (r) {
                        l.append(r);
                      });
                    });
                };
              },
            };
          },
        ]),
        u.module("app").directive("uiNav", [
          function () {
            return {
              restrict: "AC",
              link(t, c) {
                const e = z()(window),
                  i = z()(".app-aside");
                let l;
                c.on("click", "a", function (s) {
                  l && l.trigger("mouseleave.nav");
                  const r = z()(this);
                  r.parent().siblings(".active").toggleClass("active"),
                    r.next().is("ul") &&
                      r.parent().toggleClass("active") &&
                      s.preventDefault(),
                    r.next().is("ul") ||
                      (e.width() < 768 &&
                        z()(".off-screen").removeClass("show off-screen"));
                }),
                  c.on("mouseenter", "a", function (s) {
                    if (
                      (l && l.trigger("mouseleave.nav"),
                      z()("> .nav", i).remove(),
                      !z()(".app-aside-fixed.app-aside-folded").length ||
                        e.width() < 768 ||
                        z()(".app-aside-dock").length)
                    )
                      return;
                    let r = z()(s.target);
                    const o = z()(window).height();
                    if (
                      (!r.is("a") && (r = r.closest("a")), !r.next().is("ul"))
                    )
                      return;
                    (l = r.next()), r.parent().addClass("active");
                    const m = r.parent().position().top + 50;
                    l.css("top", m),
                      m + l.height() > o && l.css("bottom", 0),
                      m + 150 > o &&
                        l.css("bottom", o - m - 50).css("top", "auto"),
                      l.appendTo(i),
                      l.on("mouseleave.nav", function () {
                        z()(".dropdown-backdrop").remove(),
                          l.appendTo(r.parent()),
                          l
                            .off("mouseleave.nav")
                            .css("top", "auto")
                            .css("bottom", "auto"),
                          r.parent().removeClass("active");
                      }),
                      z()(".smart").length &&
                        z()('<div class="dropdown-backdrop"/>')
                          .insertAfter(".app-aside")
                          .on("click", function (g) {
                            g && g.trigger("mouseleave.nav");
                          });
                  }),
                  i.on("mouseleave", function () {
                    l && l.trigger("mouseleave.nav"), z()("> .nav", i).remove();
                  });
              },
            };
          },
        ]),
        u.module("ui-select-infinity", []).directive("reachInfinity", [
          "$parse",
          "$timeout",
          "$q",
          function (t, c, e) {
            return {
              link(n, i, a) {
                let l = i;
                const s = u.isDefined(a.scrollDistance)
                  ? Number.parseInt(a.scrollDistance, 10)
                  : 0.3;
                let r;
                const p = n.$watch("$select.open", function (f) {
                  !f ||
                    c(function () {
                      (function o() {
                        let f = i.querySelectorAll(".ui-select-choices-row");
                        if (0 === f.length) return !1;
                        let m = u.element(f[f.length - 1]);
                        l = u.element(
                          i.querySelectorAll(".ui-select-choices-content")
                        );
                        let g = !1;
                        const S = function () {
                          if (g) return;
                          g = !0;
                          const O = Ci(l);
                          let j = 0;
                          void 0 !== _i(l) && (j = _i(l)),
                            _i(m) - j + Ci(m) - O <= Ci(l) * (s + 1)
                              ? e.when(t(a.reachInfinity)(n)).then(
                                  function () {
                                    setTimeout(function () {
                                      (f = i.querySelectorAll(
                                        ".ui-select-choices-row"
                                      )),
                                        (m = u.element(f[f.length - 1])),
                                        (g = !1);
                                    }, 0);
                                  },
                                  function () {
                                    g = !1;
                                  }
                                )
                              : (g = !1);
                        };
                        return (
                          (r = (function EL(t, c, e) {
                            let n = !1;
                            e = e || window;
                            const i = function () {
                              n ||
                                ((n = !0),
                                requestAnimationFrame(function () {
                                  e.dispatchEvent(new CustomEvent(c)), (n = !1);
                                }));
                            };
                            return (
                              e.addEventListener(t, i),
                              function () {
                                e.removeEventListener(t, i);
                              }
                            );
                          })("scroll", "optimizedScroll", l[0])),
                          l.on("optimizedScroll", S),
                          n.$on("$destroy", function () {
                            r(), l.off("optimizedScroll", S);
                          }),
                          !0
                        );
                      })() && p();
                    });
                });
              },
            };
          },
        ]),
        u.module("app").directive("uiShift", [
          "$timeout",
          function (t) {
            return {
              restrict: "A",
              link(c, e, n) {
                const i = z()(e),
                  a = z()(window),
                  l = i.prev();
                let s,
                  r = a.width();
                function o() {
                  t(function () {
                    const f = n.uiShift,
                      m = n.target;
                    i.hasClass("in") || i[f](m).addClass("in");
                  });
                }
                function p() {
                  s && s.prepend(e),
                    !s && i.insertAfter(l),
                    i.removeClass("in");
                }
                !l.length && (s = i.parent()),
                  r < 768 ? o() : p(),
                  a.resize(function () {
                    r !== a.width() &&
                      t(function () {
                        a.width() < 768 ? o() : p(), (r = a.width());
                      });
                  });
              },
            };
          },
        ]),
        u.module("app").directive("uiToggleClass", [
          function () {
            return {
              restrict: "AC",
              link(t, c, e) {
                c.on("click", function (n) {
                  n.preventDefault();
                  const i = e.uiToggleClass.split(","),
                    a = (e.target && e.target.split(",")) || new Array(c);
                  let l = 0;
                  u.forEach(i, function (r) {
                    const o = a[a.length && l];
                    r.includes("*") && s(r, o), z()(o).toggleClass(r), l++;
                  }),
                    z()(c).toggleClass("active");
                  const s = (r, o) => {
                    const p = new RegExp(
                      "\\s" +
                        r
                          .replace(/\*/g, "[A-Za-z0-9-_]+")
                          .split(" ")
                          .join("\\s|\\s") +
                        "\\s",
                      "g"
                    );
                    let f = " " + z()(o)[0].className + " ";
                    for (; p.test(f); ) f = f.replace(p, " ");
                    z()(o)[0].className = z().trim(f);
                  };
                });
              },
            };
          },
        ]),
        u.module("app").directive("validPhoneNumber", function () {
          const t = /^\+?[0-9 -]{0,25}$/i,
            c = /^\+?[0-9 -]{0,15}\([ ]*[0-9][0-9 -]{0,8}\)[0-9 -]{0,20}$/i,
            e = /^[0-9 -]{0,15}\([ ]*\+?[ ]*[0-9][0-9 -]{0,8}\)[0-9 -]{0,20}$/i,
            n = /- *-/i;
          return {
            restrict: "A",
            require: "ngModel",
            link(l, s, r, o) {
              function p(f) {
                return (function a(l, s, r) {
                  const o =
                    l.$isEmpty(r) ||
                    (function i(l) {
                      return (
                        !n.test(l.trim()) &&
                        (t.test(l.trim()) ||
                          c.test(l.trim()) ||
                          e.test(l.trim()))
                      );
                    })(r);
                  return l.$setValidity(s, o), o ? r : void 0;
                })(o, "phoneNumber", f);
              }
              o.$formatters.push(p), o.$parsers.push(p);
            },
          };
        }),
        w(93315);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/directives/weekdays-control/weekdays-control.html",
              '<div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="IsSelected.Sunday"> <i></i> <span translate="REPOS.TEXT.SUNDAY"></span> </label> </div> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="IsSelected.Monday"> <i></i> <span translate="REPOS.TEXT.MONDAY"></span> </label> </div> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="IsSelected.Tuesday"> <i></i> <span translate="REPOS.TEXT.TUESDAY"></span> </label> </div> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="IsSelected.Wednesday"> <i></i> <span translate="REPOS.TEXT.WEDNESDAY"></span> </label> </div> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="IsSelected.Thursday"> <i></i> <span translate="REPOS.TEXT.THURSDAY"></span> </label> </div> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="IsSelected.Friday"> <i></i> <span translate="REPOS.TEXT.FRIDAY"></span> </label> </div> <div class="form-group"> <label class="i-checks m-t-xs m-r"> <input type="checkbox" ng-model="IsSelected.Saturday"> <i></i> <span translate="REPOS.TEXT.SATURDAY"></span> </label> </div>'
            ),
        ]),
        u.module("app").directive("weekdaysControl", [
          function () {
            return {
              restrict: "E",
              scope: { prop: "<" },
              link(t) {
                function c() {
                  if (void 0 === t.prop || !0 === t.prop.hide) return;
                  const e = t.prop.value();
                  if (void 0 !== e) {
                    const n = {
                      Sunday: !1,
                      Monday: !1,
                      Tuesday: !1,
                      Wednesday: !1,
                      Thursday: !1,
                      Friday: !1,
                      Saturday: !1,
                    };
                    e.forEach(function (i) {
                      n[i] = !0;
                    }),
                      (t.IsSelected = n);
                  }
                }
                (t.IsSelected = {
                  Sunday: !1,
                  Monday: !1,
                  Tuesday: !1,
                  Wednesday: !1,
                  Thursday: !1,
                  Friday: !1,
                  Saturday: !1,
                }),
                  c(),
                  t.$watch("prop", function () {
                    c();
                  }),
                  t.$watch(
                    "IsSelected",
                    function (e) {
                      if (
                        void 0 === e ||
                        void 0 === t.prop ||
                        !0 === t.prop.hide
                      )
                        return;
                      const n = [];
                      for (const i in t.IsSelected)
                        !0 === t.IsSelected[i] && n.push(i);
                      t.prop.value(n);
                    },
                    !0
                  );
              },
              templateUrl:
                "js/directives/weekdays-control/weekdays-control.html",
            };
          },
        ]),
        u.module("app").directive("errorShow", function () {
          return {
            restrict: "A",
            require: "ngModel",
            link(t, c, e, n) {
              t.$watch(
                function () {
                  return (t.$eval(e.errorShow) || n.$touched) && !n.$focused;
                },
                function (i) {
                  n.$errorShowAllowed = i;
                }
              );
            },
          };
        }),
        u.module("app").directive("focusState", function () {
          return {
            restrict: "A",
            require: "ngModel",
            link(t, c, e, n) {
              n.$focused = !1;
              const i = function (a) {
                const l = t.$root.$$phase;
                "$apply" === l || "$digest" === l
                  ? (n.$focused = a)
                  : t.$apply(function () {
                      n.$focused = a;
                    });
              };
              t.$on("setFocus", function () {
                c.focus();
              }),
                c.on("focus", function () {
                  i(!0);
                }),
                c.on("blur", function () {
                  i(!1);
                });
            },
          };
        });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/directives/ring-groups/ring-groups-control.html",
              ' <label translate="EXTENSIONS.EDITOR.PROVISIONING.ENABLE_MULTICAST_RING_GROUPS"></label> <div ng-repeat="grp in prop._value track by $index"> <div class="form-group"> <select class="form-control" ng-options="group.Number as group.Name for group in ringGroups" ng-model="prop._value[$index]" ng-change="groupChanged()"></select> </div> </div> '
            ),
        ]),
        u.module("app").directive("ringGroupsControl", [
          "RingGroupSvc",
          "$filter",
          function (t, c) {
            return {
              restrict: "E",
              scope: { prop: "=" },
              link(e) {
                (e.ringGroups = []),
                  t
                    .getMulticastPagingRingGroups()
                    .then(function (n) {
                      (e.ringGroups = n.data),
                        e.ringGroups.splice(0, 0, {
                          Name: c("translate")(
                            "EXTENSIONS.EDITOR.PROVISIONING.MULTICAST_RING_GROUP_DISABLED"
                          ),
                          Number: "",
                        });
                    })
                    .catch(() => u.noop()),
                  (e.groupChanged = function () {
                    const n = e.prop._value.slice();
                    e.prop.value(n);
                  });
              },
              templateUrl: "js/directives/ring-groups/ring-groups-control.html",
            };
          },
        ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/directives/warning-tooltip.component.html",
              '<span ng-if="!!$ctrl.alert" uib-tooltip="{{$ctrl.alert}}" tooltip-class="customClass"> <svg width="15px" height="15px" viewBox="15 9 18 27" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,48.000000) scale(0.100000,-0.100000)" fill="#ff1c30" stroke="none"> <path d="M194 272 c-25 -48 -55 -102 -66 -119 l-20 -33 132 0 131 0 -39 73\r\n        c-22 39 -52 93 -65 119 l-25 48 -48 -88z m98 -47 l46 -85 -95 0 c-53 0 -93 4\r\n        -91 9 8 24 84 161 88 161 3 0 26 -38 52 -85z"/> <path d="M230 225 c0 -19 5 -35 10 -35 6 0 10 16 10 35 0 19 -4 35 -10 35 -5\r\n        0 -10 -16 -10 -35z"/> <path d="M230 170 c0 -5 5 -10 10 -10 6 0 10 5 10 10 0 6 -4 10 -10 10 -5 0\r\n        -10 -4 -10 -10z"/> </g> </svg> </span> '
            ),
        ]),
        u
          .module("app")
          .component("warningTooltip", {
            controller: class yL {},
            bindings: { alert: "<" },
            templateUrl: "js/directives/warning-tooltip.component.html",
          }),
        u.module("app").directive("modal", function () {
          return {
            templateUrl: "tpl/controls/modal-control.html",
            restrict: "E",
            transclude: !0,
            replace: !0,
            scope: { mcTitle: "@", visible: "=" },
            link: function (c, e) {
              c.$watch("visible", function (n) {
                1 == n ? z()(e).modal("show") : z()(e).modal("hide");
              }),
                z()(e).on("shown.bs.modal", function () {
                  c.$apply(function () {
                    c.visible = !0;
                  });
                }),
                z()(e).on("hidden.bs.modal", function () {
                  c.$apply(function () {
                    c.visible = !1;
                  });
                });
            },
          };
        }),
        u.module("app").directive("convertToNumber", function () {
          return {
            require: "ngModel",
            link(t, c, e, n) {
              n.$parsers.push(function (i) {
                return Number.parseInt(i, 10);
              }),
                n.$formatters.push(function (i) {
                  return "" + i;
                });
            },
          };
        }),
        u.module("app").directive("undefinedNumber", function () {
          return {
            require: "ngModel",
            link(t, c, e, n) {
              n.$parsers.push(function (i) {
                return Number.parseInt(i, 10);
              }),
                n.$formatters.push(function (i) {
                  const a = "" + i;
                  return void 0 !== i && a.length > 0 && "[" === a[0] ? "" : i;
                });
            },
          };
        }),
        u.module("app").directive("shortKeepCurrentValue", [
          "WrapperSvc",
          function (t) {
            return {
              require: "ngModel",
              link(c, e, n, i) {
                i.$parsers.push(function (a) {
                  return " " === a ? t.getDifferentValue() : a;
                }),
                  i.$formatters.push(function (a) {
                    return a === t.getDifferentValue() ? " " : a;
                  });
              },
            };
          },
        ]),
        u.module("app").directive("mcAceSuppressWarning", function () {
          return {
            priority: -1,
            link(t) {
              t.aceLoaded = function (c) {
                c.$blockScrolling = 1 / 0;
              };
            },
          };
        }),
        u.module("app").directive("mcAceAdjustHeight", function () {
          return {
            priority: -1,
            link(t, c) {
              const e = c[0];
              (e.style.height = "34px"),
                (t.aceLoaded = function (n) {
                  (e.style.height = "34px"),
                    n.on("change", function () {
                      e.style.height = "34px";
                    });
                });
            },
          };
        }),
        u.module("app").directive("convertToBool", function () {
          return {
            require: "ngModel",
            link(t, c, e, n) {
              n.$parsers.push(function (i) {
                return "true" === i;
              }),
                n.$formatters.push(function (i) {
                  return "" + i;
                });
            },
          };
        }),
        u.module("app").directive("parkingPlaces", function () {
          return {
            controller: [
              "$scope",
              function (t) {
                t.parkingPlaces = (function (c, e, n) {
                  for (let i = 10; i < 51; i++)
                    n.push({ Id: i, _str: "SP" + i });
                  return n;
                })(0, 0, []);
              },
            ],
          };
        }),
        u.module("app").directive("holidays", function () {
          return {
            controller: [
              "$scope",
              function (t) {
                t.holidays = {
                  getDate: (c) =>
                    c.Day.value() +
                    " " +
                    c.Month.value() +
                    " " +
                    c.Year.value(),
                };
              },
            ],
          };
        }),
        u.module("app").directive("mcTooltipIfOverflow", function () {
          return {
            link(t, c) {
              c.on("mouseenter", function () {
                const e = z()(this);
                this.offsetWidth < this.scrollWidth &&
                  !e.attr("title") &&
                  e.attr("title", e.text());
              });
            },
          };
        }),
        u.module("app").directive("helpButton", [
          function () {
            return {
              restrict: "E",
              scope: { url: "@" },
              templateUrl: "tpl/misc/help_button.html",
            };
          },
        ]),
        u.module("app").directive("systemMessageDialog", [
          function () {
            return {
              restrict: "E",
              templateUrl: "tpl/controls/system-message-dialog.html",
              link(t) {
                t.closeAlert = function () {
                  (t.hidebg = !0), (t.alertuser.message = !1);
                };
              },
            };
          },
        ]),
        u.module("app").directive("inTransclude", [
          function () {
            return {
              restrict: "EAC",
              link(t, c, e, n, i) {
                if (!i)
                  throw new Error(
                    "Illegal use of ngTransclude directive in the template! "
                  );
                i(t, function (a) {
                  c.empty(), c.append(a);
                });
              },
            };
          },
        ]),
        u.module("app").directive("mcStopEvent", function () {
          return {
            restrict: "A",
            link(t, c) {
              c.bind("click dblclick", function (e) {
                e.stopPropagation();
              });
            },
          };
        }),
        u.module("app").filter("mcDateFormat", [
          "amUtcFilter",
          "amLocalFilter",
          "amDateFormatFilter",
          function (t, c, e) {
            return function (n) {
              return e(c(t(n)), "L LTS");
            };
          },
        ]),
        u.module("app").filter("mcTimeFormat", [
          function () {
            return function (t) {
              if ("-" === t) return t;
              const c = ae().duration(t),
                e = c.days(),
                n = c.hours(),
                i = c.minutes();
              return e > 0
                ? n > 0
                  ? e + " Days " + n + " h "
                  : e + " Days "
                : n > 0
                ? n + "h " + i + " m"
                : i + " min ";
            };
          },
        ]),
        u.module("app").filter("mcDateOnlyFormat", [
          "amUtcFilter",
          "amLocalFilter",
          "amDateFormatFilter",
          function (t, c, e) {
            return function (n) {
              return e(c(t(n)), "L");
            };
          },
        ]),
        u.module("app").filter("bytes", function () {
          return Us;
        }),
        u.module("app").filter("kbytes", function () {
          return function (t) {
            return 0 == t || isNaN(Number.parseFloat(t)) || !isFinite(t)
              ? "-"
              : (function OL(t) {
                  return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
                })((t / 1024 ** Math.floor(1)).toFixed(0)) + " kB";
          };
        }),
        u.module("app").filter("routing", function () {
          return function (t) {
            const c = "End call";
            return "DN" === t.Type || "RoutePoint" === t.Type
              ? "" === t.DN
                ? c
                : t.DN
              : "ExtensionVoiceMail" === t.Type
              ? "" === t.Voicemail
                ? c
                : "Voicemail of " + t.Voicemail
              : "ExtensionFax" === t.Type
              ? "" === t.DN
                ? c
                : "Send fax to " + t.DN
              : "ExternalNumber" === t.Type
              ? "" == t.ExternalNumber
                ? c
                : t.ExternalNumber
              : c;
          };
        }),
        u.module("app").directive("textControlDesign", [
          "$translate",
          function (t) {
            return {
              restrict: "E",
              scope: {
                prop: "=",
                disabledField: "=",
                mcTitle: "@",
                placeholder: "@",
                maxlength: "@",
              },
              link(c, e, n) {
                function i(a) {
                  const l = "<label>" + a + "</label>";
                  e.children().prepend(l);
                }
                t(n.mcTitle).then(i, function () {
                  i(n.mcTitle);
                }),
                  t(n.placeholder).then(
                    function (a) {
                      c.place_holder = a;
                    },
                    function () {
                      c.place_holder = n.placeholder;
                    }
                  ),
                  (c.elem = e);
              },
              controller: [
                "$scope",
                function (c) {
                  c.$watch("prop.triggerError", function (e) {
                    e &&
                      (c.elem[0].scrollIntoView(), (c.prop.triggerError = !1));
                  });
                },
              ],
              templateUrl: (c, e) =>
                e.templateUrl || "tpl/controls/text-control-design.html",
            };
          },
        ]),
        u.module("app").directive("textareaControlDesign", [
          function () {
            return {
              restrict: "E",
              scope: { prop: "=", mcTitle: "@", placeholder: "@", trim: "@" },
              link(t, c) {
                t.elem = c;
              },
              controller: [
                "$scope",
                function (t) {
                  t.$watch("prop.triggerError", function (c) {
                    c &&
                      (t.elem[0].scrollIntoView(), (t.prop.triggerError = !1));
                  });
                },
              ],
              templateUrl: "tpl/controls/textarea-control-design.html",
            };
          },
        ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "tpl/controls/password-control-design.html",
              '<div class="form-group m-b" ng-hide="prop.hide" ng-class="prop.class"> <label ng-show="mcTitle != undefined" translate="{{::mcTitle}}"></label> <div class="input-group" style="width:100%"> <input class="form-control m-b" autocomplete="off" name="{{::inputname}}" type="{{(!passwordControl.passwordCheckbox && !textSec)? \'password\': \'text\'}}" ng-class="(passwordControl.passwordCheckbox && textSec) ? \'unConceal\' : \'conceal\'" maxlength="{{::maxlength || 50}}" ng-model="pass" ng-model-options="{getterSetter: true}" ng-disabled="prop.disabled || disabled" ng-change="triggerChanged()" ng-trim="false" required> <span class="input-group-btn" ng-if="!hideEye"> <button class="btn btn-default" ng-model="passwordControl.passwordCheckbox" ng-click="passwordControl.passwordCheckbox = !passwordControl.passwordCheckbox" type="button"> <span class="halflings halflings-eye-open"></span> </button> </span> </div> <div class="errors" ng-if="clientForm.$submitted"> <ul ng-messages="clientForm[inputname].$error"> <ng-transclude> </ng-transclude> </ul> </div> </div>'
            ),
        ]),
        u.module("app").directive("passwordControlDesign", [
          "$translate",
          function (t) {
            return {
              restrict: "E",
              transclude: !0,
              scope: {
                prop: "<",
                mcTitle: "@",
                placeholder: "@",
                maxlength: "@",
                disabled: "@",
                hideEye: "=?",
                valueChanged: "<",
                clientForm: "<",
                inputname: "@",
              },
              link(c, e, n) {
                (c.elem = e),
                  t(n.placeholder).then(
                    function (i) {
                      c.place_holder = i;
                    },
                    function () {
                      c.place_holder = n.placeholder;
                    }
                  ),
                  (c.textSec = !!window.getComputedStyle(e.find("input")[0])
                    .webkitTextSecurity);
              },
              controller: [
                "$scope",
                function (c) {
                  (c.passwordControl = { passwordCheckbox: !1 }),
                    (c.hideEye = !!u.isDefined(c.hideEye) && c.hideEye);
                  const e = () => (c.pass = c.prop ? c.prop.value() : "");
                  e(),
                    c.$watch("prop._value", e),
                    (c.triggerChanged = function () {
                      c.prop && c.prop.value(c.pass),
                        (c.clientForm[c.inputname].$error = {}),
                        c.valueChanged && c.valueChanged();
                    });
                },
              ],
              templateUrl: "tpl/controls/password-control-design.html",
            };
          },
        ]),
        u.module("app").directive("myEnter", function () {
          return function (t, c, e) {
            c.bind("keydown keypress[", function (n) {
              13 === n.which &&
                (t.$apply(function () {
                  t.$eval(e.myEnter);
                }),
                n.preventDefault());
            });
          };
        }),
        u.module("app").directive("navCdr", [
          "SettingsSvc",
          function (t) {
            return function (c) {
              c.onCDRSettingsClick = () => {
                t.onCDRSettingsClick();
              };
            };
          },
        ]),
        u.module("app").directive("navFax", [
          "SettingsSvc",
          function (t) {
            return function (c) {
              c.onFaxSettingsClick = () => {
                t.onFaxSettingsClick();
              };
            };
          },
        ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "tpl/controls/copy-input-to-clipboard-controller.html",
            '<div class="form-group m-b" ng-hide="prop.hide" ng-class="prop.class"> <div class="input-group" style="width:100%"> <input type="text" class="form-control" placeholder="{{::place_holder}}" maxlength="{{::maxlength || 50}}" ng-model="prop.value" ng-model-options="{getterSetter: true, updateOn: valueChanged ? \'default\' : \'blur\'}" ng-disabled="prop.disabled || mcReadonly" ng-change="triggerChanged()"> <span class="input-group-btn"> <button class="btn btn-default" uib-tooltip="{{(\'REPOS.TEXT.COPY_TO_CLIPBOARD\' | translate)}}" tooltip-is-open="tooltipIsOpen" tooltip-enable="tooltipIsOpen" tooltip-placement="top" ng-click="$event.stopPropagation(); copyToClipboard()" type="button"> <i class="fa fa-clipboard"></i> </button> </span> </div> <div class="errors" ng-if="prop.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{prop.errorMsg}} </li> </ul> </div> </div> '
          ),
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/components/copy-to-clipboard.component.html",
            '<span style="white-space:nowrap;display:flex;align-items:center"> <button class="btn btn-xs btn-default" style="margin-right:2px" uib-tooltip="{{!$ctrl.mcText ? (\'REPOS.TEXT.COPY_TO_CLIPBOARD\' | translate) : $ctrl.mcText}}" tooltip-is-open="$ctrl.tooltipIsOpen" tooltip-enable="$ctrl.tooltipIsOpen" tooltip-placement="top" ng-click="$event.stopPropagation(); $ctrl.copyToClipboard()" type="button"> <i class="fa fa-clipboard"></i> </button> &nbsp; <span ng-if="!$ctrl.mcHidden" ng-class="$ctrl.mcClass" ng-style="{\'max-width\': $ctrl.mcWidth? $ctrl.mcWidth + \'px\' : \'100%\'}"> {{$ctrl.mcCopied}} </span> </span> '
          ),
      ]);
      const vr = (t) => {
        const c = document.createElement("textarea");
        (c.value = t),
          document.body.append(c),
          c.select(),
          document.execCommand("copy"),
          c.remove();
      };
      u.module("app").component("copyToClipboard", {
        templateUrl: "js/components/copy-to-clipboard.component.html",
        controller: class PL {
          constructor() {
            this.tooltipIsOpen = !1;
          }
          copyToClipboard() {
            vr(this.mcCopied), (this.tooltipIsOpen = !0);
          }
        },
        bindings: {
          mcHidden: "<",
          mcCopied: "<",
          mcText: "<",
          mcClass: "<",
          mcWidth: "<",
        },
      }),
        u.module("app").directive("copyInputToClipboard", [
          "$translate",
          function (t) {
            return {
              templateUrl:
                "tpl/controls/copy-input-to-clipboard-controller.html",
              restrict: "E",
              scope: {
                prop: "<",
                mcTitle: "@",
                placeholder: "@",
                maxlength: "@",
                valueChanged: "<",
                mcReadonly: "<",
              },
              link(c, e, n) {
                t(n.mcTitle)
                  .then(function (i) {
                    const a = "<label>" + i + "</label>";
                    e.children().prepend(a);
                  })
                  .catch(() => u.noop()),
                  t(n.placeholder).then(
                    function (i) {
                      c.place_holder = i;
                    },
                    function () {
                      c.place_holder = n.placeholder;
                    }
                  ),
                  (c.elem = e);
              },
              controller: [
                "$scope",
                function (c) {
                  (c.tooltipIsOpen = !1),
                    c.$watch("prop.triggerError", function (e) {
                      e &&
                        (c.elem[0].scrollIntoView(),
                        (c.prop.triggerError = !1));
                    }),
                    (c.triggerChanged = function () {
                      c.valueChanged && c.valueChanged();
                    }),
                    (c.copyToClipboard = function () {
                      vr(c.prop.value()), (this.tooltipIsOpen = !0);
                    });
                },
              ],
            };
          },
        ]),
        u.module("app").directive("colorPickerControlDesign", [
          "$translate",
          function (t) {
            return {
              restrict: "E",
              scope: {
                prop: "=",
                disabledField: "=",
                mcTitle: "@",
                placeholder: "@",
              },
              link(c, e, n) {
                function i(a) {
                  const l = "<label>" + a + "</label>";
                  e.children().prepend(l);
                }
                (c.maxlength = "maxlength" in n ? n.maxlength : 20),
                  t(n.mcTitle).then(i, function () {
                    i(n.mcTitle);
                  }),
                  t(n.placeholder).then(
                    function (a) {
                      c.place_holder = a;
                    },
                    function () {
                      c.place_holder = n.placeholder;
                    }
                  ),
                  (c.elem = e);
              },
              controller: [
                "$scope",
                function (c) {
                  c.$watch("prop.triggerError", function (e) {
                    e &&
                      (c.elem[0].scrollIntoView(), (c.prop.triggerError = !1));
                  });
                },
              ],
              templateUrl: (c, e) =>
                e.templateUrl || "tpl/controls/color-picker-design.html",
            };
          },
        ]),
        u.module("app").filter("webvisitor", function () {
          return function (t) {
            return t.ParticipantIP
              ? `${t.FromName} ${t.ParticipantEmail} (${t.ParticipantIP})`
              : `${t.FromName}`;
          };
        }),
        u.module("app").directive("ngTranscludeReplace", [
          "$log",
          function (t) {
            return {
              terminal: !0,
              restrict: "EA",
              link(c, e, n, i, a) {
                a
                  ? a(function (l) {
                      l.length ? e.replaceWith(l) : e.remove();
                    })
                  : t.error(
                      "orphan",
                      "Illegal use of ngTranscludeReplace directive in the template! No parent directive that requires a transclusion found. "
                    );
              },
            };
          },
        ]),
        u.module("app").directive("livePattern", function () {
          return {
            restrict: "A",
            require: "ngModel",
            link(t, c, e, n) {
              c.bind("paste keyup", function (i) {
                var a, l, s;
                if (!e.livePattern) return;
                const r = () => c.val(),
                  o = (O) => {
                    n.$setViewValue(O), n.$render();
                  },
                  p = "paste" === i.type,
                  f = p
                    ? (
                        i.clipboardData || i.originalEvent.clipboardData
                      ).getData("text")
                    : r(),
                  m = r(),
                  g = +(null !== (a = e.maxlength) && void 0 !== a
                    ? a
                    : m.length),
                  S = f.replace(new RegExp(e.livePattern, "gi"), "");
                if (p) {
                  i.preventDefault();
                  const O =
                      null !== (l = c[0].selectionStart) && void 0 !== l
                        ? l
                        : 0,
                    j =
                      null !== (s = c[0].selectionEnd) && void 0 !== s ? s : 0;
                  o(
                    `${m.substring(0, O)}${S}${m.substring(
                      j,
                      m.length
                    )}`.substring(0, g)
                  );
                } else o(S.substring(0, g));
              });
            },
          };
        });
      let HL = (() => {
        class t {
          constructor(e) {
            this.el = e;
          }
          set indeterminate(e) {
            this.el &&
              this.el.nativeElement &&
              (this.el.nativeElement.indeterminate =
                void 0 === e || !1 === e._value.Defined);
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.Y36(d.SBq));
          }),
          (t.ɵdir = d.lG2({
            type: t,
            selectors: [["", "indeterminate", ""]],
            inputs: { indeterminate: "indeterminate" },
          })),
          t
        );
      })();
      function jL(t, c) {
        1 & t && d._UZ(0, "span", 6);
      }
      function kL(t, c) {
        if (1 & t) {
          const e = d.EpF();
          d.TgZ(0, "div", 2)(1, "label", 3)(2, "input", 4),
            d.NdJ("ngModelChange", function (i) {
              d.CHM(e);
              const a = d.oxw();
              return d.KtG(null == a.prop ? null : a.prop.value(i));
            }),
            d.qZA(),
            d._UZ(3, "i"),
            d.TgZ(4, "span"),
            d._uU(5),
            d.ALo(6, "translate"),
            d.qZA(),
            d.YNc(7, jL, 1, 0, "span", 5),
            d.qZA()();
        }
        if (2 & t) {
          const e = d.oxw();
          d.Q6J("hidden", null == e.prop ? null : e.prop.hide),
            d.xp6(2),
            d.Q6J("ngModel", null == e.prop ? null : e.prop.value())(
              "disabled",
              null == e.prop ? null : e.prop.disabled
            )("indeterminate", e.prop),
            d.xp6(3),
            d.Oqu(d.lcZ(6, 6, e.mcTitle)),
            d.xp6(2),
            d.Q6J("ngIf", e.availableProEnterprise);
        }
      }
      function UL(t, c) {
        if (
          (1 & t &&
            (d.TgZ(0, "div", 7)(1, "span"),
            d._uU(2),
            d.ALo(3, "translate"),
            d.qZA()()),
          2 & t)
        ) {
          const e = d.oxw();
          d.xp6(2), d.Oqu(d.lcZ(3, 1, e.mcTitle));
        }
      }
      let $L = (() => {
        class t {
          constructor() {}
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)();
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["mc-check-box-panel"]],
            inputs: {
              prop: "prop",
              mcTitle: "mcTitle",
              availableProEnterprise: "availableProEnterprise",
              hide: "hide",
            },
            decls: 2,
            vars: 2,
            consts: [
              ["class", "panel-heading", 3, "hidden", 4, "ngIf"],
              ["class", "panel-heading", 4, "ngIf"],
              [1, "panel-heading", 3, "hidden"],
              [1, "i-checks", "m-t-xs", "m-r", 2, "margin", "0 !important"],
              [
                "type",
                "checkbox",
                3,
                "ngModel",
                "disabled",
                "indeterminate",
                "ngModelChange",
              ],
              ["translate", "REPOS.TEXT.AVAILABLE_PROF_ENTERPRISE", 4, "ngIf"],
              ["translate", "REPOS.TEXT.AVAILABLE_PROF_ENTERPRISE"],
              [1, "panel-heading"],
            ],
            template: function (e, n) {
              1 & e &&
                (d.YNc(0, kL, 8, 8, "div", 0), d.YNc(1, UL, 4, 3, "div", 1)),
                2 & e &&
                  (d.Q6J("ngIf", !n.hide), d.xp6(1), d.Q6J("ngIf", n.hide));
            },
            dependencies: [Ye.O5, q.Wl, q.JJ, q.On, He.Pi, HL, He.X$],
            encapsulation: 2,
          })),
          t
        );
      })();
      u.module("app").directive(
        "mcCheckBoxPanel",
        (0, $.ke)({ component: $L, downgradedModule: "McCheckBoxPanelModule" })
      );
      var GL = w(35684);
      function BL(t, c) {
        if (1 & t) {
          const e = d.EpF();
          d.TgZ(0, "button", 12),
            d.NdJ("click", function () {
              d.CHM(e);
              const i = d.oxw();
              return d.KtG(i.saveClick());
            }),
            d.qZA();
        }
      }
      let VL = (() => {
        class t {
          constructor(e, n, i, a, l) {
            (this.updatesService = e),
              (this.messageBoxService = n),
              (this.cd = i),
              (this.sys = a),
              (this.fb = l),
              (this.form = this.fb.group({
                AutoUpdateEnabled: this.fb.control(!1),
                Schedule: Vn(this.fb),
              })),
              (this.sub = new mt.w0()),
              (this.okButtonVisible = !1),
              (this.saving = !1);
          }
          ngOnInit() {
            const e = this.form.controls,
              n = this.sys.systemParameters.pipe((0, We.U)((a) => a.IsHosted)),
              i = this.sys.systemParameters.pipe(
                (0, We.U)((a) => {
                  var l;
                  return null === (l = null == a ? void 0 : a.License) ||
                    void 0 === l
                    ? void 0
                    : l.IsMaintainceExpired;
                })
              );
            this.sub.add(
              at((0, It.a)([n, i]).pipe((0, We.U)(([a, l]) => !a && !l)), [
                e.AutoUpdateEnabled,
              ])
            ),
              this.sub.add(
                at(
                  (0, It.a)([rt(e.AutoUpdateEnabled), n]).pipe(
                    (0, We.U)(([a, l]) => a || l)
                  ),
                  [e.Schedule]
                )
              ),
              this.sub.add(
                this.form.statusChanges.pipe((0, GL.T)(1)).subscribe((a) => {
                  (this.okButtonVisible = this.form.dirty),
                    this.cd.markForCheck();
                })
              ),
              this.updatesService.getUpdateSettings().subscribe({
                next: (a) => {
                  this.form.patchValue(a), this.cd.markForCheck();
                },
                error: (a) => this.messageBoxService.error(a),
              });
          }
          saveClick() {
            this.form.invalid
              ? this.form.markAllAsTouched()
              : this.saving ||
                ((this.saving = !0),
                this.updatesService
                  .setUpdateSettings({
                    actionImportSetUpdateSettingsRequestBody: {
                      settings: this.form.value,
                    },
                  })
                  .subscribe({
                    next: (e) => {
                      (this.saving = !1),
                        this.form.markAsPristine(),
                        (this.okButtonVisible = !1),
                        this.cd.markForCheck();
                    },
                    error: (e) => {
                      (this.saving = !1), this.messageBoxService.error(e);
                    },
                  }));
          }
          ngOnDestroy() {
            this.sub.unsubscribe();
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(
              d.Y36(De.jG),
              d.Y36(sn.S),
              d.Y36(d.sBO),
              d.Y36(Cn),
              d.Y36(q.qu)
            );
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["app-automatic-updates"]],
            decls: 12,
            vars: 6,
            consts: [
              [3, "formGroup"],
              [1, "panel", "panel-default"],
              [1, "panel-heading"],
              [
                "mcTitle",
                "SYSTEM_STATUS.SECTIONS.UPDATES.AUTOMATIC_UPDATES",
                "formControlName",
                "AutoUpdateEnabled",
                3,
                "removeClass",
              ],
              [1, "panel-body"],
              [
                "translate",
                "SYSTEM_STATUS.SECTIONS.UPDATES.AUTOMATIC_UPDATES_INFO",
              ],
              [
                "translate",
                "SYSTEM_STATUS.SECTIONS.UPDATES.AUTOMATIC_UPDATES_INFO2",
              ],
              [
                "translate",
                "SYSTEM_STATUS.SECTIONS.UPDATES.AUTOMATIC_UPDATES_INFO3",
              ],
              ["translate", "HEADER.UPDATES.LINUX_UPDATES_INFO"],
              [1, "form-group"],
              [3, "form", "allowMonthly", "useTimePeriod"],
              [
                "class",
                "btn m-b-xs w-xs btn-success",
                "translate",
                "REPOS.BUTTONS.SAVE_BTN",
                "id",
                "btnSave",
                "type",
                "button",
                3,
                "click",
                4,
                "ngIf",
              ],
              [
                "translate",
                "REPOS.BUTTONS.SAVE_BTN",
                "id",
                "btnSave",
                "type",
                "button",
                1,
                "btn",
                "m-b-xs",
                "w-xs",
                "btn-success",
                3,
                "click",
              ],
            ],
            template: function (e, n) {
              1 & e &&
                (d.TgZ(0, "form", 0)(1, "div", 1)(2, "div", 2),
                d._UZ(3, "app-checkbox-control", 3),
                d.qZA(),
                d.TgZ(4, "div", 4),
                d._UZ(5, "p", 5)(6, "p", 6)(7, "p", 7)(8, "p", 8),
                d.TgZ(9, "div", 9),
                d._UZ(10, "app-schedule-control", 10),
                d.qZA(),
                d.YNc(11, BL, 1, 0, "button", 11),
                d.qZA()()()),
                2 & e &&
                  (d.Q6J("formGroup", n.form),
                  d.xp6(3),
                  d.Q6J("removeClass", !0),
                  d.xp6(7),
                  d.Q6J("form", n.form.controls.Schedule)("allowMonthly", !0)(
                    "useTimePeriod",
                    !0
                  ),
                  d.xp6(1),
                  d.Q6J("ngIf", n.okButtonVisible));
            },
            dependencies: [bn, kt, Ye.O5, q._Y, q.JJ, q.JL, He.Pi, q.sg, q.u],
            encapsulation: 2,
            changeDetection: 0,
          })),
          t
        );
      })();
      u.module("app").directive(
        "mcAutomaticUpdates",
        (0, $.ke)({ component: VL, downgradedModule: "UpdatesModule" })
      );
      let FL = (() => {
        class t {
          constructor(e) {
            (this.bsModalRef = e), (this.result = qe.q.Cancel);
          }
          ok() {
            (this.result = qe.q.Ok), this.bsModalRef.hide();
          }
          hide() {
            this.bsModalRef.hide();
          }
          ngOnInit() {}
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.Y36(et.UZ));
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["app-debian-upgrade-modal"]],
            decls: 15,
            vars: 0,
            consts: [
              [1, "modal-header"],
              ["type", "button", 1, "close", 3, "click"],
              ["translate", "HEADER.UPDATES.DEBIAN_UPGRADE", 1, "modal-title"],
              [1, "modal-body"],
              ["translate", "HEADER.UPDATES.THIS_ACTION_UPGRADES_LINUX_OS"],
              ["translate", "HEADER.UPDATES.IMPORTANT"],
              ["translate", "HEADER.UPDATES.DEBIAN_UPGRADE_INFO_1"],
              ["translate", "HEADER.UPDATES.DEBIAN_UPGRADE_INFO_2"],
              ["translate", "HEADER.UPDATES.DEBIAN_UPGRADE_INFO_3"],
              [1, "modal-footer"],
              [
                "translate",
                "HEADER.UPDATES.UPGRADE",
                "type",
                "button",
                1,
                "btn",
                "btn-primary",
                3,
                "click",
              ],
              [
                "translate",
                "REPOS.BUTTONS.CANCEL_BTN",
                "type",
                "button",
                1,
                "btn",
                "btn-default",
                3,
                "click",
              ],
            ],
            template: function (e, n) {
              1 & e &&
                (d.TgZ(0, "div", 0)(1, "button", 1),
                d.NdJ("click", function () {
                  return n.hide();
                }),
                d._uU(2, "\xd7"),
                d.qZA(),
                d._UZ(3, "h4", 2),
                d.qZA(),
                d.TgZ(4, "div", 3),
                d._UZ(5, "p", 4),
                d.TgZ(6, "strong"),
                d._UZ(7, "p", 5),
                d.qZA(),
                d._UZ(8, "p", 6)(9, "p", 7)(10, "br")(11, "p", 8),
                d.qZA(),
                d.TgZ(12, "div", 9)(13, "button", 10),
                d.NdJ("click", function () {
                  return n.ok();
                }),
                d.qZA(),
                d.TgZ(14, "button", 11),
                d.NdJ("click", function () {
                  return n.hide();
                }),
                d.qZA()());
            },
            dependencies: [He.Pi],
            encapsulation: 2,
          })),
          t
        );
      })();
      var Nr = w(60515),
        Ii = w(55716),
        zL = w(67851);
      function WL(t, c) {
        if (1 & t) {
          const e = d.EpF();
          d.TgZ(0, "mc-panel", 1)(1, "p", 2),
            d._uU(
              2,
              " 3CX detected a new Debian OS Upgrade - Debian 10. Click Upgrade to proceed "
            ),
            d.qZA(),
            d.TgZ(3, "button", 3),
            d.NdJ("click", function () {
              d.CHM(e);
              const i = d.oxw();
              return d.KtG(i.upgrade());
            }),
            d.qZA()();
        }
      }
      let YL = (() => {
        class t {
          constructor(e, n, i, a, l) {
            (this.cd = e),
              (this.updatesService = n),
              (this.messageBoxService = i),
              (this.bsModalService = a),
              (this.$state = l),
              (this.hasDebianUpgrade = !1);
          }
          upgrade() {
            const e = this.bsModalService.show(FL);
            e.onHide
              .pipe(
                (0, it.w)(() =>
                  e.content.result === qe.q.Ok ? (0, Rt.of)(!0) : Nr.E
                ),
                (0, it.w)(() => this.updatesService.upgradeDebian())
              )
              .subscribe({
                next: () => {
                  this.$state.go("login");
                },
                error: (n) => this.messageBoxService.error(n),
              });
          }
          ngOnInit() {
            this.updatesService.hasDebianUpgrade().subscribe({
              next: (e) => {
                (this.hasDebianUpgrade = e.value), this.cd.markForCheck();
              },
              error: (e) => this.messageBoxService.error(e),
            });
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(
              d.Y36(d.sBO),
              d.Y36(De.jG),
              d.Y36(sn.S),
              d.Y36(et.tT),
              d.Y36(Ii.StateService)
            );
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["debian-upgrade"]],
            decls: 1,
            vars: 1,
            consts: [
              ["header", "HEADER.UPDATES.DEBIAN_UPGRADE_INFO", 4, "ngIf"],
              ["header", "HEADER.UPDATES.DEBIAN_UPGRADE_INFO"],
              ["translate", "HEADER.UPDATES.DEBIAN_UPDATES_INFO"],
              [
                "translate",
                "HEADER.UPDATES.UPGRADE",
                "type",
                "button",
                1,
                "btn",
                "btn-primary",
                3,
                "click",
              ],
            ],
            template: function (e, n) {
              1 & e && d.YNc(0, WL, 4, 0, "mc-panel", 0),
                2 & e && d.Q6J("ngIf", n.hasDebianUpgrade);
            },
            dependencies: [Ye.O5, He.Pi, zL.K],
            encapsulation: 2,
            changeDetection: 0,
          })),
          t
        );
      })();
      u.module("app").directive(
        "debianUpgrade",
        (0, $.ke)({ component: YL, downgradedModule: "UpdatesModule" })
      );
      var XL = w(17445);
      let yr = (() => {
        class t {
          constructor() {
            this.refreshMenu$ = new ti.x();
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)();
          }),
          (t.ɵprov = d.Yz7({ token: t, factory: t.ɵfac, providedIn: "root" })),
          t
        );
      })();
      var vi = w(24138),
        Mn = w(88274);
      let qL = (() => {
          class t {
            transform(e, ...n) {
              if (!e) return 0;
              let i = 0;
              if (e.categories) for (const a of e.categories) i += a.Count;
              if (e.perPage) for (const a of e.perPage) i += a.Count;
              return i;
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)();
            }),
            (t.ɵpipe = d.Yjl({ name: "doesUpdateExist", type: t, pure: !0 })),
            t
          );
        })(),
        QL = (() => {
          class t {
            transform(e) {
              if (!e) return 0;
              let n = 0;
              for (const i of e) n += i.Count;
              return n;
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)();
            }),
            (t.ɵpipe = d.Yjl({ name: "updatesCount", type: t, pure: !0 })),
            t
          );
        })(),
        ZL = (() => {
          class t {
            transform(e, ...n) {
              return e && e.Category
                ? "sbc" === e.Category
                  ? "app.siptrunks"
                  : void 0
                : "app.updates.all";
            }
          }
          return (
            (t.ɵfac = function (e) {
              return new (e || t)();
            }),
            (t.ɵpipe = d.Yjl({ name: "linkPerCategory", type: t, pure: !0 })),
            t
          );
        })();
      function KL(t, c) {
        if (
          (1 & t &&
            (d.TgZ(0, "span", 7),
            d._uU(1),
            d.ALo(2, "updatesCount"),
            d.ALo(3, "updatesCount"),
            d.qZA()),
          2 & t)
        ) {
          const e = d.oxw();
          d.xp6(1),
            d.hij(
              " ",
              d.lcZ(2, 1, e.updates.perPage) +
                d.lcZ(3, 3, e.updates.categories),
              " "
            );
        }
      }
      const JL = function (t) {
        return { OpenCategory: t };
      };
      function eD(t, c) {
        if (
          (1 & t &&
            (d.TgZ(0, "a", 14)(1, "span", 15)(2, "span", 16),
            d._uU(3),
            d.qZA(),
            d._UZ(4, "span", 17)(5, "br"),
            d.qZA()()),
          2 & t)
        ) {
          const e = c.$implicit;
          d.Q6J("uiParams", d.VKq(3, JL, e.Category)),
            d.xp6(3),
            d.Oqu(e.Count),
            d.xp6(1),
            d.MGl("translate", "update_category.", e.Category, "");
        }
      }
      function tD(t, c) {
        if (
          (1 & t &&
            (d.TgZ(0, "a", 18),
            d.ALo(1, "linkPerCategory"),
            d.TgZ(2, "span", 15)(3, "span", 16),
            d._uU(4),
            d.qZA(),
            d.TgZ(5, "span", 17),
            d._uU(6, "New"),
            d.qZA(),
            d._UZ(7, "br"),
            d.qZA()()),
          2 & t)
        ) {
          const e = c.$implicit;
          d.Q6J("uiSref", d.lcZ(1, 3, e)),
            d.xp6(4),
            d.Oqu(e.Count),
            d.xp6(1),
            d.MGl("translate", "update_category.", e.Category, "");
        }
      }
      function nD(t, c) {
        1 & t &&
          (d.TgZ(0, "div", 19),
          d._UZ(1, "a", 20),
          d.TgZ(2, "a", 21),
          d._UZ(3, "i", 22),
          d.qZA()());
      }
      function iD(t, c) {
        1 & t &&
          (d.TgZ(0, "div", 19),
          d._UZ(1, "span", 23),
          d.TgZ(2, "a", 21),
          d._UZ(3, "i", 22),
          d.qZA()());
      }
      function aD(t, c) {
        if (
          (1 & t &&
            (d.TgZ(0, "div", 8)(1, "div", 9)(2, "div", 10),
            d.YNc(3, eD, 6, 5, "a", 11),
            d.YNc(4, tD, 8, 5, "a", 12),
            d.qZA(),
            d.YNc(5, nD, 4, 0, "div", 13),
            d.ALo(6, "updatesCount"),
            d.YNc(7, iD, 4, 0, "div", 13),
            d.ALo(8, "updatesCount"),
            d.qZA()()),
          2 & t)
        ) {
          const e = d.oxw();
          d.xp6(3),
            d.Q6J("ngForOf", e.updates.categories),
            d.xp6(1),
            d.Q6J("ngForOf", e.updates.perPage),
            d.xp6(1),
            d.Q6J("ngIf", d.lcZ(6, 4, e.updates.categories) > 0),
            d.xp6(2),
            d.Q6J("ngIf", 0 == d.lcZ(8, 6, e.updates.categories));
        }
      }
      let lD = (() => {
        class t {
          constructor(e, n, i) {
            (this.updatesService = e),
              (this.updates = { perPage: [], categories: [] }),
              (this.sub = new mt.w0()),
              this.sub.add(
                (0, un.T)([(0, XL.F)(9e5), i.refreshMenu$])
                  .pipe(
                    (0, it.w)(() =>
                      Qt(n.getUser())
                        ? this.updatesService
                            .getUpdatesStats()
                            .pipe((0, ao.K)(() => Nr.E))
                        : (0, Rt.of)({ TcxUpdate: [], PerPage: [] })
                    )
                  )
                  .subscribe((a) => {
                    this.updates = this.loadUpdatesInfoForHeader(a);
                  })
              );
          }
          loadUpdatesInfoForHeader(e) {
            const i = e.PerPage,
              a = e.TcxUpdate;
            return (
              (function sD(t) {
                let e,
                  c = 0;
                const n = t.find((l, s) => {
                  if ("cti" == l.Category) return (e = s), !0;
                });
                let i;
                n && ((c += n.Count), t.splice(e, 1));
                const a = t.find((l, s) => {
                  if ("cert" == l.Category) return (i = s), !0;
                });
                a && ((c += a.Count), t.splice(i, 1)),
                  c > 0 && t.push({ Category: "other_updates", Count: c });
              })(a),
              (function oD(t) {
                const c = t.find((i) => {
                  if ("gateway" == i.Category) return !0;
                });
                let e;
                const n = t.find((i, a) => {
                  if ("fxs" == i.Category) return (e = a), !0;
                });
                n &&
                  (t.splice(e, 1),
                  c
                    ? (c.Count += n.Count)
                    : ((n.Category = "gateway"), t.push(n)));
              })(a),
              bo(a, "Category"),
              { perPage: i, categories: a }
            );
          }
          ngOnDestroy() {
            this.sub.unsubscribe();
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.Y36(De.jG), d.Y36(An), d.Y36(yr));
          }),
          (t.ɵcmp = d.Xpm({
            type: t,
            selectors: [["updates-menu"]],
            decls: 8,
            vars: 3,
            consts: [
              ["dropdown", ""],
              [
                "dropdownToggle",
                "",
                "aria-haspopup",
                "true",
                "aria-expanded",
                "false",
                1,
                "navbar-ref",
              ],
              ["translate", "HEADER.UPDATES.UPDATES"],
              [1, "visible-xs-inline"],
              ["class", "badge badge-sm up bg-danger pull-right-xs", 4, "ngIf"],
              [1, "caret"],
              ["class", "dropdown-menu w-xl", 4, "dropdownMenu"],
              [1, "badge", "badge-sm", "up", "bg-danger", "pull-right-xs"],
              [1, "dropdown-menu", "w-xl"],
              [1, "panel", "bg-white"],
              [1, "list-group"],
              [
                "uiSref",
                "app.updates.all",
                "class",
                "list-group-item",
                3,
                "uiParams",
                4,
                "ngFor",
                "ngForOf",
              ],
              ["class", "list-group-item", 3, "uiSref", 4, "ngFor", "ngForOf"],
              ["class", "panel-heading b-light bg-light", 4, "ngIf"],
              [
                "uiSref",
                "app.updates.all",
                1,
                "list-group-item",
                3,
                "uiParams",
              ],
              [1, "clear", "block", "m-b-none"],
              [1, "m-r-xs"],
              [3, "translate"],
              [1, "list-group-item", 3, "uiSref"],
              [1, "panel-heading", "b-light", "bg-light"],
              [
                "uiSref",
                "app.updates.all",
                "translate",
                "HEADER.UPDATES.CLICK_HERE_UPDATES_PAGE",
                2,
                "text-decoration",
                "underline",
              ],
              ["uiSref", "app.updates.all", 1, "pull-right"],
              [1, "fa", "fa-cog"],
              ["translate", "HEADER.UPDATES.YOUR_SYSTEM_IS_UP_TO_DATE"],
            ],
            template: function (e, n) {
              1 & e &&
                (d.TgZ(0, "div", 0)(1, "a", 1),
                d._UZ(2, "span", 2)(3, "span", 3),
                d.YNc(4, KL, 4, 5, "span", 4),
                d.ALo(5, "doesUpdateExist"),
                d._UZ(6, "span", 5),
                d.qZA(),
                d.YNc(7, aD, 9, 8, "div", 6),
                d.qZA()),
                2 & e && (d.xp6(4), d.Q6J("ngIf", d.lcZ(5, 1, n.updates)));
            },
            dependencies: [
              vi.UISref,
              vi.AnchorUISref,
              Mn.Hz,
              Mn.Mq,
              Mn.TO,
              Ye.sg,
              Ye.O5,
              He.Pi,
              qL,
              QL,
              ZL,
            ],
            encapsulation: 2,
          })),
          t
        );
      })();
      function dD(t) {
        const c = t.date;
        return "day" === t.mode && (0 === c.getDay() || 6 === c.getDay());
      }
      u
        .module("app")
        .directive(
          "updatesMenu",
          (0, $.ke)({ component: lD, downgradedModule: "UpdatesModule" })
        ),
        u
          .module("app")
          .factory("$ngTranslateService", (0, $.dV)(He.sK))
          .factory("$ngBsLocalService", (0, $.dV)(qt.vL))
          .factory("GroupListApiService", (0, $.dV)(va))
          .factory("TrunkListApiService", (0, $.dV)(ya))
          .factory("UpdatesApiService", (0, $.dV)(De.jG))
          .factory("BsModalService", (0, $.dV)(et.tT))
          .factory("BackupsApiService", (0, $.dV)(De.wn))
          .factory("RecordingsApiService", (0, $.dV)(De.jq))
          .factory("UpdatesMenuService", (0, $.dV)(yr))
          .controller("AppCtrl", [
            "$scope",
            "$http",
            "$translate",
            "$localStorage",
            "$window",
            "$interval",
            "amMoment",
            "$animate",
            "$ngTranslateService",
            "$ngBsLocalService",
            function (t, c, e, n, i, a, l, s, r, o) {
              !!/MSIE/i.exec(navigator.userAgent) &&
                u.element(i.document.body).addClass("ie"),
                (function cD(t) {
                  return /iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(
                    t.navigator.userAgent || t.navigator.vendor || t.opera
                  );
                })(i) && u.element(i.document.body).addClass("smart"),
                navigator.userAgent.includes("Selenium") &&
                  (console.log("Disabling CSS animations"),
                  s.enabled(!1),
                  u.element(i.document.body).addClass("notransition")),
                (t.app = {
                  name: "Management console",
                  version: "",
                  color: {
                    primary: "#7266ba",
                    info: "#23b7e5",
                    success: "#27c24c",
                    warning: "#fad733",
                    danger: "#f05050",
                    light: "#e8eff0",
                    dark: "#3a3f51",
                    black: "#1c2b36",
                  },
                  settings: {
                    themeID: 1,
                    navbarHeaderColor: "bg-black",
                    navbarCollapseColor: "bg-black",
                    asideColor: "bg-white b-r",
                    headerFixed: !0,
                    asideFixed: !1,
                    asideFolded: !1,
                    advancedOpen: !1,
                    asideDock: !1,
                    container: !1,
                  },
                }),
                u.isDefined(n.settings)
                  ? (t.app.settings = n.settings)
                  : (n.settings = t.app.settings),
                t.$watch(
                  "app.settings",
                  function () {
                    t.app.settings.asideDock &&
                      t.app.settings.asideFixed &&
                      (t.app.settings.headerFixed = !0),
                      t.app.settings.container
                        ? u.element("html").addClass("bg")
                        : u.element("html").removeClass("bg"),
                      (n.settings = t.app.settings);
                  },
                  !1
                ),
                (t.lang = { isopen: !1 }),
                (t.languages = bi),
                (t.setLanguage = (O) => {
                  const j = yl(O);
                  (t.selectedLanguage = bi[j]),
                    l.changeLocale(t.selectedLanguage.momentLocale),
                    e.use(j).catch(() => u.noop()),
                    r.use(j),
                    o.use(t.selectedLanguage.bsLocale),
                    Tt().locale(t.selectedLanguage.dayJsLocale),
                    t.$broadcast("localeChange", { langKey: j });
                }),
                t.setLanguage(e.proposedLanguage()),
                (t.today = function () {
                  t.dt = new Date();
                }),
                t.today(),
                (t.clear = function () {
                  t.dt = null;
                }),
                (t.inlineOptions = {
                  customClass: function m(O) {
                    if ("day" === O.mode) {
                      const X = new Date(O.date).setHours(0, 0, 0, 0);
                      for (const K of t.events)
                        if (X === new Date(K.date).setHours(0, 0, 0, 0))
                          return K.status;
                    }
                    return "";
                  },
                  minDate: new Date(),
                  showWeeks: !0,
                }),
                (t.dateOptions = {
                  dateDisabled: dD,
                  formatYear: "yy",
                  minDate: new Date(),
                  startingDay: 1,
                }),
                (t.toggleMin = function () {
                  (t.inlineOptions.minDate = t.inlineOptions.minDate
                    ? null
                    : new Date()),
                    (t.dateOptions.minDate = t.inlineOptions.minDate);
                }),
                t.toggleMin(),
                (t.open1 = function () {
                  t.popup1.opened = !0;
                }),
                (t.open2 = function () {
                  t.popup2.opened = !0;
                }),
                (t.setDate = function (O, j, te) {
                  t.dt = new Date(O, j, te);
                }),
                (t.formats = [
                  "dd-MMMM-yyyy",
                  "yyyy/MM/dd",
                  "dd.MM.yyyy",
                  "shortDate",
                ]),
                (t.format = t.formats[0]),
                (t.altInputFormats = ["M!/d!/yyyy"]),
                (t.popup1 = { opened: !1 }),
                (t.popup2 = { opened: !1 });
              const g = new Date();
              g.setDate(g.getDate() + 1);
              const S = new Date();
              S.setDate(g.getDate() + 1),
                (t.events = [
                  { date: g, status: "full" },
                  { date: S, status: "partially" },
                ]);
            },
          ]),
        u.module("app").controller("AlertCtrl", [
          "$scope",
          "header",
          "message",
          function (t, c, e) {
            (t.header = c), (t.message = e);
          },
        ]),
        u.module("app").controller("InputBoxCtrl", [
          "$scope",
          "header",
          "message",
          "format",
          function (t, c, e, n) {
            (t.header = c), (t.message = e), (t.format = n), (t.inputText = "");
          },
        ]),
        u.module("app").decorator("$http", [
          "$delegate",
          "$rootScope",
          "$q",
          "MessageBoxSvc",
          "$translate",
          function (t, c, e, n, i) {
            let a = 0;
            function s(p) {
              const f = {};
              if (void 0 !== p && null != p.Arguments)
                for (let S = 0; S < p.Arguments.length; S++)
                  f["p" + S] = p.Arguments[S];
              void 0 !== (null == p ? void 0 : p.Comment) &&
                (f.comment = p.Comment);
              const m = p.Message + "_MULT",
                g = i.instant(m, f);
              g === m
                ? (p.Message = i.instant(p.Message, f))
                : ((p.Message = g), (p.Comment = ""));
            }
            function r(p) {
              function f() {
                a--, 0 == a && c.$broadcast("requestStop");
              }
              0 == a && c.$broadcast("requestStart"), a++;
              const m = e.defer();
              return (
                p.then(
                  function (S) {
                    f(),
                      !0 === S.data.delayedError
                        ? (s(S.data.error),
                          n
                            .alertBox(
                              "WARNINGS.SERVER_ERROR",
                              S.data.error.Message
                            )
                            .finally(function O() {
                              m.reject(S);
                            })
                            .catch(() => u.noop()))
                        : m.resolve(S);
                  },
                  function (S) {
                    function O() {
                      m.reject(S);
                    }
                    S.status == Je.Status522ValidationError && s(S.data),
                      f(),
                      (S.config &&
                        S.config.timeout &&
                        S.config.timeout.userCancelled) ||
                      403 == S.status ||
                      413 == S.status ||
                      S.status == Je.Status528TestRequestFailed
                        ? O()
                        : S.status == Je.Status520ObjectNotFound
                        ? (function l() {
                            return n.alertBox(
                              "WARNINGS.OBJECT_NOT_FOUND",
                              "WARNINGS.SESSION_EXPIRED"
                            );
                          })()
                            .finally(O)
                            .catch(() => u.noop())
                        : -1 == S.status
                        ? n
                            .alertBox(
                              "WARNINGS.SERVER_ERROR",
                              "WARNINGS.WEB_SERVER_NOT_RESPONDING"
                            )
                            .finally(O)
                            .catch(() => u.noop())
                        : 504 == S.status
                        ? n
                            .alertBox(
                              "WARNINGS.SERVER_ERROR",
                              "WARNINGS.MANAGEMENT_CONSOLE_NOT_REPSONDING"
                            )
                            .finally(O)
                            .catch(() => u.noop())
                        : S.status == Je.Status523UserMessage
                        ? (s(S.data),
                          n
                            .alertBox("WARNINGS.SERVER_ERROR", S.data.Message)
                            .finally(O)
                            .catch(() => u.noop()))
                        : S.status == Je.Status527WarningMessage
                        ? n
                            .alertBox("WARNINGS.WARNING", S.data)
                            .finally(O)
                            .catch(() => u.noop())
                        : 521 != S.status &&
                          S.status != Je.Status522ValidationError &&
                          401 != S.status
                        ? n
                            .alertBox(
                              S.statusText + "(" + S.status + ")",
                              S.data
                            )
                            .finally(O)
                            .catch(() => u.noop())
                        : O();
                  }
                ),
                m.promise
              );
            }
            return (
              (t.getApi = function (p, f) {
                return r(t.get(p, f));
              }),
              (t.postApi = function (p, f, m) {
                return void 0 === f && (f = {}), r(t.post(p, f, m));
              }),
              (t.postFormData = function (p, f) {
                let m = !1;
                return (
                  f.forEach((g) => {
                    g instanceof File && g.size > 314572800 && (m = !0);
                  }),
                  m
                    ? (n
                        .alertBox("WARNINGS.WARNING", "WARNINGS.FILE_TOO_BIG")
                        .catch(() => u.noop()),
                      e.reject())
                    : r(
                        t.post(p, f, {
                          transformRequest: (g) => g,
                          headers: { "Content-Type": void 0 },
                        })
                      )
                );
              }),
              (t.edit = function (p, f, m) {
                return (function o(p) {
                  const f = e.defer();
                  return (
                    p.then(
                      function (g) {
                        f.resolve(g);
                      },
                      function (g) {
                        f.reject(g);
                      }
                    ),
                    f.promise
                  );
                })(t.postApi(p, f, m));
              }),
              t
            );
          },
        ]);
      var pD = w(28073);
      let uD = (() => {
        class t {
          constructor(e, n) {
            (this.$injector = e), (this.$translate = n);
          }
          error(e) {
            401 !== e.status &&
              this.messageBox("WARNINGS.SERVER_ERROR", (0, pD.Y)(e)).catch(() =>
                u.noop()
              );
          }
          messageBox(e, n, i) {
            return (
              (this.$uibModal =
                this.$uibModal || this.$injector.get("$uibModal")),
              this.$uibModal.open({
                templateUrl: "tpl/general_dialogs/message_box_dialog.html",
                controller: "AlertCtrl",
                size: i || "sm",
                resolve: { header: () => e, message: () => n },
              }).result
            );
          }
          openProgressDialog(e, n) {
            return (
              (this.$uibModal =
                this.$uibModal || this.$injector.get("$uibModal")),
              this.$uibModal.open({
                size: "md",
                backdrop: "static",
                keyboard: !1,
                controller: [
                  "$scope",
                  (i) => {
                    (i.header = e), (i.message = n);
                  },
                ],
                templateUrl: "tpl/general_dialogs/progress_dialog.html",
              })
            );
          }
          confirmDialog(e, n, i) {
            return (
              (e = e || "REPOS.CONFIRMATION.HEADER"),
              (n = n || "REPOS.CONFIRMATION.TEXT"),
              (i = i || "sm"),
              (this.$uibModal =
                this.$uibModal || this.$injector.get("$uibModal")),
              this.$uibModal.open({
                templateUrl: "tpl/general_dialogs/confirm_message_box.html",
                controller: "AlertCtrl",
                size: i,
                backdrop: "static",
                resolve: { header: () => e, message: () => n },
              }).result
            );
          }
          confirmPurgeDialog(e, n, i) {
            return (
              (e = e || "REPOS.CONFIRMATION.HEADER"),
              (n = n || "REPOS.CONFIRMATION.TEXT"),
              (i = i || "md"),
              (this.$uibModal =
                this.$uibModal || this.$injector.get("$uibModal")),
              this.$uibModal.open({
                templateUrl: "tpl/general_dialogs/confirm_purge_box.html",
                controller: "AlertCtrl",
                backdrop: "static",
                size: i,
                resolve: { header: () => e, message: () => n },
              }).result
            );
          }
          inputBoxDialog(e, n, i, a) {
            return (
              (e = e || "REPOS.CONFIRMATION.HEADER"),
              (n = n || "REPOS.CONFIRMATION.TEXT"),
              (i = i || "sm"),
              (this.$uibModal =
                this.$uibModal || this.$injector.get("$uibModal")),
              this.$uibModal.open({
                templateUrl: "tpl/general_dialogs/input_box_dialog.html",
                controller: "InputBoxCtrl",
                size: i,
                resolve: { header: () => e, message: () => n, format: () => a },
              }).result
            );
          }
          regenerateBoxDialog() {
            return (
              (this.$uibModal =
                this.$uibModal || this.$injector.get("$uibModal")),
              this.$uibModal.open({
                component: "regenerateDialog",
                size: "md",
                backdrop: "static",
                resolve: {
                  options: () => ({
                    SipAuth: !0,
                    WebclientPassword: !0,
                    VoicemailPIN: !0,
                    DeskphonePassword: !0,
                    SendWelcomeEmail: !0,
                  }),
                },
              }).result
            );
          }
          resellerInputBoxDialog() {
            return (
              (this.$uibModal =
                this.$uibModal || this.$injector.get("$uibModal")),
              this.$uibModal.open({
                component: "resellerInputBoxDialog",
                size: "md",
              }).result
            );
          }
          alertBox(e, n, i) {
            return (
              (this.$uibModal =
                this.$uibModal || this.$injector.get("$uibModal")),
              this.$uibModal.open({
                templateUrl: "tpl/general_dialogs/alert_dialog.html",
                controller: "AlertCtrl",
                size: i || "lg",
                resolve: {
                  header: () => e,
                  message: () => {
                    const a = "error." + n,
                      l = this.$translate.instant(a);
                    return l.trim() !== a.trim() ? l : n;
                  },
                },
              }).result
            );
          }
        }
        return (t.$inject = ["$injector", "$translate"]), t;
      })();
      u.module("app").service("MessageBoxSvc", uD);
      let hD = (() => {
        class t {
          constructor(e, n, i) {
            (this.$http = e), (this.$q = n), (this.SyncRequestSvc = i);
          }
          get(e) {
            return this.$http.getApi("api/edit", { params: { Id: e } });
          }
          syncPostApiCall(e, n) {
            const i = this.$q.defer();
            return (
              this.SyncRequestSvc.postApi(
                e,
                n,
                function (l) {
                  i.resolve(l);
                },
                function (l) {
                  l.status == Je.Status520ObjectNotFound
                    ? i.resolve()
                    : i.reject(l);
                }
              ).catch(() => u.noop()),
              i.promise
            );
          }
          save(e) {
            return this.syncPostApiCall("api/edit/save", e);
          }
          cancel(e) {
            return this.syncPostApiCall("api/edit/cancel", e);
          }
          validate(e) {
            return this.$http.postApi("api/edit/validate", e);
          }
        }
        return (t.$inject = ["$http", "$q", "SyncRequestSvc"]), t;
      })();
      u.module("app").service("EditSvc", hD);
      let fD = (() => {
        class t {
          constructor(e) {
            (this.$http = e),
              (this.validationParams = {
                ExtensionNumberLength: 2,
                placeholderExample: void 0,
              }),
              e
                .getApi("api/CallLog/ValidationParams")
                .then((n) => {
                  this.validationParams = n.data;
                  const i = new Array(
                    this.validationParams.ExtensionNumberLength - 1
                  ).join("0");
                  this.validationParams.placeholderExample =
                    "Example 1" + i + "2, 1" + i + "4-1" + i + "7";
                })
                .catch(() => u.noop());
          }
          getValidationParams() {
            return this.validationParams;
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("ReportsValidationSvc", fD);
      let gD = (() => {
        class t {
          constructor(e) {
            (this.$http = e), (this._chainedPromises = 0);
          }
          postApi(e, n, i, a) {
            const l = () =>
              this.$http.postApi(e, n).then(
                (s) => {
                  i(s), this._chainedPromises--;
                },
                (s) => {
                  a(s), this._chainedPromises--;
                }
              );
            return (
              0 == this._chainedPromises
                ? (this._chainedPromises++, (this._activePromise = l()))
                : (this._chainedPromises++,
                  (this._activePromise = this._activePromise.finally(l))),
              this._activePromise
            );
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("SyncRequestSvc", gD);
      let mD = (() => {
        class t {
          constructor(e, n, i) {
            (this.$http = e),
              (this.$timeout = n),
              (this.MyUtilsSvc = i),
              (this.licenseRefreshedSub$ = new xt.X(!0)),
              (this.userChanged$ = new ti.x()),
              (this.licenseRefreshed$ =
                this.licenseRefreshedSub$.asObservable());
          }
          Poll(e, n, i, a, l) {
            let s,
              r = !0;
            e.$on("$destroy", () => {
              (r = !1), this.$timeout.cancel(s);
            });
            const o = () => {
                this.$http.get(i).then(p, p);
              },
              p = (f) => {
                r &&
                  (f.status >= 200 &&
                    f.status < 300 &&
                    this.processStatusData(n, f, a),
                  (s = this.$timeout(o, 1e3 * (void 0 === l ? 3 : l))));
              };
            o();
          }
          PollList(e, n) {
            this.MyUtilsSvc.initCollectionController(e),
              this.Poll(e, e, n, (i) => {
                null != i && e.mergeItems(i);
              });
          }
          processStatusData(e, n, i) {
            (e.data = n.data), void 0 !== i && i(e.data);
          }
          getAllDN() {
            return this.$http.getApi("api/SystemStatus/AllDN");
          }
          HasSystemOwner() {
            return this.$http.getApi("api/SystemStatus/HasSystemOwner");
          }
          PurgeCallHistory(e, n) {
            return this.$http.postApi("api/Purge/CallHistory", {
              Start: null == n ? void 0 : n.start,
              Stop: null == n ? void 0 : n.stop,
              All: e,
            });
          }
          PurgeCallHistoryUpToTheDate(e) {
            return this.$http.postApi("api/Purge/CallHistoryUpToTheDate", {
              Date: e,
            });
          }
          PurgeEventLog() {
            return this.$http.post("api/SystemStatus/purgeEventLog", {});
          }
          PurgeChatMessages(e, n) {
            return this.$http.postApi("api/Purge/ChatMessages", {
              Start: null == n ? void 0 : n.start,
              Stop: null == n ? void 0 : n.stop,
              All: e,
            });
          }
          PurgeChatMessagesUpToTheDate(e) {
            return this.$http.postApi("api/Purge/ChatMessagesUpToTheDate", {
              Date: e,
            });
          }
          GenerateSupportInfo() {
            return this.$http.post("api/SystemStatus/generateSupportInfo", {});
          }
          ShowErrors(e) {
            return this.$http.post("api/SystemStatus/showErrors", { value: e });
          }
          ShowWarnings(e) {
            return this.$http.post("api/SystemStatus/showWarnings", {
              value: e,
            });
          }
          ShowInformation(e) {
            return this.$http.post("api/SystemStatus/showInformation", {
              value: e,
            });
          }
          ShowErrors2(e) {
            return this.$http.post("api/SystemStatus/showErrors2", {
              value: e,
            });
          }
          ShowWarnings2(e) {
            return this.$http.post("api/SystemStatus/showWarnings2", {
              value: e,
            });
          }
          ShowInformation2(e) {
            return this.$http.post("api/SystemStatus/showInformation2", {
              value: e,
            });
          }
          NumberOfEvents(e) {
            return this.$http.post("api/SystemStatus/setNumberOfEvents", {
              number: e,
            });
          }
          PurgeEventLogAfter(e) {
            return this.$http.post("api/SystemStatus/purgeEventLogAfter", {
              number: e,
            });
          }
          GetDbInformation() {
            return this.$http.post("api/SystemStatus/getDbInformation", {});
          }
          UnlinkReseller() {
            return this.$http.post("api/SystemStatus/unlinkReseller", {});
          }
          LinkReseller(e) {
            return this.$http.post("api/SystemStatus/linkReseller", {
              resellerId: e,
            });
          }
          GetResellerInfo(e) {
            return this.$http.get(
              "api/SystemStatus/getResellerInfo?resellerId=" + e
            );
          }
          LicenseRefreshed() {
            this.licenseRefreshedSub$.next(!0);
          }
        }
        return (t.$inject = ["$http", "$timeout", "MyUtilsSvc"]), t;
      })();
      function Or(t, c) {
        return (t - (t % c)) / c;
      }
      u.module("app").service("SystemStatusSvc", mD),
        u.module("app").filter("seconds2str", [
          "TimeFormatting",
          function (t) {
            return function (c) {
              return t.TimeStrFromSeconds(c);
            };
          },
        ]),
        u.module("app").filter("num2month", [
          function () {
            return function (t) {
              return {
                1: "HOLIDAY_MONTH_JAN",
                2: "HOLIDAY_MONTH_FEB",
                3: "HOLIDAY_MONTH_MAR",
                4: "HOLIDAY_MONTH_APR",
                5: "HOLIDAY_MONTH_MAY",
                6: "HOLIDAY_MONTH_JUN",
                7: "HOLIDAY_MONTH_JUL",
                8: "HOLIDAY_MONTH_AUG",
                9: "HOLIDAY_MONTH_SEP",
                10: "HOLIDAY_MONTH_OCT",
                11: "HOLIDAY_MONTH_NOV",
                12: "HOLIDAY_MONTH_DEC",
              }[t];
            };
          },
        ]),
        u.module("app").service(
          "TimeFormatting",
          class TD {
            pad(c) {
              return c.toString().length < 2 ? "0" + c : c.toString();
            }
            TimeStrFromSeconds(c) {
              const n = Or(c, 3600),
                i = Or(c - 3600 * n, 60);
              return this.pad(n) + ":" + this.pad(i);
            }
            SecondsFromTimeStr(c) {
              const e = c.split(":");
              return (
                60 * Number.parseInt(e[0], 10) * 60 +
                60 * Number.parseInt(e[1], 10)
              );
            }
          }
        ),
        u.module("ui.load", []).service("uiLoad", [
          "$document",
          "$q",
          "$timeout",
          function (t, c, e) {
            const n = [];
            let i = !1;
            const a = c.defer();
            (this.load = function (l) {
              l = u.isArray(l) ? l : l.split(/\s+/);
              const s = this;
              return (
                i || (i = a.promise),
                u.forEach(l, function (r) {
                  i = i.then(function () {
                    return r.includes(".css") ? s.loadCSS(r) : s.loadScript(r);
                  });
                }),
                a.resolve(),
                i
              );
            }),
              (this.loadScript = function (l) {
                if (n[l]) return n[l].promise;
                const s = c.defer(),
                  r = t[0].createElement("script");
                return (
                  (r.src = l),
                  (r.onload = function (o) {
                    e(function () {
                      s.resolve(o);
                    });
                  }),
                  (r.onerror = function (o) {
                    e(function () {
                      s.reject(o);
                    });
                  }),
                  t[0].body.append(r),
                  (n[l] = s),
                  s.promise
                );
              }),
              (this.loadCSS = function (l) {
                if (n[l]) return n[l].promise;
                const s = c.defer(),
                  r = t[0].createElement("link");
                return (
                  (r.rel = "stylesheet"),
                  (r.type = "text/css"),
                  (r.href = l),
                  (r.onload = function (o) {
                    e(function () {
                      s.resolve(o);
                    });
                  }),
                  (r.onerror = function (o) {
                    e(function () {
                      s.reject(o);
                    });
                  }),
                  t[0].head.append(r),
                  (n[l] = s),
                  s.promise
                );
              });
          },
        ]);
      const bD = [
        ["APIKey", "app.settings.security.secure_sip"],
        ["AbilityOptOutRecording", "app.queue_editor.advanced"],
        ["AccessAdmin", "app.extension_editor.rights"],
        ["AdminEmail", "app.settings.google.sign_in"],
        ["AccessEnabled", "app.extension_editor.rights"],
        ["AccessGateways", "app.extension_editor.rights"],
        ["AccessPassword", "app.extension_editor.general"],
        ["AccessReporter", "app.extension_editor.rights"],
        ["AccessReporterRecording", "app.extension_editor.rights"],
        ["AccessRole", "app.extension_editor.rights"],
        ["AdminConfirmNewPassword", "app.settings.security.credentials"],
        ["AdminName", "app.settings.security.credentials"],
        ["AdminNewPassword", "app.settings.security.credentials"],
        ["AdminPassword", "app.settings.security.credentials"],
        ["AllowFwdToExternal", "app.settings.pbx"],
        ["AllowLanOnly", "app.extension_editor.options"],
        ["AllowWebMeeting", "app.extension_editor.options"],
        ["AllowedExtensions", "app.bridge_editor.remote_presence"],
        ["AnnounceQueuePosition", "app.queue_editor.general"],
        ["AnnounceQueuePositionInterval", "app.queue_editor.general"],
        ["AuthId", "app.extension_editor.phone_provisioning"],
        ["AuthId", "app.settings.fax"],
        ["AuthId", "app.siptrunks_editor.general"],
        ["AuthPassword", "app.bridge_editor.general"],
        ["AuthPassword", "app.extension_editor.phone_provisioning"],
        ["AuthPassword", "app.settings.fax"],
        ["AuthPassword", "app.siptrunks_editor.general"],
        ["BlockRemoteTunnel", "app.extension_editor.options"],
        ["Business", "app.contact_editor"],
        ["Business2", "app.contact_editor"],
        ["BusinessFax", "app.contact_editor"],
        ["BusyMonitorDialCode", "app.settings.pbx"],
        ["BusyMonitorTimeout", "app.settings.pbx"],
        ["CallScreening", "app.extension_editor.options"],
        [
          "CallSourceIdentificationEnabled",
          "app.siptrunks_editor.inbound_parameters",
        ],
        ["CallbackMode", "app.queue_editor.advanced"],
        ["CallbackPrefix", "app.queue_editor.advanced"],
        ["CallbackTimeout", "app.queue_editor.advanced"],
        ["CapabilityPBXDeliversAudio", "app.extension_editor.options"],
        ["CapabilityReInvite", "app.extension_editor.options"],
        ["CapabilityReplacesHeader", "app.extension_editor.options"],
        ["CapabilitySequreRTP", "app.extension_editor.options"],
        ["CapabilitySequreSIP", "app.extension_editor.options"],
        ["Certificate", "app.settings.security.secure_sip"],
        ["CertificateEnabled", "app.settings.security.secure_sip"],
        ["Codecs", "app.bridge_editor.advanced"],
        ["Codecs", "app.extension_editor.phone_provisioning"],
        ["Codecs", "app.siptrunks_editor.advanced"],
        ["Codecs", "app.fxs_editor.general"],
        ["DeskphonePassword", "app.fxs_editor.general"],
        ["Company", "app.contact_editor"],
        ["ConferenceEnablePIN", "app.settings.webmeeting.audio"],
        ["ConferenceExtension", "app.settings.webmeeting.audio"],
        ["ConferenceMainPhoneNumber", "app.settings.webmeeting.audio"],
        ["ConferenceMcuServer", "app.settings.webmeeting.video"],
        ["ConferenceMusicOnHold", "app.settings.webmeeting.audio"],
        ["ConferencePIN", "app.settings.webmeeting.audio"],
        ["ConferenceTheme", "app.settings.webmeeting.video"],
        ["CountryForLicense", "app.settings.license"],
        ["CurrentProfile", "app.extension_editor.general"],
        ["CustomValue", "app.siptrunks_editor.outbound_parameters"],
        ["CustomNumber", "app.extension_editor.blf"],
        ["CustomFirstName", "app.extension_editor.blf"],
        ["CustomLastName", "app.extension_editor.blf"],
        ["DND", "app.extension_editor.general"],
        ["Days", "app.queue_editor.advanced"],
        ["DeliverAudio", "app.bridge_editor.advanced"],
        ["DeliverAudio", "app.siptrunks_editor.advanced"],
        ["DeskphonePassword", "app.extension_editor.phone_provisioning"],
        ["DialCodeBillingCode", "app.settings.dial_codes"],
        ["DialCodeHideCallerID", "app.settings.dial_codes"],
        ["DialCodeIntercom", "app.settings.dial_codes"],
        ["DialCodeLoggedInQueue", "app.settings.dial_codes"],
        ["DialCodeLoggedOutQueue", "app.settings.dial_codes"],
        ["DialCodeOutOffice", "app.settings.dial_codes"],
        ["DialCodePark", "app.settings.dial_codes"],
        ["DialCodePickup", "app.settings.dial_codes"],
        ["DialCodeProfileStatus", "app.settings.dial_codes"],
        ["DialCodeSetAvailable", "app.settings.dial_codes"],
        ["DialCodeSetAway", "app.settings.dial_codes"],
        ["DialCodeUnpark", "app.settings.dial_codes"],
        ["DialCodeVMail", "app.settings.dial_codes"],
        ["DirectSIPAllowExternal", "app.settings.network.fqdn"],
        ["DirectSIPLocalDomain", "app.settings.network.fqdn"],
        ["DisableOutboundCallsOutOfficeHours", "app.settings.pbx"],
        ["DisableVideo", "app.siptrunks_editor.advanced"],
        ["Disabled", "app.extension_editor.options"],
        ["DnRanges", "app.outbound_rule_editor"],
        ["E164AreaCode", "app.settings.e164"],
        ["E164Enabled", "app.settings.e164"],
        ["E164InternationalCode", "app.settings.e164"],
        ["E164NationalCode", "app.settings.e164"],
        ["E164Prefix", "app.settings.e164"],
        ["E164RemoveAreaCode", "app.settings.e164"],
        ["E164RemoveCountryCode", "app.settings.e164"],
        ["Email", "app.contact_editor"],
        ["Email", "app.extension_editor.general"],
        ["Email", "app.settings.fax"],
        ["EmailAddresses", "app.settings.email.main"],
        ["EnableCallback", "app.queue_editor.advanced"],
        ["EnableInboundCalls", "app.siptrunks_editor.advanced"],
        ["EnableOutboundCalls", "app.siptrunks_editor.advanced"],
        ["EnablePrompt", "app.queue_editor.general"],
        ["SRTPMode", "app.bridge_editor.advanced"],
        ["SRTPMode", "app.siptrunks_editor.advanced"],
        ["EnableVMenuOutboundCalls", "app.settings.pbx"],
        [
          "EnableMulticastRingGroups",
          "app.extension_editor.phone_provisioning",
        ],
        ["Enabled", "app.settings.cdr"],
        ["ExtensionDID", "app.extension_editor.general"],
        [
          "ExternalDoNotForwardOutsideOfficeHours",
          "app.extension_editor.forwarding_rules_away",
        ],
        ["FQDN", "app.settings.network.fqdn"],
        ["Fields", "app.settings.cdr"],
        ["FileSize", "app.settings.cdr"],
        ["FirewallSendMedia", "app.settings.network.firewall"],
        ["FirstName", "app.contact_editor"],
        ["FirstName", "app.extension_editor.general"],
        [
          "FirstSourceIDParameterCustomValue",
          "app.siptrunks_editor.inbound_parameters",
        ],
        [
          "FirstSourceIDParameterSIPField",
          "app.siptrunks_editor.inbound_parameters",
        ],
        [
          "FirstSourceIDParameterValue",
          "app.siptrunks_editor.inbound_parameters",
        ],
        ["ForwardWhenInvalidKeyDN", "app.ivr_editor"],
        ["ForwardWhenInvalidKeyType", "app.ivr_editor"],
        [
          "ForwardingExceptions",
          "app.extension_editor.forwarding_rules_exceptions",
        ],
        ["ForwardType", "app.extension_editor.forwarding_rules"],
        ["FromGroups", "app.outbound_rule_editor"],
        ["GloballyVisible", "app.group_editor.group_rights"],
        ["GreetingDefault", "app.extension_editor.voicemail"],
        ["HackAuthRequests", "app.settings.security.anti_hacking"],
        ["HackBarrierAmber", "app.settings.security.anti_hacking"],
        ["HackBarrierGreen", "app.settings.security.anti_hacking"],
        ["HackBarrierRed", "app.settings.security.anti_hacking"],
        ["HackBlacklistDuration", "app.settings.security.anti_hacking"],
        ["HackChallengeRequests", "app.settings.security.anti_hacking"],
        ["HideInPhonebook", "app.extension_editor.options"],
        ["Holidays", "app.settings.office_hours"],
        ["Home", "app.contact_editor"],
        ["Home2", "app.contact_editor"],
        ["HomeFax", "app.contact_editor"],
        ["IPAddress", "app.settings.cdr"],
        ["IPInRegistrationContact", "app.siptrunks_editor.advanced"],
        ["IPPort", "app.settings.cdr"],
        ["InCIDFormattings", "app.siptrunks_editor.formatting"],
        ["CountryCode", "app.siptrunks_editor.formatting"],
        ["InboundRules", "app.siptrunks_editor.did"],
        ["InternalCallsOnly", "app.extension_editor.options"],
        [
          "InternalDoNotForwardOutsideOfficeHours",
          "app.extension_editor.forwarding_rules_away",
        ],
        ["ExternalNumber", "app.extension_editor.forwarding_rules"],
        ["IvrLanguage", "app.ivr_editor"],
        ["Key", "app.settings.phone"],
        ["Key0ForwardDN", "app.ivr_editor"],
        ["Key0ForwardType", "app.ivr_editor"],
        ["Key1ForwardDN", "app.ivr_editor"],
        ["Key1ForwardType", "app.ivr_editor"],
        ["Key2ForwardDN", "app.ivr_editor"],
        ["Key2ForwardType", "app.ivr_editor"],
        ["Key3ForwardDN", "app.ivr_editor"],
        ["Key3ForwardType", "app.ivr_editor"],
        ["Key4ForwardDN", "app.ivr_editor"],
        ["Key4ForwardType", "app.ivr_editor"],
        ["Key5ForwardDN", "app.ivr_editor"],
        ["Key5ForwardType", "app.ivr_editor"],
        ["Key6ForwardDN", "app.ivr_editor"],
        ["Key6ForwardType", "app.ivr_editor"],
        ["Key7ForwardDN", "app.ivr_editor"],
        ["Key7ForwardType", "app.ivr_editor"],
        ["Key8ForwardDN", "app.ivr_editor"],
        ["Key8ForwardType", "app.ivr_editor"],
        ["Key9ForwardDN", "app.ivr_editor"],
        ["Key9ForwardType", "app.ivr_editor"],
        ["Language", "app.extension_editor.phone_provisioning"],
        ["LastName", "app.contact_editor"],
        ["LastName", "app.extension_editor.general"],
        ["LimitCallPickup", "app.settings.pbx"],
        ["LocalAudioPortEnd", "app.extension_editor.phone_provisioning"],
        ["LocalAudioPortStart", "app.extension_editor.phone_provisioning"],
        ["LocalInterface", "app.extension_editor.phone_provisioning"],
        ["LocalSipPort", "app.extension_editor.phone_provisioning"],
        ["LogType", "app.settings.cdr"],
        ["MacAddress", "app.extension_editor.phone_provisioning"],
        ["MacAddress", "app.fxs_editor.general"],
        ["MailAddress", "app.settings.email.mail_server"],
        ["MailPassword", "app.settings.email.mail_server"],
        ["MailSSLEnabled", "app.settings.email.mail_server"],
        ["MailServer", "app.settings.email.mail_server"],
        ["MailUser", "app.settings.email.mail_server"],
        ["Managers", "app.queue_editor.notifications"],
        ["MaxCallersInQueue", "app.queue_editor.advanced"],
        ["MaxWaitTime", "app.queue_editor.general"],
        ["Members", "app.group_editor.general"],
        ["Members", "app.queue_editor.agents"],
        ["Members", "app.ring_group_editor.general"],
        ["Membership", "app.extension_editor.rights"],
        ["Mobile2", "app.contact_editor"],
        ["MobileNumber", "app.contact_editor"],
        ["MobileNumber", "app.extension_editor.general"],
        ["MulticastAddress", "app.ring_group_editor.general"],
        ["MulticastCodec", "app.ring_group_editor.general"],
        ["MulticastPacketTime", "app.ring_group_editor.general"],
        ["MulticastPort", "app.ring_group_editor.general"],
        ["MusicOnHold", "app.queue_editor.general"],
        ["MusicOnHold", "app.settings.music_on_hold.general"],
        ["MusicOnHold1", "app.settings.music_on_hold.general"],
        ["MusicOnHold2", "app.settings.music_on_hold.general"],
        ["MusicOnHold3", "app.settings.music_on_hold.general"],
        ["MusicOnHold4", "app.settings.music_on_hold.general"],
        ["MusicOnHold5", "app.settings.music_on_hold.general"],
        ["MusicOnHold6", "app.settings.music_on_hold.general"],
        ["MusicOnHold7", "app.settings.music_on_hold.general"],
        ["MusicOnHold8", "app.settings.music_on_hold.general"],
        ["MusicOnHold9", "app.settings.music_on_hold.general"],
        ["MusicOnHoldRandomize", "app.settings.music_on_hold.general"],
        ["MusicOnHoldRandomizeAlgo", "app.settings.music_on_hold.general"],
        [
          "MyPhoneAllowDeleteRecordings",
          "app.extension_editor.phone_provisioning",
        ],
        ["MyPhoneCodecs", "app.extension_editor.phone_provisioning"],
        ["MyPhoneDisallowUse", "app.extension_editor.phone_provisioning"],
        ["MyPhoneDtmf", "app.extension_editor.phone_provisioning"],
        ["MyPhoneHideForwardings", "app.extension_editor.phone_provisioning"],
        ["MyPhoneLocalInterface", "app.extension_editor.phone_provisioning"],
        ["MyPhonePush", "app.extension_editor.phone_provisioning"],
        [
          "MyPhoneReprovisionOnStartup",
          "app.extension_editor.phone_provisioning",
        ],
        ["MyPhoneRtpMode", "app.extension_editor.phone_provisioning"],
        ["MyPhoneShowRecordings", "app.extension_editor.phone_provisioning"],
        ["MyPhoneSipTransport", "app.extension_editor.phone_provisioning"],
        ["MyPhoneStartUpScreen", "app.extension_editor.phone_provisioning"],
        ["MyPhoneUseIn3cxPhoneMode", "app.extension_editor.phone_provisioning"],
        ["MyPhoneUseTunnel", "app.extension_editor.phone_provisioning"],
        ["Name", "app.bridge_editor.general"],
        ["Name", "app.group_editor.general"],
        ["Name", "app.ivr_editor"],
        ["Name", "app.outbound_rule_editor"],
        ["Name", "app.queue_editor.general"],
        ["Name", "app.ring_group_editor.general"],
        ["Name", "app.siptrunks_editor.general"],
        ["Name", "app.fxs_editor.general"],
        ["NameOfAvailable2", "app.settings.pbx"],
        ["NameOfOutOfOffice2", "app.settings.pbx"],
        ["NetworkInterface", "app.settings.cdr"],
        ["NetworkInterface", "app.settings.network.public_ip"],
        ["NetworkInterface", "app.settings.security.secure_sip"],
        [
          "NotAllowedCountryCodes",
          "app.settings.security.allowed_country_codes",
        ],
        ["NotifyCallDenied", "app.settings.email.main"],
        ["NotifyCallLost", "app.queue_editor.notifications"],
        ["NotifyCallback", "app.queue_editor.notifications"],
        ["NotifyCallbackFails", "app.queue_editor.notifications"],
        ["NotifyEmergencyNumberDialied", "app.settings.email.main"],
        ["NotifyExtensionAdded", "app.settings.email.main"],
        ["NotifyExtensionRegChanged", "app.settings.email.main"],
        ["NotifyIPBlocked", "app.settings.email.main"],
        ["NotifyLicenseLimit", "app.settings.email.main"],
        ["NotifyMCAccessed", "app.settings.email.main"],
        ["NotifyNetworkError", "app.settings.email.main"],
        ["NotifyRequestAntiHacked", "app.settings.email.main"],
        ["NotifySLATimeBreached", "app.queue_editor.notifications"],
        ["NotifySTUNError", "app.settings.email.main"],
        ["NotifyServiceStopped", "app.settings.email.main"],
        ["NotifyStorageLimit", "app.settings.email.main"],
        ["NotifyTrunkError", "app.settings.email.main"],
        ["NotifyTrunkFailover", "app.settings.email.main"],
        ["NotifyTrunkStatusChanged", "app.settings.email.main"],
        ["Number", "app.bridge_editor.general"],
        ["Number", "app.extension_editor.general"],
        ["Number", "app.ivr_editor"],
        ["Number", "app.queue_editor.general"],
        ["Number", "app.ring_group_editor.general"],
        ["NumberLengthRanges", "app.outbound_rule_editor"],
        ["OfficeHours", "app.settings.office_hours"],
        [
          "OfficeHoursAutoQueueLogOut",
          "app.extension_editor.forwarding_rules_away",
        ],
        [
          "OfficeHoursAutoSwitchProfiles",
          "app.extension_editor.forwarding_rules",
        ],
        ["OfficeHoursBlockOutboundCalls", "app.extension_editor.options"],
        ["OfficeHoursBreaks", "app.settings.office_hours"],
        ["OperatorExtension", "app.settings.pbx"],
        ["Other", "app.contact_editor"],
        ["OutCIDFormattings", "app.siptrunks_editor.formatting"],
        ["OutboundCallerId", "app.extension_editor.general"],
        ["OutboundCallerId", "app.siptrunks_editor.formatting"],
        ["Pager", "app.contact_editor"],
        ["PlayBusy", "app.settings.pbx"],
        ["PlayFullPrompt", "app.queue_editor.general"],
        ["PollingStrategy", "app.queue_editor.general"],
        ["PortsNumber", "app.siptrunks_editor.general"],
        ["Prefix", "app.outbound_rule_editor"],
        ["PriorityQueue", "app.queue_editor.advanced"],
        ["Prompt", "app.ivr_editor"],
        ["Prompt", "app.queue_editor.general"],
        ["ProvisioningMethod", "app.extension_editor.phone_provisioning"],
        ["PublicIP", "app.settings.network.public_ip"],
        ["PublicIPinSIP", "app.siptrunks_editor.advanced"],
        ["PublicIPinSIPEnabled", "app.siptrunks_editor.advanced"],
        ["SecondaryRegistrar", "app.siptrunks_editor.advanced"],
        ["ProviderRootCertificate", "app.siptrunks_editor.advanced"],
        ["PublishGroups", "app.bridge_editor.remote_presence"],
        ["PublishPresence", "app.bridge_editor.remote_presence"],
        ["QueueLanguage", "app.queue_editor.general"],
        ["QueueStatus", "app.extension_editor.general"],
        ["ReceivePresence", "app.bridge_editor.remote_presence"],
        ["RecordCalls", "app.extension_editor.options"],
        ["RemoteFQDN", "app.extension_editor.phone_provisioning"],
        ["RemoteMyPhoneUriHost", "app.bridge_editor.remote_presence"],
        [
          "RemoteMyPhoneUriProtocolWithHost",
          "app.bridge_editor.remote_presence",
        ],
        ["RemotePBXPrefix", "app.bridge_editor.general"],
        ["RemotePort", "app.extension_editor.phone_provisioning"],
        ["OfficeHoursSpecific", "app.siptrunks_editor.general"],
        ["Host", "app.siptrunks_editor.general"],
        ["RequireRegistrationFor", "app.siptrunks_editor.general"],
        ["ReplacePattern", "app.siptrunks_editor.formatting"],
        ["SourcePattern", "app.siptrunks_editor.formatting"],
        ["RingTime", "app.queue_editor.general"],
        ["RingTime", "app.ring_group_editor.general"],
        ["Route1Destination", "app.outbound_rule_editor"],
        ["Route1Prepends", "app.outbound_rule_editor"],
        ["Route1StripDigits", "app.outbound_rule_editor"],
        ["Route2Destination", "app.outbound_rule_editor"],
        ["Route2Prepends", "app.outbound_rule_editor"],
        ["Route2StripDigits", "app.outbound_rule_editor"],
        ["Route3Destination", "app.outbound_rule_editor"],
        ["Route3Prepends", "app.outbound_rule_editor"],
        ["Route3StripDigits", "app.outbound_rule_editor"],
        ["Route4Destination", "app.outbound_rule_editor"],
        ["Route4Prepends", "app.outbound_rule_editor"],
        ["Route4StripDigits", "app.outbound_rule_editor"],
        ["Route5Destination", "app.outbound_rule_editor"],
        ["Route5Prepends", "app.outbound_rule_editor"],
        ["Route5StripDigits", "app.outbound_rule_editor"],
        ["SbcName", "app.extension_editor.phone_provisioning"],
        ["SIPId", "app.extension_editor.options"],
        ["SIPPort", "app.settings.network.ports"],
        ["SLATime", "app.queue_editor.advanced"],
        ["SPAutoPickupExternalNumber", "app.settings.call_parking"],
        ["SPAutoPickupForwardDN", "app.settings.call_parking"],
        ["SPAutoPickupTimeout", "app.settings.call_parking"],
        ["SPAutoPickupVMailExtension", "app.settings.call_parking"],
        ["SPEnableAutoPickup", "app.settings.call_parking"],
        ["SPMax", "app.settings.call_parking"],
        ["SPPrompt", "app.settings.call_parking"],
        ["SPTypeOfAutoPickupForward", "app.settings.call_parking"],
        ["SRTPEnabled", "app.settings.security.secure_sip"],
        ["STUNPrimaryHost", "app.settings.network.public_ip"],
        ["STUNPrimaryPort", "app.settings.network.public_ip"],
        ["STUNQuery", "app.settings.network.public_ip"],
        ["STUNSecondaryHost", "app.settings.network.public_ip"],
        ["STUNSecondaryPort", "app.settings.network.public_ip"],
        ["STUNThirdHost", "app.settings.network.public_ip"],
        ["STUNThirdPort", "app.settings.network.public_ip"],
        ["STUNTimeout", "app.settings.network.public_ip"],
        ["ScheduleEnabled", "app.queue_editor.advanced"],
        ["SendEmailMissedCalls", "app.extension_editor.options"],
        ["SenderID", "app.settings.phone"],
        ["SeparateAuthID", "app.siptrunks_editor.general"],
        ["SimultaneousCalls", "app.bridge_editor.general"],
        ["SimultaneousCalls", "app.siptrunks_editor.general"],
        ["SpecifiedIPForRegistrationContact", "app.siptrunks_editor.advanced"],
        ["StartAt", "app.queue_editor.advanced"],
        ["SupportReinvite", "app.bridge_editor.advanced"],
        ["SupportReinvite", "app.siptrunks_editor.advanced"],
        ["SupportReplaces", "app.bridge_editor.advanced"],
        ["SupportReplaces", "app.siptrunks_editor.advanced"],
        ["TimeBetweenRegistartion", "app.bridge_editor.general"],
        ["TimeBetweenRegistartion", "app.siptrunks_editor.advanced"],
        ["TimeZone", "app.extension_editor.phone_provisioning"],
        ["Timeout", "app.ivr_editor"],
        ["TimeoutForwardDN", "app.ivr_editor"],
        ["TimeoutForwardType", "app.ivr_editor"],
        ["TunnelEnabled", "app.bridge_editor.general"],
        ["TunnelPassword", "app.settings.security.tunnel"],
        ["TunnelPort", "app.settings.network.ports"],
        ["TunnelRemoteAddr", "app.bridge_editor.general"],
        ["TunnelRemotePort", "app.bridge_editor.general"],
        ["URL", "app.settings.phone"],
        ["UseMSExchange", "app.ivr_editor"],
        ["UseSeparateAuthID", "app.siptrunks_editor.general"],
        ["VMDisablePinAuth", "app.extension_editor.voicemail"],
        ["VariableChoices", "app.fxs_editor.general"],
        ["VariableChoices", "app.siptrunks_editor.general"],
        ["VariableChoices2", "app.siptrunks_editor.advanced"],
        ["VMEmailOptions", "app.extension_editor.voicemail"],
        ["VMEnabled", "app.extension_editor.voicemail"],
        ["VMLanguage", "app.extension_editor.voicemail"],
        ["VMPin", "app.extension_editor.voicemail"],
        ["VMPlayCallerId", "app.extension_editor.voicemail"],
        ["VMReadDateTimeMessage", "app.extension_editor.voicemail"],
        ["VMailAutoDeleteDays", "app.settings.voice_mail"],
        ["VMailAutoDeleteEnabled", "app.settings.voice_mail"],
        ["VMailExchangeServerHost", "app.settings.voice_mail"],
        ["VMailExchangeServerPort", "app.settings.voice_mail"],
        ["VMailExtension", "app.settings.voice_mail"],
        ["VMailQuota", "app.settings.voice_mail"],
        ["VMailSaveMoreThen", "app.settings.voice_mail"],
        ["VMailSendEmailQuotaEnabled", "app.settings.voice_mail"],
        ["VMailSendEmailQuotaPercentage", "app.settings.voice_mail"],
        ["VMailUseExchangeServer", "app.settings.voice_mail"],
        ["Value", "app.siptrunks_editor.inbound_parameters"],
        ["Value", "app.siptrunks_editor.outbound_parameters"],
        ["VoiceApp", "app.queue_editor.general"],
        ["WebMeetingFriendlyName", "app.extension_editor.click2talk"],
        ["WebMeetingPrivateRoom", "app.extension_editor.click2talk"],
        ["CallUsFriendlyName", "app.extension_editor.click2talk"],
        ["WebMeetingFriendlyName", "app.queue_editor.click2talk"],
        ["WebMeetingPrivateRoom", "app.queue_editor.click2talk"],
        ["CallUsFriendlyName", "app.queue_editor.click2talk"],
        ["WebMeetingFriendlyName", "app.ring_group_editor.click2talk"],
        ["WebMeetingPrivateRoom", "app.ring_group_editor.click2talk"],
        ["CallUsFriendlyName", "app.ring_group_editor.click2talk"],
        ["WrapUpTime", "app.queue_editor.advanced"],
        ["emergencyName", "app.settings.emergency_numbers.new"],
        ["emergencyNumber", "app.settings.emergency_numbers.new"],
        ["SmsVariables", "app.siptrunks_editor.sms"],
        ["MainDidNumber", "app.siptrunks_editor.general"],
        ["SmsVariables", "app.trunk_messaging_editor.general"],
        ["MainDidNumber", "app.trunk_messaging_editor.general"],
      ];
      var Ge = (() => {
        return (
          ((t = Ge || (Ge = {}))[(t.Boolean = 0)] = "Boolean"),
          (t[(t.Integer = 1)] = "Integer"),
          (t[(t.Ulong = 2)] = "Ulong"),
          (t[(t.String = 3)] = "String"),
          (t[(t.DateTime = 4)] = "DateTime"),
          (t[(t.WeekDays = 5)] = "WeekDays"),
          (t[(t.TimeRanges = 6)] = "TimeRanges"),
          (t[(t.Strings = 7)] = "Strings"),
          (t[(t.CIDFormattings = 8)] = "CIDFormattings"),
          (t[(t.CfgItem = 9)] = "CfgItem"),
          (t[(t.CfgItemSet = 10)] = "CfgItemSet"),
          (t[(t.CfgEnum = 11)] = "CfgEnum"),
          (t[(t.CfgCollection = 12)] = "CfgCollection"),
          (t[(t.CfgSelectedItem = 13)] = "CfgSelectedItem"),
          (t[(t.CfgFile = 14)] = "CfgFile"),
          (t[(t.TimeSpan = 15)] = "TimeSpan"),
          (t[(t.StringsDictionary = 16)] = "StringsDictionary"),
          (t[(t.ObjectsDictionary = 17)] = "ObjectsDictionary"),
          (t[(t.StringsTuple = 18)] = "StringsTuple"),
          (t[(t.BlfTypes = 19)] = "BlfTypes"),
          (t[(t.CfgPagedItemSet = 20)] = "CfgPagedItemSet"),
          Ge
        );
        var t;
      })();
      function SD(t) {
        return t.type == Ge.CfgSelectedItem;
      }
      function ED(t) {
        return t.type == Ge.CfgFile;
      }
      function xr(t) {
        return t.type == Ge.CfgItemSet;
      }
      function AD(t) {
        return t.type == Ge.CfgEnum;
      }
      function Rr(t) {
        return t.type == Ge.CfgItem;
      }
      function Lr(t) {
        return t.type == Ge.CfgCollection;
      }
      function Dr(t) {
        return t.type == Ge.CfgPagedItemSet;
      }
      function wn(t) {
        return [
          Ge.CfgFile,
          Ge.CfgSelectedItem,
          Ge.CfgItemSet,
          Ge.CfgEnum,
        ].includes(t.type);
      }
      function CD(t) {
        return [Ge.CfgPagedItemSet].includes(t.type);
      }
      function Mr(t) {
        return (null == t ? void 0 : t.type) === Ge.CfgPagedItemSet
          ? t.selected
          : (null == t ? void 0 : t.type) === Ge.CfgCollection
          ? t._value
          : t.possibleValues;
      }
      function wr(t, c) {
        let e = c;
        for (const n of t) {
          const i = e[n.Name];
          if (!i)
            return void console.warn("Change reported for undefined property");
          if (Rr(i)) e = i._value;
          else {
            if (!(Lr(i) || Dr(i) || xr(i))) return i;
            {
              const a = Mr(i);
              if (!a)
                return void console.warn(
                  "Change should be reported on collection or item only"
                );
              {
                const l = a.find((s) => s.Id === n.IdInCollection);
                if (!l)
                  return void console.warn(
                    "Reported change item not found in collection"
                  );
                e = l;
              }
            }
          }
        }
        return e;
      }
      function Pr(t, c) {
        if (null != t && null !== c.SubProperty && null != t.stub) {
          const e = t._path;
          (t = t.stub.variables.filter(
            (n) => n.Name === c.SubProperty
          )[0])._path = e;
        }
        return t;
      }
      function Ni(t, c) {
        if (c == t.Id) return t;
        for (const e in t)
          if (t.hasOwnProperty(e) && "Id" !== e) {
            const n = t[e];
            if (
              [
                Ge.CfgSelectedItem,
                Ge.CfgItemSet,
                Ge.CfgPagedItemSet,
                Ge.CfgCollection,
              ].includes(null == n ? void 0 : n.type)
            ) {
              const i = Mr(n);
              for (const a of i) {
                const l = Ni(a, c);
                if (void 0 !== l) return l;
              }
            } else if ((null == n ? void 0 : n.type) == Ge.CfgItem) {
              const i = Ni(null == n ? void 0 : n._value, c);
              if (void 0 !== i) return i;
            }
          }
      }
      function wt(t, c, e, n, i) {
        return {
          Path: { ObjectId: t, PropertyPath: c },
          PropertyValue: e,
          SaveOnUpdate: n,
          NewItem: i,
        };
      }
      function Hr(t, c, e, n) {
        return { Path: { ObjectId: t, PropertyPath: c }, State: e, Count: n };
      }
      function jr(t, c, e, n, i) {
        return Hr(t, c, { Start: n, Search: e }, i);
      }
      function Pn(t, c, e) {
        const n = t.data;
        null != n &&
          n.forEach((i) => {
            const a = wr(i.PropertyPath, c);
            !a ||
              (function _D(t, c, e) {
                for (const n in t)
                  if ("_str" != n)
                    if ("IsBulk" != n) {
                      if (
                        t.hasOwnProperty(n) &&
                        "Id" !== n &&
                        "IsNew" !== n &&
                        "licenseRestricted" !== n
                      ) {
                        const i = t[n],
                          a = c[n];
                        if (void 0 === a) {
                          console.log("Can't update property " + n);
                          continue;
                        }
                        if (
                          ((a.disabled = i.disabled),
                          (a.hide = i.hide),
                          wn(i) && (a.lazy = i.lazy),
                          1 == a.hide)
                        )
                          continue;
                        const l = !0;
                        [
                          Ge.CfgSelectedItem,
                          Ge.CfgItemSet,
                          Ge.CfgPagedItemSet,
                          Ge.CfgFile,
                        ].includes(a.type)
                          ? SD(a)
                            ? a.update(i)
                            : ED(a) && wn(i)
                            ? ((a.disallowDeleteFiles = i.disallowDeleteFiles),
                              (a.possibleValues = i.possibleValues),
                              a.value(i.selected, l))
                            : xr(a) && wn(i)
                            ? ((a.possibleValues = i.possibleValues),
                              a.value(i.selected, l),
                              a.wrapItemSet())
                            : Dr(a) &&
                              CD(i) &&
                              ((a.selected = i.selected),
                              (a.state = i.state),
                              (a.count = i.count),
                              (a.isAllSelected = i.isAllSelected),
                              (a.isNothingSelected = i.isNothingSelected),
                              a.wrapItemSet())
                          : AD(a) && wn(i)
                          ? ((a.possibleValues = i.possibleValues),
                            a.value(i.selected, l))
                          : Rr(a)
                          ? ((a._value = i._value),
                            e.wrapObject(a._value, a._path))
                          : Lr(a)
                          ? ((a._value = i._value), a.wrapCollection())
                          : a.value(i._value, l);
                      }
                    } else c.IsBulk = t.IsBulk;
                  else c._str = t._str;
              })(i.Item, a, e);
          });
      }
      let ID = (() => {
        class t {
          constructor(e, n, i, a, l, s, r, o) {
            (this.$http = e),
              (this.$q = n),
              (this.$window = i),
              (this.$state = a),
              (this.$httpParamSerializer = l),
              (this.MessageBoxSvc = s),
              (this.$translate = r),
              (this.SyncRequestSvc = o);
          }
          invalidateObject(e, n) {
            n.status == Je.Status522ValidationError &&
              this.invalidateObjectData(e, n.data);
          }
          invalidateObjectData(e, n) {
            function i() {
              return n.Message + (null != n.Comment ? n.Comment : "");
            }
            const a = () =>
              this.MessageBoxSvc.alertBox("WARNINGS.WARNING", i()).catch(() =>
                u.noop()
              );
            let l = wr(n.PropertyPath, e);
            if (l) l = Pr(l, n);
            else {
              console.warn(
                "Rejected element not found using new-style error reporting"
              );
              const r = Ni(e, n.ItemId);
              if (void 0 === r) return void a();
              if (((l = Pr(r[n.PropertyType], n)), void 0 === l))
                return void a();
            }
            (l.class = "has-error"), (l.errorMsg = i()), (l.triggerError = !0);
            const s = this.$state.$current.name.replace(
              /([^.]*.[^.]*)..*/,
              "$1"
            );
            for (const r of bD)
              if (
                l._path[l._path.length - 1].Name == r[0] &&
                0 == r[1].indexOf(s)
              ) {
                this.$state.go(r[1], { RejectPath: l._path });
                break;
              }
          }
          getDifferentValue() {
            return this.$translate.instant("REPOS.TEXT.KEEP_CURRENT_VALUE");
          }
        }
        return (
          (t.$inject = [
            "$http",
            "$q",
            "$window",
            "$state",
            "$httpParamSerializer",
            "MessageBoxSvc",
            "$translate",
            "SyncRequestSvc",
          ]),
          t
        );
      })();
      class vD {
        constructor(c, e, n, i) {
          (this.helper = c),
            (this.objectId = e),
            (this.rootObject = n),
            (this.updateLink = i);
        }
        wrap() {
          if (
            (this.wrapObject(this.rootObject),
            this.rootObject._PrevalidateResult)
          )
            for (const c of this.rootObject._PrevalidateResult)
              this.helper.invalidateObjectData(this.rootObject, c);
        }
        wrapObject(c, e) {
          for (const n in c)
            c.hasOwnProperty(n) &&
              "object" == typeof c[n] &&
              this.wrapProperty(n, c[n], null != e ? e : []);
        }
        wrapProperty(c, e, n) {
          (e._path = n.concat({ Name: c })),
            e.type === Ge.CfgItem
              ? this.wrapObject(e._value, e._path)
              : e.type === Ge.CfgEnum
              ? this.wrapEnumProperty(e, e._path)
              : e.type === Ge.CfgSelectedItem
              ? this.wrapSelectedItemProperty(e, e._path)
              : e.type === Ge.CfgFile
              ? this.wrapFileProperty(e, e._path)
              : e.type === Ge.CfgCollection
              ? this.wrapCollectionProperty(e, e._path)
              : e.type === Ge.CfgItemSet
              ? this.wrapCfgItemSetProperty(e, e._path)
              : e.type === Ge.CfgPagedItemSet
              ? this.wrapCfgPagedItemSetProperty(e, e._path)
              : this.wrapDefaultProperty(e, e._path);
        }
        wrapCollectionProperty(c, e) {
          (c.reorder = (n, i) => {
            let a = c._value.findIndex((s) => s.Id === i.Id);
            c._value.splice(n, 0, (i = c._value[a])),
              a >= n && a++,
              c._value.splice(a, 1);
            const l = wt(
              this.objectId,
              e,
              c._value.map((s) => s.Id),
              c.SaveOnUpdate
            );
            return this.performUpdate(c, l), !1;
          }),
            (c.wrapCollection = () => {
              c._value.forEach((n) => {
                const i = u.copy(c._path);
                (i[i.length - 1].IdInCollection = n.Id), this.wrapObject(n, i);
              });
            }),
            (c.newItem = () => {
              const i = wt(this.objectId, e, void 0, void 0, !0);
              this.performUpdate(c, i);
            }),
            c.wrapCollection(),
            (c.collectChanges = () =>
              this.helper.$http
                .postApi("api/edit/collectChanges", { Id: this.objectId })
                .then((n) => {
                  Pn(n, this.rootObject, this);
                }));
        }
        wrapDefaultProperty(c, e) {
          c.value = (...n) => {
            if (!n.length)
              return null != c._value && !1 === c._value.Defined
                ? this.helper.getDifferentValue()
                : c.type == Ge.DateTime
                ? new Date(c._value)
                : c._value;
            {
              let i = n[0];
              const a = n[1];
              if (c.type == Ge.Integer) {
                const s = Number.parseFloat(i);
                if (isNaN(s) || !isFinite(s)) return;
                i = s;
              } else if (c.type == Ge.DateTime) {
                const s = new Date(i).getTime();
                if (isNaN(s) || new Date(c._value).getTime() == s) return;
                i = new Date(i).toISOString();
              }
              c._value = i;
              const l = wt(this.objectId, e, i, c.SaveOnUpdate);
              if (a) return;
              this.performUpdate(c, l);
            }
          };
        }
        wrapCfgItemSetProperty(c, e) {
          (c.wrapItemSet = () => {
            c.possibleValues.forEach((n) => {
              const i = u.copy(c._path);
              (i[i.length - 1].IdInCollection = n.Id), this.wrapObject(n, i);
            });
          }),
            c.wrapItemSet(),
            (c.value = (...n) => {
              if (!n.length) return c.selected;
              {
                const [i, a] = n;
                if (((c.selected = i), a)) return;
                const l = wt(this.objectId, e, i, c.SaveOnUpdate);
                this.performUpdate(c, l);
              }
            });
        }
        wrapCfgPagedItemSetProperty(c, e) {
          (c.getPossibleValues = (n, i) =>
            this.helper.$http.postApi(
              "api/edit/readProperty",
              Hr(this.objectId, e, n, i)
            )),
            (c.getIds = (n, i) =>
              this.helper.$http.postApi("api/edit/readIds", {
                Path: { ObjectId: this.objectId, PropertyPath: e },
                IsPossibleValues: i,
                Search: n,
              })),
            (c.wrapItemSet = () => {
              c.selected.forEach((n) => {
                const i = u.copy(c._path);
                (i[i.length - 1].IdInCollection = n.Id), this.wrapObject(n, i);
              });
            }),
            c.wrapItemSet(),
            (c.value = (...n) => {
              if (!n.length) return c.selected;
              {
                const [i] = n,
                  a = wt(this.objectId, e, i, c.SaveOnUpdate);
                this.performUpdate(c, a);
              }
            });
        }
        wrapEnumProperty(c, e) {
          c.value = (...n) => {
            if (!n.length) return c.selected;
            {
              const [i, a] = n;
              if (((c.selected = i), a)) return;
              const l = wt(this.objectId, e, c.selected, c.SaveOnUpdate);
              this.performUpdate(c, l);
            }
          };
        }
        wrapFileProperty(c, e) {
          (c.value = (...n) => {
            if (!n.length)
              return (
                !1 === c.selected.Defined &&
                  (c.selected._str = this.helper.getDifferentValue()),
                c.selected
              );
            {
              const [i, a] = n;
              if (((c.selected = i), a)) return;
              const l = wt(this.objectId, e, c.selected, c.SaveOnUpdate);
              this.performUpdate(c, l);
            }
          }),
            (c.upload = (n) => {
              const i = new FormData();
              return (
                i.append("fileInput", n.files[0]),
                i.append("id", "" + this.objectId),
                i.append("objectId", "" + this.rootObject.Id),
                i.append("propertyPath", u.toJson(e)),
                this.helper.$http.postFormData("api/file/upload", i).then(
                  (a) => {
                    Pn(a, this.rootObject, this);
                  },
                  (a) => {
                    413 === a.status &&
                      ((c.class = "has-error"),
                      (c.errorMsg = this.helper.$translate.instant(
                        "WARNINGS.FILE_IS_TOO_BIG"
                      )),
                      (c.triggerError = !0)),
                      this.helper.invalidateObject(this.rootObject, a);
                  }
                )
              );
            }),
            (c.download = (n) => {
              const i = this.helper.$httpParamSerializer({
                Id: this.objectId,
                Name: n,
                PropertyPath: u.toJson(e),
              });
              this.helper.$window.location.assign("api/file/download?" + i);
            }),
            (c.href = () =>
              "api/file/download?" +
              this.helper.$httpParamSerializer({
                Id: this.objectId,
                PropertyPath: u.toJson(e),
              })),
            (c.play = (n, i) =>
              this.helper.$http.postApi("api/file/play", {
                Id: this.objectId,
                ExtId: n,
                Name: i,
                PropertyPath: u.toJson(e),
              })),
            (c.record = (n, i) => {
              const a = this.helper.$q.defer();
              return (
                this.helper.$http
                  .postApi("api/file/record", {
                    Id: this.objectId,
                    ObjectId: this.rootObject.Id,
                    ExtId: n,
                    Name: i,
                    PropertyPath: u.toJson(e),
                  })
                  .then(
                    () => {},
                    (l) => {
                      this.helper.invalidateObject(this.rootObject, l);
                    }
                  ),
                a
              );
            }),
            (c.delete = (n) =>
              this.helper.$http
                .postApi("api/file/delete", {
                  Id: this.objectId,
                  Name: n,
                  PropertyPath: u.toJson(e),
                })
                .then((i) => {
                  Pn(i, this.rootObject, this);
                })),
            (c.refreshItems = () =>
              this.rootObject.disposed
                ? Promise.resolve()
                : this.helper.$http
                    .postApi(
                      "api/edit/readProperty",
                      jr(this.objectId, e, "", 0, 1e3)
                    )
                    .then((n) => {
                      (c.possibleValues.length = 0),
                        u.forEach(n.data.PossibleValues, (i) => {
                          c.possibleValues.push(i);
                        });
                    }));
        }
        wrapSelectedItemProperty(c, e) {
          let i = 0,
            a = !1,
            l = "";
          (c.update = (s) => {
            (c.possibleValues = s.possibleValues),
              (c.selected = s.selected),
              (c.translatable = s.translatable),
              (a = c.possibleValues.length < 16),
              (i = c.possibleValues.length);
          }),
            c.update(c),
            (c.refreshItems = (s) => {
              l != s &&
                ((l = s),
                (a = !1),
                (i = 0),
                (c.possibleValues = []),
                c.requestMoreItems());
            }),
            (c.requestMoreItems = () => {
              if (!this.rootObject.disposed)
                return a
                  ? this.helper.$q.reject()
                  : this.helper.$http
                      .postApi(
                        "api/edit/readProperty",
                        jr(this.objectId, e, l, i, 16)
                      )
                      .then((s) => {
                        const r = s.data;
                        return (
                          (c.possibleValues = c.possibleValues.concat(r)),
                          r.length < 16 && (a = !0),
                          (i += r.length),
                          r
                        );
                      });
            }),
            (c.value = (...s) => {
              if (!s.length)
                return (
                  !1 === c.selected.Defined &&
                    (c.selected._str = this.helper.getDifferentValue()),
                  c.selected.Id
                );
              {
                const [r, o] = s;
                if (
                  null == r ||
                  ((c.selected = c.possibleValues.find((p) => p.Id == r)), o)
                )
                  return;
                this.performUpdate(c, wt(this.objectId, e, r, c.SaveOnUpdate));
              }
            });
        }
        performUpdate(c, e) {
          this.rootObject.disposed ||
            ((c.class = void 0),
            (c.errorMsg = void 0),
            this.helper.SyncRequestSvc.postApi(
              this.updateLink,
              e,
              (n) => {
                Pn(n, this.rootObject, this);
              },
              (n) => {
                this.helper.invalidateObject(this.rootObject, n);
              }
            ).catch(() => u.noop()));
        }
      }
      let ND = (() => {
        class t {
          constructor(e) {
            this.wrapperHelperService = e;
          }
          makeWrapper(e, n, i) {
            return new vD(this.wrapperHelperService, e, n, i);
          }
          invalidateObject(e, n) {
            this.wrapperHelperService.invalidateObjectData(e, n.data);
          }
          getDifferentValue() {
            return this.wrapperHelperService.getDifferentValue();
          }
        }
        return (t.$inject = ["WrapperHelperService"]), t;
      })();
      u.module("app")
        .service("WrapperHelperService", ID)
        .service("WrapperSvc", ND);
      var tn = w(23732),
        yD = w(93449),
        kr = w(68306),
        Ur = w(65535),
        $r = w(4825);
      let RD = (() => {
        class t {
          constructor(e, n) {
            (this.stateSubject = new xt.X(tn.AC.Disconnected)),
              (this.state$ = this.stateSubject),
              (this.start$ = new kr.y((i) => {
                const l = new tn.su()
                  .withUrl("/api/notifications", void 0)
                  .withHubProtocol(new yD.e())
                  .build();
                let s = !1;
                return (
                  l.onclose((r) => {
                    s || i.error(r);
                  }),
                  l.start().then(
                    () => i.next(l),
                    (r) => i.error(r)
                  ),
                  () => {
                    (s = !0), l.stop().catch(u.noop);
                  }
                );
              }).pipe(
                (0, Ur.a)((i) =>
                  i.pipe(
                    (0, Kt.b)(() => this.stateSubject.next(tn.AC.Disconnected)),
                    (0, $r.g)(5e3)
                  )
                ),
                (0, Kt.b)(() => this.stateSubject.next(tn.AC.Connected)),
                (0, Ea.d)({ refCount: !0, bufferSize: 1 })
              ));
          }
          sendBranch(e, ...n) {
            return this.start$.pipe(
              (0, it.w)((i) =>
                (0, un.T)(
                  ...n,
                  (0, Lt.D)(i.send(e.subName)).pipe(
                    (0, Ur.a)((a) => a.pipe((0, $r.g)(1e3)))
                  )
                ).pipe(
                  (0, Pl.x)(() => {
                    e.unSubName &&
                      i.state === tn.AC.Connected &&
                      (0, Lt.D)(i.send(e.unSubName));
                  })
                )
              )
            );
          }
          sub(e) {
            return this.start$.pipe(
              (0, it.w)(
                (n) =>
                  new kr.y(
                    (i) => (n.on(e, (...a) => i.next(a)), () => n.off(e))
                  )
              )
            );
          }
        }
        return (t.$inject = ["$rootScope", "accessTokenService"]), t;
      })();
      u.module("app").service("ChannelRSvc", RD);
      var LD = w(52260);
      u.module("app").service(
        "accessTokenService",
        class DD {
          constructor() {
            this.mutex = new LD.WU();
          }
          getAccessToken() {
            return this.mutex.runExclusive(() => {
              if (this.token && +new Date() < +this.expiresAt)
                return this.token;
              const c = new FormData();
              return (
                c.append("grant_type", "refresh_token"),
                c.append("client_id", "3CXManagementConsole"),
                fetch("connect/token", { body: c, method: "POST" })
                  .then((e) => e.json())
                  .then(
                    (e) => (
                      (this.token = e.access_token),
                      (this.expiresAt = new Date(+new Date() + 18e5)),
                      e.access_token
                    )
                  )
              );
            });
          }
        }
      );
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/components/mc-search.html",
              '<div class="input-group w-full"> <input ng-model="$ctrl.searchFilter" ng-keypress="$ctrl.searchFilterHandler($event)" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> <span class="input-group-btn"> <button type="button" ng-click="$ctrl.search()" ng-disabled="$ctrl.mcDisabled" class="btn btn-default" translate="REPOS.BUTTONS.SEARCH_BTN" id="btnSearch"> <i class="halflings halflings-search"></i> Search </button> </span> </div> '
            ),
        ]),
        u.module("app").component("mcSearch", {
          templateUrl: "js/components/mc-search.html",
          controller: class PD {
            constructor() {}
            search() {
              this.onSearch && this.onSearch();
            }
            searchFilterHandler(c) {
              13 === c.which && this.search();
            }
          },
          bindings: { mcDisabled: "<", searchFilter: "=", onSearch: "&" },
        });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/components/link-to-clipboard.component.html",
              '<span style="white-space:nowrap;display:flex;align-items:center"> <span ng-if="!$ctrl.mcInactive"> <a href="{{$ctrl.mcUrl}}" target="_blank" class="dashed_link m-r-xs white-space-break"> <strong>{{$ctrl.mcUrl}}</strong> </a> </span> <span ng-if="$ctrl.mcInactive" ng-class="$ctrl.mcOverflow ? \'text-ellipsis-rtl\' : \'\'"> <strong class="m-r-xs">{{$ctrl.mcUrl}}</strong> </span> <button class="btn btn-sm btn-default" ng-disabled="$ctrl.mcDisabled" uib-tooltip="{{\'REPOS.TEXT.COPIED_TEXT\' | translate}}" tooltip-is-open="$ctrl.tooltipIsOpen" tooltip-enable="$ctrl.tooltipIsOpen" tooltip-placement="top" ng-click="$ctrl.copyToClipboard($event)" type="button"> <i class="fa fa-clipboard"></i> </button> </span> '
            ),
        ]),
        u.module("app").component("linkToClipboard", {
          templateUrl: "js/components/link-to-clipboard.component.html",
          controller: class UD {
            constructor() {
              this.tooltipIsOpen = !1;
            }
            copyToClipboard(c) {
              c.stopPropagation(),
                ((t) => {
                  const c = document.createElement("textarea");
                  (c.value = t),
                    document.body.append(c),
                    c.select(),
                    document.execCommand("copy"),
                    c.remove();
                })(this.mcUrl),
                (this.tooltipIsOpen = !0);
            }
          },
          bindings: {
            mcUrl: "<",
            mcDisabled: "<",
            mcInactive: "<",
            mcOverflow: "<",
          },
        });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/components/webmeeting-panel.component.html",
              '<checkbox-panel mc-title="EXTENSIONS.EDITOR.GENERAL.URL_2_MEET_ME" prop="$ctrl.activeObject.AllowWebMeeting"> <div class="m-b"> <label translate="EXTENSIONS.EDITOR.GENERAL.URL_2_MEET_ME_DESC"></label> </div> <text-control maxlength="20" prop="$ctrl.activeObject.WebMeetingFriendlyName" mc-title="EXTENSIONS.EDITOR.GENERAL.FRIENDLY_NAME"></text-control> <div class="form-group"> <label translate="EXTENSIONS.EDITOR.GENERAL.URL_2_MEET_ME_URL" class="m-r-xs"></label> <link-to-clipboard mc-disabled="!$ctrl.activeObject.AllowWebMeeting.value()" style="display:inline-block" mc-url="$ctrl.getWebmeetingUrl($ctrl.activeObject.WebMeetingHostName.value(), $ctrl.activeObject.WebMeetingFriendlyName.value())"></link-to-clipboard> </div> <label class="i-checks m-b clear" ng-if="false"> <input type="radio" ng-model="$ctrl.activeObject.ClickToCallAction.value" ng-model-options="{getterSetter: true}" value="ClickToCallActionType.Call" ng-disabled="$ctrl.activeObject.ClickToCallAction.disabled"><i></i> <span translate="EXTENSIONS.EDITOR.GENERAL.CALL_YOUR_EXT">Establish Voice Call</span> </label> <label class="i-checks m-b clear"> <input type="radio" ng-model="$ctrl.activeObject.ClickToCallAction.value" ng-model-options="{getterSetter: true}" value="ClickToCallActionType.PrivateRoom" ng-disabled="$ctrl.activeObject.ClickToCallAction.disabled || (!$ctrl.enablePublicRoom && $ctrl.activeObject.ClickToCallAction.value() != \'ClickToCallActionType.PublicRoom\')"><i></i> <span translate="EXTENSIONS.EDITOR.GENERAL.PRIVATE_ROOM">Send chat with meeting invite</span> </label> <label class="i-checks m-b clear" ng-hide="!$ctrl.enablePublicRoom || $ctrl.isQueue === \'queue\'"> <input type="radio" ng-model="$ctrl.activeObject.ClickToCallAction.value" ng-model-options="{getterSetter: true}" value="ClickToCallActionType.PublicRoom" ng-disabled="$ctrl.activeObject.ClickToCallAction.disabled || !$ctrl.enablePublicRoom"><i></i> <span translate="EXTENSIONS.EDITOR.GENERAL.SHARED_ROOM">Establish webmeeting session - Organizer must connect first</span> <span translate="EXTENSIONS.EDITOR.GENERAL.FEATURE_NOT_AVAILABLE" ng-hide="$ctrl.enablePublicRoom">This feature is not available for Queues</span> </label> <div class="col-sm-12" ng-hide="!$ctrl.enablePublicRoom || $ctrl.isQueue === \'queue\'"> <checkbox-control prop="$ctrl.activeObject.WebMeetingAcceptReject" mc-title="EXTENSIONS.EDITOR.GENERAL.MODERATE_PARTICIPANTS"></checkbox-control> </div> </checkbox-panel> '
            ),
        ]),
        u.module("app").component("webmeetingPanel", {
          bindings: { activeObject: "=", enablePublicRoom: "=", isQueue: "=" },
          controller: class BD {
            getWebmeetingUrl(c, e) {
              const n = new URL(window.location.origin);
              return (n.pathname = `meet/${e}`), n.toString();
            }
          },
          templateUrl: "js/components/webmeeting-panel.component.html",
        });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/components/callus-panel.component.html",
              '<checkbox-panel mc-title="EXTENSIONS.EDITOR.GENERAL.URL_2_CALL_ME" prop="$ctrl.activeObject.AllowCallUs"> <div class="m-b"> <label translate="EXTENSIONS.EDITOR.GENERAL.URL_2_CALL_ME_DESC"></label> </div> <text-control maxlength="20" prop="$ctrl.activeObject.CallUsFriendlyName" mc-title="EXTENSIONS.EDITOR.GENERAL.FRIENDLY_NAME"></text-control> <div class="form-group"> <label translate="EXTENSIONS.EDITOR.GENERAL.URL_2_CALL_ME_URL" class="m-r-xs"></label> <c-to-c-link mc-id="$ctrl.activeObject.CallUsFriendlyName.value()" mc-disabled="!$ctrl.activeObject.AllowCallUs.value()"></c-to-c-link> </div> <div class="form-group"> <div class="m-b"> <strong translate="EXTENSIONS.EDITOR.GENERAL.CHAT_WINDOW_OPTIONS">Chat window options</strong> <div class="line line-dashed b-b line-lg"></div> </div> <select-enum-control mc-title="EXTENSIONS.EDITOR.GENERAL.URL_2_CALL_ME_REQ" prop="$ctrl.activeObject.CallUsRequirement"></select-enum-control> </div> </checkbox-panel> '
            ),
        ]),
        u
          .module("app")
          .component("callUsPanel", {
            bindings: { activeObject: "=", isQueue: "=" },
            controller: class zD {},
            templateUrl: "js/components/callus-panel.component.html",
          });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/components/c-to-c-link.component.html",
              '<link-to-clipboard mc-url="$ctrl.getCallUsUrl($ctrl.mcId)" mc-inactive="$ctrl.mcInactive" mc-overflow="$ctrl.mcOverflow" mc-disabled="$ctrl.mcDisabled"> </link-to-clipboard> '
            ),
        ]),
        u.module("app").component("cToCLink", {
          templateUrl: "js/components/c-to-c-link.component.html",
          controller: class XD {
            getCallUsUrl(c) {
              return window.location.origin + window.location.pathname + c;
            }
          },
          bindings: {
            mcId: "<",
            mcDisabled: "<",
            mcInactive: "<",
            mcOverflow: "<",
          },
        });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/components/checkbox-panel.component.html",
              '<div class="panel panel-default"> <checkbox-control-header prop="$ctrl.prop" mc-title="{{::$ctrl.mcTitle}}"></checkbox-control-header> <div class="panel-body"> <ng-transclude></ng-transclude> </div> </div>'
            ),
        ]),
        u
          .module("app")
          .component("checkboxPanel", {
            bindings: { mcTitle: "@", prop: "<" },
            transclude: !0,
            templateUrl: "js/components/checkbox-panel.component.html",
          });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/components/select/mc-select-row.directive.html",
              '<label class="mc-select" ng-click="$event.preventDefault()"> <input type="checkbox" ng-model="row.isSelected"> <i></i> </label> '
            ),
        ]),
        u.module("app").directive("mcSelectRow", [
          "stConfig",
          function (t) {
            return {
              templateUrl: "js/components/select/mc-select-row.directive.html",
              require: "^mcSelectItems",
              scope: { row: "=mcSelectRow" },
              link(c, e, n, i) {
                e.addClass("mc-select-container"),
                  e.parent().addClass("mc-select-row");
                const a = n.mcSelectTarget ? e.parent() : e;
                a.css("cursor", "pointer"),
                  a.bind("mousedown", () => {
                    document.getSelection().removeAllRanges();
                  }),
                  a.bind("click", (l) => {
                    l.stopPropagation(),
                      c.$apply(() => i.toggleItemSelection(c.row, l.shiftKey));
                  }),
                  c.$watch("row.isSelected", function (l) {
                    !0 === l
                      ? e.parent().addClass(t.select.selectedClass)
                      : e.parent().removeClass(t.select.selectedClass);
                  });
              },
            };
          },
        ]);
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/components/select/mc-select-all.directive.html",
              '<label class="mc-select"> <input type="checkbox" ng-model="mcSelected" ng-model-options="{getterSetter: true}"> <i></i> </label> '
            ),
        ]),
        u.module("app").directive("mcSelectAll", () => ({
          require: ["^mcSelectItems", "?^stTable"],
          scope: {},
          link(t, c, e, n) {
            c.addClass("mc-select-container");
            const [i, a] = n;
            (t.searchIsActive = () =>
              a &&
              a.tableState().search &&
              a.tableState().search.predicateObject &&
              a.tableState().search.predicateObject.$),
              (t.mcSelected = (l) => {
                if (void 0 === l) return i && i.isAnySelected();
                i.setSelected(l);
              });
          },
          templateUrl: "js/components/select/mc-select-all.directive.html",
        }));
      let tM = (() => {
        class t {
          constructor(e, n) {
            (this.$scope = e), n.addClass("no-select");
          }
          getFilteredCollection() {
            return this.mcSelectItems
              ? this.mcSelectItems
              : this.$scope.stTable
              ? this.$scope.stTable.getFilteredCollection()
              : [];
          }
          isAnySelected() {
            return this.getFilteredCollection().some((e) => e.isSelected);
          }
          setSelected(e) {
            this.getFilteredCollection().forEach((n) => (n.isSelected = e)),
              this.mcSelectChanged();
          }
          toggleItemSelection(e, n) {
            const i = this.getFilteredCollection();
            let a = i.indexOf(this.lastItemClicked);
            if (-1 != a && n) {
              const l = !e.isSelected;
              let s = i.indexOf(e);
              if (-1 == s) return;
              a > s && ([a, s] = [s, a]);
              for (let r = a; r <= s; ++r) i[r].isSelected = l;
            } else e.isSelected = !e.isSelected;
            (this.lastItemClicked = e), this.mcSelectChanged();
          }
        }
        return (t.$inject = ["$scope", "$element"]), t;
      })();
      u.module("app").directive("mcSelectItems", () => ({
        controller: tM,
        require: ["^stTable"],
        bindToController: { mcSelectItems: "<", mcSelectChanged: "&" },
        link(t, c, e, n) {
          t.stTable = n[0];
        },
      }));
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/components/notifications.component.html",
            "<toaster-container toaster-options=\"{\r\n    'position-class': 'toast-bottom-right',\r\n    'icon-class': 'toast-job',\r\n    'limit': 5,\r\n    'time-out': 0}\"></toaster-container> "
          ),
      ]);
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/components/mc-job-view.directive.html",
            '<span><i class="fa fa-spin fa-spinner m-r-xs"></i>{{directiveData.title|translate}}...</span> <div ng-if="directiveData.hasProgress"> <p ng-if="!!directiveData.eta">ETA: {{directiveData.eta}}</p> <uib-progressbar value="directiveData.progressValue" max="directiveData.maxProgressValue" class="m-t-xs"> <b>{{directiveData.progressValue}} / {{directiveData.maxProgressValue}}</b> </uib-progressbar> </div> '
          ),
      ]);
      var Hn = (() => {
        return (
          ((t = Hn || (Hn = {}))[(t.Info = 0)] = "Info"),
          (t[(t.Error = 1)] = "Error"),
          Hn
        );
        var t;
      })();
      function oM(t) {
        if (t) return t[0];
      }
      function Zr(t) {
        if (t)
          return {
            id: t[0],
            startTime: oM(t[1]),
            title: t[2],
            hasProgress: t[3],
            progressValue: t[4],
            maxProgressValue: t[5],
          };
      }
      function Kr(t) {
        return t.progressValue > 0
          ? ae()
              .duration(
                ae()().diff(t.startTimeM) *
                  (t.maxProgressValue / t.progressValue - 1)
              )
              .humanize()
          : "";
      }
      let lM = (() => {
        class t {
          constructor(e, n, i) {
            (this.toaster = e),
              (this.$scope = n),
              (this.ChannelRSvc = i),
              (this.jobsReceived = !1),
              (this.disposed = !1),
              (this.jobIdToToaster = {});
          }
          $onInit() {
            (this.alertConnection = this.ChannelRSvc.sub("ShowAlert").subscribe(
              ([e, n]) => {
                this.$scope.$apply(() => {
                  this.toaster.clear(this.alertToast),
                    (this.alertToast = this.toaster.pop({
                      type: e == Hn.Error ? "error" : "success",
                      body: n,
                    }));
                });
              }
            )),
              (this.branch$ = this.ChannelRSvc.sendBranch(
                { subName: "SubscribeJobs" },
                this.ChannelRSvc.sub("JobList").pipe(
                  (0, We.U)(([e]) => {
                    this.clearToaster(),
                      (this.jobsReceived = !0),
                      e.forEach((n) => this.addJob(Zr(n)));
                  })
                ),
                this.ChannelRSvc.sub("AddJob").pipe(
                  (0, We.U)(([e]) => this.addJob(Zr(e)))
                ),
                this.ChannelRSvc.sub("RemoveJob").pipe(
                  (0, We.U)(([e]) => this.removeJob(e))
                ),
                this.ChannelRSvc.sub("SetJobProgress").pipe(
                  (0, We.U)(([e, n]) => this.setJobProgress(e, n))
                )
              ).subscribe()),
              (this.stateConnection$ = this.ChannelRSvc.state$
                .pipe(
                  (0, We.U)((e) => {
                    e === tn.AC.Disconnected && this.clearToaster();
                  })
                )
                .subscribe());
          }
          clearToaster() {
            Object.values(this.jobIdToToaster).forEach((e) =>
              this.toaster.clear(e)
            ),
              (this.jobIdToToaster = {});
          }
          addJob(e) {
            !this.jobsReceived ||
              this.jobIdToToaster[e.id] ||
              ((e.startTimeM = ae()(e.startTime)),
              (e.eta = Kr(e)),
              this.$scope.$apply(() => {
                this.jobIdToToaster[e.id] = {
                  job: e,
                  toast: this.toaster.pop({
                    bodyOutputType: "directive",
                    directiveData: e,
                    body: "mc-job-view",
                  }),
                };
              }));
          }
          removeJob(e) {
            if (!this.jobsReceived) return;
            const n = this.jobIdToToaster[e];
            n &&
              (delete this.jobIdToToaster[e],
              this.$scope.$apply(() => this.toaster.clear(n.toast)));
          }
          setJobProgress(e, n) {
            if (!this.jobsReceived) return;
            const i = this.jobIdToToaster[e];
            i &&
              this.$scope.$apply(() => {
                (i.job.progressValue = n), (i.job.eta = Kr(i.job));
              });
          }
          $onDestroy() {
            (this.disposed = !0),
              this.branch$.unsubscribe(),
              this.stateConnection$.unsubscribe(),
              this.alertConnection.unsubscribe();
          }
        }
        return (t.$inject = ["toaster", "$scope", "ChannelRSvc"]), t;
      })();
      u
        .module("app")
        .directive("mcJobView", () => ({
          templateUrl: "js/components/mc-job-view.directive.html",
        })),
        u
          .module("app")
          .component("notificationsComponent", {
            templateUrl: "js/components/notifications.component.html",
            controller: lM,
          });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "tpl/blocks/notification_header.html",
            ' <div class="notification-header"> <div ng-if="$ctrl.licenseExpirationInfo.data.isMaintenanceExpired && !$ctrl.licenseExpirationInfo.data.isAnnual" uib-alert="" class="alert-danger" style="margin-bottom:0;text-align:center;border-radius:0"> <span class="halflings halflings-exclamation-sign"></span> <strong> {{\'HEADER.NOTIFICATION_HEADER.YOUR_MAINTENANCE_EXPIRED_ON\' | translate : {type: (\'REPOS.TEXT.MAINTENANCE\' | translate), expirationDate: ($ctrl.licenseExpirationInfo.data.maintenanceExpirationDate | mcDateOnlyFormat)} }} </strong> <span> {{\'HEADER.NOTIFICATION_HEADER.WITHOUT_MAINTENANCE_WARNING\' | translate: {type: (\'REPOS.TEXT.MAINTENANCE_LOWER_CASE\' | translate)} }} </span> <a href="{{\'LINKS.WITHOUT_MAINTENANCE_WARNING\' | translate}}" target="_blank" class="dashed_link"> <span translate="REPOS.TEXT.FIND_OUT_MORE"></span> </a>. </div> <div ng-if="$ctrl.licenseExpirationInfo.data.isMaintenanceExpiring && !$ctrl.licenseExpirationInfo.data.isAnnual" uib-alert="" class="alert-warning" style="margin-bottom:0;text-align:center;border-radius:0"> <span class="halflings halflings-exclamation-sign"></span> <strong> <span> {{\'HEADER.NOTIFICATION_HEADER.WARNING_YOUR_MAINTENANCE_WILL_EXPIRE_ON\' | translate : {type: (\'REPOS.TEXT.MAINTENANCE\' | translate) , expirationDate: ($ctrl.licenseExpirationInfo.data.maintenanceExpirationDate | mcDateOnlyFormat)} }} </span> </strong> <span> {{\'HEADER.NOTIFICATION_HEADER.WITHOUT_MAINTENANCE_WARNING\' | translate: {type: (\'REPOS.TEXT.MAINTENANCE_LOWER_CASE\' | translate)} }} </span> <a href="{{\'LINKS.WITHOUT_MAINTENANCE_WARNING\' | translate}}" target="_blank" class="dashed_link"> <span translate="REPOS.TEXT.FIND_OUT_MORE"></span> </a>. </div> </div> <div class="notification-header"> <div ng-if="$ctrl.licenseExpirationInfo.data.isMaintenanceExpired && $ctrl.licenseExpirationInfo.data.isAnnual" uib-alert="" class="alert-danger" style="margin-bottom:0;text-align:center;border-radius:0"> <span class="halflings halflings-exclamation-sign"></span> <strong> <span> {{\'HEADER.NOTIFICATION_HEADER.YOUR_MAINTENANCE_EXPIRED_ON\' | translate : {type: (\'REPOS.TEXT.SUBSCRIPTION\' | translate) , expirationDate: ($ctrl.licenseExpirationInfo.data.maintenanceExpirationDate | mcDateOnlyFormat)} }} </span> </strong> <span> {{\'HEADER.NOTIFICATION_HEADER.WITHOUT_MAINTENANCE_WARNING\' | translate: {type: (\'REPOS.TEXT.SUBSCRIPTION_LOWER_CASE\' | translate)} }} </span> <a href="{{\'LINKS.WITHOUT_SUBSCRIPTION_WARNING\' | translate}}" target="_blank" class="dashed_link"> <span translate="REPOS.TEXT.FIND_OUT_MORE"></span> </a>. </div> <div ng-if="$ctrl.licenseExpirationInfo.data.isMaintenanceExpiring && $ctrl.licenseExpirationInfo.data.isAnnual" uib-alert="" class="alert-warning" style="margin-bottom:0;text-align:center;border-radius:0"> <span class="halflings halflings-exclamation-sign"></span> <strong> <span> {{\'HEADER.NOTIFICATION_HEADER.WARNING_YOUR_MAINTENANCE_WILL_EXPIRE_ON\' | translate : {type: (\'REPOS.TEXT.SUBSCRIPTION\' | translate), expirationDate: ($ctrl.licenseExpirationInfo.data.maintenanceExpirationDate | mcDateOnlyFormat)} }} </span> </strong> <span> {{\'HEADER.NOTIFICATION_HEADER.WITHOUT_MAINTENANCE_WARNING\' | translate: {type: (\'REPOS.TEXT.SUBSCRIPTION_LOWER_CASE\' | translate)} }} </span> <a href="{{\'LINKS.WITHOUT_SUBSCRIPTION_WARNING\' | translate}}" target="_blank" class="dashed_link"> <span translate="REPOS.TEXT.FIND_OUT_MORE"></span> </a>. </div> </div> '
          ),
      ]);
      let dM = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$scope = e),
              (this.$http = n),
              (this.$timeout = i),
              (this.SystemStatusSvc = a),
              (this.licenseExpirationInfo = {}),
              (this.isActive = !1);
          }
          $onInit() {
            this.PollNotificationInfo(
              "api/License/licenseExpirationInfo",
              this.licenseExpirationInfo,
              86400
            ),
              (this.licenseRefreshedSubscription =
                this.SystemStatusSvc.licenseRefreshed$
                  .pipe((0, wa.b)(300))
                  .subscribe(() => {
                    this.invalidatePolling(),
                      this.PollNotificationInfo(
                        "api/License/licenseExpirationInfo",
                        this.licenseExpirationInfo,
                        86400
                      );
                  }));
          }
          $onDestroy() {
            this.invalidatePolling(),
              this.licenseRefreshedSubscription.unsubscribe();
          }
          PollNotificationInfo(e, n, i) {
            this.isActive = !0;
            const a = () => {
                this.isActive && (this.promise = this.$timeout(l, 1e3 * i));
              },
              l = () => {
                this.$http
                  .get(e)
                  .then((s) => {
                    n.data = s.data;
                  })
                  .finally(a)
                  .catch(() => u.noop());
              };
            l();
          }
          invalidatePolling() {
            (this.isActive = !1),
              void 0 !== this.promise && this.$timeout.cancel(this.promise);
          }
        }
        return (
          (t.$inject = ["$scope", "$http", "$timeout", "SystemStatusSvc"]), t
        );
      })();
      u.module("app").component("notificationHeader", {
        controller: dM,
        templateUrl: "tpl/blocks/notification_header.html",
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "tpl/blocks/system-owner-warning.html",
            ' <div class="notification-header" ng-if="$ctrl.systemOwnerIsAbsent"> <div uib-alert="" class="alert-danger" style="margin-bottom:0;text-align:center;border-radius:0"> <span class="halflings halflings-exclamation-sign"></span> <strong> <span> {{\'HEADER.NOTIFICATION_HEADER.WARNING\' | translate }} </span> </strong> <span> {{\'HEADER.NOTIFICATION_HEADER.OPERATOR_EXTENSION_IS_MISSING\' | translate }} </span> </div> </div> '
          ),
      ]);
      let hM = (() => {
        class t {
          constructor(e) {
            this.SystemStatusSvc = e;
          }
          $onInit() {
            this.userChangesSubscription = this.SystemStatusSvc.userChanged$
              .pipe(
                (0, ca.O)(!0),
                (0, it.w)((e) =>
                  (0, Lt.D)(this.SystemStatusSvc.HasSystemOwner())
                ),
                (0, We.U)((e) => e.data)
              )
              .subscribe({
                next: (e) => {
                  this.systemOwnerIsAbsent = !e;
                },
              });
          }
          $onDestroy() {
            this.userChangesSubscription.unsubscribe();
          }
        }
        return (t.$inject = ["SystemStatusSvc"]), t;
      })();
      u.module("app").component("systemOwnerWarning", {
        controller: hM,
        templateUrl: "tpl/blocks/system-owner-warning.html",
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/components/ajax-dn-select.component.html",
            '<label ng-if="$ctrl.header" translate="{{$ctrl.header}}"></label> <ui-select ng-model="$ctrl.selectedDn" reach-infinity="$ctrl.requestMore()" ng-click="$event.stopPropagation();" on-select="$ctrl.onSelected({ $item })"> <ui-select-match placeholder="{{\'MESSAGING.EDITOR.PLEASE_ENTER_NAME_EXT_QUEUE\' | translate}}"> {{!$select.selected.Name && !$ctrl.selectedName ? (\'MESSAGING.EDITOR.PLEASE_ENTER_NAME_EXT_QUEUE\' | translate) : $select.selected.Name? $select.selected.Name : $ctrl.selectedName }} </ui-select-match> <ui-select-choices repeat="dn.Id as dn in $ctrl.extensions" refresh="$ctrl.refreshItems($select.search)"> <span>{{dn.Name}}</span> </ui-select-choices> <ui-select-no-choice ng-hide="!$ctrl.mySearch"> <span class="padder" ng-if="$ctrl.requestOngoing" translate="REPOS.TEXT.SEARCHING">Searching...</span> <span class="padder" ng-if="!$ctrl.requestOngoing" translate="REPOS.TEXT.NO_RESULTS_AFTER_SEARCHING">Nothing found so far</span> </ui-select-no-choice> </ui-select> '
          ),
      ]);
      let mM = (() => {
        class t {
          constructor(e, n, i) {
            (this.$scope = e),
              (this.SystemStatusSvc = n),
              (this.$http = i),
              (this.requestOngoing = !1),
              (this.extensions = []),
              (this.selectedDn = {});
          }
          loadMore(e) {
            if (this.requestOngoing) return;
            this.requestOngoing = !0;
            const n = { from: e, filter: this.mySearch, count: 25 };
            this.typeFilter && (n.type = this.typeFilter),
              this.$http
                .getApi("api/LookupDnTable/AllDN", { params: n })
                .then((i) => {
                  (this.extensions = e
                    ? this.extensions.concat(i.data)
                    : i.data),
                    (this.requestOngoing = !1);
                })
                .catch(() => {
                  this.requestOngoing = !1;
                });
          }
          refreshItems(e) {
            e && ((this.mySearch = e), this.loadMore(0));
          }
        }
        return (t.$inject = ["$scope", "SystemStatusSvc", "$http"]), t;
      })();
      u.module("app").component("ajaxDnSelectComponent", {
        bindings: {
          onSelected: "&",
          selectedName: "<",
          typeFilter: "<",
          header: "@",
        },
        controller: mM,
        templateUrl: "js/components/ajax-dn-select.component.html",
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/components/select-file/file-manage-modal.html",
              '<div class="modal-header"> <button type="button" class="close" ng-click="$close()">&times;</button> <h4 class="modal-title" translate="{{::mcManageTitle}}">Manage greetings</h4> </div> <div class="modal-body"> <file-list-control prop="prop" select-file-control="selectFileControl"></file-list-control> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$close()" translate="REPOS.BUTTONS.OK_BTN" id="btnOk">Ok</button> </div> '
            ),
        ]),
        u.module("app").controller("RecordDialogCtrl", [
          "$scope",
          "recordExtensionNumber",
          "forbid",
          function (t, c, e) {
            (t.recordExtensionNumber = c),
              (t.forbid = e),
              (t.isValidFileName = function (n) {
                return /^[^<>:"/\\?*|]*$/.test(n);
              });
          },
        ]),
        u.module("app").controller("ManageDialogCtrl", [
          "$scope",
          "prop",
          "selectFileControl",
          "mcManageTitle",
          function (t, c, e, n) {
            (t.prop = c), (t.mcManageTitle = n), (t.selectFileControl = e);
          },
        ]);
      let yi = (() => {
        class t {
          constructor(e, n, i, a, l) {
            (this.$scope = e),
              (this.$element = n),
              (this.$uibModal = i),
              (this.extensionSelectService = l),
              (this.defaultValue = a.getDifferentValue());
          }
          $onInit() {
            void 0 === this.mcIsAudio && (this.mcIsAudio = !0),
              this.mcManageTitle ||
                (this.mcManageTitle = "SYSTEM_STATUS.DIALOGS.MANAGE.TITLE"),
              this.mcNoItemsTitle ||
                (this.mcNoItemsTitle = "WARNINGS.NO_PROMPTS_UPLOADED"),
              this.mcAccept || (this.mcAccept = ".wav"),
              this.$scope.$watch("$ctrl.prop.triggerError", (n) => {
                n &&
                  (this.$element[0].scrollIntoView(),
                  (this.prop.triggerError = !1));
              });
            const e = this.$element.find("input[type=file]")[0];
            z()(e).change(() => {
              (this.prop.class = void 0),
                (this.prop.errorMsg = void 0),
                this.prop.upload(e);
            });
          }
          getLabel(e) {
            return e;
          }
          getOptions() {
            return this.prop ? this.prop.possibleValues : [];
          }
          onUploadClick() {
            const e = this.$element.find("input[type=file]")[0];
            setTimeout(function () {
              z()(e).val(""), z()(e).trigger("click");
            });
          }
          isDeleteEnabled(e) {
            var n;
            const i = e.toLowerCase();
            return !(
              null !== (n = this.prop.disallowDeleteFiles) &&
              void 0 !== n &&
              n.some((a) => a.toLowerCase() === i)
            );
          }
          onPlayOnPhoneClick(e) {
            this.extensionSelectService
              .showPlayOnPhoneModal(this.extension)
              .then((n) => {
                this.prop.play(n, e || this.prop.selected);
              });
          }
          onManageDownload(e) {
            this.prop.download(e);
          }
          onRecordClick() {
            this.$uibModal
              .open({
                templateUrl:
                  "tpl/general_dialogs/recording_dialog_with_filename.html",
                controller: "RecordDialogCtrl",
                backdrop: "static",
                resolve: {
                  recordExtensionNumber: () => this.extension || "",
                  forbid: () => this.forbid,
                },
              })
              .result.then((e) => {
                (this.prop.class = void 0),
                  (this.prop.errorMsg = void 0),
                  this.prop.record(
                    e.recordExtensionNumber,
                    e.recordAudioFileName
                  );
              })
              .catch(() => u.noop());
          }
          onManageClick() {
            var e = this;
            return (0, Yt.Z)(function* () {
              try {
                yield e.refreshFileList(),
                  e.$uibModal.open({
                    templateUrl:
                      "js/components/select-file/file-manage-modal.html",
                    backdrop: "static",
                    controller: "ManageDialogCtrl",
                    resolve: {
                      mcManageTitle: () => e.mcManageTitle,
                      prop: () => e.prop,
                      selectFileControl: () => e,
                    },
                  });
              } catch (n) {}
            })();
          }
          onManageDelete(e) {
            var n = this;
            return (0, Yt.Z)(function* () {
              try {
                yield n.prop.delete(e), n.refreshFileList();
              } catch (i) {}
            })();
          }
          refreshFileList() {
            return this.prop.refreshItems();
          }
        }
        return (
          (t.$inject = [
            "$scope",
            "$element",
            "$uibModal",
            "WrapperSvc",
            "ExtensionSelectService",
          ]),
          t
        );
      })();
      const Oi = {
        prop: "<",
        mcIsAudio: "<",
        mcTitle: "@",
        mcAccept: "<",
        extension: "@",
        mcManageTitle: "@",
        mcNoItemsTitle: "@",
        forbid: "<",
        refreshOnClick: "<",
      };
      u.module("app").filter("media", function () {
        return function (t) {
          return t.filter((c) => {
            const e = c.toLowerCase();
            return (
              e.endsWith(".png") ||
              e.endsWith(".wav") ||
              e.endsWith(".bmp") ||
              e.endsWith(".dob") ||
              e.endsWith(".jpg") ||
              e.endsWith(".jpeg") ||
              e.endsWith(".gif")
            );
          });
        };
      });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/components/select-file/file-list.component.html",
              '<ul class="list-group" style="overflow-y:auto;max-height:250px"> <li ng-if="($ctrl.prop.possibleValues | media).length < 1"> <div class="m-t-md"> <label translate="{{::$ctrl.selectFileControl.mcNoItemsTitle}}">No Prompts Uploaded.</label> </div> </li> <li ng-repeat="item in $ctrl.prop.possibleValues|media" class="list-group-item" style="display:flex;flex-direction:row;align-items:center"> <div class="m-r-sm text-ellipsis" style="flex:1"> <span title="{{item}}">{{::item}}</span> </div> <button type="button" ng-click="$ctrl.selectFileControl.onManageDelete(item)" class="btn btn-sm btn-default" ng-if="$ctrl.selectFileControl.isDeleteEnabled(item)" translate="REPOS.BUTTONS.DELETE_BTN" data-id="btnDelete"> </button> <button type="button" ng-click="$ctrl.selectFileControl.onPlayOnPhoneClick(item)" class="btn btn-sm btn-default" ng-if="$ctrl.selectFileControl.mcIsAudio" translate="REPOS.BUTTONS.PLAY_BTN" data-id="btnPlay"> </button> <button type="button" ng-click="$ctrl.selectFileControl.onManageDownload(item)" class="btn btn-sm btn-default" translate="REPOS.BUTTONS.DOWNLOAD_BTN" data-id="btnDownload"> </button> </li> </ul> '
            ),
        ]),
        u
          .module("app")
          .component("fileListControl", {
            templateUrl: "js/components/select-file/file-list.component.html",
            bindings: { prop: "<", selectFileControl: "<" },
          });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/components/select-file/select-file-list.component.html",
              '<div class="btn-group- m-b-sm"> <button class="btn btn-default" ng-click="$ctrl.onUploadClick()" translate="REPOS.BUTTONS.ADD_BTN" id="btnUpload" ng-disabled="$ctrl.prop.disabled" type="button"> <i class="halflings halflings-upload"></i> Upload </button> </div> <div class="errors" ng-if="$ctrl.prop.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{$ctrl.prop.errorMsg}} </li> </ul> </div> <file-list-control prop="$ctrl.prop" select-file-control="$ctrl"></file-list-control> <input id="fileInput" name="fileInput" type="file" class="hide"> '
            ),
        ]),
        u
          .module("app")
          .component("selectFileListControl", {
            controller: yi,
            templateUrl:
              "js/components/select-file/select-file-list.component.html",
            bindings: Oi,
          });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/components/select-file/select-file-media.component.html",
              '<div class="form-group" ng-hide="$ctrl.prop.hide"> <label ng-show="$ctrl.mcTitle" translate="{{::$ctrl.mcTitle}}"></label> <div class="input-group"> <select class="form-control m-b" ng-mousedown="$ctrl.refreshFileList()" ng-model="$ctrl.prop.value" ng-options="pv for pv in $ctrl.prop.possibleValues" ng-model-options="{getterSetter: true}" ng-disabled="$ctrl.prop.disabled"> <option style="display:none" value="" ng-if="$ctrl.prop.IsBulk && ($ctrl.prop.selected.Defined === false)">{{$ctrl.defaultValue}}</option> </select> <div class="input-group-btn"> <button class="btn btn-default" type="button" ng-click="$ctrl.onUploadClick()" ng-disabled="$ctrl.prop.disabled" translate="REPOS.BUTTONS.ADD_BTN" data-id="btnUpload"> </button> <button class="btn btn-default" type="button" ng-if="$ctrl.mcIsAudio" ng-click="$ctrl.onRecordClick()" ng-disabled="$ctrl.prop.disabled || $ctrl.prop.IsBulk" translate="REPOS.BUTTONS.RECORD_BTN" data-id="btnRecord"> </button> <button class="btn btn-default" type="button" ng-click="$ctrl.onManageClick()" ng-disabled="$ctrl.prop.disabled || $ctrl.prop.IsBulk" translate="REPOS.BUTTONS.MANAGE_BTN" data-id="btnManage"> </button> </div> <input data-id="fileInput" name="fileInput" type="file" accept="{{$ctrl.mcAccept}}" class="hide"> </div> <div class="errors" ng-if="$ctrl.prop.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{$ctrl.prop.errorMsg}} </li> </ul> </div> </div> '
            ),
        ]),
        u
          .module("app")
          .component("selectFileMediaControl", {
            controller: yi,
            templateUrl:
              "js/components/select-file/select-file-media.component.html",
            bindings: Oi,
          });
      u
        .module("ng")
        .run([
          "$templateCache",
          (t) =>
            t.put(
              "js/components/select-file/select-file-standard.component.html",
              '<div class="form-group" ng-hide="$ctrl.prop.hide"> <label ng-show="$ctrl.mcTitle" translate="{{::$ctrl.mcTitle}}"></label> <div class="input-group"> <select class="form-control m-b" ng-model="$ctrl.prop.value" ng-options="$ctrl.getLabel(pv) for pv in $ctrl.prop.possibleValues" ng-model-options="{getterSetter: true}" ng-disabled="$ctrl.prop.disabled"> <option style="display:none" value="" ng-if="$ctrl.prop.IsBulk && ($ctrl.prop.selected.Defined === false)">{{$ctrl.defaultValue}}</option> </select> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="$ctrl.onUploadClick()" translate="REPOS.BUTTONS.UPLOAD_BTN" data-id="btnUpload" ng-disabled="$ctrl.prop.disabled"> </button> </span> <input data-id="fileInput" name="fileInput" type="file" class="hide" accept="{{$ctrl.mcAccept}}"> </div> <div class="errors" ng-if="$ctrl.prop.errorMsg"> <ul> <li> <span class="halflings halflings-exclamation-sign"></span> {{$ctrl.prop.errorMsg}} </li> </ul> </div> </div> '
            ),
        ]),
        u
          .module("app")
          .component("selectFileStandardControl", {
            controller: yi,
            templateUrl:
              "js/components/select-file/select-file-standard.component.html",
            bindings: Oi,
          });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/components/nav-item.component.html",
            '<a ng-disabled="$ctrl.mcPreventDefault" ui-sref-active="active" ui-sref="{{$ctrl.mcUiSref}}" uib-tooltip="{{($ctrl.mcTitle | translate)}}" tooltip-placement="right" tooltip-enable="$ctrl.$localStorage.settings.asideFolded"> <ng-transclude-replace></ng-transclude-replace> <span>{{$ctrl.mcTitle|translate}}</span> </a> '
          ),
      ]);
      let xM = (() => {
        class t {
          constructor(e) {
            this.$localStorage = e;
          }
        }
        return (t.$inject = ["$localStorage"]), t;
      })();
      u.module("app").component("appNavItem", {
        transclude: !0,
        bindings: { mcTitle: "@", mcPreventDefault: "<", mcUiSref: "@" },
        controller: xM,
        templateUrl: "js/components/nav-item.component.html",
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/components/nav-sub-list.component.html",
            '<div class="app-nav-item" ng-class="{\'bg-light\': $ctrl.isExpanded}"> <a uib-tooltip="{{($ctrl.mcTitle | translate)}}" tooltip-placement="right" tooltip-enable="$ctrl.$localStorage.settings.asideFolded" ng-click="$event.stopPropagation(); $ctrl.toggleClick()" style="padding:10px 0 10px 0"> <i ng-class="$ctrl.mcIconClass"></i> <span style="flex:1">{{$ctrl.mcTitle|translate}}</span> <span class="nav-caret"> <span ng-class="{rotate180: $ctrl.isExpanded}" class="icon halflings halflings-chevron-down"></span> </span> </a> </div> <ng-transclude class="nav-shifted" ng-show="$ctrl.isExpanded" ng-class="{\'nav-shifted-visible\': $ctrl.isExpanded}"></ng-transclude> '
          ),
      ]);
      let DM = (() => {
        class t {
          constructor(e) {
            this.$localStorage = e;
          }
          get isExpanded() {
            return this.mcIsExpanded === this.mcTag;
          }
          toggleClick() {
            this.mcIsExpanded =
              this.mcIsExpanded === this.mcTag ? void 0 : this.mcTag;
          }
        }
        return (t.$inject = ["$localStorage"]), t;
      })();
      u
        .module("app")
        .component("appNavSubList", {
          transclude: !0,
          bindings: {
            mcTag: "@",
            mcTitle: "@",
            mcUiSref: "@",
            mcIconClass: "@",
            mcIsExpanded: "=",
          },
          controller: DM,
          templateUrl: "js/components/nav-sub-list.component.html",
        }),
        u
          .module("app")
          .component("selectionStat", {
            bindings: { mcSource: "<" },
            template:
              "\n        <div class=\"btn-sm\">\n            {{'EXTENSIONS.STAT' | translate: {count: $ctrl.mcSource.count, selectedCount: $ctrl.mcSource.selectedCount} }}\n        </div>\n    ",
            controller: class MM {},
          });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/components/routing-control/routing-control.html",
            '<div> <div class="form-group"> <select-enum-control prop="$ctrl.prop.ForwardType" filter-possible-values="$ctrl.filterTypes($value)" mc-title="INBOUND_RULES.EDITOR.SELECT_IN_OFFICE_ROUTING"></select-enum-control> </div> <div class="form-group"> <text-control placeholder="External number" prop="$ctrl.prop.ForwardExternalNumber"></text-control> </div> <div class="form-group"> <select-control prop="$ctrl.prop.ForwardDN" display="Name"></select-control> </div> <div class="form-group"> <select-control prop="$ctrl.prop.ForwardRoutePoint" display="Name"></select-control> </div> <div class="form-group"> <select-control prop="$ctrl.prop.ForwardGroup" display="Name"></select-control> </div> <div class="form-group"> <select-control prop="$ctrl.prop.ForwardVMailExtension" display="Name"></select-control> </div> <div class="alert alert-info" role="alert" ng-if="$ctrl.prop.ForwardType.selected === \'TypeOfExternalLineForward.ExtensionVoiceMail\' && ($ctrl.prop.ForwardVMailExtension.selected.Type === \'RingGroup\' || $ctrl.prop.ForwardVMailExtension.selected.Type === \'Queue\')"> <span class="halflings halflings-info-sign"></span> {{\'EXTENSIONS.EDITOR.FORWARDING_RULES.RING_GROUP_VMAIL\'|translate}} </div> <div class="form-group"> <select-control prop="$ctrl.prop.ForwardFaxExtension" display="Name"></select-control> </div> <div class="form-group"> <select-enum-control prop="$ctrl.prop.OutOfOfficeForwardType" filter-possible-values="$ctrl.filterTypes($value)" mc-title="INBOUND_RULES.EDITOR.SELECT_OUT_OF_OFFICE"></select-enum-control> </div> <div class="form-group"> <text-control placeholder="REPORTS.external_number" prop="$ctrl.prop.OutOfOfficeForwardExternalNumber"></text-control> </div> <div class="form-group"> <select-control prop="$ctrl.prop.OutOfOfficeForwardDN" display="Name"></select-control> </div> <div class="form-group"> <select-control prop="$ctrl.prop.OutOfOfficeForwardRoutePoint" display="Name"></select-control> </div> <div class="form-group"> <select-control prop="$ctrl.prop.OutOfOfficeForwardVMailExtension" display="Name"></select-control> </div> <div class="alert alert-info" role="alert" ng-if="$ctrl.prop.OutOfOfficeForwardType.selected === \'TypeOfExternalLineForward.ExtensionVoiceMail\' && ($ctrl.prop.OutOfOfficeForwardVMailExtension.selected.Type === \'RingGroup\' || $ctrl.prop.OutOfOfficeForwardVMailExtension.selected.Type === \'Queue\')"> <span class="halflings halflings-info-sign"></span> {{\'EXTENSIONS.EDITOR.FORWARDING_RULES.RING_GROUP_VMAIL\'|translate}} </div> <div class="form-group"> <select-control prop="$ctrl.prop.OutOfOfficeForwardFaxExtension" display="Name"></select-control> </div> <div class="form-group"> <select-control prop="$ctrl.prop.OutOfOfficeForwardGroup" display="Name"></select-control> </div> <div class="form-group"> <checkbox-control prop="$ctrl.prop.OfficeHoursSpecificEnabled" mc-title="{{$ctrl.type === \'trunk\' ? \'INBOUND_RULES.EDITOR.SET_UP_SPECIFIC_HOURS\'\r\n                          : \'INBOUND_RULES.EDITOR.SET_UP_SPECIFIC_HOURS_RULE\'}}"></checkbox-control> </div> <div class="form-group"> <time-ranges-control prop="$ctrl.prop.OfficeHoursSpecific"></time-ranges-control> </div> <div class="form-group"> <checkbox-control prop="$ctrl.prop.OfficeHoursSpecificIncludeHolidays" mc-title="INBOUND_RULES.EDITOR.INCLUDE_HOLIDAYS"></checkbox-control> </div> <div class="form-group"> <checkbox-control mc-title="INBOUND_RULES.EDITOR.PLAY_HOLIDAY_PROMPT" prop="$ctrl.prop.PlayHolidayPrompt"></checkbox-control> </div> </div> '
          ),
      ]);
      let HM = (() => {
        class t {
          constructor() {}
          filterTypes(e) {
            return e;
          }
        }
        return (t.$inject = ["$rootScope"]), t;
      })();
      u.module("app").component("routingControl", {
        controller: HM,
        bindings: { prop: "<", type: "<" },
        templateUrl: "js/components/routing-control/routing-control.html",
      });
      u.module("ng").run([
        "$templateCache",
        (t) =>
          t.put(
            "js/components/password-recovery.component.html",
            '<a ng-if="!$ctrl.blackListed && !$ctrl.disabled" type="button" class="dashed_link m-t" ng-click="$ctrl.sendCredentials()"> <span>{{\'LOGIN_SCREEN.FORGOT_PASSWORD\' | translate}}</span> <span ng-if="$ctrl.email">{{\'(\' + $ctrl.email + \')\'}}</span> </a> '
          ),
      ]);
      let UM = (() => {
        class t {
          constructor(e, n, i, a) {
            (this.$rootScope = n),
              (this.AuthenticationSvc = i),
              (this.MessageBoxSvc = a),
              (this.blackListed = !1);
          }
          sendCredentials() {
            const e = this.MessageBoxSvc.openProgressDialog(
              "LOGIN_SCREEN.PROCESSING_REQUEST",
              ""
            );
            this.AuthenticationSvc.resetPassword().then(
              (n) => {
                e.close(),
                  this.MessageBoxSvc.messageBox(
                    "LOGIN_SCREEN.PASSWORD_RESTORE",
                    "LOGIN_SCREEN.SEND_PASSWORD_RESULT." + n
                  ).catch(() => u.noop());
              },
              (n) => {
                if ((e.close(), n))
                  return (
                    (this.authError = "WARNINGS.IP_BLACKLISTED"),
                    void (this.blackListed = !0)
                  );
                this.MessageBoxSvc.alertBox(
                  "LOGIN_SCREEN.PASSWORD_RESTORE",
                  "WARNINGS.SERVER_ERROR"
                ).catch(() => u.noop());
              }
            );
          }
        }
        return (
          (t.$inject = [
            "$scope",
            "$rootScope",
            "AuthenticationSvc",
            "MessageBoxSvc",
          ]),
          t
        );
      })();
      u
        .module("app")
        .component("passwordRecovery", {
          templateUrl: "js/components/password-recovery.component.html",
          controller: UM,
          bindings: { authError: "=", email: "=" },
        }),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/ring_groups/ring-group-editor.html",
                '<editor-control new-title="{{$stateParams.Type==\'RingGroup\' ? \'RING_GROUPS.ADD_RING_GROUP\' : \'RING_GROUPS.ADD_PAGING\'}}" back-state="app.ring_groups" help-url="LINKS.RING_GROUPS_HELP_BTN"> <div class="tab-container"> <ul class="nav nav-tabs"> <li role="presentation" ui-sref-active="active"> <a ui-sref=".general" translate="CALL_QUEUES.EDITOR.LIST_BUTTONS.GENERAL_BTN">General</a></li> <li role="presentation" ui-sref-active="active"> <a ui-sref=".click2talk" translate="EXTENSIONS.EDITOR.CLIENT.TITLE">Client</a></li> </ul> <form name="outerForm"> <div class="tab-content"> <ui-view></ui-view> </div> </form> </div> </editor-control> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/ring_groups/general.html",
                ' <panel mc-title="RING_GROUPS.EDITOR.GENERAL_TITLE"> <div class="form-group"> <label ng-if="activeObject.RingStrategy.selected!=\'RingStrategy.Paging\' && activeObject.RingStrategy.selected !=\'RingStrategy.PagingMulticast\'" translate="RING_GROUPS.EDITOR.CALLS_TO_THIS_RING_GROUP_WILL_RING_UNTIL"></label> <label ng-if="activeObject.RingStrategy.selected!=\'RingStrategy.PrioritizedHunt\' && activeObject.RingStrategy.selected!=\'RingStrategy.RingAll\'" translate="RING_GROUPS.EDITOR.CALLS_TO_THIS_PAGING_GROUP_UNTIL"></label> </div> <text-control prop="activeObject.Name" mc-title="RING_GROUPS.EDITOR.RING_GROUP_NAME" placeholder="RING_GROUPS.EDITOR.RING_GROUP_NAME"></text-control> <text-control prop="activeObject.Number" mc-title="RING_GROUPS.EDITOR.VIRTUAL_EXT_NUMBER_RING_GROUP" placeholder="RING_GROUPS.EDITOR.VIRTUAL_EXT_NUMBER_RING_GROUP"></text-control> <label translate="RING_GROUPS.EDITOR.RING_STRATEGY"></label> <div class="form-group"> <select class="form-control" ng-model="activeObject.RingStrategy.value" ng-model-options="{getterSetter: true}" ng-hide="activeObject.RingStrategy.selected!=\'RingStrategy.PrioritizedHunt\' && activeObject.RingStrategy.selected!=\'RingStrategy.RingAll\'"> <option value="RingStrategy.PrioritizedHunt" translate="enum.RingStrategy.PrioritizedHunt"> Prioritized Hunt </option> <option value="RingStrategy.RingAll" translate="enum.RingStrategy.RingAll">Ring All</option> </select> <select class="form-control" ng-model="activeObject.RingStrategy.value" ng-model-options="{getterSetter: true}" ng-hide="activeObject.RingStrategy.selected!=\'RingStrategy.Paging\' && activeObject.RingStrategy.selected !=\'RingStrategy.PagingMulticast\'"> <option value="RingStrategy.Paging" translate="enum.RingStrategy.Paging">Paging</option> <option value="RingStrategy.PagingMulticast" translate="enum.RingStrategy.PagingMulticast"> Paging Multicast </option> </select> </div> <number-control prop="activeObject.RingTime" mc-title="RING_GROUPS.EDITOR.RING_TIME_SECONDS" placeholder="RING_GROUPS.EDITOR.RING_TIME_SECONDS" maximum="99999"></number-control> </panel> <panel mc-title="RING_GROUPS.EDITOR.MULTICAST_OPTIONS_PAGING" ng-if="activeObject.RingStrategy.selected == \'RingStrategy.PagingMulticast\'"> <div class="form-group"> <label translate="RING_GROUPS.EDITOR.REQUIRES_COMPATIBLE_PHONES"></label> </div> <text-control prop="activeObject.MulticastAddress" mc-title="RING_GROUPS.EDITOR.IP_ADDRESS_MULTICAST_CHANNEL" placeholder="RING_GROUPS.EDITOR.IP_ADDRESS_MULTICAST_CHANNEL"> </text-control> <number-control prop="activeObject.MulticastPort" mc-title="RING_GROUPS.EDITOR.PORT_MULTICAST_CHANNEL" placeholder="RING_GROUPS.EDITOR.PORT_MULTICAST_CHANNEL"> </number-control> <select-control prop="activeObject.MulticastCodec" mc-title="RING_GROUPS.EDITOR.CODEC" display="Name"> </select-control> <label translate="RING_GROUPS.EDITOR.PACKET_TIME_MILLISECONDS" ng-hide="activeObject.MulticastPacketTime.hide"></label> <select class="form-control" ng-model="activeObject.MulticastPacketTime.value" ng-model-options="{getterSetter: true}" ng-hide="activeObject.MulticastPacketTime.hide" ng-options="option as option for option in [20, 30, 40, 60]"> </select> <div class="errors"> <ul> <li ng-show="activeObject.MulticastPacketTime.errorMsg"> <span class="halflings halflings-exclamation-sign"></span> {{activeObject.MulticastPacketTime.errorMsg}} </li> </ul> </div> </panel> <panel mc-title="RING_GROUPS.EDITOR.RING_GROUPS_MEMBERS_TITLE" ng-if="!activeObject.Members.hide"> <mc-extensions prop="activeObject.Members" move-enabled="true" sort-disable="true" dialog-title="RING_GROUPS.EDITOR.SELECT_GROUP_MEMBER_ADD"> </mc-extensions> </panel> <did-control prop="activeObject.ExtensionDID"></did-control> <panel mc-title="RING_GROUPS.EDITOR.DESTINATION_IF_NOT_ANSWER" ng-if="activeObject.RingStrategy.selected == \'RingStrategy.PrioritizedHunt\' || activeObject.RingStrategy.selected == \'RingStrategy.RingAll\'"> <no-answer-destination-control prop="activeObject.NoAnswerDestination._value"></no-answer-destination-control> </panel> '
              ),
          ]),
        u
          .module("ng")
          .run([
            "$templateCache",
            (t) =>
              t.put(
                "js/app/ring_groups/ring_group_list.html",
                '<list-control api_url="RingGroupList" editor_state="app.ring_group_editor.general" confirm-deletion> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="bg-light lter b-b wrapper-md"> <label class="m-n font-thin h3" translate="RING_GROUPS.RING_GROUPS_MAIN_TITLE">Ring Groups</label> <help-button url="{{\'LINKS.RING_GROUPS_HELP_BTN\' | translate}}"></help-button> </div> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading" translate="RING_GROUPS.RING_GROUPS_TITLE"> Ring Groups </div> <div class="panel-body" sticky-to-top> <button type="button" ng-click="onAddClick({\'Type\' : \'ring_group\'})" class="btn btn-sm btn-success btn-responsive" translate="RING_GROUPS.LIST_BUTTONS.ADD_RING_GROUP_BTN" id="btnAddRingGroup"> <i class="halflings halflings-plus"></i></button> <button type="button" ng-click="onAddClick({\'Type\' : \'paging\'})" class="btn btn-sm btn-success btn-responsive" translate="RING_GROUPS.LIST_BUTTONS.ADD_PAGING_BTN" id="btnAddPaging"> <i class="halflings halflings-plus"></i> Add Paging </button> <button type="button" ng-disabled="!isOneSelected" class="btn btn-sm btn-default btn-responsive" ng-click="onEditClick()" translate="REPOS.BUTTONS.EDIT_BTN" id="btnEdit"> <i class="halflings halflings-pencil"></i>Edit </button> <button type="button" ng-disabled="!isAnySelected" class="btn btn-sm btn-default btn-responsive" ng-click="onDeleteClick()" translate="REPOS.BUTTONS.DELETE_BTN" id="btnDelete"> <i class="halflings halflings-remove"></i>Delete </button> </div> <div st-table="displayedItems" st-safe-src="items"> <div class="b-t b-b wrapper-tbl"> <input st-search="" id="inputSearch" class="form-control" placeholder="{{\'aside.nav.SEARCH\' | translate}}" type="text"> </div> <table class="table table-striped table-fixed" mc-select-items mc-select-changed="onSelectionChanged()"> <thead> <tr> <th class="col-btn" mc-select-all></th> <th st-sort="Number" class="col-ext" translate="REPOS.TEXT.EXTENSION">Extension Number</th> <th st-sort="Name" translate="RING_GROUPS.TBL_HEADING_NAME">Name</th> <th st-sort="Type" translate="RING_GROUPS.TBL_HEADING_TYPE">Type</th> <th st-sort="NoAnswerDest" class="col-responsive" translate="RING_GROUPS.TBL_HEADING_NO_ANSWER">Destination if no answer</th> <th class="col-btn"></th> </tr> </thead> <tbody> <tr ng-click="onItemEditClick(item)" ng-repeat="item in displayedItems track by item.Id"> <td class="col-btn" mc-select-row="item"></td> <td>{{item.Number}}</td> <td>{{item.Name}}</td> <td>{{item.Type}}</td> <td class="col-responsive">{{item.NoAnswerDest}}</td> <td class="col-btn"> <button type="button" mc-stop-event ng-click="onItemDeleteClick(item)" class="btn btn-xs btn-default"> <i class="fa fa-times"></i> </button> </td> </tr> </tbody> </table> <div class="b-t flex-centered" st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div> </div> </div> </div> </div> </list-control> '
              ),
          ]);
      let WM = (() => {
        class t {
          constructor(e) {
            this.$http = e;
          }
          getMulticastPagingRingGroups() {
            return this.$http.getApi(
              "api/RingGroupList/MulticastPagingRingGroups"
            );
          }
        }
        return (t.$inject = ["$http"]), t;
      })();
      u.module("app").service("RingGroupSvc", WM);
      var YM = w(3259);
      let XM = (() => {
        class t {
          constructor(e) {
            (this.data = ""),
              (this.errorCorrectionLevel = "M"),
              (this.scale = 4),
              (this.canvas = e.find("canvas")[0]);
          }
          $onChanges() {
            !this.data ||
              YM.rT(
                this.canvas,
                this.data,
                {
                  errorCorrectionLevel: this.errorCorrectionLevel,
                  scale: this.scale,
                },
                (e) => {}
              );
          }
        }
        return (t.$inject = ["$element"]), t;
      })();
      u
        .module("app")
        .component("qrcode", {
          template: '<canvas class="qrcode"></canvas>',
          bindings: { data: "<", errorCorrectionLevel: "<", scale: "<" },
          controller: XM,
        }),
        (window.moment = ae());
      var qM = w(70133),
        QM = w.n(qM),
        ZM = w(65269),
        KM = w.n(ZM),
        JM = w(46450),
        ew = w.n(JM),
        tw = w(83040),
        nw = w.n(tw),
        iw = w(3634),
        aw = w.n(iw),
        sw = w(56317),
        ow = w.n(sw),
        lw = w(16019),
        rw = w.n(lw),
        cw = w(68952),
        dw = w.n(cw),
        pw = w(19181),
        uw = w.n(pw),
        hw = w(76409),
        fw = w.n(hw),
        gw = w(95811),
        mw = w.n(gw),
        Tw = w(74613),
        bw = w.n(Tw),
        Sw = w(57638),
        Ew = w.n(Sw),
        Aw = w(26165),
        Cw = w.n(Aw),
        _w = w(39149),
        Iw = w.n(_w),
        vw = w(76922),
        Nw = w.n(vw);
      [
        ew(),
        nw(),
        Cw(),
        Iw(),
        KM(),
        ow(),
        rw(),
        aw(),
        dw(),
        Ew(),
        mw(),
        uw(),
        bw(),
        fw(),
        QM(),
        Nw(),
      ].forEach((t) => Tt().locale(t.name || "en", t));
      var yw = w(73761),
        Ow = w(80040),
        xw = w(13099);
      let Rw = (() => {
        class t {
          constructor(e, n) {
            (this.tokenApi = e),
              (this.router = n),
              this.router.transitionService.onEnter(
                { entering: "login" },
                () => {
                  this.token = void 0;
                }
              ),
              (this.token$ = e.tokenGet().pipe(
                (0, Kt.b)((i) => {
                  (this.token = i.access_token),
                    (this.expiresAt = new Date(
                      +new Date() + (i.expires_in / 2) * 6e4
                    ));
                }),
                (0, xw.B)({ connector: () => new St.t(1) })
              ));
          }
          intercept(e, n) {
            const i = (0, Kt.b)({
              error: (l) => {
                401 === l.status &&
                  ((this.token = void 0), this.router.stateService.go("login"));
              },
            });
            if (!/xapi/.test(e.url)) return n.handle(e).pipe(i);
            const a = () =>
              n.handle(
                e.clone({
                  setHeaders: { Authorization: "Bearer " + this.token },
                })
              );
            return this.token && +new Date() < +this.expiresAt
              ? a().pipe(i)
              : this.token$.pipe((0, it.w)(a), i);
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.LFG(Na), d.LFG(Ii.UIRouter));
          }),
          (t.ɵprov = d.Yz7({ token: t, factory: t.ɵfac })),
          t
        );
      })();
      var Lw = w(32492),
        Dw = w(77691),
        Pt = w(38509);
      let Mw = (() => {
        class t {}
        return (
          (t.ɵfac = function (e) {
            return new (e || t)();
          }),
          (t.ɵmod = d.oAB({ type: t })),
          (t.ɵinj = d.cJS({ imports: [Pt.m, Tn.Db, qt.kn] })),
          t
        );
      })();
      var xi = w(85394);
      let ww = (() => {
        class t {}
        return (
          (t.ɵfac = function (e) {
            return new (e || t)();
          }),
          (t.ɵmod = d.oAB({ type: t })),
          (t.ɵinj = d.cJS({ imports: [Pt.m, Mw, q.UX, Xe.bQ, xi.t] })),
          t
        );
      })();
      var Pw = w(76360);
      let Hw = (() => {
          class t {}
          return (
            (t.ɵfac = function (e) {
              return new (e || t)();
            }),
            (t.ɵmod = d.oAB({ type: t })),
            (t.ɵinj = d.cJS({})),
            t
          );
        })(),
        pc = (() => {
          class t {}
          return (
            (t.ɵfac = function (e) {
              return new (e || t)();
            }),
            (t.ɵmod = d.oAB({ type: t })),
            (t.ɵinj = d.cJS({ imports: [Pt.m, Hw] })),
            t
          );
        })(),
        jw = (() => {
          class t {}
          return (
            (t.ɵfac = function (e) {
              return new (e || t)();
            }),
            (t.ɵmod = d.oAB({ type: t })),
            (t.ɵinj = d.cJS({ imports: [pc, pc] })),
            t
          );
        })(),
        kw = (() => {
          class t {}
          return (
            (t.ɵfac = function (e) {
              return new (e || t)();
            }),
            (t.ɵmod = d.oAB({ type: t })),
            (t.ɵinj = d.cJS({ imports: [Pt.m, q.UX] })),
            t
          );
        })(),
        uc = (() => {
          class t {}
          return (
            (t.ɵfac = function (e) {
              return new (e || t)();
            }),
            (t.ɵmod = d.oAB({ type: t })),
            (t.ɵinj = d.cJS({ imports: [Xe.bQ, q.UX, Pt.m, Ye.ez] })),
            t
          );
        })(),
        Uw = (() => {
          class t {}
          return (
            (t.ɵfac = function (e) {
              return new (e || t)();
            }),
            (t.ɵmod = d.oAB({ type: t })),
            (t.ɵinj = d.cJS({
              imports: [uc, zt.z8, He.aw, q.u5, q.UX, Pt.m, Ye.ez, Xe.bQ, xi.t],
            })),
            t
          );
        })();
      var $w = w(60066);
      let Gw = (() => {
          class t {}
          return (
            (t.ɵfac = function (e) {
              return new (e || t)();
            }),
            (t.ɵmod = d.oAB({ type: t })),
            (t.ɵinj = d.cJS({
              imports: [
                vi.UIRouterModule.forChild(),
                Mn.mr,
                Pt.m,
                Ye.ez,
                q.UX,
                $w.R,
              ],
            })),
            t
          );
        })(),
        Bw = (() => {
          class t {}
          return (
            (t.ɵfac = function (e) {
              return new (e || t)();
            }),
            (t.ɵmod = d.oAB({ type: t })),
            (t.ɵinj = d.cJS({ imports: [Pt.m, q.UX, Xe.bQ, uc, xi.t, zt.z8] })),
            t
          );
        })();
      function Vw(t) {
        return new Ow.w(t, "./l10n/");
      }
      const Ww = {
          provide: An,
          useFactory: function Fw(t) {
            return t.get("AuthenticationSvc");
          },
          deps: ["$injector"],
        },
        Yw = {
          provide: Wn,
          useFactory: function zw(t) {
            return t.get("FileManagerSvc");
          },
          deps: ["$injector"],
        };
      let Xw = (() => {
        class t {
          constructor(e, n, i) {
            (this.upgrade = e),
              (this.bsLocalService = n),
              (this.vld = i),
              (i.displayMode = Xe.d1.ONE),
              (i.shouldDisplayErrors = (r, o) => r.invalid && r.touched);
            const a = yl(localStorage.getItem("NG_TRANSLATE_LANG_KEY")),
              { bsLocale: l, dayJsLocale: s } = bi[a];
            n.use(l), Tt().locale(s), (0, Dw.Dc)("bs3");
          }
          ngDoBootstrap() {
            (0, $.eg)(ie()),
              this.upgrade.bootstrap(document.body, ["app"], { strictDi: !0 });
          }
        }
        return (
          (t.ɵfac = function (e) {
            return new (e || t)(d.LFG($.NQ), d.LFG(qt.vL), d.LFG(Xe.nL));
          }),
          (t.ɵmod = d.oAB({ type: t })),
          (t.ɵinj = d.cJS({
            providers: [Ww, Yw, { provide: N.TP, useClass: Rw, multi: !0 }],
            imports: [
              Gw,
              Uw,
              $.NQ,
              M.b2,
              yw.l,
              N.JF,
              Pw.PW,
              zt.z8.forRoot(),
              Lw.u3.forRoot(),
              et.zk.forRoot(),
              Tn.Db.forRoot(),
              qt.kn.forRoot(),
              De.au.forRoot(() => new De.VK({ basePath: "xapi/v1" })),
              Ig.forRoot(() => new Z({ basePath: "" })),
              He.aw.forRoot({
                defaultLanguage:
                  localStorage.getItem("NG_TRANSLATE_LANG_KEY") || "en",
                loader: { provide: He.Zw, useFactory: Vw, deps: [N.eN] },
              }),
              ww,
              Bw,
              kw,
              jw,
            ],
          })),
          t
        );
      })();
      (0, d.G48)(),
        M.q6()
          .bootstrapModule(Xw)
          .then((t) => {
            const c = t.injector.get(Ii.UIRouter).urlService;
            t.injector.get(d.R0b).run(function e() {
              c.listen(), c.sync();
            });
          })
          .catch((t) => console.error(t));
    },
    29570: () => {
      !(function (Y, W) {
        "use strict";
        Y.module("smart-table", []).run([
          "$templateCache",
          function (w) {
            w.put(
              "template/smart-table/pagination.html",
              '<nav ng-if="numPages && pages.length >= 2"><ul class="pagination"><li ng-repeat="page in pages" ng-class="{active: page==currentPage}"><a href="#" ng-click="selectPage(page); $event.preventDefault(); $event.stopPropagation();">{{page}}</a></li></ul></nav>'
            );
          },
        ]),
          Y.module("smart-table").constant("stConfig", {
            pagination: {
              template: "template/smart-table/pagination.html",
              itemsByPage: 10,
              displayedPages: 5,
            },
            search: { delay: 400, inputEvent: "input", trimSearch: !1 },
            select: { mode: "single", selectedClass: "st-selected" },
            sort: {
              ascentClass: "st-sort-ascent",
              descentClass: "st-sort-descent",
              descendingFirst: !1,
              skipNatural: !1,
              delay: 300,
            },
            pipe: { delay: 100 },
          }),
          Y.module("smart-table")
            .controller("stTableController", [
              "$scope",
              "$parse",
              "$filter",
              "$attrs",
              function (M, d, u, ie) {
                var ee,
                  J,
                  Ne,
                  G = d(ie.stTable),
                  z = G.assign,
                  he = u("orderBy"),
                  ge = u("filter"),
                  le = P(G(M)),
                  V = {
                    sort: {},
                    search: {},
                    pagination: { start: 0, totalItemCount: 0 },
                  },
                  de = !0,
                  ae = this;
                function P(re) {
                  return re ? [].concat(re) : [];
                }
                function Se() {
                  (le = P(ee(M))), !0 === de && ae.pipe();
                }
                function se(re, ue) {
                  if (-1 != ue.indexOf(".")) {
                    var ne = ue.split("."),
                      Ae = ne.pop(),
                      Ce = ne.join("."),
                      we = d(Ce)(re);
                    delete we[Ae], 0 == Object.keys(we).length && se(re, Ce);
                  } else delete re[ue];
                }
                ie.stSafeSrc &&
                  ((ee = d(ie.stSafeSrc)),
                  M.$watch(
                    function () {
                      var re = ee(M);
                      return re && re.length ? re[0] : W;
                    },
                    function (re, ue) {
                      re !== ue && Se();
                    }
                  ),
                  M.$watch(
                    function () {
                      var re = ee(M);
                      return re ? re.length : 0;
                    },
                    function (re, ue) {
                      re !== le.length && Se();
                    }
                  ),
                  M.$watch(
                    function () {
                      return ee(M);
                    },
                    function (re, ue) {
                      re !== ue && Se();
                    }
                  )),
                  (this.sortBy = function (ue, ne) {
                    return (
                      (V.sort.predicate = ue),
                      (V.sort.reverse = !0 === ne),
                      Y.isFunction(ue)
                        ? (V.sort.functionName = ue.name)
                        : delete V.sort.functionName,
                      (V.pagination.start = 0),
                      this.pipe()
                    );
                  }),
                  (this.search = function (ue, ne, Ae) {
                    var Ce = V.search.predicateObject || {},
                      we = ne || "$";
                    return (
                      d(we).assign(Ce, ue),
                      ue || se(Ce, we),
                      (V.search.predicateObject = Ce),
                      (V.pagination.start = 0),
                      this.pipe()
                    );
                  }),
                  (this.pipe = function () {
                    var ne,
                      ue = V.pagination;
                    (J = V.search.predicateObject
                      ? ge(le, V.search.predicateObject)
                      : le),
                      V.sort.predicate &&
                        (J = he(J, V.sort.predicate, V.sort.reverse)),
                      (ue.totalItemCount = J.length),
                      ue.number !== W &&
                        ((ue.numberOfPages =
                          J.length > 0 ? Math.ceil(J.length / ue.number) : 1),
                        (ue.start =
                          ue.start >= J.length
                            ? (ue.numberOfPages - 1) * ue.number
                            : ue.start),
                        (ne = J.slice(
                          ue.start,
                          ue.start + parseInt(ue.number)
                        ))),
                      z(M, ne || J);
                  }),
                  (this.select = function (ue, ne) {
                    var Ae = P(G(M)),
                      Ce = Ae.indexOf(ue);
                    -1 !== Ce &&
                      ("single" === ne
                        ? ((ue.isSelected = !0 !== ue.isSelected),
                          Ne && (Ne.isSelected = !1),
                          (Ne = !0 === ue.isSelected ? ue : W))
                        : (Ae[Ce].isSelected = !Ae[Ce].isSelected));
                  }),
                  (this.slice = function (ue, ne) {
                    return (
                      (V.pagination.start = ue),
                      (V.pagination.number = ne),
                      this.pipe()
                    );
                  }),
                  (this.tableState = function () {
                    return V;
                  }),
                  (this.getFilteredCollection = function () {
                    return J || le;
                  }),
                  (this.setFilterFunction = function (ue) {
                    ge = u(ue);
                  }),
                  (this.setSortFunction = function (ue) {
                    he = u(ue);
                  }),
                  (this.preventPipeOnWatch = function () {
                    de = !1;
                  });
              },
            ])
            .directive("stTable", function () {
              return {
                restrict: "A",
                controller: "stTableController",
                link: function (w, M, d, u) {
                  d.stSetFilter && u.setFilterFunction(d.stSetFilter),
                    d.stSetSort && u.setSortFunction(d.stSetSort);
                },
              };
            }),
          Y.module("smart-table").directive("stSearch", [
            "stConfig",
            "$timeout",
            "$parse",
            function (w, M, d) {
              return {
                require: "^stTable",
                link: function (u, ie, $, G) {
                  var z = G,
                    ee = null,
                    he = $.stDelay || w.search.delay,
                    ge = $.stInputEvent || w.search.inputEvent,
                    le = $.trimSearch || w.search.trimSearch;
                  $.$observe("stSearch", function (V, J) {
                    var de = ie[0].value;
                    V !== J &&
                      de &&
                      ((G.tableState().search = {}),
                      (de = Y.isString(de) && le ? de.trim() : de),
                      z.search(de, V));
                  }),
                    u.$watch(
                      function () {
                        return G.tableState().search;
                      },
                      function (V, J) {
                        var de = $.stSearch || "$";
                        V.predicateObject &&
                          d(de)(V.predicateObject) !== ie[0].value &&
                          (ie[0].value = d(de)(V.predicateObject) || "");
                      },
                      !0
                    ),
                    ie.bind(ge, function (V) {
                      (V = V.originalEvent || V),
                        null !== ee && M.cancel(ee),
                        (ee = M(function () {
                          var J = V.target.value;
                          (J = Y.isString(J) && le ? J.trim() : J),
                            z.search(J, $.stSearch || ""),
                            (ee = null);
                        }, he));
                    });
                },
              };
            },
          ]),
          Y.module("smart-table").directive("stSelectRow", [
            "stConfig",
            function (w) {
              return {
                restrict: "A",
                require: "^stTable",
                scope: { row: "=stSelectRow" },
                link: function (M, d, u, ie) {
                  var $ = u.stSelectMode || w.select.mode;
                  d.bind("click", function () {
                    M.$apply(function () {
                      ie.select(M.row, $);
                    });
                  }),
                    M.$watch("row.isSelected", function (G) {
                      !0 === G
                        ? d.addClass(w.select.selectedClass)
                        : d.removeClass(w.select.selectedClass);
                    });
                },
              };
            },
          ]),
          Y.module("smart-table").directive("stSort", [
            "stConfig",
            "$parse",
            "$timeout",
            function (w, M, d) {
              return {
                restrict: "A",
                require: "^stTable",
                link: function (u, ie, $, G) {
                  var J,
                    z = $.stSort,
                    ee = M(z),
                    he = 0,
                    ge = $.stClassAscent || w.sort.ascentClass,
                    le = $.stClassDescent || w.sort.descentClass,
                    V = [ge, le],
                    de =
                      $.stSkipNatural !== W
                        ? $.stSkipNatural
                        : w.sort.skipNatural,
                    ae =
                      $.stDescendingFirst !== W
                        ? $.stDescendingFirst
                        : w.sort.descendingFirst,
                    Ne = null,
                    P = $.stDelay || w.sort.delay,
                    Se = "aria-sort";
                  function ne() {
                    var Ae;
                    ae ? (he = 0 === he ? 2 : he - 1) : he++,
                      (z =
                        Y.isFunction(ee(u)) || Y.isArray(ee(u))
                          ? ee(u)
                          : $.stSort),
                      he % 3 != 0 || de
                        ? (Ae = G.sortBy.bind(G, z, he % 2 == 0))
                        : ((he = 0),
                          (G.tableState().sort = {}),
                          (G.tableState().pagination.start = 0),
                          (Ae = G.pipe.bind(G))),
                      null !== Ne && d.cancel(Ne),
                      P < 0
                        ? Ae()
                        : (Ne = d(function () {
                            Ae();
                          }, P));
                  }
                  ie.attr("role", "columnheader").attr(Se, "none"),
                    $.stSortDefault &&
                      (J =
                        u.$eval($.stSortDefault) !== W
                          ? u.$eval($.stSortDefault)
                          : $.stSortDefault),
                    ie.bind("click", function () {
                      z && u.$apply(ne);
                    }),
                    J && ((he = "reverse" === J ? 1 : 0), ne()),
                    u.$watch(
                      function () {
                        return G.tableState().sort;
                      },
                      function (Ae) {
                        Ae.predicate !== z
                          ? ((he = 0),
                            ie.removeClass(ge).removeClass(le).attr(Se, "none"))
                          : ie
                              .removeClass(
                                V[(he = !0 === Ae.reverse ? 2 : 1) % 2]
                              )
                              .addClass(V[he - 1])
                              .attr(
                                Se,
                                Ae.reverse ? "ascending" : "descending"
                              );
                      },
                      !0
                    );
                },
              };
            },
          ]),
          Y.module("smart-table").directive("stPagination", [
            "stConfig",
            function (w) {
              return {
                restrict: "EA",
                require: "^stTable",
                scope: {
                  stItemsByPage: "=?",
                  stDisplayedPages: "=?",
                  stPageChange: "&",
                },
                templateUrl: function (M, d) {
                  return d.stTemplate ? d.stTemplate : w.pagination.template;
                },
                link: function (M, d, u, ie) {
                  function $() {
                    var ee,
                      he,
                      G = ie.tableState().pagination,
                      z = 1,
                      ge = M.currentPage;
                    for (
                      M.totalItemCount = G.totalItemCount,
                        M.currentPage = Math.floor(G.start / G.number) + 1,
                        (ee =
                          (z = Math.max(
                            z,
                            M.currentPage -
                              Math.abs(Math.floor(M.stDisplayedPages / 2))
                          )) + M.stDisplayedPages) > G.numberOfPages &&
                          ((ee = G.numberOfPages + 1),
                          (z = Math.max(1, ee - M.stDisplayedPages))),
                        M.pages = [],
                        M.numPages = G.numberOfPages,
                        he = z;
                      he < ee;
                      he++
                    )
                      M.pages.push(he);
                    ge !== M.currentPage &&
                      M.stPageChange({ newPage: M.currentPage });
                  }
                  (M.stItemsByPage = M.stItemsByPage
                    ? +M.stItemsByPage
                    : w.pagination.itemsByPage),
                    (M.stDisplayedPages = M.stDisplayedPages
                      ? +M.stDisplayedPages
                      : w.pagination.displayedPages),
                    (M.currentPage = 1),
                    (M.pages = []),
                    M.$watch(
                      function () {
                        return ie.tableState().pagination;
                      },
                      $,
                      !0
                    ),
                    M.$watch("stItemsByPage", function (G, z) {
                      G !== z && M.selectPage(1);
                    }),
                    M.$watch("stDisplayedPages", $),
                    (M.selectPage = function (G) {
                      G > 0 &&
                        G <= M.numPages &&
                        ie.slice((G - 1) * M.stItemsByPage, M.stItemsByPage);
                    }),
                    ie.tableState().pagination.number ||
                      ie.slice(0, M.stItemsByPage);
                },
              };
            },
          ]),
          Y.module("smart-table").directive("stPipe", [
            "stConfig",
            "$timeout",
            function (w, M) {
              return {
                require: "stTable",
                scope: { stPipe: "=" },
                link: {
                  pre: function (d, u, ie, $) {
                    var G = null;
                    Y.isFunction(d.stPipe) &&
                      ($.preventPipeOnWatch(),
                      ($.pipe = function () {
                        return (
                          null !== G && M.cancel(G),
                          (G = M(function () {
                            d.stPipe($.tableState(), $);
                          }, w.pipe.delay))
                        );
                      }));
                  },
                  post: function (d, u, ie, $) {
                    $.pipe();
                  },
                },
              };
            },
          ]);
      })(angular);
    },
    39499: (Y, W, w) => {
      var M = w(58259);
      (function () {
        "use strict";
        var d = {
          TAB: 9,
          ENTER: 13,
          ESC: 27,
          SPACE: 32,
          LEFT: 37,
          UP: 38,
          RIGHT: 39,
          DOWN: 40,
          SHIFT: 16,
          CTRL: 17,
          ALT: 18,
          PAGE_UP: 33,
          PAGE_DOWN: 34,
          HOME: 36,
          END: 35,
          BACKSPACE: 8,
          DELETE: 46,
          COMMAND: 91,
          MAP: {
            91: "COMMAND",
            8: "BACKSPACE",
            9: "TAB",
            13: "ENTER",
            16: "SHIFT",
            17: "CTRL",
            18: "ALT",
            19: "PAUSEBREAK",
            20: "CAPSLOCK",
            27: "ESC",
            32: "SPACE",
            33: "PAGE_UP",
            34: "PAGE_DOWN",
            35: "END",
            36: "HOME",
            37: "LEFT",
            38: "UP",
            39: "RIGHT",
            40: "DOWN",
            43: "+",
            44: "PRINTSCREEN",
            45: "INSERT",
            46: "DELETE",
            48: "0",
            49: "1",
            50: "2",
            51: "3",
            52: "4",
            53: "5",
            54: "6",
            55: "7",
            56: "8",
            57: "9",
            59: ";",
            61: "=",
            65: "A",
            66: "B",
            67: "C",
            68: "D",
            69: "E",
            70: "F",
            71: "G",
            72: "H",
            73: "I",
            74: "J",
            75: "K",
            76: "L",
            77: "M",
            78: "N",
            79: "O",
            80: "P",
            81: "Q",
            82: "R",
            83: "S",
            84: "T",
            85: "U",
            86: "V",
            87: "W",
            88: "X",
            89: "Y",
            90: "Z",
            96: "0",
            97: "1",
            98: "2",
            99: "3",
            100: "4",
            101: "5",
            102: "6",
            103: "7",
            104: "8",
            105: "9",
            106: "*",
            107: "+",
            109: "-",
            110: ".",
            111: "/",
            112: "F1",
            113: "F2",
            114: "F3",
            115: "F4",
            116: "F5",
            117: "F6",
            118: "F7",
            119: "F8",
            120: "F9",
            121: "F10",
            122: "F11",
            123: "F12",
            144: "NUMLOCK",
            145: "SCROLLLOCK",
            186: ";",
            187: "=",
            188: ",",
            189: "-",
            190: ".",
            191: "/",
            192: "`",
            219: "[",
            220: "\\",
            221: "]",
            222: "'",
          },
          isControl: function (G) {
            switch (G.which) {
              case d.COMMAND:
              case d.SHIFT:
              case d.CTRL:
              case d.ALT:
                return !0;
            }
            return !!(G.metaKey || G.ctrlKey || G.altKey);
          },
          isFunctionKey: function (G) {
            return (G = G.which ? G.which : G) >= 112 && G <= 123;
          },
          isVerticalMovement: function (G) {
            return ~[d.UP, d.DOWN].indexOf(G);
          },
          isHorizontalMovement: function (G) {
            return ~[d.LEFT, d.RIGHT, d.BACKSPACE, d.DELETE].indexOf(G);
          },
          toSeparator: function (G) {
            return (
              { ENTER: "\n", TAB: "\t", SPACE: " " }[G] || (d[G] ? void 0 : G)
            );
          },
        };
        function u(G) {
          return angular.isUndefined(G) || null === G;
        }
        void 0 === angular.element.prototype.querySelectorAll &&
          (angular.element.prototype.querySelectorAll = function (G) {
            return angular.element(this[0].querySelectorAll(G));
          }),
          void 0 === angular.element.prototype.closest &&
            (angular.element.prototype.closest = function (G) {
              for (
                var z = this[0],
                  ee =
                    z.matches ||
                    z.webkitMatchesSelector ||
                    z.mozMatchesSelector ||
                    z.msMatchesSelector;
                z;

              ) {
                if (ee.bind(z)(G)) return z;
                z = z.parentElement;
              }
              return !1;
            });
        var ie = 0,
          $ = angular
            .module("ui.select", [])
            .constant("uiSelectConfig", {
              theme: "bootstrap",
              searchEnabled: !0,
              sortable: !1,
              placeholder: "",
              refreshDelay: 1e3,
              closeOnSelect: !0,
              skipFocusser: !1,
              dropdownPosition: "auto",
              removeSelected: !0,
              resetSearchInput: !0,
              generateId: function () {
                return ie++;
              },
              appendToBody: !1,
              spinnerEnabled: !1,
              spinnerClass: "halflings halflings-refresh ui-select-spin",
              backspaceReset: !0,
            })
            .service("uiSelectMinErr", function () {
              var G = angular.$$minErr("ui.select");
              return function () {
                var z = G.apply(this, arguments),
                  ee = z.message.replace(
                    new RegExp("\nhttp://errors.angularjs.org/.*"),
                    ""
                  );
                return new Error(ee);
              };
            })
            .directive("uisTranscludeAppend", function () {
              return {
                link: function (G, z, ee, he, ge) {
                  ge(G, function (le) {
                    z.append(le);
                  });
                },
              };
            })
            .filter("highlight", function () {
              return function (z, ee) {
                return ee && z
                  ? ("" + z).replace(
                      new RegExp(
                        (function G(z) {
                          return ("" + z).replace(
                            /([.?*+^$[\]\\(){}|-])/g,
                            "\\$1"
                          );
                        })(ee),
                        "gi"
                      ),
                      '<span class="ui-select-highlight">$&</span>'
                    )
                  : z;
              };
            })
            .factory("uisOffset", [
              "$document",
              "$window",
              function (G, z) {
                return function (ee) {
                  var he = ee[0].getBoundingClientRect();
                  return {
                    width: he.width || ee.prop("offsetWidth"),
                    height: he.height || ee.prop("offsetHeight"),
                    top:
                      he.top +
                      (z.pageYOffset || G[0].documentElement.scrollTop),
                    left:
                      he.left +
                      (z.pageXOffset || G[0].documentElement.scrollLeft),
                  };
                };
              },
            ]);
        $.directive("uiSelectChoices", [
          "uiSelectConfig",
          "uisRepeatParser",
          "uiSelectMinErr",
          "$compile",
          "$window",
          function (G, z, ee, he, ge) {
            return {
              restrict: "EA",
              require: "^uiSelect",
              replace: !0,
              transclude: !0,
              templateUrl: function (le) {
                return (
                  le.addClass("ui-select-choices"),
                  (le.parent().attr("theme") || G.theme) + "/choices.tpl.html"
                );
              },
              compile: function (le, V) {
                if (!V.repeat)
                  throw ee("repeat", "Expected 'repeat' expression.");
                var J = V.groupBy,
                  de = V.groupFilter;
                if (J) {
                  var ae = le.querySelectorAll(".ui-select-choices-group");
                  if (1 !== ae.length)
                    throw ee(
                      "rows",
                      "Expected 1 .ui-select-choices-group but got '{0}'.",
                      ae.length
                    );
                  ae.attr("ng-repeat", z.getGroupNgRepeatExpression());
                }
                var Ne = z.parse(V.repeat),
                  P = le.querySelectorAll(".ui-select-choices-row");
                if (1 !== P.length)
                  throw ee(
                    "rows",
                    "Expected 1 .ui-select-choices-row but got '{0}'.",
                    P.length
                  );
                P.attr("ng-repeat", Ne.repeatExpression(J)).attr(
                  "ng-if",
                  "$select.open"
                );
                var Se = le.querySelectorAll(".ui-select-choices-row-inner");
                if (1 !== Se.length)
                  throw ee(
                    "rows",
                    "Expected 1 .ui-select-choices-row-inner but got '{0}'.",
                    Se.length
                  );
                return (
                  Se.attr("uis-transclude-append", ""),
                  (ge.document.addEventListener ? P : Se).attr(
                    "ng-click",
                    "$select.select(" +
                      Ne.itemName +
                      ",$select.skipFocusser,$event)"
                  ),
                  function (ue, ne, Ae, Ce) {
                    Ce.parseRepeatAttr(Ae.repeat, J, de),
                      (Ce.disableChoiceExpression = Ae.uiDisableChoice),
                      (Ce.onHighlightCallback = Ae.onHighlight),
                      (Ce.minimumInputLength =
                        parseInt(Ae.minimumInputLength) || 0),
                      (Ce.dropdownPosition = Ae.position
                        ? Ae.position.toLowerCase()
                        : G.dropdownPosition),
                      ue.$watch("$select.search", function (we) {
                        we && !Ce.open && Ce.multiple && Ce.activate(!1, !0),
                          (Ce.activeIndex = Ce.tagging.isActivated ? -1 : 0),
                          !Ae.minimumInputLength ||
                          Ce.search.length >= Ae.minimumInputLength
                            ? Ce.refresh(Ae.refresh)
                            : (Ce.items = []);
                      }),
                      Ae.$observe("refreshDelay", function () {
                        var we = ue.$eval(Ae.refreshDelay);
                        Ce.refreshDelay = void 0 !== we ? we : G.refreshDelay;
                      }),
                      ue.$watch("$select.open", function (we) {
                        we
                          ? (le.attr("role", "listbox"), Ce.refresh(Ae.refresh))
                          : ne.removeAttr("role");
                      });
                  }
                );
              },
            };
          },
        ]),
          $.controller("uiSelectCtrl", [
            "$scope",
            "$element",
            "$timeout",
            "$filter",
            "$$uisDebounce",
            "uisRepeatParser",
            "uiSelectMinErr",
            "uiSelectConfig",
            "$parse",
            "$injector",
            "$window",
            function (G, z, ee, he, ge, le, V, J, de, ae, Ne) {
              var ne,
                P = this;
              if (
                ((P.placeholder = J.placeholder),
                (P.searchEnabled = J.searchEnabled),
                (P.sortable = J.sortable),
                (P.refreshDelay = J.refreshDelay),
                (P.paste = J.paste),
                (P.resetSearchInput = J.resetSearchInput),
                (P.refreshing = !1),
                (P.spinnerEnabled = J.spinnerEnabled),
                (P.spinnerClass = J.spinnerClass),
                (P.removeSelected = J.removeSelected),
                (P.closeOnSelect = !0),
                (P.skipFocusser = !1),
                (P.search = ""),
                (P.activeIndex = 0),
                (P.items = []),
                (P.open = !1),
                (P.focus = !1),
                (P.disabled = !1),
                (P.selected = void 0),
                (P.dropdownPosition = "auto"),
                (P.focusser = void 0),
                (P.multiple = void 0),
                (P.disableChoiceExpression = void 0),
                (P.tagging = { isActivated: !1, fct: void 0 }),
                (P.taggingTokens = { isActivated: !1, tokens: void 0 }),
                (P.lockChoiceExpression = void 0),
                (P.clickTriggeredSelect = !1),
                (P.$filter = he),
                (P.$element = z),
                (P.$animate = (function () {
                  try {
                    return ae.get("$animate");
                  } catch (ce) {
                    return null;
                  }
                })()),
                (P.searchInput = z.querySelectorAll("input.ui-select-search")),
                1 !== P.searchInput.length)
              )
                throw V(
                  "searchInput",
                  "Expected 1 input.ui-select-search but got '{0}'.",
                  P.searchInput.length
                );
              function re() {
                P.resetSearchInput &&
                  ((P.search = ""),
                  P.selected &&
                    P.items.length &&
                    !P.multiple &&
                    (P.activeIndex = (function se(ce, Ee, Oe) {
                      if (ce.findIndex) return ce.findIndex(Ee, Oe);
                      for (
                        var pe = Object(ce), Ie = pe.length >>> 0, Fe = 0;
                        Fe < Ie;
                        Fe++
                      )
                        if (Ee.call(Oe, pe[Fe], Fe, pe)) return Fe;
                      return -1;
                    })(
                      P.items,
                      function (ce) {
                        return angular.equals(this, ce);
                      },
                      P.selected
                    )));
              }
              (P.isEmpty = function () {
                return (
                  u(P.selected) ||
                  "" === P.selected ||
                  (P.multiple && 0 === P.selected.length)
                );
              }),
                (P.activate = function (ce, Ee) {
                  if (P.disabled || P.open)
                    P.open && !P.searchEnabled && P.close();
                  else {
                    Ee || re(),
                      G.$broadcast("uis:activate"),
                      (P.open = !0),
                      (P.activeIndex =
                        P.activeIndex >= P.items.length ? 0 : P.activeIndex),
                      -1 === P.activeIndex &&
                        !1 !== P.taggingLabel &&
                        (P.activeIndex = 0);
                    var Oe = z.querySelectorAll(".ui-select-choices-content"),
                      pe = z.querySelectorAll(".ui-select-search");
                    if (
                      P.$animate &&
                      P.$animate.on &&
                      P.$animate.enabled(Oe[0])
                    ) {
                      var Ie = function (Be, Fe) {
                        "start" === Fe && 0 === P.items.length
                          ? (P.$animate.off("removeClass", pe[0], Ie),
                            ee(function () {
                              P.focusSearchInput(ce);
                            }))
                          : "close" === Fe &&
                            (P.$animate.off("enter", Oe[0], Ie),
                            ee(function () {
                              P.focusSearchInput(ce);
                            }));
                      };
                      P.items.length > 0
                        ? P.$animate.on("enter", Oe[0], Ie)
                        : P.$animate.on("removeClass", pe[0], Ie);
                    } else
                      ee(function () {
                        P.focusSearchInput(ce),
                          !P.tagging.isActivated && P.items.length > 1 && Ue();
                      });
                  }
                }),
                (P.focusSearchInput = function (ce) {
                  (P.search = ce || P.search), P.searchInput[0].focus();
                }),
                (P.findGroupByName = function (ce) {
                  return (
                    P.groups &&
                    P.groups.filter(function (Ee) {
                      return Ee.name === ce;
                    })[0]
                  );
                }),
                (P.parseRepeatAttr = function (ce, Ee, Oe) {
                  (P.setItemsFn = Ee
                    ? function pe(ke) {
                        var ot = G.$eval(Ee);
                        if (
                          ((P.groups = []),
                          angular.forEach(ke, function (ht) {
                            var Vt = angular.isFunction(ot) ? ot(ht) : ht[ot],
                              nn = P.findGroupByName(Vt);
                            nn
                              ? nn.items.push(ht)
                              : P.groups.push({ name: Vt, items: [ht] });
                          }),
                          Oe)
                        ) {
                          var dt = G.$eval(Oe);
                          angular.isFunction(dt)
                            ? (P.groups = dt(P.groups))
                            : angular.isArray(dt) &&
                              (P.groups = (function ue(ce, Ee) {
                                var Oe,
                                  pe,
                                  Ie = [];
                                for (Oe = 0; Oe < Ee.length; Oe++)
                                  for (pe = 0; pe < ce.length; pe++)
                                    ce[pe].name == [Ee[Oe]] && Ie.push(ce[pe]);
                                return Ie;
                              })(P.groups, dt));
                        }
                        (P.items = []),
                          P.groups.forEach(function (ht) {
                            P.items = P.items.concat(ht.items);
                          });
                      }
                    : function Ie(ke) {
                        P.items = ke || [];
                      }),
                    (P.parserResult = le.parse(ce)),
                    (P.isGrouped = !!Ee),
                    (P.itemProperty = P.parserResult.itemName);
                  var Be = P.parserResult.source,
                    Fe = function () {
                      var ke = Be(G);
                      G.$uisSource = Object.keys(ke).map(function (ot) {
                        var dt = {};
                        return (
                          (dt[P.parserResult.keyName] = ot),
                          (dt.value = ke[ot]),
                          dt
                        );
                      });
                    };
                  P.parserResult.keyName &&
                    (Fe(),
                    (P.parserResult.source = de(
                      "$uisSource" + P.parserResult.filters
                    )),
                    G.$watch(
                      Be,
                      function (ke, ot) {
                        ke !== ot && Fe();
                      },
                      !0
                    )),
                    (P.refreshItems = function (ke) {
                      ke = ke || P.parserResult.source(G);
                      var ot = P.selected;
                      if (
                        P.isEmpty() ||
                        (angular.isArray(ot) && !ot.length) ||
                        !P.multiple ||
                        !P.removeSelected
                      )
                        P.setItemsFn(ke);
                      else if (null != ke) {
                        var dt = ke.filter(function (ht) {
                          return angular.isArray(ot)
                            ? ot.every(function (Vt) {
                                return !angular.equals(ht, Vt);
                              })
                            : !angular.equals(ht, ot);
                        });
                        P.setItemsFn(dt);
                      }
                      ("auto" === P.dropdownPosition ||
                        "up" === P.dropdownPosition) &&
                        G.calculateDropdownPos(),
                        G.$broadcast("uis:refresh");
                    }),
                    G.$watchCollection(P.parserResult.source, function (ke) {
                      if (null == ke) P.items = [];
                      else {
                        if (!angular.isArray(ke))
                          throw V(
                            "items",
                            "Expected an array but got '{0}'.",
                            ke
                          );
                        P.refreshItems(ke),
                          angular.isDefined(P.ngModel.$modelValue) &&
                            (P.ngModel.$modelValue = null);
                      }
                    });
                }),
                (P.refresh = function (ce) {
                  void 0 !== ce &&
                    (ne && ee.cancel(ne),
                    (ne = ee(function () {
                      if (
                        G.$select.search.length >= G.$select.minimumInputLength
                      ) {
                        var Ee = G.$eval(ce);
                        Ee &&
                          angular.isFunction(Ee.then) &&
                          !P.refreshing &&
                          ((P.refreshing = !0),
                          Ee.finally(function () {
                            P.refreshing = !1;
                          }));
                      }
                    }, P.refreshDelay)));
                }),
                (P.isActive = function (ce) {
                  if (!P.open) return !1;
                  var Ee = P.items.indexOf(ce[P.itemProperty]),
                    Oe = Ee == P.activeIndex;
                  return (
                    !(!Oe || Ee < 0) &&
                    (Oe &&
                      !angular.isUndefined(P.onHighlightCallback) &&
                      ce.$eval(P.onHighlightCallback),
                    Oe)
                  );
                });
              var Ae = function (ce) {
                  return (
                    P.selected &&
                    angular.isArray(P.selected) &&
                    P.selected.filter(function (Ee) {
                      return angular.equals(Ee, ce);
                    }).length > 0
                  );
                },
                Ce = [];
              function je(ce) {
                return Ce.indexOf(ce) > -1;
              }
              (P.isDisabled = function (ce) {
                if (P.open) {
                  var Ee = ce[P.itemProperty],
                    pe = !1;
                  if (
                    P.items.indexOf(Ee) >= 0 &&
                    (angular.isDefined(P.disableChoiceExpression) || P.multiple)
                  ) {
                    if (Ee.isTag) return !1;
                    P.multiple && (pe = Ae(Ee)),
                      !pe &&
                        angular.isDefined(P.disableChoiceExpression) &&
                        (pe = !!ce.$eval(P.disableChoiceExpression)),
                      (function we(ce, Ee) {
                        var Oe = Ce.indexOf(ce);
                        Ee && -1 === Oe && Ce.push(ce),
                          !Ee && Oe > -1 && Ce.splice(Oe, 1);
                      })(Ee, pe);
                  }
                  return pe;
                }
              }),
                (P.select = function (ce, Ee, Oe) {
                  if (u(ce) || !je(ce)) {
                    if (!P.items && !P.search && !P.tagging.isActivated) return;
                    if (!ce || !je(ce)) {
                      if (
                        ((P.clickTriggeredSelect = !1),
                        Oe &&
                          ("click" === Oe.type || "touchend" === Oe.type) &&
                          ce &&
                          (P.clickTriggeredSelect = !0),
                        P.tagging.isActivated && !1 === P.clickTriggeredSelect)
                      ) {
                        if (!1 === P.taggingLabel)
                          if (P.activeIndex < 0) {
                            if (
                              (void 0 === ce &&
                                (ce =
                                  void 0 !== P.tagging.fct
                                    ? P.tagging.fct(P.search)
                                    : P.search),
                              !ce || angular.equals(P.items[0], ce))
                            )
                              return;
                          } else ce = P.items[P.activeIndex];
                        else if (0 === P.activeIndex) {
                          if (void 0 === ce) return;
                          if (
                            void 0 !== P.tagging.fct &&
                            "string" == typeof ce
                          ) {
                            if (!(ce = P.tagging.fct(ce))) return;
                          } else
                            "string" == typeof ce &&
                              (ce = ce.replace(P.taggingLabel, "").trim());
                        }
                        if (Ae(ce)) return void P.close(Ee);
                      }
                      re(),
                        G.$broadcast("uis:select", ce),
                        P.closeOnSelect && P.close(Ee);
                    }
                  }
                }),
                (P.close = function (ce) {
                  !P.open ||
                    (P.ngModel &&
                      P.ngModel.$setTouched &&
                      P.ngModel.$setTouched(),
                    (P.open = !1),
                    re(),
                    G.$broadcast("uis:close", ce));
                }),
                (P.setFocus = function () {
                  P.focus || P.focusInput[0].focus();
                }),
                (P.clear = function (ce) {
                  P.select(null),
                    ce.stopPropagation(),
                    ee(
                      function () {
                        P.focusser[0].focus();
                      },
                      0,
                      !1
                    );
                }),
                (P.toggle = function (ce) {
                  P.open
                    ? (P.close(), ce.preventDefault(), ce.stopPropagation())
                    : P.activate();
                }),
                (P.isLocked = function () {
                  return !1;
                }),
                G.$watch(
                  function () {
                    return (
                      angular.isDefined(P.lockChoiceExpression) &&
                      "" !== P.lockChoiceExpression
                    );
                  },
                  function ye(ce) {
                    if (ce) {
                      var Ee = [];
                      P.isLocked = function (Ie, Be) {
                        var Fe = !1,
                          ke = P.selected[Be];
                        return (
                          ke &&
                            (Ie
                              ? (function Oe(Ie, Be) {
                                  var Fe = Ee.indexOf(Ie);
                                  Be && -1 === Fe && Ee.push(Ie),
                                    !Be && Fe > -1 && Ee.splice(Fe, 1);
                                })(
                                  ke,
                                  (Fe = !!Ie.$eval(P.lockChoiceExpression))
                                )
                              : (Fe = (function pe(Ie) {
                                  return Ee.indexOf(Ie) > -1;
                                })(ke))),
                          Fe
                        );
                      };
                    }
                  }
                );
              var Pe = null,
                xe = !1;
              function Ue() {
                var ce = z.querySelectorAll(".ui-select-choices-content"),
                  Ee = ce.querySelectorAll(".ui-select-choices-row");
                if (Ee.length < 1)
                  throw V(
                    "choices",
                    "Expected multiple .ui-select-choices-row but got '{0}'.",
                    Ee.length
                  );
                if (!(P.activeIndex < 0)) {
                  var Oe = Ee[P.activeIndex],
                    pe = Oe.offsetTop + Oe.clientHeight - ce[0].scrollTop,
                    Ie = ce[0].offsetHeight;
                  pe > Ie
                    ? (ce[0].scrollTop += pe - Ie)
                    : pe < Oe.clientHeight &&
                      (P.isGrouped && 0 === P.activeIndex
                        ? (ce[0].scrollTop = 0)
                        : (ce[0].scrollTop -= Oe.clientHeight - pe));
                }
              }
              (P.sizeSearchInput = function () {
                var ce = P.searchInput[0],
                  Ee = P.$element[0],
                  Oe = function () {
                    return Ee.clientWidth * !!ce.offsetParent;
                  },
                  pe = function (Ie) {
                    if (0 === Ie) return !1;
                    var Be = Ie - ce.offsetLeft;
                    return (
                      Be < 50 && (Be = Ie),
                      P.searchInput.css("width", Be + "px"),
                      !0
                    );
                  };
                ee(function () {
                  null === Pe &&
                    !pe(Oe()) &&
                    (Pe = G.$watch(function () {
                      xe ||
                        ((xe = !0),
                        G.$$postDigest(function () {
                          (xe = !1), pe(Oe()) && (Pe(), (Pe = null));
                        }));
                    }, angular.noop));
                });
              }),
                P.searchInput.on("keydown", function (ce) {
                  var Ee = ce.which;
                  ~[d.ENTER, d.ESC].indexOf(Ee) &&
                    (ce.preventDefault(), ce.stopPropagation()),
                    G.$apply(function () {
                      var Oe = !1;
                      if (
                        (P.items.length > 0 || P.tagging.isActivated) &&
                        (!(function ve(ce) {
                          var Ee = !0;
                          switch (ce) {
                            case d.DOWN:
                              if (!P.open && P.multiple) P.activate(!1, !0);
                              else if (P.activeIndex < P.items.length - 1)
                                for (
                                  var Oe = ++P.activeIndex;
                                  je(P.items[Oe]) && Oe < P.items.length;

                                )
                                  P.activeIndex = ++Oe;
                              break;
                            case d.UP:
                              var pe =
                                0 === P.search.length && P.tagging.isActivated
                                  ? -1
                                  : 0;
                              if (!P.open && P.multiple) P.activate(!1, !0);
                              else if (P.activeIndex > pe)
                                for (
                                  var Ie = --P.activeIndex;
                                  je(P.items[Ie]) && Ie > pe;

                                )
                                  P.activeIndex = --Ie;
                              break;
                            case d.TAB:
                              (!P.multiple || P.open) &&
                                P.select(P.items[P.activeIndex], !0);
                              break;
                            case d.ENTER:
                              P.open &&
                              (P.tagging.isActivated || P.activeIndex >= 0)
                                ? P.select(
                                    P.items[P.activeIndex],
                                    P.skipFocusser
                                  )
                                : P.activate(!1, !0);
                              break;
                            case d.ESC:
                              P.close();
                              break;
                            default:
                              Ee = !1;
                          }
                          return Ee;
                        })(Ee) &&
                          !P.searchEnabled &&
                          (ce.preventDefault(), ce.stopPropagation()),
                        P.taggingTokens.isActivated)
                      ) {
                        for (
                          var pe = 0;
                          pe < P.taggingTokens.tokens.length;
                          pe++
                        )
                          P.taggingTokens.tokens[pe] === d.MAP[ce.keyCode] &&
                            P.search.length > 0 &&
                            (Oe = !0);
                        Oe &&
                          ee(function () {
                            P.searchInput.triggerHandler("tagged");
                            var Ie = P.search
                              .replace(d.MAP[ce.keyCode], "")
                              .trim();
                            P.tagging.fct && (Ie = P.tagging.fct(Ie)),
                              Ie && P.select(Ie, !0);
                          });
                      }
                    }),
                    d.isVerticalMovement(Ee) && P.items.length > 0 && Ue(),
                    (Ee === d.ENTER || Ee === d.ESC) &&
                      (ce.preventDefault(), ce.stopPropagation());
                }),
                P.searchInput.on("paste", function (ce) {
                  var Ee;
                  if (
                    ((Ee =
                      window.clipboardData && window.clipboardData.getData
                        ? window.clipboardData.getData("Text")
                        : (ce.originalEvent || ce).clipboardData.getData(
                            "text/plain"
                          )),
                    (Ee = P.search + Ee) && Ee.length > 0)
                  )
                    if (P.taggingTokens.isActivated) {
                      for (
                        var Oe = [], pe = 0;
                        pe < P.taggingTokens.tokens.length;
                        pe++
                      ) {
                        var Ie =
                          d.toSeparator(P.taggingTokens.tokens[pe]) ||
                          P.taggingTokens.tokens[pe];
                        if (Ee.indexOf(Ie) > -1) {
                          Oe = Ee.split(Ie);
                          break;
                        }
                      }
                      0 === Oe.length && (Oe = [Ee]);
                      var Be = P.search;
                      angular.forEach(Oe, function (Fe) {
                        var ke = P.tagging.fct ? P.tagging.fct(Fe) : Fe;
                        ke && P.select(ke, !0);
                      }),
                        (P.search = Be || ""),
                        ce.preventDefault(),
                        ce.stopPropagation();
                    } else
                      P.paste &&
                        (P.paste(Ee),
                        (P.search = ""),
                        ce.preventDefault(),
                        ce.stopPropagation());
                }),
                P.searchInput.on("tagged", function () {
                  ee(function () {
                    re();
                  });
                });
              var Ke = ge(function () {
                P.sizeSearchInput();
              }, 50);
              angular.element(Ne).bind("resize", Ke),
                G.$on("$destroy", function () {
                  P.searchInput.off("keyup keydown tagged blur paste"),
                    angular.element(Ne).off("resize", Ke);
                }),
                G.$watch("$select.activeIndex", function (ce) {
                  ce &&
                    z
                      .find("input")
                      .attr(
                        "aria-activedescendant",
                        "ui-select-choices-row-" + P.generatedId + "-" + ce
                      );
                }),
                G.$watch("$select.open", function (ce) {
                  ce || z.find("input").removeAttr("aria-activedescendant");
                });
            },
          ]),
          $.directive("uiSelect", [
            "$document",
            "uiSelectConfig",
            "uiSelectMinErr",
            "uisOffset",
            "$compile",
            "$parse",
            "$timeout",
            function (G, z, ee, he, ge, le, V) {
              return {
                restrict: "EA",
                templateUrl: function (J, de) {
                  return (
                    (de.theme || z.theme) +
                    (angular.isDefined(de.multiple)
                      ? "/select-multiple.tpl.html"
                      : "/select.tpl.html")
                  );
                },
                replace: !0,
                transclude: !0,
                require: ["uiSelect", "^ngModel"],
                scope: !0,
                controller: "uiSelectCtrl",
                controllerAs: "$select",
                compile: function (J, de) {
                  var ae = /{(.*)}\s*{(.*)}/.exec(de.ngClass);
                  if (ae) {
                    var Ne = "{" + ae[1] + ", " + ae[2] + "}";
                    (de.ngClass = Ne), J.attr("ng-class", Ne);
                  }
                  return (
                    angular.isDefined(de.multiple)
                      ? J.append("<ui-select-multiple/>").removeAttr("multiple")
                      : J.append("<ui-select-single/>"),
                    de.inputId &&
                      (J.querySelectorAll("input.ui-select-search")[0].id =
                        de.inputId),
                    function (P, Se, se, re, ue) {
                      var ne = re[0],
                        Ae = re[1];
                      function Ce(pe) {
                        if (ne.open) {
                          if (
                            !(M
                              ? M.contains(Se[0], pe.target)
                              : Se[0].contains(pe.target)) &&
                            !ne.clickTriggeredSelect
                          ) {
                            var Be;
                            if (ne.skipFocusser) Be = !0;
                            else {
                              var ke = angular
                                .element(pe.target)
                                .controller("uiSelect");
                              (Be = ke && ke !== ne) ||
                                (Be = ~[
                                  "input",
                                  "button",
                                  "textarea",
                                  "select",
                                ].indexOf(pe.target.tagName.toLowerCase()));
                            }
                            ne.close(Be), P.$digest();
                          }
                          ne.clickTriggeredSelect = !1;
                        }
                      }
                      (ne.generatedId = z.generateId()),
                        (ne.baseTitle = se.title || "Select box"),
                        (ne.focusserTitle = ne.baseTitle + " focus"),
                        (ne.focusserId = "focusser-" + ne.generatedId),
                        (ne.closeOnSelect = angular.isDefined(se.closeOnSelect)
                          ? le(se.closeOnSelect)()
                          : z.closeOnSelect),
                        P.$watch("skipFocusser", function () {
                          var pe = P.$eval(se.skipFocusser);
                          ne.skipFocusser = void 0 !== pe ? pe : z.skipFocusser;
                        }),
                        (ne.onSelectCallback = le(se.onSelect)),
                        (ne.onRemoveCallback = le(se.onRemove)),
                        (ne.ngModel = Ae),
                        (ne.choiceGrouped = function (pe) {
                          return ne.isGrouped && pe && pe.name;
                        }),
                        se.tabindex &&
                          se.$observe("tabindex", function (pe) {
                            ne.focusInput.attr("tabindex", pe),
                              Se.removeAttr("tabindex");
                          }),
                        P.$watch(
                          function () {
                            return P.$eval(se.searchEnabled);
                          },
                          function (pe) {
                            ne.searchEnabled =
                              void 0 !== pe ? pe : z.searchEnabled;
                          }
                        ),
                        P.$watch("sortable", function () {
                          var pe = P.$eval(se.sortable);
                          ne.sortable = void 0 !== pe ? pe : z.sortable;
                        }),
                        se.$observe("backspaceReset", function () {
                          var pe = P.$eval(se.backspaceReset);
                          ne.backspaceReset = void 0 === pe || pe;
                        }),
                        se.$observe("limit", function () {
                          ne.limit = angular.isDefined(se.limit)
                            ? parseInt(se.limit, 10)
                            : void 0;
                        }),
                        P.$watch("removeSelected", function () {
                          var pe = P.$eval(se.removeSelected);
                          ne.removeSelected =
                            void 0 !== pe ? pe : z.removeSelected;
                        }),
                        se.$observe("disabled", function () {
                          ne.disabled = void 0 !== se.disabled && se.disabled;
                        }),
                        se.$observe("resetSearchInput", function () {
                          var pe = P.$eval(se.resetSearchInput);
                          ne.resetSearchInput = void 0 === pe || pe;
                        }),
                        se.$observe("paste", function () {
                          ne.paste = P.$eval(se.paste);
                        }),
                        se.$observe("tagging", function () {
                          if (void 0 !== se.tagging) {
                            var pe = P.$eval(se.tagging);
                            ne.tagging = {
                              isActivated: !0,
                              fct: !0 !== pe ? pe : void 0,
                            };
                          } else ne.tagging = { isActivated: !1, fct: void 0 };
                        }),
                        se.$observe("taggingLabel", function () {
                          void 0 !== se.tagging &&
                            (ne.taggingLabel =
                              "false" !== se.taggingLabel &&
                              (void 0 !== se.taggingLabel
                                ? se.taggingLabel
                                : "(new)"));
                        }),
                        se.$observe("taggingTokens", function () {
                          if (void 0 !== se.tagging) {
                            var pe =
                              void 0 !== se.taggingTokens
                                ? se.taggingTokens.split("|")
                                : [",", "ENTER"];
                            ne.taggingTokens = { isActivated: !0, tokens: pe };
                          }
                        }),
                        se.$observe("spinnerEnabled", function () {
                          var pe = P.$eval(se.spinnerEnabled);
                          ne.spinnerEnabled =
                            void 0 !== pe ? pe : z.spinnerEnabled;
                        }),
                        se.$observe("spinnerClass", function () {
                          ne.spinnerClass =
                            void 0 !== se.spinnerClass
                              ? se.spinnerClass
                              : z.spinnerClass;
                        }),
                        angular.isDefined(se.autofocus) &&
                          V(function () {
                            ne.setFocus();
                          }),
                        angular.isDefined(se.focusOn) &&
                          P.$on(se.focusOn, function () {
                            V(function () {
                              ne.setFocus();
                            });
                          }),
                        G.on("click", Ce),
                        P.$on("$destroy", function () {
                          G.off("click", Ce);
                        }),
                        ue(P, function (pe) {
                          var Ie = angular.element("<div>").append(pe),
                            Be = Ie.querySelectorAll(".ui-select-match");
                          if (
                            (Be.removeAttr("ui-select-match"),
                            Be.removeAttr("data-ui-select-match"),
                            1 !== Be.length)
                          )
                            throw ee(
                              "transcluded",
                              "Expected 1 .ui-select-match but got '{0}'.",
                              Be.length
                            );
                          Se.querySelectorAll(".ui-select-match").replaceWith(
                            Be
                          );
                          var Fe = Ie.querySelectorAll(".ui-select-choices");
                          if (
                            (Fe.removeAttr("ui-select-choices"),
                            Fe.removeAttr("data-ui-select-choices"),
                            1 !== Fe.length)
                          )
                            throw ee(
                              "transcluded",
                              "Expected 1 .ui-select-choices but got '{0}'.",
                              Fe.length
                            );
                          Se.querySelectorAll(".ui-select-choices").replaceWith(
                            Fe
                          );
                          var ke = Ie.querySelectorAll(".ui-select-no-choice");
                          ke.removeAttr("ui-select-no-choice"),
                            ke.removeAttr("data-ui-select-no-choice"),
                            1 == ke.length &&
                              Se.querySelectorAll(
                                ".ui-select-no-choice"
                              ).replaceWith(ke);
                        });
                      var we = P.$eval(se.appendToBody);
                      (void 0 !== we ? we : z.appendToBody) &&
                        (P.$watch("$select.open", function (pe) {
                          pe
                            ? (function Pe() {
                                var pe = he(Se);
                                ((je = angular.element(
                                  '<div class="ui-select-placeholder"></div>'
                                ))[0].style.width = pe.width + "px"),
                                  (je[0].style.height = pe.height + "px"),
                                  Se.after(je),
                                  (ye = Se[0].style.width),
                                  G.find("body").append(Se),
                                  (Se[0].style.position = "absolute"),
                                  (Se[0].style.left = pe.left + "px"),
                                  (Se[0].style.top = pe.top + "px"),
                                  (Se[0].style.width = pe.width + "px");
                              })()
                            : xe();
                        }),
                        P.$on("$destroy", function () {
                          xe();
                        }));
                      var je = null,
                        ye = "";
                      function xe() {
                        null !== je &&
                          (je.replaceWith(Se),
                          (je = null),
                          (Se[0].style.position = ""),
                          (Se[0].style.left = ""),
                          (Se[0].style.top = ""),
                          (Se[0].style.width = ye),
                          ne.setFocus());
                      }
                      var ve = null,
                        Ue = "direction-up";
                      P.$watch("$select.open", function () {
                        ("auto" === ne.dropdownPosition ||
                          "up" === ne.dropdownPosition) &&
                          P.calculateDropdownPos();
                      });
                      var Ke = function (pe, Ie) {
                          (pe = pe || he(Se)),
                            (Ie = Ie || he(ve)),
                            (ve[0].style.position = "absolute"),
                            (ve[0].style.top = -1 * Ie.height + "px"),
                            Se.addClass(Ue);
                        },
                        Ee = function () {
                          V(function () {
                            if ("up" === ne.dropdownPosition) Ke();
                            else {
                              Se.removeClass(Ue);
                              var pe = he(Se),
                                Ie = he(ve);
                              pe.top + pe.height + Ie.height >
                              (G[0].documentElement.scrollTop ||
                                G[0].body.scrollTop) +
                                G[0].documentElement.clientHeight
                                ? Ke(pe, Ie)
                                : (function (pe, Ie) {
                                    Se.removeClass(Ue),
                                      (pe = pe || he(Se)),
                                      (Ie = Ie || he(ve)),
                                      (ve[0].style.position = ""),
                                      (ve[0].style.top = "");
                                  })(pe, Ie);
                            }
                            ve[0].style.opacity = 1;
                          });
                        },
                        Oe = !1;
                      P.calculateDropdownPos = function () {
                        if (ne.open) {
                          if (
                            0 ===
                            (ve = angular
                              .element(Se)
                              .querySelectorAll(".ui-select-dropdown")).length
                          )
                            return;
                          if (
                            ("" === ne.search && !Oe && (Oe = !0),
                            !he(ve).height &&
                              ne.$animate &&
                              ne.$animate.on &&
                              ne.$animate.enabled(ve))
                          ) {
                            var pe = !0;
                            ne.$animate.on("enter", ve, function (Ie, Be) {
                              "close" === Be && pe && (Ee(), (pe = !1));
                            });
                          } else Ee();
                        } else {
                          if (null === ve || 0 === ve.length) return;
                          (ve[0].style.opacity = 0),
                            (ve[0].style.position = ""),
                            (ve[0].style.top = ""),
                            Se.removeClass(Ue);
                        }
                      };
                    }
                  );
                },
              };
            },
          ]),
          $.directive("uiSelectMatch", [
            "uiSelectConfig",
            function (G) {
              return {
                restrict: "EA",
                require: "^uiSelect",
                replace: !0,
                transclude: !0,
                templateUrl: function (ee) {
                  ee.addClass("ui-select-match");
                  var he = ee.parent();
                  return (
                    (z(he, "theme") || G.theme) +
                    (angular.isDefined(z(he, "multiple"))
                      ? "/match-multiple.tpl.html"
                      : "/match.tpl.html")
                  );
                },
                link: function (ee, he, ge, le) {
                  function V(J) {
                    le.allowClear =
                      !!angular.isDefined(J) &&
                      ("" === J || "true" === J.toLowerCase());
                  }
                  (le.lockChoiceExpression = ge.uiLockChoice),
                    ge.$observe("placeholder", function (J) {
                      le.placeholder = void 0 !== J ? J : G.placeholder;
                    }),
                    ge.$observe("allowClear", V),
                    V(ge.allowClear),
                    le.multiple && le.sizeSearchInput();
                },
              };
              function z(ee, he) {
                return ee[0].hasAttribute(he)
                  ? ee.attr(he)
                  : ee[0].hasAttribute("data-" + he)
                  ? ee.attr("data-" + he)
                  : ee[0].hasAttribute("x-" + he)
                  ? ee.attr("x-" + he)
                  : void 0;
              }
            },
          ]),
          $.directive("uiSelectMultiple", [
            "uiSelectMinErr",
            "$timeout",
            function (G, z) {
              return {
                restrict: "EA",
                require: ["^uiSelect", "^ngModel"],
                controller: [
                  "$scope",
                  "$timeout",
                  function (ee, he) {
                    var V,
                      ge = this,
                      le = ee.$select;
                    angular.isUndefined(le.selected) && (le.selected = []),
                      ee.$evalAsync(function () {
                        V = ee.ngModel;
                      }),
                      (ge.activeMatchIndex = -1),
                      (ge.updateModel = function () {
                        V.$setViewValue(Date.now()), ge.refreshComponent();
                      }),
                      (ge.refreshComponent = function () {
                        le.refreshItems && le.refreshItems(),
                          le.sizeSearchInput && le.sizeSearchInput();
                      }),
                      (ge.removeChoice = function (J) {
                        if (le.isLocked(null, J)) return !1;
                        var de = le.selected[J],
                          ae = {};
                        return (
                          (ae[le.parserResult.itemName] = de),
                          le.selected.splice(J, 1),
                          (ge.activeMatchIndex = -1),
                          le.sizeSearchInput(),
                          he(function () {
                            le.onRemoveCallback(ee, {
                              $item: de,
                              $model: le.parserResult.modelMapper(ee, ae),
                            });
                          }),
                          ge.updateModel(),
                          !0
                        );
                      }),
                      (ge.getPlaceholder = function () {
                        if (!le.selected || !le.selected.length)
                          return le.placeholder;
                      });
                  },
                ],
                controllerAs: "$selectMultiple",
                link: function (ee, he, ge, le) {
                  var V = le[0],
                    J = (ee.ngModel = le[1]),
                    de = ee.$selectMultiple;
                  function P(se) {
                    return (
                      void 0 !== se &&
                      void 0 !== V.search &&
                      se.filter(function (ue) {
                        return (
                          void 0 !== V.search.toUpperCase() &&
                          void 0 !== ue &&
                          ue.toUpperCase() === V.search.toUpperCase()
                        );
                      }).length > 0
                    );
                  }
                  function Se(se, re) {
                    var ue = -1;
                    if (angular.isArray(se))
                      for (
                        var ne = angular.copy(se), Ae = 0;
                        Ae < ne.length;
                        Ae++
                      )
                        if (void 0 === V.tagging.fct)
                          ne[Ae] + " " + V.taggingLabel === re && (ue = Ae);
                        else {
                          var Ce = ne[Ae];
                          angular.isObject(Ce) && (Ce.isTag = !0),
                            angular.equals(Ce, re) && (ue = Ae);
                        }
                    return ue;
                  }
                  (V.multiple = !0),
                    (V.focusInput = V.searchInput),
                    (J.$isEmpty = function (se) {
                      return !se || 0 === se.length;
                    }),
                    J.$parsers.unshift(function () {
                      for (
                        var re, se = {}, ue = [], ne = V.selected.length - 1;
                        ne >= 0;
                        ne--
                      )
                        ((se = {})[V.parserResult.itemName] = V.selected[ne]),
                          (re = V.parserResult.modelMapper(ee, se)),
                          ue.unshift(re);
                      return ue;
                    }),
                    J.$formatters.unshift(function (se) {
                      var ne,
                        re =
                          V.parserResult &&
                          V.parserResult.source(ee, {
                            $select: { search: "" },
                          }),
                        ue = {};
                      if (!re) return se;
                      var Ae = [],
                        Ce = function (je, ye) {
                          if (je && je.length) {
                            for (var Pe = je.length - 1; Pe >= 0; Pe--) {
                              if (
                                ((ue[V.parserResult.itemName] = je[Pe]),
                                (ne = V.parserResult.modelMapper(ee, ue)),
                                V.parserResult.trackByExp)
                              ) {
                                var xe = /(\w*)\./.exec(
                                    V.parserResult.trackByExp
                                  ),
                                  ve = /\.([^\s]+)/.exec(
                                    V.parserResult.trackByExp
                                  );
                                if (
                                  xe &&
                                  xe.length > 0 &&
                                  xe[1] == V.parserResult.itemName &&
                                  ve &&
                                  ve.length > 0 &&
                                  ne[ve[1]] == ye[ve[1]]
                                )
                                  return Ae.unshift(je[Pe]), !0;
                              }
                              if (angular.equals(ne, ye))
                                return Ae.unshift(je[Pe]), !0;
                            }
                            return !1;
                          }
                        };
                      if (!se) return Ae;
                      for (var we = se.length - 1; we >= 0; we--)
                        Ce(V.selected, se[we]) ||
                          Ce(re, se[we]) ||
                          Ae.unshift(se[we]);
                      return Ae;
                    }),
                    ee.$watchCollection(
                      function () {
                        return J.$modelValue;
                      },
                      function (se, re) {
                        re != se &&
                          (angular.isDefined(J.$modelValue) &&
                            (J.$modelValue = null),
                          de.refreshComponent());
                      }
                    ),
                    (J.$render = function () {
                      if (!angular.isArray(J.$viewValue)) {
                        if (!u(J.$viewValue))
                          throw G(
                            "multiarr",
                            "Expected model value to be array but got '{0}'",
                            J.$viewValue
                          );
                        J.$viewValue = [];
                      }
                      (V.selected = J.$viewValue),
                        de.refreshComponent(),
                        ee.$evalAsync();
                    }),
                    ee.$on("uis:select", function (se, re) {
                      if (!(V.selected.length >= V.limit)) {
                        V.selected.push(re);
                        var ue = {};
                        (ue[V.parserResult.itemName] = re),
                          z(function () {
                            V.onSelectCallback(ee, {
                              $item: re,
                              $model: V.parserResult.modelMapper(ee, ue),
                            });
                          }),
                          de.updateModel();
                      }
                    }),
                    ee.$on("uis:activate", function () {
                      de.activeMatchIndex = -1;
                    }),
                    ee.$watch("$select.disabled", function (se, re) {
                      re && !se && V.sizeSearchInput();
                    }),
                    V.searchInput.on("keydown", function (se) {
                      var re = se.which;
                      ee.$apply(function () {
                        var ue = !1;
                        d.isHorizontalMovement(re) &&
                          (ue = (function Ne(se) {
                            var ye,
                              re = (function ae(se) {
                                return angular.isNumber(se.selectionStart)
                                  ? se.selectionStart
                                  : se.value.length;
                              })(V.searchInput[0]),
                              Ae = V.selected.length - 1,
                              Ce = de.activeMatchIndex,
                              we = de.activeMatchIndex + 1,
                              je = de.activeMatchIndex - 1;
                            if (re > 0 || (V.search.length && se == d.RIGHT))
                              return !1;
                            return (
                              V.close(),
                              (ye = (function Pe() {
                                switch (se) {
                                  case d.LEFT:
                                    return ~de.activeMatchIndex ? je : Ae;
                                  case d.RIGHT:
                                    return ~de.activeMatchIndex && Ce !== Ae
                                      ? we
                                      : (V.activate(), !1);
                                  case d.BACKSPACE:
                                    return ~de.activeMatchIndex
                                      ? de.removeChoice(Ce)
                                        ? je
                                        : Ce
                                      : Ae;
                                  case d.DELETE:
                                    return (
                                      !!~de.activeMatchIndex &&
                                      (de.removeChoice(de.activeMatchIndex), Ce)
                                    );
                                }
                              })()),
                              (de.activeMatchIndex =
                                V.selected.length && !1 !== ye
                                  ? Math.min(Ae, Math.max(0, ye))
                                  : -1),
                              !0
                            );
                          })(re)),
                          ue &&
                            re != d.TAB &&
                            (se.preventDefault(), se.stopPropagation());
                      });
                    }),
                    V.searchInput.on("keyup", function (se) {
                      if (
                        (d.isVerticalMovement(se.which) ||
                          ee.$evalAsync(function () {
                            V.activeIndex = !1 === V.taggingLabel ? -1 : 0;
                          }),
                        V.tagging.isActivated && V.search.length > 0)
                      ) {
                        if (
                          se.which === d.TAB ||
                          d.isControl(se) ||
                          d.isFunctionKey(se) ||
                          se.which === d.ESC ||
                          d.isVerticalMovement(se.which) ||
                          ((V.activeIndex = !1 === V.taggingLabel ? -1 : 0),
                          !1 === V.taggingLabel)
                        )
                          return;
                        var ne,
                          je,
                          ye,
                          re = angular.copy(V.items),
                          ue = angular.copy(V.items),
                          Ce = !1,
                          we = -1;
                        if (void 0 !== V.tagging.fct) {
                          if (
                            ((je = V.$filter("filter")(re, { isTag: !0 }))
                              .length > 0 && (ye = je[0]),
                            re.length > 0 &&
                              ye &&
                              ((Ce = !0),
                              (re = re.slice(1, re.length)),
                              (ue = ue.slice(1, ue.length))),
                            (ne = V.tagging.fct(V.search)),
                            ue.some(function (Pe) {
                              return angular.equals(Pe, ne);
                            }) ||
                              V.selected.some(function (Pe) {
                                return angular.equals(Pe, ne);
                              }))
                          )
                            return void ee.$evalAsync(function () {
                              (V.activeIndex = 0), (V.items = re);
                            });
                          ne && (ne.isTag = !0);
                        } else {
                          if (
                            ((je = V.$filter("filter")(re, function (Pe) {
                              return Pe.match(V.taggingLabel);
                            })).length > 0 && (ye = je[0]),
                            void 0 !== re[0] &&
                              re.length > 0 &&
                              ye &&
                              ((Ce = !0),
                              (re = re.slice(1, re.length)),
                              (ue = ue.slice(1, ue.length))),
                            (ne = V.search + " " + V.taggingLabel),
                            Se(V.selected, V.search) > -1)
                          )
                            return;
                          if (P(ue.concat(V.selected)))
                            return void (
                              Ce &&
                              ((re = ue),
                              ee.$evalAsync(function () {
                                (V.activeIndex = 0), (V.items = re);
                              }))
                            );
                          if (P(ue))
                            return void (
                              Ce && (V.items = ue.slice(1, ue.length))
                            );
                        }
                        Ce && (we = Se(V.selected, ne)),
                          we > -1
                            ? (re = re.slice(we + 1, re.length - 1))
                            : ((re = []),
                              ne && re.push(ne),
                              (re = re.concat(ue))),
                          ee.$evalAsync(function () {
                            if (
                              ((V.activeIndex = 0), (V.items = re), V.isGrouped)
                            ) {
                              var Pe = ne ? re.slice(1) : re;
                              V.setItemsFn(Pe),
                                ne &&
                                  (V.items.unshift(ne),
                                  V.groups.unshift({
                                    name: "",
                                    items: [ne],
                                    tagging: !0,
                                  }));
                            }
                          });
                      }
                    }),
                    V.searchInput.on("blur", function () {
                      z(function () {
                        de.activeMatchIndex = -1;
                      });
                    });
                },
              };
            },
          ]),
          $.directive("uiSelectNoChoice", [
            "uiSelectConfig",
            function (G) {
              return {
                restrict: "EA",
                require: "^uiSelect",
                replace: !0,
                transclude: !0,
                templateUrl: function (z) {
                  return (
                    z.addClass("ui-select-no-choice"),
                    (z.parent().attr("theme") || G.theme) +
                      "/no-choice.tpl.html"
                  );
                },
              };
            },
          ]),
          $.directive("uiSelectSingle", [
            "$timeout",
            "$compile",
            function (G, z) {
              return {
                restrict: "EA",
                require: ["^uiSelect", "^ngModel"],
                link: function (ee, he, ge, le) {
                  var V = le[0],
                    J = le[1];
                  J.$parsers.unshift(function (ae) {
                    if (u(ae)) return ae;
                    var Ne = {};
                    return (
                      (Ne[V.parserResult.itemName] = ae),
                      V.parserResult.modelMapper(ee, Ne)
                    );
                  }),
                    J.$formatters.unshift(function (ae) {
                      if (u(ae)) return ae;
                      var Ne =
                          V.parserResult &&
                          V.parserResult.source(ee, {
                            $select: { search: "" },
                          }),
                        P = {};
                      if (Ne) {
                        var se = function (ue) {
                          return (
                            (P[V.parserResult.itemName] = ue),
                            V.parserResult.modelMapper(ee, P) === ae
                          );
                        };
                        if (V.selected && se(V.selected)) return V.selected;
                        for (var re = Ne.length - 1; re >= 0; re--)
                          if (se(Ne[re])) return Ne[re];
                      }
                      return ae;
                    }),
                    ee.$watch("$select.selected", function (ae) {
                      J.$viewValue !== ae && J.$setViewValue(ae);
                    }),
                    (J.$render = function () {
                      V.selected = J.$viewValue;
                    }),
                    ee.$on("uis:select", function (ae, Ne) {
                      V.selected = Ne;
                      var P = {};
                      (P[V.parserResult.itemName] = Ne),
                        G(function () {
                          V.onSelectCallback(ee, {
                            $item: Ne,
                            $model: u(Ne)
                              ? Ne
                              : V.parserResult.modelMapper(ee, P),
                          });
                        });
                    }),
                    ee.$on("uis:close", function (ae, Ne) {
                      G(
                        function () {
                          V.focusser.prop("disabled", !1),
                            Ne || V.focusser[0].focus();
                        },
                        0,
                        !1
                      );
                    }),
                    ee.$on("uis:activate", function () {
                      de.prop("disabled", !0);
                    });
                  var de = angular.element(
                    "<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' >"
                  );
                  z(de)(ee),
                    (V.focusser = de),
                    (V.focusInput = de),
                    he.parent().append(de),
                    de.bind("focus", function () {
                      ee.$evalAsync(function () {
                        V.focus = !0;
                      });
                    }),
                    de.bind("blur", function () {
                      ee.$evalAsync(function () {
                        V.focus = !1;
                      });
                    }),
                    de.bind("keydown", function (ae) {
                      if (ae.which === d.BACKSPACE && !1 !== V.backspaceReset)
                        return (
                          ae.preventDefault(),
                          ae.stopPropagation(),
                          V.select(void 0),
                          void ee.$apply()
                        );
                      ae.which === d.TAB ||
                        d.isControl(ae) ||
                        d.isFunctionKey(ae) ||
                        ae.which === d.ESC ||
                        ((ae.which == d.DOWN ||
                          ae.which == d.UP ||
                          ae.which == d.ENTER ||
                          ae.which == d.SPACE) &&
                          (ae.preventDefault(),
                          ae.stopPropagation(),
                          V.activate()),
                        ee.$digest());
                    }),
                    de.bind("keyup input", function (ae) {
                      ae.which === d.TAB ||
                        d.isControl(ae) ||
                        d.isFunctionKey(ae) ||
                        ae.which === d.ESC ||
                        ae.which == d.ENTER ||
                        ae.which === d.BACKSPACE ||
                        (V.activate(de.val()), de.val(""), ee.$digest());
                    });
                },
              };
            },
          ]),
          $.directive("uiSelectSort", [
            "$timeout",
            "uiSelectConfig",
            "uiSelectMinErr",
            function (G, z, ee) {
              return {
                require: ["^^uiSelect", "^ngModel"],
                link: function (he, ge, le, V) {
                  if (null === he[le.uiSelectSort])
                    throw ee("sort", "Expected a list to sort");
                  var J = V[0],
                    de = V[1],
                    Ne = angular.extend(
                      { axis: "horizontal" },
                      he.$eval(le.uiSelectSortOptions)
                    ).axis,
                    P = "dragging",
                    Se = "dropping",
                    se = "dropping-before",
                    re = "dropping-after";
                  he.$watch(
                    function () {
                      return J.sortable;
                    },
                    function (ye) {
                      ye
                        ? ge.attr("draggable", !0)
                        : ge.removeAttr("draggable");
                    }
                  ),
                    ge.on("dragstart", function (ye) {
                      ge.addClass(P),
                        (
                          ye.dataTransfer || ye.originalEvent.dataTransfer
                        ).setData("text", he.$index.toString());
                    }),
                    ge.on("dragend", function () {
                      ne(P);
                    });
                  var Ce,
                    ue = function (ye, Pe) {
                      this.splice(Pe, 0, this.splice(ye, 1)[0]);
                    },
                    ne = function (ye) {
                      angular.forEach(
                        J.$element.querySelectorAll("." + ye),
                        function (Pe) {
                          angular.element(Pe).removeClass(ye);
                        }
                      );
                    },
                    Ae = function (ye) {
                      ye.preventDefault(),
                        ("vertical" === Ne
                          ? ye.offsetY ||
                            ye.layerY ||
                            (ye.originalEvent ? ye.originalEvent.offsetY : 0)
                          : ye.offsetX ||
                            ye.layerX ||
                            (ye.originalEvent ? ye.originalEvent.offsetX : 0)) <
                        this[
                          "vertical" === Ne ? "offsetHeight" : "offsetWidth"
                        ] /
                          2
                          ? (ne(re), ge.addClass(se))
                          : (ne(se), ge.addClass(re));
                    },
                    we = function (ye) {
                      ye.preventDefault();
                      var Pe = parseInt(
                        (
                          ye.dataTransfer || ye.originalEvent.dataTransfer
                        ).getData("text"),
                        10
                      );
                      G.cancel(Ce),
                        (Ce = G(function () {
                          je(Pe);
                        }, 20));
                    },
                    je = function (ye) {
                      var ve,
                        Pe = he.$eval(le.uiSelectSort),
                        xe = Pe[ye];
                      (ve = ge.hasClass(se)
                        ? ye < he.$index
                          ? he.$index - 1
                          : he.$index
                        : ye < he.$index
                        ? he.$index
                        : he.$index + 1),
                        ue.apply(Pe, [ye, ve]),
                        de.$setViewValue(Date.now()),
                        he.$apply(function () {
                          he.$emit("uiSelectSort:change", {
                            array: Pe,
                            item: xe,
                            from: ye,
                            to: ve,
                          });
                        }),
                        ne(Se),
                        ne(se),
                        ne(re),
                        ge.off("drop", we);
                    };
                  ge.on("dragenter", function () {
                    ge.hasClass(P) ||
                      (ge.addClass(Se),
                      ge.on("dragover", Ae),
                      ge.on("drop", we));
                  }),
                    ge.on("dragleave", function (ye) {
                      ye.target == ge &&
                        (ne(Se),
                        ne(se),
                        ne(re),
                        ge.off("dragover", Ae),
                        ge.off("drop", we));
                    });
                },
              };
            },
          ]),
          $.factory("$$uisDebounce", [
            "$timeout",
            function (G) {
              return function (z, ee) {
                var he;
                return function () {
                  var ge = this,
                    le = Array.prototype.slice.call(arguments);
                  he && G.cancel(he),
                    (he = G(function () {
                      z.apply(ge, le);
                    }, ee));
                };
              };
            },
          ]),
          $.directive("uisOpenClose", [
            "$parse",
            "$timeout",
            function (G, z) {
              return {
                restrict: "A",
                require: "uiSelect",
                link: function (ee, he, ge, le) {
                  (le.onOpenCloseCallback = G(ge.uisOpenClose)),
                    ee.$watch("$select.open", function (V, J) {
                      V !== J &&
                        z(function () {
                          le.onOpenCloseCallback(ee, { isOpen: V });
                        });
                    });
                },
              };
            },
          ]),
          $.service("uisRepeatParser", [
            "uiSelectMinErr",
            "$parse",
            function (G, z) {
              (this.parse = function (he) {
                var ge;
                if (
                  !(ge = he.match(
                    /^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/
                  ))
                )
                  throw G(
                    "iexp",
                    "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",
                    he
                  );
                var le = ge[5],
                  V = "";
                if (ge[3]) {
                  le = ge[5].replace(/(^\()|(\)$)/g, "");
                  var J = ge[5].match(
                    /^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/
                  );
                  J && J[1].trim() && (le = le.replace((V = J[1]), ""));
                }
                return {
                  itemName: ge[4] || ge[2],
                  keyName: ge[3],
                  source: z(le),
                  filters: V,
                  trackByExp: ge[6],
                  modelMapper: z(ge[1] || ge[4] || ge[2]),
                  repeatExpression: function (de) {
                    var ae =
                      this.itemName +
                      " in " +
                      (de ? "$group.items" : "$select.items");
                    return (
                      this.trackByExp && (ae += " track by " + this.trackByExp),
                      ae
                    );
                  },
                };
              }),
                (this.getGroupNgRepeatExpression = function () {
                  return "$group in $select.groups track by $group.name";
                });
            },
          ]);
      })(),
        angular.module("ui.select").run([
          "$templateCache",
          function (d) {
            d.put(
              "bootstrap/choices.tpl.html",
              '<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'
            ),
              d.put(
                "bootstrap/match-multiple.tpl.html",
                '<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'
              ),
              d.put(
                "bootstrap/match.tpl.html",
                '<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left text-ellipsis" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="halflings halflings-remove" aria-hidden="true"></i></a></span></div>'
              ),
              d.put(
                "bootstrap/no-choice.tpl.html",
                '<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'
              ),
              d.put(
                "bootstrap/select-multiple.tpl.html",
                '<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-expanded="{{$select.open}}" aria-label="{{$select.baseTitle}}" ng-class="{\'spinner\': $select.refreshing}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'
              ),
              d.put(
                "bootstrap/select.tpl.html",
                '<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><span ng-show="$select.open && $select.refreshing && $select.spinnerEnabled" class="ui-select-refreshing {{$select.spinnerClass}}"></span> <input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'
              ),
              d.put(
                "select2/choices.tpl.html",
                '<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'
              ),
              d.put(
                "select2/match-multiple.tpl.html",
                '<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'
              ),
              d.put(
                "select2/match.tpl.html",
                '<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'
              ),
              d.put(
                "select2/no-choice.tpl.html",
                '<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'
              ),
              d.put(
                "select2/select-multiple.tpl.html",
                '<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'
              ),
              d.put(
                "select2/select.tpl.html",
                '<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" ng-class="{\'select2-active\': $select.refreshing}" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'
              ),
              d.put(
                "selectize/choices.tpl.html",
                '<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown" ng-class="{\'single\': !$select.multiple, \'multi\': $select.multiple}"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'
              ),
              d.put(
                "selectize/match-multiple.tpl.html",
                '<div class="ui-select-match" data-value="" ng-repeat="$item in $select.selected track by $index" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'active\':$selectMultiple.activeMatchIndex === $index}" ui-select-sort="$select.selected"><span class="ui-select-match-item" ng-class="{\'select-locked\':$select.isLocked(this, $index)}"><span uis-transclude-append=""></span> <span class="remove ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&times;</span></span></div>'
              ),
              d.put(
                "selectize/match.tpl.html",
                '<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'
              ),
              d.put(
                "selectize/no-choice.tpl.html",
                '<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'
              ),
              d.put(
                "selectize/select-multiple.tpl.html",
                '<div class="ui-select-container selectize-control multi plugin-remove_button" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-model="$select.search" ng-disabled="$select.disabled" aria-expanded="{{$select.open}}" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'
              ),
              d.put(
                "selectize/select.tpl.html",
                '<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'
              );
          },
        ]);
    },
    93315: () => {
      angular.module("app").directive("ngPatternRestrict", [
        "$log",
        function (Y) {
          "use strict";
          return {
            restrict: "A",
            require: "?ngModel",
            compile: function () {
              return function (W, w, M, d) {
                function u() {
                  return w[0].selectionStart;
                }
                function ie() {
                  var xe = document.selection.createRange();
                  return (
                    xe.moveStart("character", -w.val().length), xe.text.length
                  );
                }
                function $() {
                  var xe,
                    ve,
                    Ue,
                    Ke = window.getSelection(),
                    ce = (Ke + "").length,
                    Ee = !1;
                  do {
                    (xe = (Ke + "").length),
                      Ke.modify("extend", "backward", "character"),
                      0 === (Ke + "").length && (Ee = !0);
                  } while (xe !== (Ke + "").length);
                  for (
                    ve = Ee ? xe : xe - ce, Ke.collapseToStart(), Ue = ve;
                    Ue-- > 0;

                  )
                    Ke.modify("move", "forward", "character");
                  for (; ce-- > 0; )
                    Ke.modify("extend", "forward", "character");
                  return ve;
                }
                function G(xe) {
                  w[0].setSelectionRange(xe, xe);
                }
                function z(xe) {
                  var ve = w[0].createTextRange();
                  ve.collapse(!0),
                    ve.moveEnd("character", xe),
                    ve.moveStart("character", xe),
                    ve.select();
                }
                function ee(xe) {
                  var ve,
                    Ue = window.getSelection();
                  do {
                    (ve = (Ue + "").length),
                      Ue.modify("extend", "backward", "line");
                  } while (ve !== (Ue + "").length);
                  for (Ue.collapseToStart(); xe--; )
                    Ue.modify("move", "forward", "character");
                }
                function ge() {
                  w.val(ue), angular.isUndefined(ne) || Ce(ne);
                }
                function V(xe) {
                  if (!je) {
                    var ve = w.val(),
                      Ue = w.prop("validity");
                    ("" === ve &&
                      "text" !== w.attr("type") &&
                      Ue &&
                      Ue.badInput) ||
                    ("" === ve &&
                      0 !==
                        (function he(xe) {
                          return /Opera/i.test(navigator.userAgent)
                            ? (xe.focus(),
                              document.execCommand("selectAll"),
                              (window.getSelection().focusNode || {})
                                .selectionStart || 0)
                            : 0;
                        })(w[0]))
                      ? (xe.preventDefault(), ge())
                      : we.test(ve)
                      ? (function le(xe) {
                          (ue = xe), (ne = Ae());
                        })(ve)
                      : (xe.preventDefault(), ge()),
                      d &&
                        W.$apply(function () {
                          d.$setViewValue(ue);
                        });
                  }
                }
                function ae() {
                  var xe = M.ngPatternRestrict
                    ? M.ngPatternRestrict
                    : M.pattern;
                  je = /\^?\.\*\$?/.test(xe);
                  try {
                    we = RegExp(xe);
                  } catch (ve) {
                    throw (
                      "Invalid RegEx string parsed for ngPatternRestrict: " + xe
                    );
                  }
                }
                function Ne(xe, ve) {
                  try {
                    return xe() || !ve;
                  } catch (Ue) {
                    return !1;
                  }
                }
                var ue,
                  ne,
                  Ae,
                  Ce,
                  we = /.*/,
                  je = !0,
                  ye = !1,
                  Pe = !1;
                M.$observe("ngPatternRestrict", ae),
                  M.$observe("pattern", ae),
                  W.$on("$destroy", function re() {
                    !(function de() {
                      Pe &&
                        (w.unbind("input", V),
                        w.unbind("keyup", V),
                        w.unbind("click", V),
                        (Pe = !1));
                    })();
                  }),
                  (function se() {
                    ye ||
                      (ae(),
                      (ue = w.val()) || (ue = ""),
                      (function J() {
                        Pe || w.bind("input keyup click", V);
                      })(),
                      (function P() {
                        var xe = w[0];
                        Ae = Ne(function () {
                          return xe.selectionStart;
                        })
                          ? u
                          : Ne(function () {
                              return document.selection;
                            }, !0)
                          ? ie
                          : $;
                      })(),
                      (function Se() {
                        var xe = w[0];
                        Ce =
                          "function" == typeof xe.setSelectionRange
                            ? G
                            : "function" == typeof xe.createTextRange
                            ? z
                            : ee;
                      })(),
                      (ye = !0));
                  })();
              };
            },
          };
        },
      ]);
    },
    18780: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/e3c14fa85ac022f0dc485b87854591a5.html";
    },
    71960: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/42368b5a19b817284b3c8ea95c0bfb4c.txt";
    },
    7678: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/e27f14b69f7f91a9708e55da7ec5f62c.html";
    },
    60791: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/fab084a43eaf3d4d558712cb924af3be.html";
    },
    63415: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/e6a92fded5c5ac5e73ccda32e60f2954.txt";
    },
    32576: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/c50027b094b40fd97278184b14f25d77.txt";
    },
    41402: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/c3a8726fd6f8f68e3284d2df7dc89d33.txt";
    },
    33253: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/ebcc8a9355a848532b7d9bb30d62a775.txt";
    },
    8202: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/50c33aecc10885af4052496314947eb6.txt";
    },
    10880: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/046e566476c136728851f74bf8d77a7f.txt";
    },
    58521: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/5a8689921fa918f2c1699bb039f4db0c.TXT";
    },
    83178: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/5a8689921fa918f2c1699bb039f4db0c.TXT";
    },
    93393: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/044d17e91fe871d6a195d100c6f4ef18.TXT";
    },
    37653: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/cd617aa57ec359c2cb5d3936ee9b0aa9.txt";
    },
    74298: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/cfae9095c56113ed7f45ff8f88b82903.txt";
    },
    76899: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/b4cfe99e293ade92e38cf4b49e6f2b0d.txt";
    },
    56250: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/6d39f2a0c7019fad87379a513c03605b.txt";
    },
    89722: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/cf4afc19f8188d8f1b79a0912e534cbf.html";
    },
    61051: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/cf4afc19f8188d8f1b79a0912e534cbf.html";
    },
    91204: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/50c33aecc10885af4052496314947eb6.txt";
    },
    43670: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/4dbe62cc6b44321122dde80d55340da6.txt";
    },
    85163: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/3a257c4325b0a4c59ae0ed1fe7e5792e.txt";
    },
    88947: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/e31ac59f995601409803a3af06d08bfb.txt";
    },
    63150: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/cc56bc62a7766f26b1b221e411d5aaef.txt";
    },
    46950: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/f1126e005a448ae068981119a48b2c02.txt";
    },
    92998: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/be336c9f8869e8a55972e4979400481d.txt";
    },
    41196: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/6065a73cd7cfc63183f05ac618303619.txt";
    },
    91177: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/2bdeeade23c2f1fa628a81c0014fb900.txt";
    },
    15046: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/7cad817311783ad89a062e9401fd4fa7.txt";
    },
    31933: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/7ede22f683aab627d08bf5b11a4cf25f.txt";
    },
    14277: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/09cc9568d58865e17374bd02d15ab8e5.txt";
    },
    22256: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/47c83c0a22af7cc9f4ca93179a8eb117.html";
    },
    92621: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/4dbe62cc6b44321122dde80d55340da6.txt";
    },
    58873: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/0390da0e4668b8c88bb1ffc3b66570d9.html";
    },
    95144: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/64ad3d3606cfbe14e03e71561a3c5c59.html";
    },
    87253: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/a948757e4e3131b954e01b468a67769d.html";
    },
    67114: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/c005a8ef94181218052fc7f97cf7197b.txt";
    },
    78605: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/0009175bbeffb799188d94af1f85584a.txt";
    },
    83762: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/0103a580207cba916bbb3cc0f920a247.txt";
    },
    48039: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/d1a2618077b644cb1f2a3c8f59b787bc.txt";
    },
    96909: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/3c9541a1db448618af68e94118fa31b0.txt";
    },
    53740: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/1b77c09618bed3cda4df8865dbda5ee3.txt";
    },
    5444: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/7cb8b79f8b8155e31338c104289c1525.txt";
    },
    67080: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/9567884ba909dd5c744f312e22c7c9a7.txt";
    },
    70292: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/823b0c805c3265d0b1e0e87652c5deb2.txt";
    },
    16218: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/781d9e755157035a78b8ced63409c5fa.txt";
    },
    71265: (Y, W, w) => {
      "use strict";
      w.r(W), w.d(W, { default: () => M });
      const M = w.p + "licenses/04d06f4127e2986c3110d88e0b0f29d1.txt";
    },
    99360: (Y, W, w) => {
      var M = {
        "./da": 77387,
        "./de": 54307,
        "./el": 3460,
        "./en-gb": 9998,
        "./es": 86866,
        "./fr": 1636,
        "./it": 34211,
        "./ja": 31003,
        "./pl": 1605,
        "./pt": 54225,
        "./ru": 35127,
        "./zh-cn": 77908,
      };
      function d(ie) {
        var $ = u(ie);
        return w($);
      }
      function u(ie) {
        if (!w.o(M, ie)) {
          var $ = new Error("Cannot find module '" + ie + "'");
          throw (($.code = "MODULE_NOT_FOUND"), $);
        }
        return M[ie];
      }
      (d.keys = function () {
        return Object.keys(M);
      }),
        (d.resolve = u),
        (Y.exports = d),
        (d.id = 99360);
    },
    42081: (Y, W, w) => {
      var M = {
        "./aka.ms_devservicesagreement": 18780,
        "./aka.ms_devservicesagreement.html": 18780,
        "./apache.org_licenses_LICENSE-2.0.txt": 71960,
        "./bitmiracle.github.io_libtiff.net_help_articles_license": 7678,
        "./bitmiracle.github.io_libtiff.net_help_articles_license.html": 7678,
        "./bouncycastle.org_csharp_licence": 60791,
        "./bouncycastle.org_csharp_licence.html": 60791,
        "./fluentftp.txt": 63415,
        "./freeimage.txt": 32576,
        "./freepik.txt": 41402,
        "./github.com_AzureAD_azure-activedirectory-identitymodel-extensions-for-dotnet_blob_master_LICENSE.txt": 33253,
        "./github.com_MichaCo_DnsClient.NET_blob_master_LICENSE.txt": 8202,
        "./github.com_codebude_QRCoder_blob_master_LICENSE.txt": 10880,
        "./github.com_dotnet_core-setup_blob_master_LICENSE.TXT": 58521,
        "./github.com_dotnet_corefx_blob_master_LICENSE.TXT": 83178,
        "./github.com_dotnet_standard_blob_master_LICENSE.TXT": 93393,
        "./github.com_lduchosal_ipnetwork_blob_master_LICENSE.txt": 37653,
        "./github.com_mgravell_protobuf-net_blob_master_Licence.txt": 74298,
        "./github.com_xamarin_XamarinComponents_blob_master_XPlat_Mono.Options_License.md.txt": 76899,
        "./github.com_zzzprojects_html-agility-pack_blob_master_LICENSE.txt": 56250,
        "./go.microsoft.com_fwlink_LinkId=329770": 89722,
        "./go.microsoft.com_fwlink_LinkId=329770.html": 89722,
        "./go.microsoft.com_fwlink_LinkId=529443": 61051,
        "./go.microsoft.com_fwlink_LinkId=529443.html": 61051,
        "./google.cloud.dotnet.txt": 91204,
        "./ilmbase.txt": 43670,
        "./libgsm.txt": 85163,
        "./libjpeg.txt": 88947,
        "./libjxr.txt": 63150,
        "./libopenjpeg.txt": 46950,
        "./libpng.txt": 92998,
        "./libpqxx.txt": 41196,
        "./librawlite.txt": 91177,
        "./libsrtp.txt": 15046,
        "./libtiff4.txt": 31933,
        "./libwebp.txt": 14277,
        "./licenses.nuget.org_MIT": 22256,
        "./licenses.nuget.org_MIT.html": 22256,
        "./openexr.txt": 92621,
        "./opensource.org_licenses_Apache-2.0": 58873,
        "./opensource.org_licenses_Apache-2.0.html": 58873,
        "./opensource.org_licenses_MIT": 95144,
        "./opensource.org_licenses_MIT.html": 95144,
        "./opensource.org_licenses_mit-license.php": 87253,
        "./opensource.org_licenses_mit-license.php.html": 87253,
        "./openssl.txt": 67114,
        "./opus.txt": 78605,
        "./postgresql.txt": 83762,
        "./raw.githubusercontent.com_aspnet_AspNetCore_2.0.0_LICENSE.txt": 48039,
        "./raw.githubusercontent.com_aspnet_libuv.txt": 96909,
        "./raw.githubusercontent.com_mj1856_TimeZoneConverter_master_LICENSE.txt": 53740,
        "./resiprocate.txt": 5444,
        "./smblibrary.txt": 67080,
        "./spandsp.txt": 70292,
        "./speex.txt": 16218,
        "./ssh.net.txt": 71265,
        "js/app/settings/licenses/aka.ms_devservicesagreement": 18780,
        "js/app/settings/licenses/aka.ms_devservicesagreement.html": 18780,
        "js/app/settings/licenses/apache.org_licenses_LICENSE-2.0.txt": 71960,
        "js/app/settings/licenses/bitmiracle.github.io_libtiff.net_help_articles_license": 7678,
        "js/app/settings/licenses/bitmiracle.github.io_libtiff.net_help_articles_license.html": 7678,
        "js/app/settings/licenses/bouncycastle.org_csharp_licence": 60791,
        "js/app/settings/licenses/bouncycastle.org_csharp_licence.html": 60791,
        "js/app/settings/licenses/fluentftp.txt": 63415,
        "js/app/settings/licenses/freeimage.txt": 32576,
        "js/app/settings/licenses/freepik.txt": 41402,
        "js/app/settings/licenses/github.com_AzureAD_azure-activedirectory-identitymodel-extensions-for-dotnet_blob_master_LICENSE.txt": 33253,
        "js/app/settings/licenses/github.com_MichaCo_DnsClient.NET_blob_master_LICENSE.txt": 8202,
        "js/app/settings/licenses/github.com_codebude_QRCoder_blob_master_LICENSE.txt": 10880,
        "js/app/settings/licenses/github.com_dotnet_core-setup_blob_master_LICENSE.TXT": 58521,
        "js/app/settings/licenses/github.com_dotnet_corefx_blob_master_LICENSE.TXT": 83178,
        "js/app/settings/licenses/github.com_dotnet_standard_blob_master_LICENSE.TXT": 93393,
        "js/app/settings/licenses/github.com_lduchosal_ipnetwork_blob_master_LICENSE.txt": 37653,
        "js/app/settings/licenses/github.com_mgravell_protobuf-net_blob_master_Licence.txt": 74298,
        "js/app/settings/licenses/github.com_xamarin_XamarinComponents_blob_master_XPlat_Mono.Options_License.md.txt": 76899,
        "js/app/settings/licenses/github.com_zzzprojects_html-agility-pack_blob_master_LICENSE.txt": 56250,
        "js/app/settings/licenses/go.microsoft.com_fwlink_LinkId=329770": 89722,
        "js/app/settings/licenses/go.microsoft.com_fwlink_LinkId=329770.html": 89722,
        "js/app/settings/licenses/go.microsoft.com_fwlink_LinkId=529443": 61051,
        "js/app/settings/licenses/go.microsoft.com_fwlink_LinkId=529443.html": 61051,
        "js/app/settings/licenses/google.cloud.dotnet.txt": 91204,
        "js/app/settings/licenses/ilmbase.txt": 43670,
        "js/app/settings/licenses/libgsm.txt": 85163,
        "js/app/settings/licenses/libjpeg.txt": 88947,
        "js/app/settings/licenses/libjxr.txt": 63150,
        "js/app/settings/licenses/libopenjpeg.txt": 46950,
        "js/app/settings/licenses/libpng.txt": 92998,
        "js/app/settings/licenses/libpqxx.txt": 41196,
        "js/app/settings/licenses/librawlite.txt": 91177,
        "js/app/settings/licenses/libsrtp.txt": 15046,
        "js/app/settings/licenses/libtiff4.txt": 31933,
        "js/app/settings/licenses/libwebp.txt": 14277,
        "js/app/settings/licenses/licenses.nuget.org_MIT": 22256,
        "js/app/settings/licenses/licenses.nuget.org_MIT.html": 22256,
        "js/app/settings/licenses/openexr.txt": 92621,
        "js/app/settings/licenses/opensource.org_licenses_Apache-2.0": 58873,
        "js/app/settings/licenses/opensource.org_licenses_Apache-2.0.html": 58873,
        "js/app/settings/licenses/opensource.org_licenses_MIT": 95144,
        "js/app/settings/licenses/opensource.org_licenses_MIT.html": 95144,
        "js/app/settings/licenses/opensource.org_licenses_mit-license.php": 87253,
        "js/app/settings/licenses/opensource.org_licenses_mit-license.php.html": 87253,
        "js/app/settings/licenses/openssl.txt": 67114,
        "js/app/settings/licenses/opus.txt": 78605,
        "js/app/settings/licenses/postgresql.txt": 83762,
        "js/app/settings/licenses/raw.githubusercontent.com_aspnet_AspNetCore_2.0.0_LICENSE.txt": 48039,
        "js/app/settings/licenses/raw.githubusercontent.com_aspnet_libuv.txt": 96909,
        "js/app/settings/licenses/raw.githubusercontent.com_mj1856_TimeZoneConverter_master_LICENSE.txt": 53740,
        "js/app/settings/licenses/resiprocate.txt": 5444,
        "js/app/settings/licenses/smblibrary.txt": 67080,
        "js/app/settings/licenses/spandsp.txt": 70292,
        "js/app/settings/licenses/speex.txt": 16218,
        "js/app/settings/licenses/ssh.net.txt": 71265,
        "src/js/app/settings/licenses/aka.ms_devservicesagreement": 18780,
        "src/js/app/settings/licenses/aka.ms_devservicesagreement.html": 18780,
        "src/js/app/settings/licenses/apache.org_licenses_LICENSE-2.0.txt": 71960,
        "src/js/app/settings/licenses/bitmiracle.github.io_libtiff.net_help_articles_license": 7678,
        "src/js/app/settings/licenses/bitmiracle.github.io_libtiff.net_help_articles_license.html": 7678,
        "src/js/app/settings/licenses/bouncycastle.org_csharp_licence": 60791,
        "src/js/app/settings/licenses/bouncycastle.org_csharp_licence.html": 60791,
        "src/js/app/settings/licenses/fluentftp.txt": 63415,
        "src/js/app/settings/licenses/freeimage.txt": 32576,
        "src/js/app/settings/licenses/freepik.txt": 41402,
        "src/js/app/settings/licenses/github.com_AzureAD_azure-activedirectory-identitymodel-extensions-for-dotnet_blob_master_LICENSE.txt": 33253,
        "src/js/app/settings/licenses/github.com_MichaCo_DnsClient.NET_blob_master_LICENSE.txt": 8202,
        "src/js/app/settings/licenses/github.com_codebude_QRCoder_blob_master_LICENSE.txt": 10880,
        "src/js/app/settings/licenses/github.com_dotnet_core-setup_blob_master_LICENSE.TXT": 58521,
        "src/js/app/settings/licenses/github.com_dotnet_corefx_blob_master_LICENSE.TXT": 83178,
        "src/js/app/settings/licenses/github.com_dotnet_standard_blob_master_LICENSE.TXT": 93393,
        "src/js/app/settings/licenses/github.com_lduchosal_ipnetwork_blob_master_LICENSE.txt": 37653,
        "src/js/app/settings/licenses/github.com_mgravell_protobuf-net_blob_master_Licence.txt": 74298,
        "src/js/app/settings/licenses/github.com_xamarin_XamarinComponents_blob_master_XPlat_Mono.Options_License.md.txt": 76899,
        "src/js/app/settings/licenses/github.com_zzzprojects_html-agility-pack_blob_master_LICENSE.txt": 56250,
        "src/js/app/settings/licenses/go.microsoft.com_fwlink_LinkId=329770": 89722,
        "src/js/app/settings/licenses/go.microsoft.com_fwlink_LinkId=329770.html": 89722,
        "src/js/app/settings/licenses/go.microsoft.com_fwlink_LinkId=529443": 61051,
        "src/js/app/settings/licenses/go.microsoft.com_fwlink_LinkId=529443.html": 61051,
        "src/js/app/settings/licenses/google.cloud.dotnet.txt": 91204,
        "src/js/app/settings/licenses/ilmbase.txt": 43670,
        "src/js/app/settings/licenses/libgsm.txt": 85163,
        "src/js/app/settings/licenses/libjpeg.txt": 88947,
        "src/js/app/settings/licenses/libjxr.txt": 63150,
        "src/js/app/settings/licenses/libopenjpeg.txt": 46950,
        "src/js/app/settings/licenses/libpng.txt": 92998,
        "src/js/app/settings/licenses/libpqxx.txt": 41196,
        "src/js/app/settings/licenses/librawlite.txt": 91177,
        "src/js/app/settings/licenses/libsrtp.txt": 15046,
        "src/js/app/settings/licenses/libtiff4.txt": 31933,
        "src/js/app/settings/licenses/libwebp.txt": 14277,
        "src/js/app/settings/licenses/licenses.nuget.org_MIT": 22256,
        "src/js/app/settings/licenses/licenses.nuget.org_MIT.html": 22256,
        "src/js/app/settings/licenses/openexr.txt": 92621,
        "src/js/app/settings/licenses/opensource.org_licenses_Apache-2.0": 58873,
        "src/js/app/settings/licenses/opensource.org_licenses_Apache-2.0.html": 58873,
        "src/js/app/settings/licenses/opensource.org_licenses_MIT": 95144,
        "src/js/app/settings/licenses/opensource.org_licenses_MIT.html": 95144,
        "src/js/app/settings/licenses/opensource.org_licenses_mit-license.php": 87253,
        "src/js/app/settings/licenses/opensource.org_licenses_mit-license.php.html": 87253,
        "src/js/app/settings/licenses/openssl.txt": 67114,
        "src/js/app/settings/licenses/opus.txt": 78605,
        "src/js/app/settings/licenses/postgresql.txt": 83762,
        "src/js/app/settings/licenses/raw.githubusercontent.com_aspnet_AspNetCore_2.0.0_LICENSE.txt": 48039,
        "src/js/app/settings/licenses/raw.githubusercontent.com_aspnet_libuv.txt": 96909,
        "src/js/app/settings/licenses/raw.githubusercontent.com_mj1856_TimeZoneConverter_master_LICENSE.txt": 53740,
        "src/js/app/settings/licenses/resiprocate.txt": 5444,
        "src/js/app/settings/licenses/smblibrary.txt": 67080,
        "src/js/app/settings/licenses/spandsp.txt": 70292,
        "src/js/app/settings/licenses/speex.txt": 16218,
        "src/js/app/settings/licenses/ssh.net.txt": 71265,
      };
      function d(ie) {
        var $ = u(ie);
        return w($);
      }
      function u(ie) {
        if (!w.o(M, ie)) {
          var $ = new Error("Cannot find module '" + ie + "'");
          throw (($.code = "MODULE_NOT_FOUND"), $);
        }
        return M[ie];
      }
      (d.keys = function () {
        return Object.keys(M);
      }),
        (d.resolve = u),
        (Y.exports = d),
        (d.id = 42081);
    },
    66786: (Y, W, w) => {
      var M = {
        "./aka.ms_devservicesagreement.html.json": 71931,
        "./apache.org_licenses_LICENSE-2.0.txt.json": 84516,
        "./bitmiracle.github.io_libtiff.net_help_articles_license.html.json": 74466,
        "./bouncycastle.org_csharp_licence.html.json": 96593,
        "./fluentftp.txt.json": 45386,
        "./freeimage.txt.json": 55578,
        "./freepik.txt.json": 76035,
        "./github.com_AzureAD_azure-activedirectory-identitymodel-extensions-for-dotnet_blob_master_LICENSE.txt.json": 44219,
        "./github.com_MichaCo_DnsClient.NET_blob_master_LICENSE.txt.json": 55565,
        "./github.com_codebude_QRCoder_blob_master_LICENSE.txt.json": 80241,
        "./github.com_dotnet_core-setup_blob_master_LICENSE.TXT.json": 59038,
        "./github.com_dotnet_corefx_blob_master_LICENSE.TXT.json": 52536,
        "./github.com_dotnet_standard_blob_master_LICENSE.TXT.json": 93201,
        "./github.com_lduchosal_ipnetwork_blob_master_LICENSE.txt.json": 90224,
        "./github.com_mgravell_protobuf-net_blob_master_Licence.txt.json": 91356,
        "./github.com_xamarin_XamarinComponents_blob_master_XPlat_Mono.Options_License.md.txt.json": 60458,
        "./github.com_zzzprojects_html-agility-pack_blob_master_LICENSE.txt.json": 88393,
        "./go.microsoft.com_fwlink_LinkId=329770.html.json": 72106,
        "./go.microsoft.com_fwlink_LinkId=529443.html.json": 74532,
        "./google.cloud.dotnet.json": 97723,
        "./ilmbase.txt.json": 99604,
        "./libgsm.txt.json": 28069,
        "./libjpeg.txt.json": 11698,
        "./libjxr.txt.json": 84944,
        "./libopenjpeg.txt.json": 62501,
        "./libpng.txt.json": 48298,
        "./libpqxx.txt.json": 66347,
        "./librawlite.txt.json": 32404,
        "./libsrtp.txt.json": 59659,
        "./libtiff4.txt.json": 9574,
        "./libwebp.txt.json": 35382,
        "./licenses.nuget.org_MIT.html.json": 21793,
        "./openexr.txt.json": 15678,
        "./opensource.org_licenses_Apache-2.0.html.json": 54501,
        "./opensource.org_licenses_MIT.html.json": 1016,
        "./opensource.org_licenses_mit-license.php.html.json": 79199,
        "./openssl.txt.json": 89079,
        "./opus.txt.json": 92701,
        "./postgresql.txt.json": 27163,
        "./raw.githubusercontent.com_aspnet_AspNetCore_2.0.0_LICENSE.txt.json": 98313,
        "./raw.githubusercontent.com_aspnet_libuv.txt.json": 14028,
        "./raw.githubusercontent.com_mj1856_TimeZoneConverter_master_LICENSE.txt.json": 15087,
        "./resiprocate.txt.json": 30904,
        "./smblibrary.txt.json": 79749,
        "./spandsp.txt.json": 88904,
        "./speex.txt.json": 22010,
        "./ssh.net.txt.json": 77175,
        "js/app/settings/licenses/aka.ms_devservicesagreement.html.json": 71931,
        "js/app/settings/licenses/apache.org_licenses_LICENSE-2.0.txt.json": 84516,
        "js/app/settings/licenses/bitmiracle.github.io_libtiff.net_help_articles_license.html.json": 74466,
        "js/app/settings/licenses/bouncycastle.org_csharp_licence.html.json": 96593,
        "js/app/settings/licenses/fluentftp.txt.json": 45386,
        "js/app/settings/licenses/freeimage.txt.json": 55578,
        "js/app/settings/licenses/freepik.txt.json": 76035,
        "js/app/settings/licenses/github.com_AzureAD_azure-activedirectory-identitymodel-extensions-for-dotnet_blob_master_LICENSE.txt.json": 44219,
        "js/app/settings/licenses/github.com_MichaCo_DnsClient.NET_blob_master_LICENSE.txt.json": 55565,
        "js/app/settings/licenses/github.com_codebude_QRCoder_blob_master_LICENSE.txt.json": 80241,
        "js/app/settings/licenses/github.com_dotnet_core-setup_blob_master_LICENSE.TXT.json": 59038,
        "js/app/settings/licenses/github.com_dotnet_corefx_blob_master_LICENSE.TXT.json": 52536,
        "js/app/settings/licenses/github.com_dotnet_standard_blob_master_LICENSE.TXT.json": 93201,
        "js/app/settings/licenses/github.com_lduchosal_ipnetwork_blob_master_LICENSE.txt.json": 90224,
        "js/app/settings/licenses/github.com_mgravell_protobuf-net_blob_master_Licence.txt.json": 91356,
        "js/app/settings/licenses/github.com_xamarin_XamarinComponents_blob_master_XPlat_Mono.Options_License.md.txt.json": 60458,
        "js/app/settings/licenses/github.com_zzzprojects_html-agility-pack_blob_master_LICENSE.txt.json": 88393,
        "js/app/settings/licenses/go.microsoft.com_fwlink_LinkId=329770.html.json": 72106,
        "js/app/settings/licenses/go.microsoft.com_fwlink_LinkId=529443.html.json": 74532,
        "js/app/settings/licenses/google.cloud.dotnet.json": 97723,
        "js/app/settings/licenses/ilmbase.txt.json": 99604,
        "js/app/settings/licenses/libgsm.txt.json": 28069,
        "js/app/settings/licenses/libjpeg.txt.json": 11698,
        "js/app/settings/licenses/libjxr.txt.json": 84944,
        "js/app/settings/licenses/libopenjpeg.txt.json": 62501,
        "js/app/settings/licenses/libpng.txt.json": 48298,
        "js/app/settings/licenses/libpqxx.txt.json": 66347,
        "js/app/settings/licenses/librawlite.txt.json": 32404,
        "js/app/settings/licenses/libsrtp.txt.json": 59659,
        "js/app/settings/licenses/libtiff4.txt.json": 9574,
        "js/app/settings/licenses/libwebp.txt.json": 35382,
        "js/app/settings/licenses/licenses.nuget.org_MIT.html.json": 21793,
        "js/app/settings/licenses/openexr.txt.json": 15678,
        "js/app/settings/licenses/opensource.org_licenses_Apache-2.0.html.json": 54501,
        "js/app/settings/licenses/opensource.org_licenses_MIT.html.json": 1016,
        "js/app/settings/licenses/opensource.org_licenses_mit-license.php.html.json": 79199,
        "js/app/settings/licenses/openssl.txt.json": 89079,
        "js/app/settings/licenses/opus.txt.json": 92701,
        "js/app/settings/licenses/postgresql.txt.json": 27163,
        "js/app/settings/licenses/raw.githubusercontent.com_aspnet_AspNetCore_2.0.0_LICENSE.txt.json": 98313,
        "js/app/settings/licenses/raw.githubusercontent.com_aspnet_libuv.txt.json": 14028,
        "js/app/settings/licenses/raw.githubusercontent.com_mj1856_TimeZoneConverter_master_LICENSE.txt.json": 15087,
        "js/app/settings/licenses/resiprocate.txt.json": 30904,
        "js/app/settings/licenses/smblibrary.txt.json": 79749,
        "js/app/settings/licenses/spandsp.txt.json": 88904,
        "js/app/settings/licenses/speex.txt.json": 22010,
        "js/app/settings/licenses/ssh.net.txt.json": 77175,
        "src/js/app/settings/licenses/aka.ms_devservicesagreement.html.json": 71931,
        "src/js/app/settings/licenses/apache.org_licenses_LICENSE-2.0.txt.json": 84516,
        "src/js/app/settings/licenses/bitmiracle.github.io_libtiff.net_help_articles_license.html.json": 74466,
        "src/js/app/settings/licenses/bouncycastle.org_csharp_licence.html.json": 96593,
        "src/js/app/settings/licenses/fluentftp.txt.json": 45386,
        "src/js/app/settings/licenses/freeimage.txt.json": 55578,
        "src/js/app/settings/licenses/freepik.txt.json": 76035,
        "src/js/app/settings/licenses/github.com_AzureAD_azure-activedirectory-identitymodel-extensions-for-dotnet_blob_master_LICENSE.txt.json": 44219,
        "src/js/app/settings/licenses/github.com_MichaCo_DnsClient.NET_blob_master_LICENSE.txt.json": 55565,
        "src/js/app/settings/licenses/github.com_codebude_QRCoder_blob_master_LICENSE.txt.json": 80241,
        "src/js/app/settings/licenses/github.com_dotnet_core-setup_blob_master_LICENSE.TXT.json": 59038,
        "src/js/app/settings/licenses/github.com_dotnet_corefx_blob_master_LICENSE.TXT.json": 52536,
        "src/js/app/settings/licenses/github.com_dotnet_standard_blob_master_LICENSE.TXT.json": 93201,
        "src/js/app/settings/licenses/github.com_lduchosal_ipnetwork_blob_master_LICENSE.txt.json": 90224,
        "src/js/app/settings/licenses/github.com_mgravell_protobuf-net_blob_master_Licence.txt.json": 91356,
        "src/js/app/settings/licenses/github.com_xamarin_XamarinComponents_blob_master_XPlat_Mono.Options_License.md.txt.json": 60458,
        "src/js/app/settings/licenses/github.com_zzzprojects_html-agility-pack_blob_master_LICENSE.txt.json": 88393,
        "src/js/app/settings/licenses/go.microsoft.com_fwlink_LinkId=329770.html.json": 72106,
        "src/js/app/settings/licenses/go.microsoft.com_fwlink_LinkId=529443.html.json": 74532,
        "src/js/app/settings/licenses/google.cloud.dotnet.json": 97723,
        "src/js/app/settings/licenses/ilmbase.txt.json": 99604,
        "src/js/app/settings/licenses/libgsm.txt.json": 28069,
        "src/js/app/settings/licenses/libjpeg.txt.json": 11698,
        "src/js/app/settings/licenses/libjxr.txt.json": 84944,
        "src/js/app/settings/licenses/libopenjpeg.txt.json": 62501,
        "src/js/app/settings/licenses/libpng.txt.json": 48298,
        "src/js/app/settings/licenses/libpqxx.txt.json": 66347,
        "src/js/app/settings/licenses/librawlite.txt.json": 32404,
        "src/js/app/settings/licenses/libsrtp.txt.json": 59659,
        "src/js/app/settings/licenses/libtiff4.txt.json": 9574,
        "src/js/app/settings/licenses/libwebp.txt.json": 35382,
        "src/js/app/settings/licenses/licenses.nuget.org_MIT.html.json": 21793,
        "src/js/app/settings/licenses/openexr.txt.json": 15678,
        "src/js/app/settings/licenses/opensource.org_licenses_Apache-2.0.html.json": 54501,
        "src/js/app/settings/licenses/opensource.org_licenses_MIT.html.json": 1016,
        "src/js/app/settings/licenses/opensource.org_licenses_mit-license.php.html.json": 79199,
        "src/js/app/settings/licenses/openssl.txt.json": 89079,
        "src/js/app/settings/licenses/opus.txt.json": 92701,
        "src/js/app/settings/licenses/postgresql.txt.json": 27163,
        "src/js/app/settings/licenses/raw.githubusercontent.com_aspnet_AspNetCore_2.0.0_LICENSE.txt.json": 98313,
        "src/js/app/settings/licenses/raw.githubusercontent.com_aspnet_libuv.txt.json": 14028,
        "src/js/app/settings/licenses/raw.githubusercontent.com_mj1856_TimeZoneConverter_master_LICENSE.txt.json": 15087,
        "src/js/app/settings/licenses/resiprocate.txt.json": 30904,
        "src/js/app/settings/licenses/smblibrary.txt.json": 79749,
        "src/js/app/settings/licenses/spandsp.txt.json": 88904,
        "src/js/app/settings/licenses/speex.txt.json": 22010,
        "src/js/app/settings/licenses/ssh.net.txt.json": 77175,
      };
      function d(ie) {
        var $ = u(ie);
        return w($);
      }
      function u(ie) {
        if (!w.o(M, ie)) {
          var $ = new Error("Cannot find module '" + ie + "'");
          throw (($.code = "MODULE_NOT_FOUND"), $);
        }
        return M[ie];
      }
      (d.keys = function () {
        return Object.keys(M);
      }),
        (d.resolve = u),
        (Y.exports = d),
        (d.id = 66786);
    },
    23822: () => {},
    94179: () => {},
    71931: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"aka.ms_devservicesagreement.html","contentType":"text/html","references":["Microsoft.Graph","Microsoft.Graph.Core"]}'
      );
    },
    84516: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"apache.org_licenses_LICENSE-2.0.txt","contentType":"text/plain","references":["Google.Apis","Google.Apis.Auth","Google.Apis.Core","Google.Apis.Oauth2.v2","MongoDB.Bson","MongoDB.Driver","MongoDB.Driver.Core","Quartz"]}'
      );
    },
    74466: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"bitmiracle.github.io_libtiff.net_help_articles_license.html","contentType":"text/html; charset=utf-8","references":["BitMiracle.LibTiff.NET"]}'
      );
    },
    96593: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"bouncycastle.org_csharp_licence.html","contentType":"text/html","references":["Portable.BouncyCastle"]}'
      );
    },
    45386: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"fluentftp.txt","contentType":"text/html","references":["FluentFTP"]}'
      );
    },
    55578: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"freeimage.txt","contentType":"text/html","references":["FreeImage","FreeImage.NetStandard"]}'
      );
    },
    76035: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"freepik.txt","contentType":"text/html","references":["Freepik"]}'
      );
    },
    44219: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"github.com_AzureAD_azure-activedirectory-identitymodel-extensions-for-dotnet_blob_master_LICENSE.txt","contentType":"text/plain; charset=utf-8","references":["Microsoft.IdentityModel.JsonWebTokens","Microsoft.IdentityModel.Logging","Microsoft.IdentityModel.Tokens","System.IdentityModel.Tokens.Jwt"]}'
      );
    },
    55565: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"github.com_MichaCo_DnsClient.NET_blob_master_LICENSE.txt","contentType":"text/plain; charset=utf-8","references":["DnsClient"]}'
      );
    },
    80241: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"github.com_codebude_QRCoder_blob_master_LICENSE.txt","contentType":"text/plain; charset=utf-8","references":["QRCoder"]}'
      );
    },
    59038: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"github.com_dotnet_core-setup_blob_master_LICENSE.TXT","contentType":"text/plain; charset=utf-8","references":["Microsoft.DotNet.PlatformAbstractions","Microsoft.Extensions.DependencyModel","Microsoft.NETCore.App","Microsoft.NETCore.DotNetAppHost","Microsoft.NETCore.DotNetHostPolicy","Microsoft.NETCore.DotNetHostResolver"]}'
      );
    },
    52536: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"github.com_dotnet_corefx_blob_master_LICENSE.TXT","contentType":"text/plain; charset=utf-8","references":["Microsoft.CSharp","Microsoft.NETCore.Platforms","Microsoft.NETCore.Targets","Microsoft.Win32.Registry","Microsoft.Win32.SystemEvents","System.Buffers","System.CodeDom","System.Collections.Immutable","System.ComponentModel.Annotations","System.Configuration.ConfigurationManager","System.Data.SqlClient","System.Diagnostics.DiagnosticSource","System.Diagnostics.EventLog","System.DirectoryServices.Protocols","System.Drawing.Common","System.IO.Pipelines","System.Management","System.Memory","System.Net.WebSockets.WebSocketProtocol","System.Numerics.Vectors","System.Private.ServiceModel","System.Reflection.DispatchProxy","System.Reflection.Metadata","System.Reflection.TypeExtensions","System.Runtime.CompilerServices.Unsafe","System.Security.AccessControl","System.Security.Cryptography.Cng","System.Security.Cryptography.OpenSsl","System.Security.Cryptography.Pkcs","System.Security.Cryptography.ProtectedData","System.Security.Cryptography.Xml","System.Security.Permissions","System.Security.Principal.Windows","System.ServiceModel.Primitives","System.ServiceProcess.ServiceController","System.Text.Encoding.CodePages","System.Text.Encodings.Web","System.Threading.AccessControl","System.Threading.Tasks.Dataflow","System.Threading.Tasks.Extensions","System.ValueTuple","runtime.native.System.Data.SqlClient.sni"]}'
      );
    },
    93201: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"github.com_dotnet_standard_blob_master_LICENSE.TXT","contentType":"text/plain; charset=utf-8","references":["NETStandard.Library"]}'
      );
    },
    90224: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"github.com_lduchosal_ipnetwork_blob_master_LICENSE.txt","contentType":"text/plain; charset=utf-8","references":["IPNetwork2"]}'
      );
    },
    91356: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"github.com_mgravell_protobuf-net_blob_master_Licence.txt","contentType":"text/plain; charset=utf-8","references":["protobuf-net"]}'
      );
    },
    60458: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"github.com_xamarin_XamarinComponents_blob_master_XPlat_Mono.Options_License.md.txt","contentType":"text/plain; charset=utf-8","references":["Mono.Options"]}'
      );
    },
    88393: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"github.com_zzzprojects_html-agility-pack_blob_master_LICENSE.txt","contentType":"text/plain; charset=utf-8","references":["HtmlAgilityPack"]}'
      );
    },
    72106: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"go.microsoft.com_fwlink_LinkId=329770.html","contentType":"text/html","references":["Microsoft.Win32.Primitives","System.AppContext","System.Collections","System.Collections.Concurrent","System.Collections.NonGeneric","System.Collections.Specialized","System.ComponentModel","System.ComponentModel.Primitives","System.ComponentModel.TypeConverter","System.Console","System.Data.Common","System.Diagnostics.Debug","System.Diagnostics.FileVersionInfo","System.Diagnostics.Process","System.Diagnostics.StackTrace","System.Diagnostics.TextWriterTraceListener","System.Diagnostics.Tools","System.Diagnostics.TraceSource","System.Diagnostics.Tracing","System.Dynamic.Runtime","System.Globalization","System.Globalization.Calendars","System.Globalization.Extensions","System.IO","System.IO.Compression","System.IO.FileSystem","System.IO.FileSystem.Primitives","System.Linq","System.Linq.Expressions","System.Linq.Queryable","System.Net.Http","System.Net.NameResolution","System.Net.NetworkInformation","System.Net.Primitives","System.Net.Security","System.Net.Sockets","System.Net.WebSockets","System.ObjectModel","System.Private.DataContractSerialization","System.Reflection","System.Reflection.Emit","System.Reflection.Emit.ILGeneration","System.Reflection.Emit.Lightweight","System.Reflection.Extensions","System.Reflection.Primitives","System.Resources.ResourceManager","System.Runtime","System.Runtime.Extensions","System.Runtime.Handles","System.Runtime.InteropServices","System.Runtime.InteropServices.RuntimeInformation","System.Runtime.Numerics","System.Runtime.Serialization.Json","System.Runtime.Serialization.Primitives","System.Runtime.Serialization.Xml","System.Security.Claims","System.Security.Cryptography.Algorithms","System.Security.Cryptography.Csp","System.Security.Cryptography.Encoding","System.Security.Cryptography.Primitives","System.Security.Cryptography.X509Certificates","System.Security.Principal","System.Security.SecureString","System.Text.Encoding","System.Text.Encoding.Extensions","System.Text.RegularExpressions","System.Threading","System.Threading.Overlapped","System.Threading.Tasks","System.Threading.Tasks.Parallel","System.Threading.Thread","System.Threading.ThreadPool","System.Threading.Timer","System.Xml.ReaderWriter","System.Xml.XDocument","System.Xml.XPath","System.Xml.XPath.XDocument","System.Xml.XPath.XmlDocument","System.Xml.XmlDocument","System.Xml.XmlSerializer","runtime.debian.8-x64.runtime.native.System.Security.Cryptography.OpenSsl","runtime.fedora.23-x64.runtime.native.System.Security.Cryptography.OpenSsl","runtime.fedora.24-x64.runtime.native.System.Security.Cryptography.OpenSsl","runtime.native.System","runtime.native.System.IO.Compression","runtime.native.System.Net.Http","runtime.native.System.Net.Security","runtime.native.System.Security.Cryptography.Apple","runtime.native.System.Security.Cryptography.OpenSsl","runtime.opensuse.13.2-x64.runtime.native.System.Security.Cryptography.OpenSsl","runtime.opensuse.42.1-x64.runtime.native.System.Security.Cryptography.OpenSsl","runtime.osx.10.10-x64.runtime.native.System.Security.Cryptography.Apple","runtime.osx.10.10-x64.runtime.native.System.Security.Cryptography.OpenSsl","runtime.rhel.7-x64.runtime.native.System.Security.Cryptography.OpenSsl","runtime.ubuntu.14.04-x64.runtime.native.System.Security.Cryptography.OpenSsl","runtime.ubuntu.16.04-x64.runtime.native.System.Security.Cryptography.OpenSsl","runtime.ubuntu.16.10-x64.runtime.native.System.Security.Cryptography.OpenSsl","runtime.win-arm64.runtime.native.System.Data.SqlClient.sni","runtime.win-x64.runtime.native.System.Data.SqlClient.sni","runtime.win-x86.runtime.native.System.Data.SqlClient.sni"]}'
      );
    },
    74532: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"go.microsoft.com_fwlink_LinkId=529443.html","contentType":"text/html","references":["Microsoft.CodeAnalysis.Analyzers","Microsoft.CodeAnalysis.CSharp","Microsoft.CodeAnalysis.Common"]}'
      );
    },
    97723: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"google.cloud.dotnet.txt","contentType":"text/html","references":["Google.Cloud"]}'
      );
    },
    99604: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"ilmbase.txt","contentType":"text/html","references":["ilmbase"]}'
      );
    },
    28069: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"libgsm.txt","contentType":"text/html","references":["libgsm"]}'
      );
    },
    11698: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"libjpeg.txt","contentType":"text/html","references":["Libjpeg"]}'
      );
    },
    84944: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"libjxr.txt","contentType":"text/html","references":["LibJXR"]}'
      );
    },
    62501: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"libopenjpeg.txt","contentType":"text/html","references":["LibOpenJPEG"]}'
      );
    },
    48298: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"libpng.txt","contentType":"text/html","references":["LibPNG"]}'
      );
    },
    66347: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"libpqxx.txt","contentType":"text/html","references":["libpqxx"]}'
      );
    },
    32404: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"librawlite.txt","contentType":"text/html","references":["LibRawLite"]}'
      );
    },
    59659: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"libsrtp.txt","contentType":"text/html","references":["libSRTP"]}'
      );
    },
    9574: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"libtiff4.txt","contentType":"text/html","references":["LibTIFF4"]}'
      );
    },
    35382: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"libwebp.txt","contentType":"text/html","references":["LibWebP"]}'
      );
    },
    21793: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"licenses.nuget.org_MIT.html","contentType":"text/html; charset=utf-8","references":["Newtonsoft.Json","Newtonsoft.Json.Bson"]}'
      );
    },
    15678: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"openexr.txt","contentType":"text/html","references":["OpenEXR"]}'
      );
    },
    54501: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"opensource.org_licenses_Apache-2.0.html","contentType":"text/html; charset=utf-8","references":["Remotion.Linq"]}'
      );
    },
    1016: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"opensource.org_licenses_MIT.html","contentType":"text/html; charset=utf-8","references":["MailKit"]}'
      );
    },
    79199: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"opensource.org_licenses_mit-license.php.html","contentType":"text/html; charset=utf-8","references":["Autofac","Autofac.Extensions.DependencyInjection"]}'
      );
    },
    89079: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"openssl.txt","contentType":"text/html","references":["OpenSSL"]}'
      );
    },
    92701: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"opus.txt","contentType":"text/html","references":["Opus"]}'
      );
    },
    27163: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"postgresql.txt","contentType":"text/html","references":["PostgreSQL"]}'
      );
    },
    98313: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"raw.githubusercontent.com_aspnet_AspNetCore_2.0.0_LICENSE.txt","contentType":"text/plain; charset=utf-8","references":["Microsoft.AspNetCore.Antiforgery","Microsoft.AspNetCore.Authentication","Microsoft.AspNetCore.Authentication.Abstractions","Microsoft.AspNetCore.Authentication.Cookies","Microsoft.AspNetCore.Authentication.Core","Microsoft.AspNetCore.Authorization","Microsoft.AspNetCore.Authorization.Policy","Microsoft.AspNetCore.Connections.Abstractions","Microsoft.AspNetCore.Cors","Microsoft.AspNetCore.Cryptography.Internal","Microsoft.AspNetCore.Cryptography.KeyDerivation","Microsoft.AspNetCore.DataProtection","Microsoft.AspNetCore.DataProtection.Abstractions","Microsoft.AspNetCore.Diagnostics","Microsoft.AspNetCore.Diagnostics.Abstractions","Microsoft.AspNetCore.Hosting","Microsoft.AspNetCore.Hosting.Abstractions","Microsoft.AspNetCore.Hosting.Server.Abstractions","Microsoft.AspNetCore.Html.Abstractions","Microsoft.AspNetCore.Http","Microsoft.AspNetCore.Http.Abstractions","Microsoft.AspNetCore.Http.Extensions","Microsoft.AspNetCore.Http.Features","Microsoft.AspNetCore.Identity","Microsoft.AspNetCore.JsonPatch","Microsoft.AspNetCore.Localization","Microsoft.AspNetCore.Mvc","Microsoft.AspNetCore.Mvc.Abstractions","Microsoft.AspNetCore.Mvc.Analyzers","Microsoft.AspNetCore.Mvc.ApiExplorer","Microsoft.AspNetCore.Mvc.Core","Microsoft.AspNetCore.Mvc.Cors","Microsoft.AspNetCore.Mvc.DataAnnotations","Microsoft.AspNetCore.Mvc.Formatters.Json","Microsoft.AspNetCore.Mvc.Formatters.Xml","Microsoft.AspNetCore.Mvc.Localization","Microsoft.AspNetCore.Mvc.Razor","Microsoft.AspNetCore.Mvc.Razor.Extensions","Microsoft.AspNetCore.Mvc.RazorPages","Microsoft.AspNetCore.Mvc.TagHelpers","Microsoft.AspNetCore.Mvc.ViewFeatures","Microsoft.AspNetCore.Razor","Microsoft.AspNetCore.Razor.Design","Microsoft.AspNetCore.Razor.Language","Microsoft.AspNetCore.Razor.Runtime","Microsoft.AspNetCore.ResponseCaching.Abstractions","Microsoft.AspNetCore.Routing","Microsoft.AspNetCore.Routing.Abstractions","Microsoft.AspNetCore.Server.Kestrel","Microsoft.AspNetCore.Server.Kestrel.Core","Microsoft.AspNetCore.Server.Kestrel.Https","Microsoft.AspNetCore.Server.Kestrel.Transport.Abstractions","Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets","Microsoft.AspNetCore.Session","Microsoft.AspNetCore.StaticFiles","Microsoft.AspNetCore.WebSockets","Microsoft.AspNetCore.WebUtilities","Microsoft.CodeAnalysis.Razor","Microsoft.EntityFrameworkCore","Microsoft.EntityFrameworkCore.Abstractions","Microsoft.EntityFrameworkCore.Analyzers","Microsoft.EntityFrameworkCore.Relational","Microsoft.Extensions.Caching.Abstractions","Microsoft.Extensions.Caching.Memory","Microsoft.Extensions.Configuration","Microsoft.Extensions.Configuration.Abstractions","Microsoft.Extensions.Configuration.Binder","Microsoft.Extensions.Configuration.EnvironmentVariables","Microsoft.Extensions.Configuration.FileExtensions","Microsoft.Extensions.Configuration.Ini","Microsoft.Extensions.Configuration.Json","Microsoft.Extensions.DependencyInjection","Microsoft.Extensions.DependencyInjection.Abstractions","Microsoft.Extensions.FileProviders.Abstractions","Microsoft.Extensions.FileProviders.Composite","Microsoft.Extensions.FileProviders.Physical","Microsoft.Extensions.FileSystemGlobbing","Microsoft.Extensions.Hosting.Abstractions","Microsoft.Extensions.Http","Microsoft.Extensions.Identity.Core","Microsoft.Extensions.Localization","Microsoft.Extensions.Localization.Abstractions","Microsoft.Extensions.Logging","Microsoft.Extensions.Logging.Abstractions","Microsoft.Extensions.Logging.Configuration","Microsoft.Extensions.Logging.Console","Microsoft.Extensions.Logging.Debug","Microsoft.Extensions.ObjectPool","Microsoft.Extensions.Options","Microsoft.Extensions.Options.ConfigurationExtensions","Microsoft.Extensions.Primitives","Microsoft.Extensions.WebEncoders","Microsoft.Net.Http.Headers"]}'
      );
    },
    14028: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"raw.githubusercontent.com_aspnet_libuv.txt","contentType":"text/plain; charset=utf-8","references":["Libuv"]}'
      );
    },
    15087: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"raw.githubusercontent.com_mj1856_TimeZoneConverter_master_LICENSE.txt","contentType":"text/plain; charset=utf-8","references":["TimeZoneConverter"]}'
      );
    },
    30904: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"resiprocate.txt","contentType":"text/html","references":["reSIProcate"]}'
      );
    },
    79749: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"smblibrary.txt","contentType":"text/html","references":["SMBLibrary"]}'
      );
    },
    88904: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"spandsp.txt","contentType":"text/html","references":["SpanDSP"]}'
      );
    },
    22010: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"speex.txt","contentType":"text/html","references":["Speex"]}'
      );
    },
    77175: (Y) => {
      "use strict";
      Y.exports = JSON.parse(
        '{"licenseFilename":"ssh.net.txt","contentType":"text/html","references":["SSH.NET"]}'
      );
    },
  },
  (Y) => {
    Y.O(0, [736], () => Y((Y.s = 87760))), Y.O();
  },
]);
